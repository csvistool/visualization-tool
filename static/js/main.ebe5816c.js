/*! For license information please see main.ebe5816c.js.LICENSE.txt */
!function(){var t={24:function(t,e,i){"use strict";function s(t){var e,i,h="";if("string"==typeof t||"number"==typeof t)h+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=s(t[e]))&&(h&&(h+=" "),h+=i);else for(e in t)t[e]&&(h&&(h+=" "),h+=e);return h}function h(){for(var t,e,i=0,h="";i<arguments.length;)(t=arguments[i++])&&(e=s(t))&&(h&&(h+=" "),h+=e);return h}i.r(e),i.d(e,{clsx:function(){return h}}),e.default=h},497:function(t,e,i){"use strict";var s=i(218);function h(){}function n(){}n.resetWarningCache=h,t.exports=function(){function t(t,e,i,h,n,a){if(a!==s){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function e(){return t}t.isRequired=t;var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n,resetWarningCache:h};return i.PropTypes=i,i}},173:function(t,e,i){t.exports=i(497)()},218:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:function(t,e,i){"use strict";var s=i(43),h=i(853);function n(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,r={};function o(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(r[t]=e,t=0;t<e.length;t++)a.add(e[t])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function p(t,e,i,s,h,n,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=n,this.removeEmptyString=a}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){f[t]=new p(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];f[e]=new p(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){f[t]=new p(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){f[t]=new p(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){f[t]=new p(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){f[t]=new p(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){f[t]=new p(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){f[t]=new p(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){f[t]=new p(t,5,!1,t.toLowerCase(),null,!1,!1)}));var I=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function x(t,e,i,s){var h=f.hasOwnProperty(e)?f[e]:null;(null!==h?0!==h.type:s||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,s){if(null===e||"undefined"===typeof e||function(t,e,i,s){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,s))return!0;if(s)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,h,s)&&(i=null),s||null===h?function(t){return!!c.call(g,t)||!c.call(m,t)&&(u.test(t)?g[t]=!0:(m[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):h.mustUseProperty?t[h.propertyName]=null===i?3!==h.type&&"":i:(e=h.attributeName,s=h.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(h=h.type)||4===h&&!0===i?"":""+i,s?t.setAttributeNS(s,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(I,b);f[e]=new p(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(I,b);f[e]=new p(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(I,b);f[e]=new p(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){f[t]=new p(t,1,!1,t.toLowerCase(),null,!1,!1)})),f.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){f[t]=new p(t,1,!1,t.toLowerCase(),null,!0,!0)}));var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),v=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),L=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function E(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=P&&t[P]||t["@@iterator"])?t:null}var O,R=Object.assign;function j(t){if(void 0===O)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);O=e&&e[1]||""}return"\n"+O+t}var N=!1;function H(t,e){if(!t||N)return"";N=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var s=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){s=l}t.call(e.prototype)}else{try{throw Error()}catch(l){s=l}t()}}catch(l){if(l&&s&&"string"===typeof l.stack){for(var h=l.stack.split("\n"),n=s.stack.split("\n"),a=h.length-1,r=n.length-1;1<=a&&0<=r&&h[a]!==n[r];)r--;for(;1<=a&&0<=r;a--,r--)if(h[a]!==n[r]){if(1!==a||1!==r)do{if(a--,0>--r||h[a]!==n[r]){var o="\n"+h[a].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}}while(1<=a&&0<=r);break}}}finally{N=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?j(t):""}function M(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=H(t.type,!1);case 11:return t=H(t.type.render,!1);case 1:return t=H(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case v:return"Portal";case w:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case A:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case L:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case S:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case _:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case B:e=t._payload,t=t._init;try{return V(t(e))}catch(i){}}return null}function $(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function q(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function U(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var h=i.get,n=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(t){s=""+t,n.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=W(t)?t.checked?"true":"false":t.value),(t=s)!==i&&(e.setValue(t),!0)}function X(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function G(t,e){var i=e.checked;return R({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function Y(t,e){var i=null==e.defaultValue?"":e.defaultValue,s=null!=e.checked?e.checked:e.defaultChecked;i=q(null!=e.value?e.value:i),t._wrapperState={initialChecked:s,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&x(t,"checked",e,!1)}function Z(t,e){Q(t,e);var i=q(e.value),s=e.type;if(null!=i)"number"===s?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===s||"reset"===s)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!("submit"!==s&&"reset"!==s||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&X(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,s){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&s&&(t[i].defaultSelected=!0)}else{for(i=""+q(i),e=null,h=0;h<t.length;h++){if(t[h].value===i)return t[h].selected=!0,void(s&&(t[h].defaultSelected=!0));null!==e||t[h].disabled||(e=t[h])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(n(91));return R({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ht(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(n(92));if(et(i)){if(1<i.length)throw Error(n(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:q(i)}}function nt(t,e){var i=q(e.value),s=q(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=s&&(t.defaultValue=""+s)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function rt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?rt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,dt,ct=(dt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction((function(){return dt(t,e)}))}:dt);function ut(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function pt(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||mt.hasOwnProperty(t)&&mt[t]?(""+e).trim():e+"px"}function ft(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var s=0===i.indexOf("--"),h=pt(i,e[i],s);"float"===i&&(i="cssFloat"),s?t.setProperty(i,h):t[i]=h}}Object.keys(mt).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mt[e]=mt[t]}))}));var It=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(t,e){if(e){if(It[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(n(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(n(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(n(62))}}function xt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=null;function yt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var vt=null,kt=null,Ct=null;function wt(t){if(t=bh(t)){if("function"!==typeof vt)throw Error(n(280));var e=t.stateNode;e&&(e=Dh(e),vt(t.stateNode,t.type,e))}}function Tt(t){kt?Ct?Ct.push(t):Ct=[t]:kt=t}function Lt(){if(kt){var t=kt,e=Ct;if(Ct=kt=null,wt(t),e)for(t=0;t<e.length;t++)wt(e[t])}}function St(t,e){return t(e)}function Ft(){}var At=!1;function _t(t,e,i){if(At)return t(e,i);At=!0;try{return St(t,e,i)}finally{At=!1,(null!==kt||null!==Ct)&&(Ft(),Lt())}}function Bt(t,e){var i=t.stateNode;if(null===i)return null;var s=Dh(i);if(null===s)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(n(231,e,typeof i));return i}var zt=!1;if(d)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch(dt){zt=!1}function Et(t,e,i,s,h,n,a,r,o){var l=Array.prototype.slice.call(arguments,3);try{e.apply(i,l)}catch(d){this.onError(d)}}var Ot=!1,Rt=null,jt=!1,Nt=null,Ht={onError:function(t){Ot=!0,Rt=t}};function Mt(t,e,i,s,h,n,a,r,o){Ot=!1,Rt=null,Et.apply(Ht,arguments)}function Vt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(Vt(t)!==t)throw Error(n(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(n(188));return e!==t?null:t}for(var i=t,s=e;;){var h=i.return;if(null===h)break;var a=h.alternate;if(null===a){if(null!==(s=h.return)){i=s;continue}break}if(h.child===a.child){for(a=h.child;a;){if(a===i)return qt(h),t;if(a===s)return qt(h),e;a=a.sibling}throw Error(n(188))}if(i.return!==s.return)i=h,s=a;else{for(var r=!1,o=h.child;o;){if(o===i){r=!0,i=h,s=a;break}if(o===s){r=!0,s=h,i=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===i){r=!0,i=a,s=h;break}if(o===s){r=!0,s=a,i=h;break}o=o.sibling}if(!r)throw Error(n(189))}}if(i.alternate!==s)throw Error(n(190))}if(3!==i.tag)throw Error(n(188));return i.stateNode.current===i?t:e}(t))?Ut(t):null}function Ut(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Ut(t);if(null!==e)return e;t=t.sibling}return null}var Kt=h.unstable_scheduleCallback,Xt=h.unstable_cancelCallback,Gt=h.unstable_shouldYield,Yt=h.unstable_requestPaint,Qt=h.unstable_now,Zt=h.unstable_getCurrentPriorityLevel,Jt=h.unstable_ImmediatePriority,te=h.unstable_UserBlockingPriority,ee=h.unstable_NormalPriority,ie=h.unstable_LowPriority,se=h.unstable_IdlePriority,he=null,ne=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(re(t)/oe|0)|0},re=Math.log,oe=Math.LN2;var le=64,de=4194304;function ce(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ue(t,e){var i=t.pendingLanes;if(0===i)return 0;var s=0,h=t.suspendedLanes,n=t.pingedLanes,a=268435455&i;if(0!==a){var r=a&~h;0!==r?s=ce(r):0!==(n&=a)&&(s=ce(n))}else 0!==(a=i&~h)?s=ce(a):0!==n&&(s=ce(n));if(0===s)return 0;if(0!==e&&e!==s&&0===(e&h)&&((h=s&-s)>=(n=e&-e)||16===h&&0!==(4194240&n)))return e;if(0!==(4&s)&&(s|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=s;0<e;)h=1<<(i=31-ae(e)),s|=t[i],e&=~h;return s}function me(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function pe(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function fe(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Ie(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=i}function be(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-ae(i),h=1<<s;h&e|t[s]&e&&(t[s]|=e),i&=~h}}var xe=0;function De(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var ye,ve,ke,Ce,we,Te=!1,Le=[],Se=null,Fe=null,Ae=null,_e=new Map,Be=new Map,ze=[],Pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ee(t,e){switch(t){case"focusin":case"focusout":Se=null;break;case"dragenter":case"dragleave":Fe=null;break;case"mouseover":case"mouseout":Ae=null;break;case"pointerover":case"pointerout":_e.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Be.delete(e.pointerId)}}function Oe(t,e,i,s,h,n){return null===t||t.nativeEvent!==n?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:n,targetContainers:[h]},null!==e&&(null!==(e=bh(e))&&ve(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,null!==h&&-1===e.indexOf(h)&&e.push(h),t)}function Re(t){var e=Ih(t.target);if(null!==e){var i=Vt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=$t(i)))return t.blockedOn=e,void we(t.priority,(function(){ke(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=Ge(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=bh(i))&&ve(e),t.blockedOn=i,!1;var s=new(i=t.nativeEvent).constructor(i.type,i);Dt=s,i.target.dispatchEvent(s),Dt=null,e.shift()}return!0}function Ne(t,e,i){je(t)&&i.delete(e)}function He(){Te=!1,null!==Se&&je(Se)&&(Se=null),null!==Fe&&je(Fe)&&(Fe=null),null!==Ae&&je(Ae)&&(Ae=null),_e.forEach(Ne),Be.forEach(Ne)}function Me(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,He)))}function Ve(t){function e(e){return Me(e,t)}if(0<Le.length){Me(Le[0],t);for(var i=1;i<Le.length;i++){var s=Le[i];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==Se&&Me(Se,t),null!==Fe&&Me(Fe,t),null!==Ae&&Me(Ae,t),_e.forEach(e),Be.forEach(e),i=0;i<ze.length;i++)(s=ze[i]).blockedOn===t&&(s.blockedOn=null);for(;0<ze.length&&null===(i=ze[0]).blockedOn;)Re(i),null===i.blockedOn&&ze.shift()}var $e=D.ReactCurrentBatchConfig,qe=!0;function We(t,e,i,s){var h=xe,n=$e.transition;$e.transition=null;try{xe=1,Ke(t,e,i,s)}finally{xe=h,$e.transition=n}}function Ue(t,e,i,s){var h=xe,n=$e.transition;$e.transition=null;try{xe=4,Ke(t,e,i,s)}finally{xe=h,$e.transition=n}}function Ke(t,e,i,s){if(qe){var h=Ge(t,e,i,s);if(null===h)$s(t,e,s,Xe,i),Ee(t,s);else if(function(t,e,i,s,h){switch(e){case"focusin":return Se=Oe(Se,t,e,i,s,h),!0;case"dragenter":return Fe=Oe(Fe,t,e,i,s,h),!0;case"mouseover":return Ae=Oe(Ae,t,e,i,s,h),!0;case"pointerover":var n=h.pointerId;return _e.set(n,Oe(_e.get(n)||null,t,e,i,s,h)),!0;case"gotpointercapture":return n=h.pointerId,Be.set(n,Oe(Be.get(n)||null,t,e,i,s,h)),!0}return!1}(h,t,e,i,s))s.stopPropagation();else if(Ee(t,s),4&e&&-1<Pe.indexOf(t)){for(;null!==h;){var n=bh(h);if(null!==n&&ye(n),null===(n=Ge(t,e,i,s))&&$s(t,e,s,Xe,i),n===h)break;h=n}null!==h&&s.stopPropagation()}else $s(t,e,s,null,i)}}var Xe=null;function Ge(t,e,i,s){if(Xe=null,null!==(t=Ih(t=yt(s))))if(null===(e=Vt(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=$t(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xe=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case Jt:return 1;case te:return 4;case ee:case ie:return 16;case se:return 536870912;default:return 16}default:return 16}}var Qe=null,Ze=null,Je=null;function ti(){if(Je)return Je;var t,e,i=Ze,s=i.length,h="value"in Qe?Qe.value:Qe.textContent,n=h.length;for(t=0;t<s&&i[t]===h[t];t++);var a=s-t;for(e=1;e<=a&&i[s-e]===h[n-e];e++);return Je=h.slice(t,1<e?1-e:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ii(){return!0}function si(){return!1}function hi(t){function e(e,i,s,h,n){for(var a in this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=h,this.target=n,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(h):h[a]);return this.isDefaultPrevented=(null!=h.defaultPrevented?h.defaultPrevented:!1===h.returnValue)?ii:si,this.isPropagationStopped=si,this}return R(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var ni,ai,ri,oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=hi(oi),di=R({},oi,{view:0,detail:0}),ci=hi(di),ui=R({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&"mousemove"===t.type?(ni=t.screenX-ri.screenX,ai=t.screenY-ri.screenY):ai=ni=0,ri=t),ni)},movementY:function(t){return"movementY"in t?t.movementY:ai}}),mi=hi(ui),gi=hi(R({},ui,{dataTransfer:0})),pi=hi(R({},di,{relatedTarget:0})),fi=hi(R({},oi,{animationName:0,elapsedTime:0,pseudoElement:0})),Ii=R({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bi=hi(Ii),xi=hi(R({},oi,{data:0})),Di={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ki(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=vi[t])&&!!e[t]}function Ci(){return ki}var wi=R({},di,{key:function(t){if(t.key){var e=Di[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?yi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ti=hi(wi),Li=hi(R({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Si=hi(R({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci})),Fi=hi(R({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ai=R({},ui,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_i=hi(Ai),Bi=[9,13,27,32],zi=d&&"CompositionEvent"in window,Pi=null;d&&"documentMode"in document&&(Pi=document.documentMode);var Ei=d&&"TextEvent"in window&&!Pi,Oi=d&&(!zi||Pi&&8<Pi&&11>=Pi),Ri=String.fromCharCode(32),ji=!1;function Ni(t,e){switch(t){case"keyup":return-1!==Bi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Mi=!1;var Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $i(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vi[t.type]:"textarea"===e}function qi(t,e,i,s){Tt(s),0<(e=Ws(e,"onChange")).length&&(i=new li("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var Wi=null,Ui=null;function Ki(t){Rs(t,0)}function Xi(t){if(K(xh(t)))return t}function Gi(t,e){if("change"===t)return e}var Yi=!1;if(d){var Qi;if(d){var Zi="oninput"in document;if(!Zi){var Ji=document.createElement("div");Ji.setAttribute("oninput","return;"),Zi="function"===typeof Ji.oninput}Qi=Zi}else Qi=!1;Yi=Qi&&(!document.documentMode||9<document.documentMode)}function ts(){Wi&&(Wi.detachEvent("onpropertychange",es),Ui=Wi=null)}function es(t){if("value"===t.propertyName&&Xi(Ui)){var e=[];qi(e,Ui,t,yt(t)),_t(Ki,e)}}function is(t,e,i){"focusin"===t?(ts(),Ui=i,(Wi=e).attachEvent("onpropertychange",es)):"focusout"===t&&ts()}function ss(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xi(Ui)}function hs(t,e){if("click"===t)return Xi(e)}function ns(t,e){if("input"===t||"change"===t)return Xi(e)}var as="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function rs(t,e){if(as(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var h=i[s];if(!c.call(e,h)||!as(t[h],e[h]))return!1}return!0}function os(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ls(t,e){var i,s=os(t);for(t=0;s;){if(3===s.nodeType){if(i=t+s.textContent.length,t<=e&&i>=e)return{node:s,offset:e-t};t=i}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=os(s)}}function ds(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ds(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function cs(){for(var t=window,e=X();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(s){i=!1}if(!i)break;e=X((t=e.contentWindow).document)}return e}function us(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function ms(t){var e=cs(),i=t.focusedElem,s=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&ds(i.ownerDocument.documentElement,i)){if(null!==s&&us(i))if(e=s.start,void 0===(t=s.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var h=i.textContent.length,n=Math.min(s.start,h);s=void 0===s.end?n:Math.min(s.end,h),!t.extend&&n>s&&(h=s,s=n,n=h),h=ls(i,n);var a=ls(i,s);h&&a&&(1!==t.rangeCount||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(h.node,h.offset),t.removeAllRanges(),n>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gs=d&&"documentMode"in document&&11>=document.documentMode,ps=null,fs=null,Is=null,bs=!1;function xs(t,e,i){var s=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bs||null==ps||ps!==X(s)||("selectionStart"in(s=ps)&&us(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},Is&&rs(Is,s)||(Is=s,0<(s=Ws(fs,"onSelect")).length&&(e=new li("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=ps)))}function Ds(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ys={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},vs={},ks={};function Cs(t){if(vs[t])return vs[t];if(!ys[t])return t;var e,i=ys[t];for(e in i)if(i.hasOwnProperty(e)&&e in ks)return vs[t]=i[e];return t}d&&(ks=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);var ws=Cs("animationend"),Ts=Cs("animationiteration"),Ls=Cs("animationstart"),Ss=Cs("transitionend"),Fs=new Map,As="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(t,e){Fs.set(t,e),o(e,[t])}for(var Bs=0;Bs<As.length;Bs++){var zs=As[Bs];_s(zs.toLowerCase(),"on"+(zs[0].toUpperCase()+zs.slice(1)))}_s(ws,"onAnimationEnd"),_s(Ts,"onAnimationIteration"),_s(Ls,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Ss,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Es=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function Os(t,e,i){var s=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,s,h,a,r,o,l){if(Mt.apply(this,arguments),Ot){if(!Ot)throw Error(n(198));var d=Rt;Ot=!1,Rt=null,jt||(jt=!0,Nt=d)}}(s,e,void 0,t),t.currentTarget=null}function Rs(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var s=t[i],h=s.event;s=s.listeners;t:{var n=void 0;if(e)for(var a=s.length-1;0<=a;a--){var r=s[a],o=r.instance,l=r.currentTarget;if(r=r.listener,o!==n&&h.isPropagationStopped())break t;Os(h,r,l),n=o}else for(a=0;a<s.length;a++){if(o=(r=s[a]).instance,l=r.currentTarget,r=r.listener,o!==n&&h.isPropagationStopped())break t;Os(h,r,l),n=o}}}if(jt)throw t=Nt,jt=!1,Nt=null,t}function js(t,e){var i=e[gh];void 0===i&&(i=e[gh]=new Set);var s=t+"__bubble";i.has(s)||(Vs(e,t,2,!1),i.add(s))}function Ns(t,e,i){var s=0;e&&(s|=4),Vs(i,t,s,e)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function Ms(t){if(!t[Hs]){t[Hs]=!0,a.forEach((function(e){"selectionchange"!==e&&(Es.has(e)||Ns(e,!1,t),Ns(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Hs]||(e[Hs]=!0,Ns("selectionchange",!1,e))}}function Vs(t,e,i,s){switch(Ye(e)){case 1:var h=We;break;case 4:h=Ue;break;default:h=Ke}i=h.bind(null,e,i,t),h=void 0,!zt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(h=!0),s?void 0!==h?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):void 0!==h?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function $s(t,e,i,s,h){var n=s;if(0===(1&e)&&0===(2&e)&&null!==s)t:for(;;){if(null===s)return;var a=s.tag;if(3===a||4===a){var r=s.stateNode.containerInfo;if(r===h||8===r.nodeType&&r.parentNode===h)break;if(4===a)for(a=s.return;null!==a;){var o=a.tag;if((3===o||4===o)&&((o=a.stateNode.containerInfo)===h||8===o.nodeType&&o.parentNode===h))return;a=a.return}for(;null!==r;){if(null===(a=Ih(r)))return;if(5===(o=a.tag)||6===o){s=n=a;continue t}r=r.parentNode}}s=s.return}_t((function(){var s=n,h=yt(i),a=[];t:{var r=Fs.get(t);if(void 0!==r){var o=li,l=t;switch(t){case"keypress":if(0===ei(i))break t;case"keydown":case"keyup":o=Ti;break;case"focusin":l="focus",o=pi;break;case"focusout":l="blur",o=pi;break;case"beforeblur":case"afterblur":o=pi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Si;break;case ws:case Ts:case Ls:o=fi;break;case Ss:o=Fi;break;case"scroll":o=ci;break;case"wheel":o=_i;break;case"copy":case"cut":case"paste":o=bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Li}var d=0!==(4&e),c=!d&&"scroll"===t,u=d?null!==r?r+"Capture":null:r;d=[];for(var m,g=s;null!==g;){var p=(m=g).stateNode;if(5===m.tag&&null!==p&&(m=p,null!==u&&(null!=(p=Bt(g,u))&&d.push(qs(g,p,m)))),c)break;g=g.return}0<d.length&&(r=new o(r,l,null,i,h),a.push({event:r,listeners:d}))}}if(0===(7&e)){if(o="mouseout"===t||"pointerout"===t,(!(r="mouseover"===t||"pointerover"===t)||i===Dt||!(l=i.relatedTarget||i.fromElement)||!Ih(l)&&!l[mh])&&(o||r)&&(r=h.window===h?h:(r=h.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=s,null!==(l=(l=i.relatedTarget||i.toElement)?Ih(l):null)&&(l!==(c=Vt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(o=null,l=s),o!==l)){if(d=mi,p="onMouseLeave",u="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(d=Li,p="onPointerLeave",u="onPointerEnter",g="pointer"),c=null==o?r:xh(o),m=null==l?r:xh(l),(r=new d(p,g+"leave",o,i,h)).target=c,r.relatedTarget=m,p=null,Ih(h)===s&&((d=new d(u,g+"enter",l,i,h)).target=m,d.relatedTarget=c,p=d),c=p,o&&l)t:{for(u=l,g=0,m=d=o;m;m=Us(m))g++;for(m=0,p=u;p;p=Us(p))m++;for(;0<g-m;)d=Us(d),g--;for(;0<m-g;)u=Us(u),m--;for(;g--;){if(d===u||null!==u&&d===u.alternate)break t;d=Us(d),u=Us(u)}d=null}else d=null;null!==o&&Ks(a,r,o,d,!1),null!==l&&null!==c&&Ks(a,c,l,d,!0)}if("select"===(o=(r=s?xh(s):window).nodeName&&r.nodeName.toLowerCase())||"input"===o&&"file"===r.type)var f=Gi;else if($i(r))if(Yi)f=ns;else{f=ss;var I=is}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(f=hs);switch(f&&(f=f(t,s))?qi(a,f,i,h):(I&&I(t,r,s),"focusout"===t&&(I=r._wrapperState)&&I.controlled&&"number"===r.type&&tt(r,"number",r.value)),I=s?xh(s):window,t){case"focusin":($i(I)||"true"===I.contentEditable)&&(ps=I,fs=s,Is=null);break;case"focusout":Is=fs=ps=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,xs(a,i,h);break;case"selectionchange":if(gs)break;case"keydown":case"keyup":xs(a,i,h)}var b;if(zi)t:{switch(t){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else Mi?Ni(t,i)&&(x="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(x="onCompositionStart");x&&(Oi&&"ko"!==i.locale&&(Mi||"onCompositionStart"!==x?"onCompositionEnd"===x&&Mi&&(b=ti()):(Ze="value"in(Qe=h)?Qe.value:Qe.textContent,Mi=!0)),0<(I=Ws(s,x)).length&&(x=new xi(x,t,null,i,h),a.push({event:x,listeners:I}),b?x.data=b:null!==(b=Hi(i))&&(x.data=b))),(b=Ei?function(t,e){switch(t){case"compositionend":return Hi(e);case"keypress":return 32!==e.which?null:(ji=!0,Ri);case"textInput":return(t=e.data)===Ri&&ji?null:t;default:return null}}(t,i):function(t,e){if(Mi)return"compositionend"===t||!zi&&Ni(t,e)?(t=ti(),Je=Ze=Qe=null,Mi=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Oi&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(s=Ws(s,"onBeforeInput")).length&&(h=new xi("onBeforeInput","beforeinput",null,i,h),a.push({event:h,listeners:s}),h.data=b))}Rs(a,e)}))}function qs(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Ws(t,e){for(var i=e+"Capture",s=[];null!==t;){var h=t,n=h.stateNode;5===h.tag&&null!==n&&(h=n,null!=(n=Bt(t,i))&&s.unshift(qs(t,n,h)),null!=(n=Bt(t,e))&&s.push(qs(t,n,h))),t=t.return}return s}function Us(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ks(t,e,i,s,h){for(var n=e._reactName,a=[];null!==i&&i!==s;){var r=i,o=r.alternate,l=r.stateNode;if(null!==o&&o===s)break;5===r.tag&&null!==l&&(r=l,h?null!=(o=Bt(i,n))&&a.unshift(qs(i,o,r)):h||null!=(o=Bt(i,n))&&a.push(qs(i,o,r))),i=i.return}0!==a.length&&t.push({event:e,listeners:a})}var Xs=/\r\n?/g,Gs=/\u0000|\uFFFD/g;function Ys(t){return("string"===typeof t?t:""+t).replace(Xs,"\n").replace(Gs,"")}function Qs(t,e,i){if(e=Ys(e),Ys(t)!==e&&i)throw Error(n(425))}function Zs(){}var Js=null,th=null;function eh(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ih="function"===typeof setTimeout?setTimeout:void 0,sh="function"===typeof clearTimeout?clearTimeout:void 0,hh="function"===typeof Promise?Promise:void 0,nh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hh?function(t){return hh.resolve(null).then(t).catch(ah)}:ih;function ah(t){setTimeout((function(){throw t}))}function rh(t,e){var i=e,s=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&8===h.nodeType)if("/$"===(i=h.data)){if(0===s)return t.removeChild(h),void Ve(e);s--}else"$"!==i&&"$?"!==i&&"$!"!==i||s++;i=h}while(i);Ve(e)}function oh(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function lh(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var dh=Math.random().toString(36).slice(2),ch="__reactFiber$"+dh,uh="__reactProps$"+dh,mh="__reactContainer$"+dh,gh="__reactEvents$"+dh,ph="__reactListeners$"+dh,fh="__reactHandles$"+dh;function Ih(t){var e=t[ch];if(e)return e;for(var i=t.parentNode;i;){if(e=i[mh]||i[ch]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=lh(t);null!==t;){if(i=t[ch])return i;t=lh(t)}return e}i=(t=i).parentNode}return null}function bh(t){return!(t=t[ch]||t[mh])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function xh(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(n(33))}function Dh(t){return t[uh]||null}var yh=[],vh=-1;function kh(t){return{current:t}}function Ch(t){0>vh||(t.current=yh[vh],yh[vh]=null,vh--)}function wh(t,e){vh++,yh[vh]=t.current,t.current=e}var Th={},Lh=kh(Th),Sh=kh(!1),Fh=Th;function Ah(t,e){var i=t.type.contextTypes;if(!i)return Th;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var h,n={};for(h in i)n[h]=e[h];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function _h(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Bh(){Ch(Sh),Ch(Lh)}function zh(t,e,i){if(Lh.current!==Th)throw Error(n(168));wh(Lh,e),wh(Sh,i)}function Ph(t,e,i){var s=t.stateNode;if(e=e.childContextTypes,"function"!==typeof s.getChildContext)return i;for(var h in s=s.getChildContext())if(!(h in e))throw Error(n(108,$(t)||"Unknown",h));return R({},i,s)}function Eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Th,Fh=Lh.current,wh(Lh,t),wh(Sh,Sh.current),!0}function Oh(t,e,i){var s=t.stateNode;if(!s)throw Error(n(169));i?(t=Ph(t,e,Fh),s.__reactInternalMemoizedMergedChildContext=t,Ch(Sh),Ch(Lh),wh(Lh,t)):Ch(Sh),wh(Sh,i)}var Rh=null,jh=!1,Nh=!1;function Hh(t){null===Rh?Rh=[t]:Rh.push(t)}function Mh(){if(!Nh&&null!==Rh){Nh=!0;var t=0,e=xe;try{var i=Rh;for(xe=1;t<i.length;t++){var s=i[t];do{s=s(!0)}while(null!==s)}Rh=null,jh=!1}catch(h){throw null!==Rh&&(Rh=Rh.slice(t+1)),Kt(Jt,Mh),h}finally{xe=e,Nh=!1}}return null}var Vh=[],$h=0,qh=null,Wh=0,Uh=[],Kh=0,Xh=null,Gh=1,Yh="";function Qh(t,e){Vh[$h++]=Wh,Vh[$h++]=qh,qh=t,Wh=e}function Zh(t,e,i){Uh[Kh++]=Gh,Uh[Kh++]=Yh,Uh[Kh++]=Xh,Xh=t;var s=Gh;t=Yh;var h=32-ae(s)-1;s&=~(1<<h),i+=1;var n=32-ae(e)+h;if(30<n){var a=h-h%5;n=(s&(1<<a)-1).toString(32),s>>=a,h-=a,Gh=1<<32-ae(e)+h|i<<h|s,Yh=n+t}else Gh=1<<n|i<<h|s,Yh=t}function Jh(t){null!==t.return&&(Qh(t,1),Zh(t,1,0))}function tn(t){for(;t===qh;)qh=Vh[--$h],Vh[$h]=null,Wh=Vh[--$h],Vh[$h]=null;for(;t===Xh;)Xh=Uh[--Kh],Uh[Kh]=null,Yh=Uh[--Kh],Uh[Kh]=null,Gh=Uh[--Kh],Uh[Kh]=null}var en=null,sn=null,hn=!1,nn=null;function an(t,e){var i=Bl(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function rn(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,en=t,sn=oh(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,en=t,sn=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==Xh?{id:Gh,overflow:Yh}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=Bl(18,null,null,0)).stateNode=e,i.return=t,t.child=i,en=t,sn=null,!0);default:return!1}}function on(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function ln(t){if(hn){var e=sn;if(e){var i=e;if(!rn(t,e)){if(on(t))throw Error(n(418));e=oh(i.nextSibling);var s=en;e&&rn(t,e)?an(s,i):(t.flags=-4097&t.flags|2,hn=!1,en=t)}}else{if(on(t))throw Error(n(418));t.flags=-4097&t.flags|2,hn=!1,en=t}}}function dn(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;en=t}function cn(t){if(t!==en)return!1;if(!hn)return dn(t),hn=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!eh(t.type,t.memoizedProps)),e&&(e=sn)){if(on(t))throw un(),Error(n(418));for(;e;)an(t,e),e=oh(e.nextSibling)}if(dn(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(n(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){sn=oh(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}sn=null}}else sn=en?oh(t.stateNode.nextSibling):null;return!0}function un(){for(var t=sn;t;)t=oh(t.nextSibling)}function mn(){sn=en=null,hn=!1}function gn(t){null===nn?nn=[t]:nn.push(t)}var pn=D.ReactCurrentBatchConfig;function fn(t,e){if(t&&t.defaultProps){for(var i in e=R({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}var In=kh(null),bn=null,xn=null,Dn=null;function yn(){Dn=xn=bn=null}function vn(t){var e=In.current;Ch(In),t._currentValue=e}function kn(t,e,i){for(;null!==t;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==s&&(s.childLanes|=e)):null!==s&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function Cn(t,e){bn=t,Dn=xn=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(xr=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Dn!==t)if(t={context:t,memoizedValue:e,next:null},null===xn){if(null===bn)throw Error(n(308));xn=t,bn.dependencies={lanes:0,firstContext:t}}else xn=xn.next=t;return e}var Tn=null;function Ln(t){null===Tn?Tn=[t]:Tn.push(t)}function Sn(t,e,i,s){var h=e.interleaved;return null===h?(i.next=i,Ln(e)):(i.next=h.next,h.next=i),e.interleaved=i,Fn(t,s)}function Fn(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var An=!1;function _n(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bn(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(t,e,i){var s=t.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Fo)){var h=s.pending;return null===h?e.next=e:(e.next=h.next,h.next=e),s.pending=e,Fn(t,i)}return null===(h=s.interleaved)?(e.next=e,Ln(s)):(e.next=h.next,h.next=e),s.interleaved=e,Fn(t,i)}function En(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var s=e.lanes;i|=s&=t.pendingLanes,e.lanes=i,be(t,i)}}function On(t,e){var i=t.updateQueue,s=t.alternate;if(null!==s&&i===(s=s.updateQueue)){var h=null,n=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===n?h=n=a:n=n.next=a,i=i.next}while(null!==i);null===n?h=n=e:n=n.next=e}else h=n=e;return i={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:n,shared:s.shared,effects:s.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Rn(t,e,i,s){var h=t.updateQueue;An=!1;var n=h.firstBaseUpdate,a=h.lastBaseUpdate,r=h.shared.pending;if(null!==r){h.shared.pending=null;var o=r,l=o.next;o.next=null,null===a?n=l:a.next=l,a=o;var d=t.alternate;null!==d&&((r=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===r?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=o))}if(null!==n){var c=h.baseState;for(a=0,d=l=o=null,r=n;;){var u=r.lane,m=r.eventTime;if((s&u)===u){null!==d&&(d=d.next={eventTime:m,lane:0,tag:r.tag,payload:r.payload,callback:r.callback,next:null});t:{var g=t,p=r;switch(u=e,m=i,p.tag){case 1:if("function"===typeof(g=p.payload)){c=g.call(m,c,u);break t}c=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(u="function"===typeof(g=p.payload)?g.call(m,c,u):g)||void 0===u)break t;c=R({},c,u);break t;case 2:An=!0}}null!==r.callback&&0!==r.lane&&(t.flags|=64,null===(u=h.effects)?h.effects=[r]:u.push(r))}else m={eventTime:m,lane:u,tag:r.tag,payload:r.payload,callback:r.callback,next:null},null===d?(l=d=m,o=c):d=d.next=m,a|=u;if(null===(r=r.next)){if(null===(r=h.shared.pending))break;r=(u=r).next,u.next=null,h.lastBaseUpdate=u,h.shared.pending=null}}if(null===d&&(o=c),h.baseState=o,h.firstBaseUpdate=l,h.lastBaseUpdate=d,null!==(e=h.shared.interleaved)){h=e;do{a|=h.lane,h=h.next}while(h!==e)}else null===n&&(h.shared.lanes=0);Ro|=a,t.lanes=a,t.memoizedState=c}}function jn(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var s=t[e],h=s.callback;if(null!==h){if(s.callback=null,s=i,"function"!==typeof h)throw Error(n(191,h));h.call(s)}}}var Nn=(new s.Component).refs;function Hn(t,e,i,s){i=null===(i=i(s,e=t.memoizedState))||void 0===i?e:R({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var Mn={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var s=el(),h=il(t),n=zn(s,h);n.payload=e,void 0!==i&&null!==i&&(n.callback=i),null!==(e=Pn(t,n,h))&&(sl(e,t,h,s),En(e,t,h))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=el(),h=il(t),n=zn(s,h);n.tag=1,n.payload=e,void 0!==i&&null!==i&&(n.callback=i),null!==(e=Pn(t,n,h))&&(sl(e,t,h,s),En(e,t,h))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=el(),s=il(t),h=zn(i,s);h.tag=2,void 0!==e&&null!==e&&(h.callback=e),null!==(e=Pn(t,h,s))&&(sl(e,t,s,i),En(e,t,s))}};function Vn(t,e,i,s,h,n,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,n,a):!e.prototype||!e.prototype.isPureReactComponent||(!rs(i,s)||!rs(h,n))}function $n(t,e,i){var s=!1,h=Th,n=e.contextType;return"object"===typeof n&&null!==n?n=wn(n):(h=_h(e)?Fh:Lh.current,n=(s=null!==(s=e.contextTypes)&&void 0!==s)?Ah(t,h):Th),e=new e(i,n),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Mn,t.stateNode=e,e._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=n),e}function qn(t,e,i,s){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,s),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&Mn.enqueueReplaceState(e,e.state,null)}function Wn(t,e,i,s){var h=t.stateNode;h.props=i,h.state=t.memoizedState,h.refs=Nn,_n(t);var n=e.contextType;"object"===typeof n&&null!==n?h.context=wn(n):(n=_h(e)?Fh:Lh.current,h.context=Ah(t,n)),h.state=t.memoizedState,"function"===typeof(n=e.getDerivedStateFromProps)&&(Hn(t,e,n,i),h.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof h.getSnapshotBeforeUpdate||"function"!==typeof h.UNSAFE_componentWillMount&&"function"!==typeof h.componentWillMount||(e=h.state,"function"===typeof h.componentWillMount&&h.componentWillMount(),"function"===typeof h.UNSAFE_componentWillMount&&h.UNSAFE_componentWillMount(),e!==h.state&&Mn.enqueueReplaceState(h,h.state,null),Rn(t,i,h,s),h.state=t.memoizedState),"function"===typeof h.componentDidMount&&(t.flags|=4194308)}function Un(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(n(309));var s=i.stateNode}if(!s)throw Error(n(147,t));var h=s,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=h.refs;e===Nn&&(e=h.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(n(284));if(!i._owner)throw Error(n(290,t))}return t}function Kn(t,e){throw t=Object.prototype.toString.call(e),Error(n(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xn(t){return(0,t._init)(t._payload)}function Gn(t){function e(e,i){if(t){var s=e.deletions;null===s?(e.deletions=[i],e.flags|=16):s.push(i)}}function i(i,s){if(!t)return null;for(;null!==s;)e(i,s),s=s.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function h(t,e){return(t=Pl(t,e)).index=0,t.sibling=null,t}function a(e,i,s){return e.index=s,t?null!==(s=e.alternate)?(s=s.index)<i?(e.flags|=2,i):s:(e.flags|=2,i):(e.flags|=1048576,i)}function r(e){return t&&null===e.alternate&&(e.flags|=2),e}function o(t,e,i,s){return null===e||6!==e.tag?((e=jl(i,t.mode,s)).return=t,e):((e=h(e,i)).return=t,e)}function l(t,e,i,s){var n=i.type;return n===k?c(t,e,i.props.children,s,i.key):null!==e&&(e.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===B&&Xn(n)===e.type)?((s=h(e,i.props)).ref=Un(t,e,i),s.return=t,s):((s=El(i.type,i.key,i.props,null,t.mode,s)).ref=Un(t,e,i),s.return=t,s)}function d(t,e,i,s){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Nl(i,t.mode,s)).return=t,e):((e=h(e,i.children||[])).return=t,e)}function c(t,e,i,s,n){return null===e||7!==e.tag?((e=Ol(i,t.mode,s,n)).return=t,e):((e=h(e,i)).return=t,e)}function u(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=jl(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case y:return(i=El(e.type,e.key,e.props,null,t.mode,i)).ref=Un(t,null,e),i.return=t,i;case v:return(e=Nl(e,t.mode,i)).return=t,e;case B:return u(t,(0,e._init)(e._payload),i)}if(et(e)||E(e))return(e=Ol(e,t.mode,i,null)).return=t,e;Kn(t,e)}return null}function m(t,e,i,s){var h=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==h?null:o(t,e,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case y:return i.key===h?l(t,e,i,s):null;case v:return i.key===h?d(t,e,i,s):null;case B:return m(t,e,(h=i._init)(i._payload),s)}if(et(i)||E(i))return null!==h?null:c(t,e,i,s,null);Kn(t,i)}return null}function g(t,e,i,s,h){if("string"===typeof s&&""!==s||"number"===typeof s)return o(e,t=t.get(i)||null,""+s,h);if("object"===typeof s&&null!==s){switch(s.$$typeof){case y:return l(e,t=t.get(null===s.key?i:s.key)||null,s,h);case v:return d(e,t=t.get(null===s.key?i:s.key)||null,s,h);case B:return g(t,e,i,(0,s._init)(s._payload),h)}if(et(s)||E(s))return c(e,t=t.get(i)||null,s,h,null);Kn(e,s)}return null}function p(h,n,r,o){for(var l=null,d=null,c=n,p=n=0,f=null;null!==c&&p<r.length;p++){c.index>p?(f=c,c=null):f=c.sibling;var I=m(h,c,r[p],o);if(null===I){null===c&&(c=f);break}t&&c&&null===I.alternate&&e(h,c),n=a(I,n,p),null===d?l=I:d.sibling=I,d=I,c=f}if(p===r.length)return i(h,c),hn&&Qh(h,p),l;if(null===c){for(;p<r.length;p++)null!==(c=u(h,r[p],o))&&(n=a(c,n,p),null===d?l=c:d.sibling=c,d=c);return hn&&Qh(h,p),l}for(c=s(h,c);p<r.length;p++)null!==(f=g(c,h,p,r[p],o))&&(t&&null!==f.alternate&&c.delete(null===f.key?p:f.key),n=a(f,n,p),null===d?l=f:d.sibling=f,d=f);return t&&c.forEach((function(t){return e(h,t)})),hn&&Qh(h,p),l}function f(h,r,o,l){var d=E(o);if("function"!==typeof d)throw Error(n(150));if(null==(o=d.call(o)))throw Error(n(151));for(var c=d=null,p=r,f=r=0,I=null,b=o.next();null!==p&&!b.done;f++,b=o.next()){p.index>f?(I=p,p=null):I=p.sibling;var x=m(h,p,b.value,l);if(null===x){null===p&&(p=I);break}t&&p&&null===x.alternate&&e(h,p),r=a(x,r,f),null===c?d=x:c.sibling=x,c=x,p=I}if(b.done)return i(h,p),hn&&Qh(h,f),d;if(null===p){for(;!b.done;f++,b=o.next())null!==(b=u(h,b.value,l))&&(r=a(b,r,f),null===c?d=b:c.sibling=b,c=b);return hn&&Qh(h,f),d}for(p=s(h,p);!b.done;f++,b=o.next())null!==(b=g(p,h,f,b.value,l))&&(t&&null!==b.alternate&&p.delete(null===b.key?f:b.key),r=a(b,r,f),null===c?d=b:c.sibling=b,c=b);return t&&p.forEach((function(t){return e(h,t)})),hn&&Qh(h,f),d}return function t(s,n,a,o){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case y:t:{for(var l=a.key,d=n;null!==d;){if(d.key===l){if((l=a.type)===k){if(7===d.tag){i(s,d.sibling),(n=h(d,a.props.children)).return=s,s=n;break t}}else if(d.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===B&&Xn(l)===d.type){i(s,d.sibling),(n=h(d,a.props)).ref=Un(s,d,a),n.return=s,s=n;break t}i(s,d);break}e(s,d),d=d.sibling}a.type===k?((n=Ol(a.props.children,s.mode,o,a.key)).return=s,s=n):((o=El(a.type,a.key,a.props,null,s.mode,o)).ref=Un(s,n,a),o.return=s,s=o)}return r(s);case v:t:{for(d=a.key;null!==n;){if(n.key===d){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){i(s,n.sibling),(n=h(n,a.children||[])).return=s,s=n;break t}i(s,n);break}e(s,n),n=n.sibling}(n=Nl(a,s.mode,o)).return=s,s=n}return r(s);case B:return t(s,n,(d=a._init)(a._payload),o)}if(et(a))return p(s,n,a,o);if(E(a))return f(s,n,a,o);Kn(s,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==n&&6===n.tag?(i(s,n.sibling),(n=h(n,a)).return=s,s=n):(i(s,n),(n=jl(a,s.mode,o)).return=s,s=n),r(s)):i(s,n)}}var Yn=Gn(!0),Qn=Gn(!1),Zn={},Jn=kh(Zn),ta=kh(Zn),ea=kh(Zn);function ia(t){if(t===Zn)throw Error(n(174));return t}function sa(t,e){switch(wh(ea,e),wh(ta,t),wh(Jn,Zn),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ot(null,"");break;default:e=ot(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ch(Jn),wh(Jn,e)}function ha(){Ch(Jn),Ch(ta),Ch(ea)}function na(t){ia(ea.current);var e=ia(Jn.current),i=ot(e,t.type);e!==i&&(wh(ta,t),wh(Jn,i))}function aa(t){ta.current===t&&(Ch(Jn),Ch(ta))}var ra=kh(0);function oa(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var la=[];function da(){for(var t=0;t<la.length;t++)la[t]._workInProgressVersionPrimary=null;la.length=0}var ca=D.ReactCurrentDispatcher,ua=D.ReactCurrentBatchConfig,ma=0,ga=null,pa=null,fa=null,Ia=!1,ba=!1,xa=0,Da=0;function ya(){throw Error(n(321))}function va(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!as(t[i],e[i]))return!1;return!0}function ka(t,e,i,s,h,a){if(ma=a,ga=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ca.current=null===t||null===t.memoizedState?ar:rr,t=i(s,h),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(n(301));a+=1,fa=pa=null,e.updateQueue=null,ca.current=or,t=i(s,h)}while(ba)}if(ca.current=nr,e=null!==pa&&null!==pa.next,ma=0,fa=pa=ga=null,Ia=!1,e)throw Error(n(300));return t}function Ca(){var t=0!==xa;return xa=0,t}function wa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?ga.memoizedState=fa=t:fa=fa.next=t,fa}function Ta(){if(null===pa){var t=ga.alternate;t=null!==t?t.memoizedState:null}else t=pa.next;var e=null===fa?ga.memoizedState:fa.next;if(null!==e)fa=e,pa=t;else{if(null===t)throw Error(n(310));t={memoizedState:(pa=t).memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},null===fa?ga.memoizedState=fa=t:fa=fa.next=t}return fa}function La(t,e){return"function"===typeof e?e(t):e}function Sa(t){var e=Ta(),i=e.queue;if(null===i)throw Error(n(311));i.lastRenderedReducer=t;var s=pa,h=s.baseQueue,a=i.pending;if(null!==a){if(null!==h){var r=h.next;h.next=a.next,a.next=r}s.baseQueue=h=a,i.pending=null}if(null!==h){a=h.next,s=s.baseState;var o=r=null,l=null,d=a;do{var c=d.lane;if((ma&c)===c)null!==l&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var u={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===l?(o=l=u,r=s):l=l.next=u,ga.lanes|=c,Ro|=c}d=d.next}while(null!==d&&d!==a);null===l?r=s:l.next=o,as(s,e.memoizedState)||(xr=!0),e.memoizedState=s,e.baseState=r,e.baseQueue=l,i.lastRenderedState=s}if(null!==(t=i.interleaved)){h=t;do{a=h.lane,ga.lanes|=a,Ro|=a,h=h.next}while(h!==t)}else null===h&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Fa(t){var e=Ta(),i=e.queue;if(null===i)throw Error(n(311));i.lastRenderedReducer=t;var s=i.dispatch,h=i.pending,a=e.memoizedState;if(null!==h){i.pending=null;var r=h=h.next;do{a=t(a,r.action),r=r.next}while(r!==h);as(a,e.memoizedState)||(xr=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),i.lastRenderedState=a}return[a,s]}function Aa(){}function _a(t,e){var i=ga,s=Ta(),h=e(),a=!as(s.memoizedState,h);if(a&&(s.memoizedState=h,xr=!0),s=s.queue,$a(Pa.bind(null,i,s,t),[t]),s.getSnapshot!==e||a||null!==fa&&1&fa.memoizedState.tag){if(i.flags|=2048,ja(9,za.bind(null,i,s,h,e),void 0,null),null===Ao)throw Error(n(349));0!==(30&ma)||Ba(i,e,h)}return h}function Ba(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function za(t,e,i,s){e.value=i,e.getSnapshot=s,Ea(e)&&Oa(t)}function Pa(t,e,i){return i((function(){Ea(e)&&Oa(t)}))}function Ea(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!as(t,i)}catch(s){return!0}}function Oa(t){var e=Fn(t,1);null!==e&&sl(e,t,1,-1)}function Ra(t){var e=wa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:t},e.queue=t,t=t.dispatch=er.bind(null,ga,t),[e.memoizedState,t]}function ja(t,e,i,s){return t={tag:t,create:e,destroy:i,deps:s,next:null},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function Na(){return Ta().memoizedState}function Ha(t,e,i,s){var h=wa();ga.flags|=t,h.memoizedState=ja(1|e,i,void 0,void 0===s?null:s)}function Ma(t,e,i,s){var h=Ta();s=void 0===s?null:s;var n=void 0;if(null!==pa){var a=pa.memoizedState;if(n=a.destroy,null!==s&&va(s,a.deps))return void(h.memoizedState=ja(e,i,n,s))}ga.flags|=t,h.memoizedState=ja(1|e,i,n,s)}function Va(t,e){return Ha(8390656,8,t,e)}function $a(t,e){return Ma(2048,8,t,e)}function qa(t,e){return Ma(4,2,t,e)}function Wa(t,e){return Ma(4,4,t,e)}function Ua(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ka(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Ma(4,4,Ua.bind(null,e,t),i)}function Xa(){}function Ga(t,e){var i=Ta();e=void 0===e?null:e;var s=i.memoizedState;return null!==s&&null!==e&&va(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function Ya(t,e){var i=Ta();e=void 0===e?null:e;var s=i.memoizedState;return null!==s&&null!==e&&va(e,s[1])?s[0]:(t=t(),i.memoizedState=[t,e],t)}function Qa(t,e,i){return 0===(21&ma)?(t.baseState&&(t.baseState=!1,xr=!0),t.memoizedState=i):(as(i,e)||(i=pe(),ga.lanes|=i,Ro|=i,t.baseState=!0),e)}function Za(t,e){var i=xe;xe=0!==i&&4>i?i:4,t(!0);var s=ua.transition;ua.transition={};try{t(!1),e()}finally{xe=i,ua.transition=s}}function Ja(){return Ta().memoizedState}function tr(t,e,i){var s=il(t);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},ir(t))sr(e,i);else if(null!==(i=Sn(t,e,i,s))){sl(i,t,s,el()),hr(i,e,s)}}function er(t,e,i){var s=il(t),h={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(ir(t))sr(e,h);else{var n=t.alternate;if(0===t.lanes&&(null===n||0===n.lanes)&&null!==(n=e.lastRenderedReducer))try{var a=e.lastRenderedState,r=n(a,i);if(h.hasEagerState=!0,h.eagerState=r,as(r,a)){var o=e.interleaved;return null===o?(h.next=h,Ln(e)):(h.next=o.next,o.next=h),void(e.interleaved=h)}}catch(l){}null!==(i=Sn(t,e,h,s))&&(sl(i,t,s,h=el()),hr(i,e,s))}}function ir(t){var e=t.alternate;return t===ga||null!==e&&e===ga}function sr(t,e){ba=Ia=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function hr(t,e,i){if(0!==(4194240&i)){var s=e.lanes;i|=s&=t.pendingLanes,e.lanes=i,be(t,i)}}var nr={readContext:wn,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},ar={readContext:wn,useCallback:function(t,e){return wa().memoizedState=[t,void 0===e?null:e],t},useContext:wn,useEffect:Va,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Ha(4194308,4,Ua.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Ha(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ha(4,2,t,e)},useMemo:function(t,e){var i=wa();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var s=wa();return e=void 0!==i?i(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=tr.bind(null,ga,t),[s.memoizedState,t]},useRef:function(t){return t={current:t},wa().memoizedState=t},useState:Ra,useDebugValue:Xa,useDeferredValue:function(t){return wa().memoizedState=t},useTransition:function(){var t=Ra(!1),e=t[0];return t=Za.bind(null,t[1]),wa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var s=ga,h=wa();if(hn){if(void 0===i)throw Error(n(407));i=i()}else{if(i=e(),null===Ao)throw Error(n(349));0!==(30&ma)||Ba(s,e,i)}h.memoizedState=i;var a={value:i,getSnapshot:e};return h.queue=a,Va(Pa.bind(null,s,a,t),[t]),s.flags|=2048,ja(9,za.bind(null,s,a,i,e),void 0,null),i},useId:function(){var t=wa(),e=Ao.identifierPrefix;if(hn){var i=Yh;e=":"+e+"R"+(i=(Gh&~(1<<32-ae(Gh)-1)).toString(32)+i),0<(i=xa++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=Da++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rr={readContext:wn,useCallback:Ga,useContext:wn,useEffect:$a,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Ya,useReducer:Sa,useRef:Na,useState:function(){return Sa(La)},useDebugValue:Xa,useDeferredValue:function(t){return Qa(Ta(),pa.memoizedState,t)},useTransition:function(){return[Sa(La)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:_a,useId:Ja,unstable_isNewReconciler:!1},or={readContext:wn,useCallback:Ga,useContext:wn,useEffect:$a,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Ya,useReducer:Fa,useRef:Na,useState:function(){return Fa(La)},useDebugValue:Xa,useDeferredValue:function(t){var e=Ta();return null===pa?e.memoizedState=t:Qa(e,pa.memoizedState,t)},useTransition:function(){return[Fa(La)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:_a,useId:Ja,unstable_isNewReconciler:!1};function lr(t,e){try{var i="",s=e;do{i+=M(s),s=s.return}while(s);var h=i}catch(n){h="\nError generating stack: "+n.message+"\n"+n.stack}return{value:t,source:e,stack:h,digest:null}}function dr(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function cr(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}var ur="function"===typeof WeakMap?WeakMap:Map;function mr(t,e,i){(i=zn(-1,i)).tag=3,i.payload={element:null};var s=e.value;return i.callback=function(){Wo||(Wo=!0,Uo=s),cr(0,e)},i}function gr(t,e,i){(i=zn(-1,i)).tag=3;var s=t.type.getDerivedStateFromError;if("function"===typeof s){var h=e.value;i.payload=function(){return s(h)},i.callback=function(){cr(0,e)}}var n=t.stateNode;return null!==n&&"function"===typeof n.componentDidCatch&&(i.callback=function(){cr(0,e),"function"!==typeof s&&(null===Ko?Ko=new Set([this]):Ko.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function pr(t,e,i){var s=t.pingCache;if(null===s){s=t.pingCache=new ur;var h=new Set;s.set(e,h)}else void 0===(h=s.get(e))&&(h=new Set,s.set(e,h));h.has(i)||(h.add(i),t=Tl.bind(null,t,e,i),e.then(t,t))}function fr(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function Ir(t,e,i,s,h){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=zn(-1,1)).tag=2,Pn(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var br=D.ReactCurrentOwner,xr=!1;function Dr(t,e,i,s){e.child=null===t?Qn(e,null,i,s):Yn(e,t.child,i,s)}function yr(t,e,i,s,h){i=i.render;var n=e.ref;return Cn(e,h),s=ka(t,e,i,s,n,h),i=Ca(),null===t||xr?(hn&&i&&Jh(e),e.flags|=1,Dr(t,e,s,h),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~h,qr(t,e,h))}function vr(t,e,i,s,h){if(null===t){var n=i.type;return"function"!==typeof n||zl(n)||void 0!==n.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=El(i.type,null,s,e,e.mode,h)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=n,kr(t,e,n,s,h))}if(n=t.child,0===(t.lanes&h)){var a=n.memoizedProps;if((i=null!==(i=i.compare)?i:rs)(a,s)&&t.ref===e.ref)return qr(t,e,h)}return e.flags|=1,(t=Pl(n,s)).ref=e.ref,t.return=e,e.child=t}function kr(t,e,i,s,h){if(null!==t){var n=t.memoizedProps;if(rs(n,s)&&t.ref===e.ref){if(xr=!1,e.pendingProps=s=n,0===(t.lanes&h))return e.lanes=t.lanes,qr(t,e,h);0!==(131072&t.flags)&&(xr=!0)}}return Tr(t,e,i,s,h)}function Cr(t,e,i){var s=e.pendingProps,h=s.children,n=null!==t?t.memoizedState:null;if("hidden"===s.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wh(Po,zo),zo|=i;else{if(0===(1073741824&i))return t=null!==n?n.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wh(Po,zo),zo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==n?n.baseLanes:i,wh(Po,zo),zo|=s}else null!==n?(s=n.baseLanes|i,e.memoizedState=null):s=i,wh(Po,zo),zo|=s;return Dr(t,e,h,i),e.child}function wr(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Tr(t,e,i,s,h){var n=_h(i)?Fh:Lh.current;return n=Ah(e,n),Cn(e,h),i=ka(t,e,i,s,n,h),s=Ca(),null===t||xr?(hn&&s&&Jh(e),e.flags|=1,Dr(t,e,i,h),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~h,qr(t,e,h))}function Lr(t,e,i,s,h){if(_h(i)){var n=!0;Eh(e)}else n=!1;if(Cn(e,h),null===e.stateNode)$r(t,e),$n(e,i,s),Wn(e,i,s,h),s=!0;else if(null===t){var a=e.stateNode,r=e.memoizedProps;a.props=r;var o=a.context,l=i.contextType;"object"===typeof l&&null!==l?l=wn(l):l=Ah(e,l=_h(i)?Fh:Lh.current);var d=i.getDerivedStateFromProps,c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(r!==s||o!==l)&&qn(e,a,s,l),An=!1;var u=e.memoizedState;a.state=u,Rn(e,s,a,h),o=e.memoizedState,r!==s||u!==o||Sh.current||An?("function"===typeof d&&(Hn(e,i,d,s),o=e.memoizedState),(r=An||Vn(e,i,r,s,u,o,l))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=o),a.props=s,a.state=o,a.context=l,s=r):("function"===typeof a.componentDidMount&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,Bn(t,e),r=e.memoizedProps,l=e.type===e.elementType?r:fn(e.type,r),a.props=l,c=e.pendingProps,u=a.context,"object"===typeof(o=i.contextType)&&null!==o?o=wn(o):o=Ah(e,o=_h(i)?Fh:Lh.current);var m=i.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(r!==c||u!==o)&&qn(e,a,s,o),An=!1,u=e.memoizedState,a.state=u,Rn(e,s,a,h);var g=e.memoizedState;r!==c||u!==g||Sh.current||An?("function"===typeof m&&(Hn(e,i,m,s),g=e.memoizedState),(l=An||Vn(e,i,l,s,u,g,o)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(s,g,o),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(s,g,o)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),a.props=s,a.state=g,a.context=o,s=l):("function"!==typeof a.componentDidUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),s=!1)}return Sr(t,e,i,s,n,h)}function Sr(t,e,i,s,h,n){wr(t,e);var a=0!==(128&e.flags);if(!s&&!a)return h&&Oh(e,i,!1),qr(t,e,n);s=e.stateNode,br.current=e;var r=a&&"function"!==typeof i.getDerivedStateFromError?null:s.render();return e.flags|=1,null!==t&&a?(e.child=Yn(e,t.child,null,n),e.child=Yn(e,null,r,n)):Dr(t,e,r,n),e.memoizedState=s.state,h&&Oh(e,i,!0),e.child}function Fr(t){var e=t.stateNode;e.pendingContext?zh(0,e.pendingContext,e.pendingContext!==e.context):e.context&&zh(0,e.context,!1),sa(t,e.containerInfo)}function Ar(t,e,i,s,h){return mn(),gn(h),e.flags|=256,Dr(t,e,i,s),e.child}var _r,Br,zr,Pr,Er={dehydrated:null,treeContext:null,retryLane:0};function Or(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rr(t,e,i){var s,h=e.pendingProps,a=ra.current,r=!1,o=0!==(128&e.flags);if((s=o)||(s=(null===t||null!==t.memoizedState)&&0!==(2&a)),s?(r=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),wh(ra,1&a),null===t)return ln(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(o=h.children,t=h.fallback,r?(h=e.mode,r=e.child,o={mode:"hidden",children:o},0===(1&h)&&null!==r?(r.childLanes=0,r.pendingProps=o):r=Rl(o,h,0,null),t=Ol(t,h,i,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Or(i),e.memoizedState=Er,t):jr(e,o));if(null!==(a=t.memoizedState)&&null!==(s=a.dehydrated))return function(t,e,i,s,h,a,r){if(i)return 256&e.flags?(e.flags&=-257,Nr(t,e,r,s=dr(Error(n(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=s.fallback,h=e.mode,s=Rl({mode:"visible",children:s.children},h,0,null),(a=Ol(a,h,r,null)).flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,0!==(1&e.mode)&&Yn(e,t.child,null,r),e.child.memoizedState=Or(r),e.memoizedState=Er,a);if(0===(1&e.mode))return Nr(t,e,r,null);if("$!"===h.data){if(s=h.nextSibling&&h.nextSibling.dataset)var o=s.dgst;return s=o,Nr(t,e,r,s=dr(a=Error(n(419)),s,void 0))}if(o=0!==(r&t.childLanes),xr||o){if(null!==(s=Ao)){switch(r&-r){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}0!==(h=0!==(h&(s.suspendedLanes|r))?0:h)&&h!==a.retryLane&&(a.retryLane=h,Fn(t,h),sl(s,t,h,-1))}return fl(),Nr(t,e,r,s=dr(Error(n(421))))}return"$?"===h.data?(e.flags|=128,e.child=t.child,e=Sl.bind(null,t),h._reactRetry=e,null):(t=a.treeContext,sn=oh(h.nextSibling),en=e,hn=!0,nn=null,null!==t&&(Uh[Kh++]=Gh,Uh[Kh++]=Yh,Uh[Kh++]=Xh,Gh=t.id,Yh=t.overflow,Xh=e),e=jr(e,s.children),e.flags|=4096,e)}(t,e,o,h,s,a,i);if(r){r=h.fallback,o=e.mode,s=(a=t.child).sibling;var l={mode:"hidden",children:h.children};return 0===(1&o)&&e.child!==a?((h=e.child).childLanes=0,h.pendingProps=l,e.deletions=null):(h=Pl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==s?r=Pl(s,r):(r=Ol(r,o,i,null)).flags|=2,r.return=e,h.return=e,h.sibling=r,e.child=h,h=r,r=e.child,o=null===(o=t.child.memoizedState)?Or(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~i,e.memoizedState=Er,h}return t=(r=t.child).sibling,h=Pl(r,{mode:"visible",children:h.children}),0===(1&e.mode)&&(h.lanes=i),h.return=e,h.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=h,e.memoizedState=null,h}function jr(t,e){return(e=Rl({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Nr(t,e,i,s){return null!==s&&gn(s),Yn(e,t.child,null,i),(t=jr(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Hr(t,e,i){t.lanes|=e;var s=t.alternate;null!==s&&(s.lanes|=e),kn(t.return,e,i)}function Mr(t,e,i,s,h){var n=t.memoizedState;null===n?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:h}:(n.isBackwards=e,n.rendering=null,n.renderingStartTime=0,n.last=s,n.tail=i,n.tailMode=h)}function Vr(t,e,i){var s=e.pendingProps,h=s.revealOrder,n=s.tail;if(Dr(t,e,s.children,i),0!==(2&(s=ra.current)))s=1&s|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Hr(t,i,e);else if(19===t.tag)Hr(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(wh(ra,s),0===(1&e.mode))e.memoizedState=null;else switch(h){case"forwards":for(i=e.child,h=null;null!==i;)null!==(t=i.alternate)&&null===oa(t)&&(h=i),i=i.sibling;null===(i=h)?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Mr(e,!1,h,i,n);break;case"backwards":for(i=null,h=e.child,e.child=null;null!==h;){if(null!==(t=h.alternate)&&null===oa(t)){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Mr(e,!0,i,null,n);break;case"together":Mr(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $r(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),Ro|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(n(153));if(null!==e.child){for(i=Pl(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Pl(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Wr(t,e){if(!hn)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;null!==i;)null!==i.alternate&&(s=i),i=i.sibling;null===s?e||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ur(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,s=0;if(e)for(var h=t.child;null!==h;)i|=h.lanes|h.childLanes,s|=14680064&h.subtreeFlags,s|=14680064&h.flags,h.return=t,h=h.sibling;else for(h=t.child;null!==h;)i|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function Kr(t,e,i){var s=e.pendingProps;switch(tn(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(e),null;case 1:case 17:return _h(e.type)&&Bh(),Ur(e),null;case 3:return s=e.stateNode,ha(),Ch(Sh),Ch(Lh),da(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==t&&null!==t.child||(cn(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==nn&&(rl(nn),nn=null))),Br(t,e),Ur(e),null;case 5:aa(e);var h=ia(ea.current);if(i=e.type,null!==t&&null!=e.stateNode)zr(t,e,i,s,h),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(null===e.stateNode)throw Error(n(166));return Ur(e),null}if(t=ia(Jn.current),cn(e)){s=e.stateNode,i=e.type;var a=e.memoizedProps;switch(s[ch]=e,s[uh]=a,t=0!==(1&e.mode),i){case"dialog":js("cancel",s),js("close",s);break;case"iframe":case"object":case"embed":js("load",s);break;case"video":case"audio":for(h=0;h<Ps.length;h++)js(Ps[h],s);break;case"source":js("error",s);break;case"img":case"image":case"link":js("error",s),js("load",s);break;case"details":js("toggle",s);break;case"input":Y(s,a),js("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},js("invalid",s);break;case"textarea":ht(s,a),js("invalid",s)}for(var o in bt(i,a),h=null,a)if(a.hasOwnProperty(o)){var l=a[o];"children"===o?"string"===typeof l?s.textContent!==l&&(!0!==a.suppressHydrationWarning&&Qs(s.textContent,l,t),h=["children",l]):"number"===typeof l&&s.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Qs(s.textContent,l,t),h=["children",""+l]):r.hasOwnProperty(o)&&null!=l&&"onScroll"===o&&js("scroll",s)}switch(i){case"input":U(s),J(s,a,!0);break;case"textarea":U(s),at(s);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(s.onclick=Zs)}s=h,e.updateQueue=s,null!==s&&(e.flags|=4)}else{o=9===h.nodeType?h:h.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=rt(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=o.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof s.is?t=o.createElement(i,{is:s.is}):(t=o.createElement(i),"select"===i&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,i),t[ch]=e,t[uh]=s,_r(t,e,!1,!1),e.stateNode=t;t:{switch(o=xt(i,s),i){case"dialog":js("cancel",t),js("close",t),h=s;break;case"iframe":case"object":case"embed":js("load",t),h=s;break;case"video":case"audio":for(h=0;h<Ps.length;h++)js(Ps[h],t);h=s;break;case"source":js("error",t),h=s;break;case"img":case"image":case"link":js("error",t),js("load",t),h=s;break;case"details":js("toggle",t),h=s;break;case"input":Y(t,s),h=G(t,s),js("invalid",t);break;case"option":default:h=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},h=R({},s,{value:void 0}),js("invalid",t);break;case"textarea":ht(t,s),h=st(t,s),js("invalid",t)}for(a in bt(i,h),l=h)if(l.hasOwnProperty(a)){var d=l[a];"style"===a?ft(t,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ct(t,d):"children"===a?"string"===typeof d?("textarea"!==i||""!==d)&&ut(t,d):"number"===typeof d&&ut(t,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(r.hasOwnProperty(a)?null!=d&&"onScroll"===a&&js("scroll",t):null!=d&&x(t,a,d,o))}switch(i){case"input":U(t),J(t,s,!1);break;case"textarea":U(t),at(t);break;case"option":null!=s.value&&t.setAttribute("value",""+q(s.value));break;case"select":t.multiple=!!s.multiple,null!=(a=s.value)?it(t,!!s.multiple,a,!1):null!=s.defaultValue&&it(t,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof h.onClick&&(t.onclick=Zs)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}}s&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ur(e),null;case 6:if(t&&null!=e.stateNode)Pr(t,e,t.memoizedProps,s);else{if("string"!==typeof s&&null===e.stateNode)throw Error(n(166));if(i=ia(ea.current),ia(Jn.current),cn(e)){if(s=e.stateNode,i=e.memoizedProps,s[ch]=e,(a=s.nodeValue!==i)&&null!==(t=en))switch(t.tag){case 3:Qs(s.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qs(s.nodeValue,i,0!==(1&t.mode))}a&&(e.flags|=4)}else(s=(9===i.nodeType?i:i.ownerDocument).createTextNode(s))[ch]=e,e.stateNode=s}return Ur(e),null;case 13:if(Ch(ra),s=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(hn&&null!==sn&&0!==(1&e.mode)&&0===(128&e.flags))un(),mn(),e.flags|=98560,a=!1;else if(a=cn(e),null!==s&&null!==s.dehydrated){if(null===t){if(!a)throw Error(n(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(n(317));a[ch]=e}else mn(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ur(e),a=!1}else null!==nn&&(rl(nn),nn=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((s=null!==s)!==(null!==t&&null!==t.memoizedState)&&s&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ra.current)?0===Eo&&(Eo=3):fl())),null!==e.updateQueue&&(e.flags|=4),Ur(e),null);case 4:return ha(),Br(t,e),null===t&&Ms(e.stateNode.containerInfo),Ur(e),null;case 10:return vn(e.type._context),Ur(e),null;case 19:if(Ch(ra),null===(a=e.memoizedState))return Ur(e),null;if(s=0!==(128&e.flags),null===(o=a.rendering))if(s)Wr(a,!1);else{if(0!==Eo||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(o=oa(t))){for(e.flags|=128,Wr(a,!1),null!==(s=o.updateQueue)&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=i,i=e.child;null!==i;)t=s,(a=i).flags&=14680066,null===(o=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return wh(ra,1&ra.current|2),e.child}t=t.sibling}null!==a.tail&&Qt()>$o&&(e.flags|=128,s=!0,Wr(a,!1),e.lanes=4194304)}else{if(!s)if(null!==(t=oa(o))){if(e.flags|=128,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),Wr(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!hn)return Ur(e),null}else 2*Qt()-a.renderingStartTime>$o&&1073741824!==i&&(e.flags|=128,s=!0,Wr(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(null!==(i=a.last)?i.sibling=o:e.child=o,a.last=o)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,i=ra.current,wh(ra,s?1&i|2:1&i),e):(Ur(e),null);case 22:case 23:return ul(),s=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==s&&(e.flags|=8192),s&&0!==(1&e.mode)?0!==(1073741824&zo)&&(Ur(e),6&e.subtreeFlags&&(e.flags|=8192)):Ur(e),null;case 24:case 25:return null}throw Error(n(156,e.tag))}function Xr(t,e){switch(tn(e),e.tag){case 1:return _h(e.type)&&Bh(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ha(),Ch(Sh),Ch(Lh),da(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return aa(e),null;case 13:if(Ch(ra),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(n(340));mn()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ch(ra),null;case 4:return ha(),null;case 10:return vn(e.type._context),null;case 22:case 23:return ul(),null;default:return null}}_r=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Br=function(){},zr=function(t,e,i,s){var h=t.memoizedProps;if(h!==s){t=e.stateNode,ia(Jn.current);var n,a=null;switch(i){case"input":h=G(t,h),s=G(t,s),a=[];break;case"select":h=R({},h,{value:void 0}),s=R({},s,{value:void 0}),a=[];break;case"textarea":h=st(t,h),s=st(t,s),a=[];break;default:"function"!==typeof h.onClick&&"function"===typeof s.onClick&&(t.onclick=Zs)}for(d in bt(i,s),i=null,h)if(!s.hasOwnProperty(d)&&h.hasOwnProperty(d)&&null!=h[d])if("style"===d){var o=h[d];for(n in o)o.hasOwnProperty(n)&&(i||(i={}),i[n]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(r.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var l=s[d];if(o=null!=h?h[d]:void 0,s.hasOwnProperty(d)&&l!==o&&(null!=l||null!=o))if("style"===d)if(o){for(n in o)!o.hasOwnProperty(n)||l&&l.hasOwnProperty(n)||(i||(i={}),i[n]="");for(n in l)l.hasOwnProperty(n)&&o[n]!==l[n]&&(i||(i={}),i[n]=l[n])}else i||(a||(a=[]),a.push(d,i)),i=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(r.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&js("scroll",t),a||o===l||(a=[])):(a=a||[]).push(d,l))}i&&(a=a||[]).push("style",i);var d=a;(e.updateQueue=d)&&(e.flags|=4)}},Pr=function(t,e,i,s){i!==s&&(e.flags|=4)};var Gr=!1,Yr=!1,Qr="function"===typeof WeakSet?WeakSet:Set,Zr=null;function Jr(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(s){wl(t,e,s)}else i.current=null}function to(t,e,i){try{i()}catch(s){wl(t,e,s)}}var eo=!1;function io(t,e,i){var s=e.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var h=s=s.next;do{if((h.tag&t)===t){var n=h.destroy;h.destroy=void 0,void 0!==n&&to(e,i,n)}h=h.next}while(h!==s)}}function so(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var s=i.create;i.destroy=s()}i=i.next}while(i!==e)}}function ho(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function no(t){var e=t.alternate;null!==e&&(t.alternate=null,no(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ch],delete e[uh],delete e[gh],delete e[ph],delete e[fh])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ao(t){return 5===t.tag||3===t.tag||4===t.tag}function ro(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ao(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function oo(t,e,i){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=Zs));else if(4!==s&&null!==(t=t.child))for(oo(t,e,i),t=t.sibling;null!==t;)oo(t,e,i),t=t.sibling}function lo(t,e,i){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==s&&null!==(t=t.child))for(lo(t,e,i),t=t.sibling;null!==t;)lo(t,e,i),t=t.sibling}var co=null,uo=!1;function mo(t,e,i){for(i=i.child;null!==i;)go(t,e,i),i=i.sibling}function go(t,e,i){if(ne&&"function"===typeof ne.onCommitFiberUnmount)try{ne.onCommitFiberUnmount(he,i)}catch(r){}switch(i.tag){case 5:Yr||Jr(i,e);case 6:var s=co,h=uo;co=null,mo(t,e,i),uo=h,null!==(co=s)&&(uo?(t=co,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):co.removeChild(i.stateNode));break;case 18:null!==co&&(uo?(t=co,i=i.stateNode,8===t.nodeType?rh(t.parentNode,i):1===t.nodeType&&rh(t,i),Ve(t)):rh(co,i.stateNode));break;case 4:s=co,h=uo,co=i.stateNode.containerInfo,uo=!0,mo(t,e,i),co=s,uo=h;break;case 0:case 11:case 14:case 15:if(!Yr&&(null!==(s=i.updateQueue)&&null!==(s=s.lastEffect))){h=s=s.next;do{var n=h,a=n.destroy;n=n.tag,void 0!==a&&(0!==(2&n)||0!==(4&n))&&to(i,e,a),h=h.next}while(h!==s)}mo(t,e,i);break;case 1:if(!Yr&&(Jr(i,e),"function"===typeof(s=i.stateNode).componentWillUnmount))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(r){wl(i,e,r)}mo(t,e,i);break;case 21:mo(t,e,i);break;case 22:1&i.mode?(Yr=(s=Yr)||null!==i.memoizedState,mo(t,e,i),Yr=s):mo(t,e,i);break;default:mo(t,e,i)}}function po(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Qr),e.forEach((function(e){var s=Fl.bind(null,t,e);i.has(e)||(i.add(e),e.then(s,s))}))}}function fo(t,e){var i=e.deletions;if(null!==i)for(var s=0;s<i.length;s++){var h=i[s];try{var a=t,r=e,o=r;t:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break t;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break t}o=o.return}if(null===co)throw Error(n(160));go(a,r,h),co=null,uo=!1;var l=h.alternate;null!==l&&(l.return=null),h.return=null}catch(d){wl(h,e,d)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)Io(e,t),e=e.sibling}function Io(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fo(e,t),bo(t),4&s){try{io(3,t,t.return),so(3,t)}catch(f){wl(t,t.return,f)}try{io(5,t,t.return)}catch(f){wl(t,t.return,f)}}break;case 1:fo(e,t),bo(t),512&s&&null!==i&&Jr(i,i.return);break;case 5:if(fo(e,t),bo(t),512&s&&null!==i&&Jr(i,i.return),32&t.flags){var h=t.stateNode;try{ut(h,"")}catch(f){wl(t,t.return,f)}}if(4&s&&null!=(h=t.stateNode)){var a=t.memoizedProps,r=null!==i?i.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===o&&"radio"===a.type&&null!=a.name&&Q(h,a),xt(o,r);var d=xt(o,a);for(r=0;r<l.length;r+=2){var c=l[r],u=l[r+1];"style"===c?ft(h,u):"dangerouslySetInnerHTML"===c?ct(h,u):"children"===c?ut(h,u):x(h,c,u,d)}switch(o){case"input":Z(h,a);break;case"textarea":nt(h,a);break;case"select":var m=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!a.multiple;var g=a.value;null!=g?it(h,!!a.multiple,g,!1):m!==!!a.multiple&&(null!=a.defaultValue?it(h,!!a.multiple,a.defaultValue,!0):it(h,!!a.multiple,a.multiple?[]:"",!1))}h[uh]=a}catch(f){wl(t,t.return,f)}}break;case 6:if(fo(e,t),bo(t),4&s){if(null===t.stateNode)throw Error(n(162));h=t.stateNode,a=t.memoizedProps;try{h.nodeValue=a}catch(f){wl(t,t.return,f)}}break;case 3:if(fo(e,t),bo(t),4&s&&null!==i&&i.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(f){wl(t,t.return,f)}break;case 4:default:fo(e,t),bo(t);break;case 13:fo(e,t),bo(t),8192&(h=t.child).flags&&(a=null!==h.memoizedState,h.stateNode.isHidden=a,!a||null!==h.alternate&&null!==h.alternate.memoizedState||(Vo=Qt())),4&s&&po(t);break;case 22:if(c=null!==i&&null!==i.memoizedState,1&t.mode?(Yr=(d=Yr)||c,fo(e,t),Yr=d):fo(e,t),bo(t),8192&s){if(d=null!==t.memoizedState,(t.stateNode.isHidden=d)&&!c&&0!==(1&t.mode))for(Zr=t,c=t.child;null!==c;){for(u=Zr=c;null!==Zr;){switch(g=(m=Zr).child,m.tag){case 0:case 11:case 14:case 15:io(4,m,m.return);break;case 1:Jr(m,m.return);var p=m.stateNode;if("function"===typeof p.componentWillUnmount){s=m,i=m.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(f){wl(s,i,f)}}break;case 5:Jr(m,m.return);break;case 22:if(null!==m.memoizedState){vo(u);continue}}null!==g?(g.return=m,Zr=g):vo(u)}c=c.sibling}t:for(c=null,u=t;;){if(5===u.tag){if(null===c){c=u;try{h=u.stateNode,d?"function"===typeof(a=h.style).setProperty?a.setProperty("display","none","important"):a.display="none":(o=u.stateNode,r=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,o.style.display=pt("display",r))}catch(f){wl(t,t.return,f)}}}else if(6===u.tag){if(null===c)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(f){wl(t,t.return,f)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===t)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===t)break t;for(;null===u.sibling;){if(null===u.return||u.return===t)break t;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:fo(e,t),bo(t),4&s&&po(t);case 21:}}function bo(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(ao(i)){var s=i;break t}i=i.return}throw Error(n(160))}switch(s.tag){case 5:var h=s.stateNode;32&s.flags&&(ut(h,""),s.flags&=-33),lo(t,ro(t),h);break;case 3:case 4:var a=s.stateNode.containerInfo;oo(t,ro(t),a);break;default:throw Error(n(161))}}catch(r){wl(t,t.return,r)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function xo(t,e,i){Zr=t,Do(t,e,i)}function Do(t,e,i){for(var s=0!==(1&t.mode);null!==Zr;){var h=Zr,n=h.child;if(22===h.tag&&s){var a=null!==h.memoizedState||Gr;if(!a){var r=h.alternate,o=null!==r&&null!==r.memoizedState||Yr;r=Gr;var l=Yr;if(Gr=a,(Yr=o)&&!l)for(Zr=h;null!==Zr;)o=(a=Zr).child,22===a.tag&&null!==a.memoizedState?ko(h):null!==o?(o.return=a,Zr=o):ko(h);for(;null!==n;)Zr=n,Do(n,e,i),n=n.sibling;Zr=h,Gr=r,Yr=l}yo(t)}else 0!==(8772&h.subtreeFlags)&&null!==n?(n.return=h,Zr=n):yo(t)}}function yo(t){for(;null!==Zr;){var e=Zr;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Yr||so(5,e);break;case 1:var s=e.stateNode;if(4&e.flags&&!Yr)if(null===i)s.componentDidMount();else{var h=e.elementType===e.type?i.memoizedProps:fn(e.type,i.memoizedProps);s.componentDidUpdate(h,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&jn(e,a,s);break;case 3:var r=e.updateQueue;if(null!==r){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}jn(e,r,i)}break;case 5:var o=e.stateNode;if(null===i&&4&e.flags){i=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var d=e.alternate;if(null!==d){var c=d.memoizedState;if(null!==c){var u=c.dehydrated;null!==u&&Ve(u)}}}break;default:throw Error(n(163))}Yr||512&e.flags&&ho(e)}catch(m){wl(e,e.return,m)}}if(e===t){Zr=null;break}if(null!==(i=e.sibling)){i.return=e.return,Zr=i;break}Zr=e.return}}function vo(t){for(;null!==Zr;){var e=Zr;if(e===t){Zr=null;break}var i=e.sibling;if(null!==i){i.return=e.return,Zr=i;break}Zr=e.return}}function ko(t){for(;null!==Zr;){var e=Zr;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{so(4,e)}catch(o){wl(e,i,o)}break;case 1:var s=e.stateNode;if("function"===typeof s.componentDidMount){var h=e.return;try{s.componentDidMount()}catch(o){wl(e,h,o)}}var n=e.return;try{ho(e)}catch(o){wl(e,n,o)}break;case 5:var a=e.return;try{ho(e)}catch(o){wl(e,a,o)}}}catch(o){wl(e,e.return,o)}if(e===t){Zr=null;break}var r=e.sibling;if(null!==r){r.return=e.return,Zr=r;break}Zr=e.return}}var Co,wo=Math.ceil,To=D.ReactCurrentDispatcher,Lo=D.ReactCurrentOwner,So=D.ReactCurrentBatchConfig,Fo=0,Ao=null,_o=null,Bo=0,zo=0,Po=kh(0),Eo=0,Oo=null,Ro=0,jo=0,No=0,Ho=null,Mo=null,Vo=0,$o=1/0,qo=null,Wo=!1,Uo=null,Ko=null,Xo=!1,Go=null,Yo=0,Qo=0,Zo=null,Jo=-1,tl=0;function el(){return 0!==(6&Fo)?Qt():-1!==Jo?Jo:Jo=Qt()}function il(t){return 0===(1&t.mode)?1:0!==(2&Fo)&&0!==Bo?Bo&-Bo:null!==pn.transition?(0===tl&&(tl=pe()),tl):0!==(t=xe)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function sl(t,e,i,s){if(50<Qo)throw Qo=0,Zo=null,Error(n(185));Ie(t,i,s),0!==(2&Fo)&&t===Ao||(t===Ao&&(0===(2&Fo)&&(jo|=i),4===Eo&&ol(t,Bo)),hl(t,s),1===i&&0===Fo&&0===(1&e.mode)&&($o=Qt()+500,jh&&Mh()))}function hl(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,h=t.expirationTimes,n=t.pendingLanes;0<n;){var a=31-ae(n),r=1<<a,o=h[a];-1===o?0!==(r&i)&&0===(r&s)||(h[a]=me(r,e)):o<=e&&(t.expiredLanes|=r),n&=~r}}(t,e);var s=ue(t,t===Ao?Bo:0);if(0===s)null!==i&&Xt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(null!=i&&Xt(i),1===e)0===t.tag?function(t){jh=!0,Hh(t)}(ll.bind(null,t)):Hh(ll.bind(null,t)),nh((function(){0===(6&Fo)&&Mh()})),i=null;else{switch(De(s)){case 1:i=Jt;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=se}i=Al(i,nl.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function nl(t,e){if(Jo=-1,tl=0,0!==(6&Fo))throw Error(n(327));var i=t.callbackNode;if(kl()&&t.callbackNode!==i)return null;var s=ue(t,t===Ao?Bo:0);if(0===s)return null;if(0!==(30&s)||0!==(s&t.expiredLanes)||e)e=Il(t,s);else{e=s;var h=Fo;Fo|=2;var a=pl();for(Ao===t&&Bo===e||(qo=null,$o=Qt()+500,ml(t,e));;)try{xl();break}catch(o){gl(t,o)}yn(),To.current=a,Fo=h,null!==_o?e=0:(Ao=null,Bo=0,e=Eo)}if(0!==e){if(2===e&&(0!==(h=ge(t))&&(s=h,e=al(t,h))),1===e)throw i=Oo,ml(t,0),ol(t,s),hl(t,Qt()),i;if(6===e)ol(t,s);else{if(h=t.current.alternate,0===(30&s)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var s=0;s<i.length;s++){var h=i[s],n=h.getSnapshot;h=h.value;try{if(!as(n(),h))return!1}catch(r){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(h)&&(2===(e=Il(t,s))&&(0!==(a=ge(t))&&(s=a,e=al(t,a))),1===e))throw i=Oo,ml(t,0),ol(t,s),hl(t,Qt()),i;switch(t.finishedWork=h,t.finishedLanes=s,e){case 0:case 1:throw Error(n(345));case 2:case 5:vl(t,Mo,qo);break;case 3:if(ol(t,s),(130023424&s)===s&&10<(e=Vo+500-Qt())){if(0!==ue(t,0))break;if(((h=t.suspendedLanes)&s)!==s){el(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=ih(vl.bind(null,t,Mo,qo),e);break}vl(t,Mo,qo);break;case 4:if(ol(t,s),(4194240&s)===s)break;for(e=t.eventTimes,h=-1;0<s;){var r=31-ae(s);a=1<<r,(r=e[r])>h&&(h=r),s&=~a}if(s=h,10<(s=(120>(s=Qt()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*wo(s/1960))-s)){t.timeoutHandle=ih(vl.bind(null,t,Mo,qo),s);break}vl(t,Mo,qo);break;default:throw Error(n(329))}}}return hl(t,Qt()),t.callbackNode===i?nl.bind(null,t):null}function al(t,e){var i=Ho;return t.current.memoizedState.isDehydrated&&(ml(t,e).flags|=256),2!==(t=Il(t,e))&&(e=Mo,Mo=i,null!==e&&rl(e)),t}function rl(t){null===Mo?Mo=t:Mo.push.apply(Mo,t)}function ol(t,e){for(e&=~No,e&=~jo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-ae(e),s=1<<i;t[i]=-1,e&=~s}}function ll(t){if(0!==(6&Fo))throw Error(n(327));kl();var e=ue(t,0);if(0===(1&e))return hl(t,Qt()),null;var i=Il(t,e);if(0!==t.tag&&2===i){var s=ge(t);0!==s&&(e=s,i=al(t,s))}if(1===i)throw i=Oo,ml(t,0),ol(t,e),hl(t,Qt()),i;if(6===i)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vl(t,Mo,qo),hl(t,Qt()),null}function dl(t,e){var i=Fo;Fo|=1;try{return t(e)}finally{0===(Fo=i)&&($o=Qt()+500,jh&&Mh())}}function cl(t){null!==Go&&0===Go.tag&&0===(6&Fo)&&kl();var e=Fo;Fo|=1;var i=So.transition,s=xe;try{if(So.transition=null,xe=1,t)return t()}finally{xe=s,So.transition=i,0===(6&(Fo=e))&&Mh()}}function ul(){zo=Po.current,Ch(Po)}function ml(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,sh(i)),null!==_o)for(i=_o.return;null!==i;){var s=i;switch(tn(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Bh();break;case 3:ha(),Ch(Sh),Ch(Lh),da();break;case 5:aa(s);break;case 4:ha();break;case 13:case 19:Ch(ra);break;case 10:vn(s.type._context);break;case 22:case 23:ul()}i=i.return}if(Ao=t,_o=t=Pl(t.current,null),Bo=zo=e,Eo=0,Oo=null,No=jo=Ro=0,Mo=Ho=null,null!==Tn){for(e=0;e<Tn.length;e++)if(null!==(s=(i=Tn[e]).interleaved)){i.interleaved=null;var h=s.next,n=i.pending;if(null!==n){var a=n.next;n.next=h,s.next=a}i.pending=s}Tn=null}return t}function gl(t,e){for(;;){var i=_o;try{if(yn(),ca.current=nr,Ia){for(var s=ga.memoizedState;null!==s;){var h=s.queue;null!==h&&(h.pending=null),s=s.next}Ia=!1}if(ma=0,fa=pa=ga=null,ba=!1,xa=0,Lo.current=null,null===i||null===i.return){Eo=1,Oo=e,_o=null;break}t:{var a=t,r=i.return,o=i,l=e;if(e=Bo,o.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=l,c=o,u=c.tag;if(0===(1&c.mode)&&(0===u||11===u||15===u)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=fr(r);if(null!==g){g.flags&=-257,Ir(g,r,o,0,e),1&g.mode&&pr(a,d,e),l=d;var p=(e=g).updateQueue;if(null===p){var f=new Set;f.add(l),e.updateQueue=f}else p.add(l);break t}if(0===(1&e)){pr(a,d,e),fl();break t}l=Error(n(426))}else if(hn&&1&o.mode){var I=fr(r);if(null!==I){0===(65536&I.flags)&&(I.flags|=256),Ir(I,r,o,0,e),gn(lr(l,o));break t}}a=l=lr(l,o),4!==Eo&&(Eo=2),null===Ho?Ho=[a]:Ho.push(a),a=r;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,On(a,mr(0,l,e));break t;case 1:o=l;var b=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ko||!Ko.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e,On(a,gr(a,o,e));break t}}a=a.return}while(null!==a)}yl(i)}catch(D){e=D,_o===i&&null!==i&&(_o=i=i.return);continue}break}}function pl(){var t=To.current;return To.current=nr,null===t?nr:t}function fl(){0!==Eo&&3!==Eo&&2!==Eo||(Eo=4),null===Ao||0===(268435455&Ro)&&0===(268435455&jo)||ol(Ao,Bo)}function Il(t,e){var i=Fo;Fo|=2;var s=pl();for(Ao===t&&Bo===e||(qo=null,ml(t,e));;)try{bl();break}catch(h){gl(t,h)}if(yn(),Fo=i,To.current=s,null!==_o)throw Error(n(261));return Ao=null,Bo=0,Eo}function bl(){for(;null!==_o;)Dl(_o)}function xl(){for(;null!==_o&&!Gt();)Dl(_o)}function Dl(t){var e=Co(t.alternate,t,zo);t.memoizedProps=t.pendingProps,null===e?yl(t):_o=e,Lo.current=null}function yl(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=Kr(i,e,zo)))return void(_o=i)}else{if(null!==(i=Xr(i,e)))return i.flags&=32767,void(_o=i);if(null===t)return Eo=6,void(_o=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(_o=e);_o=e=t}while(null!==e);0===Eo&&(Eo=5)}function vl(t,e,i){var s=xe,h=So.transition;try{So.transition=null,xe=1,function(t,e,i,s){do{kl()}while(null!==Go);if(0!==(6&Fo))throw Error(n(327));i=t.finishedWork;var h=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var a=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<i;){var h=31-ae(i),n=1<<h;e[h]=0,s[h]=-1,t[h]=-1,i&=~n}}(t,a),t===Ao&&(_o=Ao=null,Bo=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Xo||(Xo=!0,Al(ee,(function(){return kl(),null}))),a=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||a){a=So.transition,So.transition=null;var r=xe;xe=1;var o=Fo;Fo|=4,Lo.current=null,function(t,e){if(Js=qe,us(t=cs())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var s=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var h=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{i.nodeType,a.nodeType}catch(y){i=null;break t}var r=0,o=-1,l=-1,d=0,c=0,u=t,m=null;e:for(;;){for(var g;u!==i||0!==h&&3!==u.nodeType||(o=r+h),u!==a||0!==s&&3!==u.nodeType||(l=r+s),3===u.nodeType&&(r+=u.nodeValue.length),null!==(g=u.firstChild);)m=u,u=g;for(;;){if(u===t)break e;if(m===i&&++d===h&&(o=r),m===a&&++c===s&&(l=r),null!==(g=u.nextSibling))break;m=(u=m).parentNode}u=g}i=-1===o||-1===l?null:{start:o,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(th={focusedElem:t,selectionRange:i},qe=!1,Zr=e;null!==Zr;)if(t=(e=Zr).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Zr=t;else for(;null!==Zr;){e=Zr;try{var p=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var f=p.memoizedProps,I=p.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?f:fn(e.type,f),I);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var D=e.stateNode.containerInfo;1===D.nodeType?D.textContent="":9===D.nodeType&&D.documentElement&&D.removeChild(D.documentElement);break;default:throw Error(n(163))}}catch(y){wl(e,e.return,y)}if(null!==(t=e.sibling)){t.return=e.return,Zr=t;break}Zr=e.return}p=eo,eo=!1}(t,i),Io(i,t),ms(th),qe=!!Js,th=Js=null,t.current=i,xo(i,t,h),Yt(),Fo=o,xe=r,So.transition=a}else t.current=i;if(Xo&&(Xo=!1,Go=t,Yo=h),a=t.pendingLanes,0===a&&(Ko=null),function(t){if(ne&&"function"===typeof ne.onCommitFiberRoot)try{ne.onCommitFiberRoot(he,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),hl(t,Qt()),null!==e)for(s=t.onRecoverableError,i=0;i<e.length;i++)h=e[i],s(h.value,{componentStack:h.stack,digest:h.digest});if(Wo)throw Wo=!1,t=Uo,Uo=null,t;0!==(1&Yo)&&0!==t.tag&&kl(),a=t.pendingLanes,0!==(1&a)?t===Zo?Qo++:(Qo=0,Zo=t):Qo=0,Mh()}(t,e,i,s)}finally{So.transition=h,xe=s}return null}function kl(){if(null!==Go){var t=De(Yo),e=So.transition,i=xe;try{if(So.transition=null,xe=16>t?16:t,null===Go)var s=!1;else{if(t=Go,Go=null,Yo=0,0!==(6&Fo))throw Error(n(331));var h=Fo;for(Fo|=4,Zr=t.current;null!==Zr;){var a=Zr,r=a.child;if(0!==(16&Zr.flags)){var o=a.deletions;if(null!==o){for(var l=0;l<o.length;l++){var d=o[l];for(Zr=d;null!==Zr;){var c=Zr;switch(c.tag){case 0:case 11:case 15:io(8,c,a)}var u=c.child;if(null!==u)u.return=c,Zr=u;else for(;null!==Zr;){var m=(c=Zr).sibling,g=c.return;if(no(c),c===d){Zr=null;break}if(null!==m){m.return=g,Zr=m;break}Zr=g}}}var p=a.alternate;if(null!==p){var f=p.child;if(null!==f){p.child=null;do{var I=f.sibling;f.sibling=null,f=I}while(null!==f)}}Zr=a}}if(0!==(2064&a.subtreeFlags)&&null!==r)r.return=a,Zr=r;else t:for(;null!==Zr;){if(0!==(2048&(a=Zr).flags))switch(a.tag){case 0:case 11:case 15:io(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Zr=b;break t}Zr=a.return}}var x=t.current;for(Zr=x;null!==Zr;){var D=(r=Zr).child;if(0!==(2064&r.subtreeFlags)&&null!==D)D.return=r,Zr=D;else t:for(r=x;null!==Zr;){if(0!==(2048&(o=Zr).flags))try{switch(o.tag){case 0:case 11:case 15:so(9,o)}}catch(v){wl(o,o.return,v)}if(o===r){Zr=null;break t}var y=o.sibling;if(null!==y){y.return=o.return,Zr=y;break t}Zr=o.return}}if(Fo=h,Mh(),ne&&"function"===typeof ne.onPostCommitFiberRoot)try{ne.onPostCommitFiberRoot(he,t)}catch(v){}s=!0}return s}finally{xe=i,So.transition=e}}return!1}function Cl(t,e,i){t=Pn(t,e=mr(0,e=lr(i,e),1),1),e=el(),null!==t&&(Ie(t,1,e),hl(t,e))}function wl(t,e,i){if(3===t.tag)Cl(t,t,i);else for(;null!==e;){if(3===e.tag){Cl(e,t,i);break}if(1===e.tag){var s=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Ko||!Ko.has(s))){e=Pn(e,t=gr(e,t=lr(i,t),1),1),t=el(),null!==e&&(Ie(e,1,t),hl(e,t));break}}e=e.return}}function Tl(t,e,i){var s=t.pingCache;null!==s&&s.delete(e),e=el(),t.pingedLanes|=t.suspendedLanes&i,Ao===t&&(Bo&i)===i&&(4===Eo||3===Eo&&(130023424&Bo)===Bo&&500>Qt()-Vo?ml(t,0):No|=i),hl(t,e)}function Ll(t,e){0===e&&(0===(1&t.mode)?e=1:(e=de,0===(130023424&(de<<=1))&&(de=4194304)));var i=el();null!==(t=Fn(t,e))&&(Ie(t,e,i),hl(t,i))}function Sl(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),Ll(t,i)}function Fl(t,e){var i=0;switch(t.tag){case 13:var s=t.stateNode,h=t.memoizedState;null!==h&&(i=h.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(n(314))}null!==s&&s.delete(e),Ll(t,i)}function Al(t,e){return Kt(t,e)}function _l(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bl(t,e,i,s){return new _l(t,e,i,s)}function zl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Pl(t,e){var i=t.alternate;return null===i?((i=Bl(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function El(t,e,i,s,h,a){var r=2;if(s=t,"function"===typeof t)zl(t)&&(r=1);else if("string"===typeof t)r=5;else t:switch(t){case k:return Ol(i.children,h,a,e);case C:r=8,h|=8;break;case w:return(t=Bl(12,i,e,2|h)).elementType=w,t.lanes=a,t;case F:return(t=Bl(13,i,e,h)).elementType=F,t.lanes=a,t;case A:return(t=Bl(19,i,e,h)).elementType=A,t.lanes=a,t;case z:return Rl(i,h,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:r=10;break t;case L:r=9;break t;case S:r=11;break t;case _:r=14;break t;case B:r=16,s=null;break t}throw Error(n(130,null==t?t:typeof t,""))}return(e=Bl(r,i,e,h)).elementType=t,e.type=s,e.lanes=a,e}function Ol(t,e,i,s){return(t=Bl(7,t,s,e)).lanes=i,t}function Rl(t,e,i,s){return(t=Bl(22,t,s,e)).elementType=z,t.lanes=i,t.stateNode={isHidden:!1},t}function jl(t,e,i){return(t=Bl(6,t,null,e)).lanes=i,t}function Nl(t,e,i){return(e=Bl(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hl(t,e,i,s,h){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fe(0),this.expirationTimes=fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.identifierPrefix=s,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ml(t,e,i,s,h,n,a,r,o){return t=new Hl(t,e,i,r,o),1===e?(e=1,!0===n&&(e|=8)):e=0,n=Bl(3,null,null,e),t.current=n,n.stateNode=t,n.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},_n(n),t}function Vl(t){if(!t)return Th;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(n(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(_h(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(n(171))}if(1===t.tag){var i=t.type;if(_h(i))return Ph(t,i,e)}return e}function $l(t,e,i,s,h,n,a,r,o){return(t=Ml(i,s,!0,t,0,n,0,r,o)).context=Vl(null),i=t.current,(n=zn(s=el(),h=il(i))).callback=void 0!==e&&null!==e?e:null,Pn(i,n,h),t.current.lanes=h,Ie(t,h,s),hl(t,s),t}function ql(t,e,i,s){var h=e.current,n=el(),a=il(h);return i=Vl(i),null===e.context?e.context=i:e.pendingContext=i,(e=zn(n,a)).payload={element:t},null!==(s=void 0===s?null:s)&&(e.callback=s),null!==(t=Pn(h,e,a))&&(sl(t,h,a,n),En(t,h,a)),a}function Wl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Ul(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Kl(t,e){Ul(t,e),(t=t.alternate)&&Ul(t,e)}Co=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Sh.current)xr=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return xr=!1,function(t,e,i){switch(e.tag){case 3:Fr(e),mn();break;case 5:na(e);break;case 1:_h(e.type)&&Eh(e);break;case 4:sa(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,h=e.memoizedProps.value;wh(In,s._currentValue),s._currentValue=h;break;case 13:if(null!==(s=e.memoizedState))return null!==s.dehydrated?(wh(ra,1&ra.current),e.flags|=128,null):0!==(i&e.child.childLanes)?Rr(t,e,i):(wh(ra,1&ra.current),null!==(t=qr(t,e,i))?t.sibling:null);wh(ra,1&ra.current);break;case 19:if(s=0!==(i&e.childLanes),0!==(128&t.flags)){if(s)return Vr(t,e,i);e.flags|=128}if(null!==(h=e.memoizedState)&&(h.rendering=null,h.tail=null,h.lastEffect=null),wh(ra,ra.current),s)break;return null;case 22:case 23:return e.lanes=0,Cr(t,e,i)}return qr(t,e,i)}(t,e,i);xr=0!==(131072&t.flags)}else xr=!1,hn&&0!==(1048576&e.flags)&&Zh(e,Wh,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;$r(t,e),t=e.pendingProps;var h=Ah(e,Lh.current);Cn(e,i),h=ka(null,e,s,t,h,i);var a=Ca();return e.flags|=1,"object"===typeof h&&null!==h&&"function"===typeof h.render&&void 0===h.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_h(s)?(a=!0,Eh(e)):a=!1,e.memoizedState=null!==h.state&&void 0!==h.state?h.state:null,_n(e),h.updater=Mn,e.stateNode=h,h._reactInternals=e,Wn(e,s,t,i),e=Sr(null,e,s,!0,a,i)):(e.tag=0,hn&&a&&Jh(e),Dr(null,e,h,i),e=e.child),e;case 16:s=e.elementType;t:{switch($r(t,e),t=e.pendingProps,s=(h=s._init)(s._payload),e.type=s,h=e.tag=function(t){if("function"===typeof t)return zl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===S)return 11;if(t===_)return 14}return 2}(s),t=fn(s,t),h){case 0:e=Tr(null,e,s,t,i);break t;case 1:e=Lr(null,e,s,t,i);break t;case 11:e=yr(null,e,s,t,i);break t;case 14:e=vr(null,e,s,fn(s.type,t),i);break t}throw Error(n(306,s,""))}return e;case 0:return s=e.type,h=e.pendingProps,Tr(t,e,s,h=e.elementType===s?h:fn(s,h),i);case 1:return s=e.type,h=e.pendingProps,Lr(t,e,s,h=e.elementType===s?h:fn(s,h),i);case 3:t:{if(Fr(e),null===t)throw Error(n(387));s=e.pendingProps,h=(a=e.memoizedState).element,Bn(t,e),Rn(e,s,null,i);var r=e.memoizedState;if(s=r.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ar(t,e,s,i,h=lr(Error(n(423)),e));break t}if(s!==h){e=Ar(t,e,s,i,h=lr(Error(n(424)),e));break t}for(sn=oh(e.stateNode.containerInfo.firstChild),en=e,hn=!0,nn=null,i=Qn(e,null,s,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(mn(),s===h){e=qr(t,e,i);break t}Dr(t,e,s,i)}e=e.child}return e;case 5:return na(e),null===t&&ln(e),s=e.type,h=e.pendingProps,a=null!==t?t.memoizedProps:null,r=h.children,eh(s,h)?r=null:null!==a&&eh(s,a)&&(e.flags|=32),wr(t,e),Dr(t,e,r,i),e.child;case 6:return null===t&&ln(e),null;case 13:return Rr(t,e,i);case 4:return sa(e,e.stateNode.containerInfo),s=e.pendingProps,null===t?e.child=Yn(e,null,s,i):Dr(t,e,s,i),e.child;case 11:return s=e.type,h=e.pendingProps,yr(t,e,s,h=e.elementType===s?h:fn(s,h),i);case 7:return Dr(t,e,e.pendingProps,i),e.child;case 8:case 12:return Dr(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(s=e.type._context,h=e.pendingProps,a=e.memoizedProps,r=h.value,wh(In,s._currentValue),s._currentValue=r,null!==a)if(as(a.value,r)){if(a.children===h.children&&!Sh.current){e=qr(t,e,i);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){r=a.child;for(var l=o.firstContext;null!==l;){if(l.context===s){if(1===a.tag){(l=zn(-1,i&-i)).tag=2;var d=a.updateQueue;if(null!==d){var c=(d=d.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),d.pending=l}}a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),kn(a.return,i,e),o.lanes|=i;break}l=l.next}}else if(10===a.tag)r=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(r=a.return))throw Error(n(341));r.lanes|=i,null!==(o=r.alternate)&&(o.lanes|=i),kn(r,i,e),r=a.sibling}else r=a.child;if(null!==r)r.return=a;else for(r=a;null!==r;){if(r===e){r=null;break}if(null!==(a=r.sibling)){a.return=r.return,r=a;break}r=r.return}a=r}Dr(t,e,h.children,i),e=e.child}return e;case 9:return h=e.type,s=e.pendingProps.children,Cn(e,i),s=s(h=wn(h)),e.flags|=1,Dr(t,e,s,i),e.child;case 14:return h=fn(s=e.type,e.pendingProps),vr(t,e,s,h=fn(s.type,h),i);case 15:return kr(t,e,e.type,e.pendingProps,i);case 17:return s=e.type,h=e.pendingProps,h=e.elementType===s?h:fn(s,h),$r(t,e),e.tag=1,_h(s)?(t=!0,Eh(e)):t=!1,Cn(e,i),$n(e,s,h),Wn(e,s,h,i),Sr(null,e,s,!0,t,i);case 19:return Vr(t,e,i);case 22:return Cr(t,e,i)}throw Error(n(156,e.tag))};var Xl="function"===typeof reportError?reportError:function(t){console.error(t)};function Gl(t){this._internalRoot=t}function Yl(t){this._internalRoot=t}function Ql(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jl(){}function td(t,e,i,s,h){var n=i._reactRootContainer;if(n){var a=n;if("function"===typeof h){var r=h;h=function(){var t=Wl(a);r.call(t)}}ql(e,a,t,h)}else a=function(t,e,i,s,h){if(h){if("function"===typeof s){var n=s;s=function(){var t=Wl(a);n.call(t)}}var a=$l(e,s,t,0,null,!1,0,"",Jl);return t._reactRootContainer=a,t[mh]=a.current,Ms(8===t.nodeType?t.parentNode:t),cl(),a}for(;h=t.lastChild;)t.removeChild(h);if("function"===typeof s){var r=s;s=function(){var t=Wl(o);r.call(t)}}var o=Ml(t,0,!1,null,0,!1,0,"",Jl);return t._reactRootContainer=o,t[mh]=o.current,Ms(8===t.nodeType?t.parentNode:t),cl((function(){ql(e,o,i,s)})),o}(i,e,t,h,s);return Wl(a)}Yl.prototype.render=Gl.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(n(409));ql(t,e,null,null)},Yl.prototype.unmount=Gl.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cl((function(){ql(null,t,null,null)})),e[mh]=null}},Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ce();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ze.length&&0!==e&&e<ze[i].priority;i++);ze.splice(i,0,t),0===i&&Re(t)}},ye=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=ce(e.pendingLanes);0!==i&&(be(e,1|i),hl(e,Qt()),0===(6&Fo)&&($o=Qt()+500,Mh()))}break;case 13:cl((function(){var e=Fn(t,1);if(null!==e){var i=el();sl(e,t,1,i)}})),Kl(t,1)}},ve=function(t){if(13===t.tag){var e=Fn(t,134217728);if(null!==e)sl(e,t,134217728,el());Kl(t,134217728)}},ke=function(t){if(13===t.tag){var e=il(t),i=Fn(t,e);if(null!==i)sl(i,t,e,el());Kl(t,e)}},Ce=function(){return xe},we=function(t,e){var i=xe;try{return xe=t,e()}finally{xe=i}},vt=function(t,e,i){switch(e){case"input":if(Z(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var h=Dh(s);if(!h)throw Error(n(90));K(s),Z(s,h)}}}break;case"textarea":nt(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},St=dl,Ft=cl;var ed={usingClientEntryPoint:!1,Events:[bh,xh,Dh,Tt,Lt,dl]},id={findFiberByHostInstance:Ih,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sd={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{he=hd.inject(sd),ne=hd}catch(dt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(e))throw Error(n(200));return function(t,e,i){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:v,key:null==s?null:""+s,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!Ql(t))throw Error(n(299));var i=!1,s="",h=Xl;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(s=e.identifierPrefix),void 0!==e.onRecoverableError&&(h=e.onRecoverableError)),e=Ml(t,1,!1,null,0,i,0,s,h),t[mh]=e.current,Ms(8===t.nodeType?t.parentNode:t),new Gl(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(n(188));throw t=Object.keys(t).join(","),Error(n(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return cl(t)},e.hydrate=function(t,e,i){if(!Zl(e))throw Error(n(200));return td(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!Ql(t))throw Error(n(405));var s=null!=i&&i.hydratedSources||null,h=!1,a="",r=Xl;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(h=!0),void 0!==i.identifierPrefix&&(a=i.identifierPrefix),void 0!==i.onRecoverableError&&(r=i.onRecoverableError)),e=$l(e,null,t,1,null!=i?i:null,h,0,a,r),t[mh]=e.current,Ms(t),s)for(t=0;t<s.length;t++)h=(h=(i=s[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,h]:e.mutableSourceEagerHydrationData.push(i,h);return new Yl(e)},e.render=function(t,e,i){if(!Zl(e))throw Error(n(200));return td(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(n(40));return!!t._reactRootContainer&&(cl((function(){td(null,null,t,!1,(function(){t._reactRootContainer=null,t[mh]=null}))})),!0)},e.unstable_batchedUpdates=dl,e.unstable_renderSubtreeIntoContainer=function(t,e,i,s){if(!Zl(i))throw Error(n(200));if(null==t||void 0===t._reactInternals)throw Error(n(38));return td(t,e,i,!1,s)},e.version="18.2.0-next-9e3b772b8-20220608"},391:function(t,e,i){"use strict";var s=i(950);e.createRoot=s.createRoot,e.hydrateRoot=s.hydrateRoot},950:function(t,e,i){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)},136:function(t,e,i){"use strict";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!==typeof t)return{default:t};var i=p(e);if(i&&i.has(t))return i.get(t);var h={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var r=n?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(h,a,r):h[a]=t[a]}h.default=t,i&&i.set(t,h);return h}(i(43)),n=g(i(173)),a=g(i(950)),r=g(i(24)),o=i(212),l=i(777),d=i(447),c=g(i(935)),u=g(i(387)),m=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function g(t){return t&&t.__esModule?t:{default:t}}function p(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(p=function(t){return t?i:e})(t)}function f(){return f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},f.apply(this,arguments)}function I(t,e){if(null==t)return{};var i,s,h=function(t,e){if(null==t)return{};var i,s,h={},n=Object.keys(t);for(s=0;s<n.length;s++)i=n[s],e.indexOf(i)>=0||(h[i]=t[i]);return h}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)i=n[s],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(h[i]=t[i])}return h}function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){L(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var s,h,n=[],a=!0,r=!1;try{for(i=i.call(t);!(a=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);a=!0);}catch(o){r=!0,h=o}finally{try{a||null==i.return||i.return()}finally{if(r)throw h}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function v(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,h=T(t);if(e){var n=T(this).constructor;i=Reflect.construct(h,arguments,n)}else i=h.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}(this,i)}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function L(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var S=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(d,t);var e,i,s,n=C(d);function d(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),L(w(e=n.call(this,t)),"onDragStart",(function(t,i){if((0,u.default)("Draggable: onDragStart: %j",i),!1===e.props.onStart(t,(0,l.createDraggableData)(w(e),i)))return!1;e.setState({dragging:!0,dragged:!0})})),L(w(e),"onDrag",(function(t,i){if(!e.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",i);var s=(0,l.createDraggableData)(w(e),i),h={x:s.x,y:s.y};if(e.props.bounds){var n=h.x,a=h.y;h.x+=e.state.slackX,h.y+=e.state.slackY;var r=D((0,l.getBoundPosition)(w(e),h.x,h.y),2),o=r[0],d=r[1];h.x=o,h.y=d,h.slackX=e.state.slackX+(n-h.x),h.slackY=e.state.slackY+(a-h.y),s.x=h.x,s.y=h.y,s.deltaX=h.x-e.state.x,s.deltaY=h.y-e.state.y}if(!1===e.props.onDrag(t,s))return!1;e.setState(h)})),L(w(e),"onDragStop",(function(t,i){if(!e.state.dragging)return!1;if(!1===e.props.onStop(t,(0,l.createDraggableData)(w(e),i)))return!1;(0,u.default)("Draggable: onDragStop: %j",i);var s={dragging:!1,slackX:0,slackY:0};if(Boolean(e.props.position)){var h=e.props.position,n=h.x,a=h.y;s.x=n,s.y=a}e.setState(s)})),e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:x({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),e}return e=d,s=[{key:"getDerivedStateFromProps",value:function(t,e){var i=t.position,s=e.prevPropsPosition;return!i||s&&i.x===s.x&&i.y===s.y?null:((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:i,prevPropsPosition:s}),{x:i.x,y:i.y,prevPropsPosition:x({},i)})}}],(i=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var t,e,i;return null!==(t=null===(e=this.props)||void 0===e||null===(i=e.nodeRef)||void 0===i?void 0:i.current)&&void 0!==t?t:a.default.findDOMNode(this)}},{key:"render",value:function(){var t,e=this.props,i=(e.axis,e.bounds,e.children),s=e.defaultPosition,n=e.defaultClassName,a=e.defaultClassNameDragging,d=e.defaultClassNameDragged,u=e.position,g=e.positionOffset,p=(e.scale,I(e,m)),b={},D=null,y=!Boolean(u)||this.state.dragging,v=u||s,k={x:(0,l.canDragX)(this)&&y?this.state.x:v.x,y:(0,l.canDragY)(this)&&y?this.state.y:v.y};this.state.isElementSVG?D=(0,o.createSVGTransform)(k,g):b=(0,o.createCSSTransform)(k,g);var C=(0,r.default)(i.props.className||"",n,(L(t={},a,this.state.dragging),L(t,d,this.state.dragged),t));return h.createElement(c.default,f({},p,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),h.cloneElement(h.Children.only(i),{className:C,style:x(x({},i.props.style),b),transform:D}))}}])&&v(e.prototype,i),s&&v(e,s),Object.defineProperty(e,"prototype",{writable:!1}),d}(h.Component);e.default=S,L(S,"displayName","Draggable"),L(S,"propTypes",x(x({},c.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe})),L(S,"defaultProps",x(x({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},935:function(t,e,i){"use strict";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!==typeof t)return{default:t};var i=u(e);if(i&&i.has(t))return i.get(t);var h={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var r=n?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(h,a,r):h[a]=t[a]}h.default=t,i&&i.set(t,h);return h}(i(43)),n=c(i(173)),a=c(i(950)),r=i(212),o=i(777),l=i(447),d=c(i(387));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(u=function(t){return t?i:e})(t)}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var s,h,n=[],a=!0,r=!1;try{for(i=i.call(t);!(a=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);a=!0);}catch(o){r=!0,h=o}finally{try{a||null==i.return||i.return()}finally{if(r)throw h}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return g(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function p(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function I(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,h=x(t);if(e){var n=x(this).constructor;i=Reflect.construct(h,arguments,n)}else i=h.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}(this,i)}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function D(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y={start:"touchstart",move:"touchmove",stop:"touchend"},v={start:"mousedown",move:"mousemove",stop:"mouseup"},k=v,C=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(l,t);var e,i,s,n=I(l);function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return D(b(t=n.call.apply(n,[this].concat(i))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),D(b(t),"mounted",!1),D(b(t),"handleDragStart",(function(e){if(t.props.onMouseDown(e),!t.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;var i=t.findDOMNode();if(!i||!i.ownerDocument||!i.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var s=i.ownerDocument;if(!(t.props.disabled||!(e.target instanceof s.defaultView.Node)||t.props.handle&&!(0,r.matchesSelectorAndParentsTo)(e.target,t.props.handle,i)||t.props.cancel&&(0,r.matchesSelectorAndParentsTo)(e.target,t.props.cancel,i))){"touchstart"===e.type&&e.preventDefault();var h=(0,r.getTouchIdentifier)(e);t.setState({touchIdentifier:h});var n=(0,o.getControlPosition)(e,h,b(t));if(null!=n){var a=n.x,l=n.y,c=(0,o.createCoreData)(b(t),a,l);(0,d.default)("DraggableCore: handleDragStart: %j",c),(0,d.default)("calling",t.props.onStart),!1!==t.props.onStart(e,c)&&!1!==t.mounted&&(t.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(s),t.setState({dragging:!0,lastX:a,lastY:l}),(0,r.addEvent)(s,k.move,t.handleDrag),(0,r.addEvent)(s,k.stop,t.handleDragStop))}}})),D(b(t),"handleDrag",(function(e){var i=(0,o.getControlPosition)(e,t.state.touchIdentifier,b(t));if(null!=i){var s=i.x,h=i.y;if(Array.isArray(t.props.grid)){var n=s-t.state.lastX,a=h-t.state.lastY,r=m((0,o.snapToGrid)(t.props.grid,n,a),2);if(n=r[0],a=r[1],!n&&!a)return;s=t.state.lastX+n,h=t.state.lastY+a}var l=(0,o.createCoreData)(b(t),s,h);if((0,d.default)("DraggableCore: handleDrag: %j",l),!1!==t.props.onDrag(e,l)&&!1!==t.mounted)t.setState({lastX:s,lastY:h});else try{t.handleDragStop(new MouseEvent("mouseup"))}catch(u){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(c)}}})),D(b(t),"handleDragStop",(function(e){if(t.state.dragging){var i=(0,o.getControlPosition)(e,t.state.touchIdentifier,b(t));if(null!=i){var s=i.x,h=i.y;if(Array.isArray(t.props.grid)){var n=s-t.state.lastX||0,a=h-t.state.lastY||0,l=m((0,o.snapToGrid)(t.props.grid,n,a),2);n=l[0],a=l[1],s=t.state.lastX+n,h=t.state.lastY+a}var c=(0,o.createCoreData)(b(t),s,h);if(!1===t.props.onStop(e,c)||!1===t.mounted)return!1;var u=t.findDOMNode();u&&t.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(u.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",c),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),u&&((0,d.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(u.ownerDocument,k.move,t.handleDrag),(0,r.removeEvent)(u.ownerDocument,k.stop,t.handleDragStop))}}})),D(b(t),"onMouseDown",(function(e){return k=v,t.handleDragStart(e)})),D(b(t),"onMouseUp",(function(e){return k=v,t.handleDragStop(e)})),D(b(t),"onTouchStart",(function(e){return k=y,t.handleDragStart(e)})),D(b(t),"onTouchEnd",(function(e){return k=y,t.handleDragStop(e)})),t}return e=l,(i=[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,r.addEvent)(t,y.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.findDOMNode();if(t){var e=t.ownerDocument;(0,r.removeEvent)(e,v.move,this.handleDrag),(0,r.removeEvent)(e,y.move,this.handleDrag),(0,r.removeEvent)(e,v.stop,this.handleDragStop),(0,r.removeEvent)(e,y.stop,this.handleDragStop),(0,r.removeEvent)(t,y.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(e)}}},{key:"findDOMNode",value:function(){var t,e,i;return null!==(t=this.props)&&void 0!==t&&t.nodeRef?null===(e=this.props)||void 0===e||null===(i=e.nodeRef)||void 0===i?void 0:i.current:a.default.findDOMNode(this)}},{key:"render",value:function(){return h.cloneElement(h.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&p(e.prototype,i),s&&p(e,s),Object.defineProperty(e,"prototype",{writable:!1}),l}(h.Component);e.default=C,D(C,"displayName","DraggableCore"),D(C,"propTypes",{allowAnyClick:n.default.bool,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),D(C,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},929:function(t,e,i){"use strict";var s=i(136),h=s.default,n=s.DraggableCore;t.exports=h,t.exports.default=h,t.exports.DraggableCore=n},212:function(t,e,i){"use strict";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.addClassName=m,e.addEvent=function(t,e,i,s){if(!t)return;var h=o({capture:!0},s);t.addEventListener?t.addEventListener(e,i,h):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},e.addUserSelectStyles=function(t){if(!t)return;var e=t.getElementById("react-draggable-style-el");e||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(e));t.body&&m(t.body,"react-draggable-transparent-selection")},e.createCSSTransform=function(t,e){var i=u(t,e,"px");return l({},(0,n.browserPrefixToKey)("transform",n.default),i)},e.createSVGTransform=function(t,e){return u(t,e,"")},e.getTouch=function(t,e){return t.targetTouches&&(0,h.findInArray)(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&(0,h.findInArray)(t.changedTouches,(function(t){return e===t.identifier}))},e.getTouchIdentifier=function(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier},e.getTranslation=u,e.innerHeight=function(t){var e=t.clientHeight,i=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,h.int)(i.paddingTop),e-=(0,h.int)(i.paddingBottom)},e.innerWidth=function(t){var e=t.clientWidth,i=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,h.int)(i.paddingLeft),e-=(0,h.int)(i.paddingRight)},e.matchesSelector=c,e.matchesSelectorAndParentsTo=function(t,e,i){var s=t;do{if(c(s,e))return!0;if(s===i)return!1;s=s.parentNode}while(s);return!1},e.offsetXYFromParent=function(t,e,i){var s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),h=(t.clientX+e.scrollLeft-s.left)/i,n=(t.clientY+e.scrollTop-s.top)/i;return{x:h,y:n}},e.outerHeight=function(t){var e=t.clientHeight,i=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,h.int)(i.borderTopWidth),e+=(0,h.int)(i.borderBottomWidth)},e.outerWidth=function(t){var e=t.clientWidth,i=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,h.int)(i.borderLeftWidth),e+=(0,h.int)(i.borderRightWidth)},e.removeClassName=g,e.removeEvent=function(t,e,i,s){if(!t)return;var h=o({capture:!0},s);t.removeEventListener?t.removeEventListener(e,i,h):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null},e.removeUserSelectStyles=function(t){if(!t)return;try{if(t.body&&g(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&"Caret"!==e.type&&e.removeAllRanges()}}catch(i){}};var h=i(447),n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!==typeof t)return{default:t};var i=a(e);if(i&&i.has(t))return i.get(t);var h={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=n?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(h,r,o):h[r]=t[r]}h.default=t,i&&i.set(t,h);return h}(i(561));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(a=function(t){return t?i:e})(t)}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d="";function c(t,e){return d||(d=(0,h.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,h.isFunction)(t[e])}))),!!(0,h.isFunction)(t[d])&&t[d](e)}function u(t,e,i){var s=t.x,h=t.y,n="translate(".concat(s).concat(i,",").concat(h).concat(i,")");if(e){var a="".concat("string"===typeof e.x?e.x:e.x+i),r="".concat("string"===typeof e.y?e.y:e.y+i);n="translate(".concat(a,", ").concat(r,")")+n}return n}function m(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function g(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}},561:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.browserPrefixToKey=h,e.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},e.default=void 0,e.getPrefix=s;var i=["Moz","Webkit","O","ms"];function s(){var t,e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var n=null===(t=window.document)||void 0===t||null===(e=t.documentElement)||void 0===e?void 0:e.style;if(!n)return"";if(s in n)return"";for(var a=0;a<i.length;a++)if(h(s,i[a])in n)return i[a];return""}function h(t,e){return e?"".concat(e).concat(function(t){for(var e="",i=!0,s=0;s<t.length;s++)i?(e+=t[s].toUpperCase(),i=!1):"-"===t[s]?i=!0:e+=t[s];return e}(t)):t}var n=s();e.default=n},387:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){0}},777:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},e.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},e.createCoreData=function(t,e,i){var h=t.state,a=!(0,s.isNum)(h.lastX),r=n(t);return a?{node:r,deltaX:0,deltaY:0,lastX:e,lastY:i,x:e,y:i}:{node:r,deltaX:e-h.lastX,deltaY:i-h.lastY,lastX:h.lastX,lastY:h.lastY,x:e,y:i}},e.createDraggableData=function(t,e){var i=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/i,y:t.state.y+e.deltaY/i,deltaX:e.deltaX/i,deltaY:e.deltaY/i,lastX:t.state.x,lastY:t.state.y}},e.getBoundPosition=function(t,e,i){if(!t.props.bounds)return[e,i];var a=t.props.bounds;a="string"===typeof a?a:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(a);var r=n(t);if("string"===typeof a){var o,l=r.ownerDocument,d=l.defaultView;if(!((o="parent"===a?r.parentNode:l.querySelector(a))instanceof d.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var c=o,u=d.getComputedStyle(r),m=d.getComputedStyle(c);a={left:-r.offsetLeft+(0,s.int)(m.paddingLeft)+(0,s.int)(u.marginLeft),top:-r.offsetTop+(0,s.int)(m.paddingTop)+(0,s.int)(u.marginTop),right:(0,h.innerWidth)(c)-(0,h.outerWidth)(r)-r.offsetLeft+(0,s.int)(m.paddingRight)-(0,s.int)(u.marginRight),bottom:(0,h.innerHeight)(c)-(0,h.outerHeight)(r)-r.offsetTop+(0,s.int)(m.paddingBottom)-(0,s.int)(u.marginBottom)}}(0,s.isNum)(a.right)&&(e=Math.min(e,a.right));(0,s.isNum)(a.bottom)&&(i=Math.min(i,a.bottom));(0,s.isNum)(a.left)&&(e=Math.max(e,a.left));(0,s.isNum)(a.top)&&(i=Math.max(i,a.top));return[e,i]},e.getControlPosition=function(t,e,i){var s="number"===typeof e?(0,h.getTouch)(t,e):null;if("number"===typeof e&&!s)return null;var a=n(i),r=i.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,h.offsetXYFromParent)(s||t,r,i.props.scale)},e.snapToGrid=function(t,e,i){var s=Math.round(e/t[0])*t[0],h=Math.round(i/t[1])*t[1];return[s,h]};var s=i(447),h=i(212);function n(t){var e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}},447:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dontSetMe=function(t,e,i){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(i," - do not set this, set it on the child."))},e.findInArray=function(t,e){for(var i=0,s=t.length;i<s;i++)if(e.apply(e,[t[i],i,t]))return t[i]},e.int=function(t){return parseInt(t,10)},e.isFunction=function(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)},e.isNum=function(t){return"number"===typeof t&&!isNaN(t)}},380:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t||"";e&&(n=t.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(t,e,s){return e>0&&e+t.length!==s.length&&t.search(i)>-1&&":"!==s.charAt(e-2)&&("-"!==s.charAt(e+t.length)||"-"===s.charAt(e-1))&&s.charAt(e-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})));h&&(n=function(t){if(function(t){return"string"===typeof t&&-1!==t.indexOf("@")}(t))return console.warn("This arg looks like an email address, redacting."),s;return t}(n));return n};var i=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;var s="REDACTED (Potential Email Address)"},979:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var s=o(i(148)),h=o(i(380)),n=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],r=["page","hitType"];function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(null==t)return{};var i,s,h=function(t,e){if(null==t)return{};var i,s,h={},n=Object.keys(t);for(s=0;s<n.length;s++)i=n[s],e.indexOf(i)>=0||(h[i]=t[i]);return h}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)i=n[s],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(h[i]=t[i])}return h}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function c(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){b(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,h,n,a,r=[],o=!0,l=!1;try{if(n=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;o=!1}else for(;!(o=(s=n.call(i)).done)&&(r.push(s.value),r.length!==e);o=!0);}catch(d){l=!0,h=d}finally{try{if(!o&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw h}}return r}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"===typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function I(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,x(s.key),s)}}function b(t,e,i){return(e=x(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function x(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!==d(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}var D=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"reset",(function(){e.isInitialized=!1,e._testMode=!1,e._currentMeasurementId,e._hasLoadedGA=!1,e._isQueuing=!1,e._queueGtag=[]})),b(this,"_gtag",(function(){for(var t=arguments.length,i=new Array(t),h=0;h<t;h++)i[h]=arguments[h];e._testMode||e._isQueuing?e._queueGtag.push(i):s.default.apply(void 0,i)})),b(this,"_loadGA",(function(t,i){if("undefined"!==typeof window&&"undefined"!==typeof document&&!e._hasLoadedGA){var s=document.createElement("script");s.async=!0,s.src="https://www.googletagmanager.com/gtag/js?id=".concat(t),i&&s.setAttribute("nonce",i),document.body.appendChild(s),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},e._hasLoadedGA=!0}})),b(this,"_toGtagOptions",(function(t){if(t){var e={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(t).reduce((function(t,i){var s=g(i,2),h=s[0],n=s[1];return e[h]?t[e[h]]=n:t[h]=n,t}),{})}})),b(this,"initialize",(function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Require GA_MEASUREMENT_ID");var s="string"===typeof t?[{trackingId:t}]:t;e._currentMeasurementId=s[0].trackingId;var h=i.gaOptions,n=i.gtagOptions,a=i.nonce,r=i.testMode,o=void 0!==r&&r;if(e._testMode=o,o||e._loadGA(e._currentMeasurementId,a),e.isInitialized||(e._gtag("js",new Date),s.forEach((function(t){var i=m(m(m({},e._toGtagOptions(m(m({},h),t.gaOptions))),n),t.gtagOptions);Object.keys(i).length?e._gtag("config",t.trackingId,i):e._gtag("config",t.trackingId)}))),e.isInitialized=!0,!o){var l=c(e._queueGtag);for(e._queueGtag=[],e._isQueuing=!1;l.length;){var d=l.shift();e._gtag.apply(e,c(d)),"get"===d[0]&&(e._isQueuing=!0)}}})),b(this,"set",(function(t){t?"object"===d(t)?(0===Object.keys(t).length&&console.warn("empty `fieldsObject` given to .set()"),e._gaCommand("set",t)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")})),b(this,"_gaCommandSendEvent",(function(t,i,s,h,n){e._gtag("event",i,m(m({event_category:t,event_label:s,value:h},n&&{non_interaction:n.nonInteraction}),e._toGtagOptions(n)))})),b(this,"_gaCommandSendEventParameters",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];if("string"===typeof i[0])e._gaCommandSendEvent.apply(e,c(i.slice(1)));else{var h=i[0],a=h.eventCategory,r=h.eventAction,o=h.eventLabel,d=h.eventValue,u=(h.hitType,l(h,n));e._gaCommandSendEvent(a,r,o,d,u)}})),b(this,"_gaCommandSendTiming",(function(t,i,s,h){e._gtag("event","timing_complete",{name:i,value:s,event_category:t,event_label:h})})),b(this,"_gaCommandSendPageview",(function(t,i){if(i&&Object.keys(i).length){var s=e._toGtagOptions(i),h=s.title,n=s.location,r=l(s,a);e._gtag("event","page_view",m(m(m(m({},t&&{page_path:t}),h&&{page_title:h}),n&&{page_location:n}),r))}else t?e._gtag("event","page_view",{page_path:t}):e._gtag("event","page_view")})),b(this,"_gaCommandSendPageviewParameters",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];if("string"===typeof i[0])e._gaCommandSendPageview.apply(e,c(i.slice(1)));else{var h=i[0],n=h.page,a=(h.hitType,l(h,r));e._gaCommandSendPageview(n,a)}})),b(this,"_gaCommandSend",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];var h="string"===typeof i[0]?i[0]:i[0].hitType;switch(h){case"event":e._gaCommandSendEventParameters.apply(e,i);break;case"pageview":e._gaCommandSendPageviewParameters.apply(e,i);break;case"timing":e._gaCommandSendTiming.apply(e,c(i.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(h));break;default:console.warn("Send command doesn't exist: ".concat(h))}})),b(this,"_gaCommandSet",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];"string"===typeof i[0]&&(i[0]=b({},i[0],i[1])),e._gtag("set",e._toGtagOptions(i[0]))})),b(this,"_gaCommand",(function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),h=1;h<i;h++)s[h-1]=arguments[h];switch(t){case"send":e._gaCommandSend.apply(e,s);break;case"set":e._gaCommandSet.apply(e,s);break;default:console.warn("Command doesn't exist: ".concat(t))}})),b(this,"ga",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];if("string"===typeof i[0])e._gaCommand.apply(e,i);else{var h=i[0];e._gtag("get",e._currentMeasurementId,"client_id",(function(t){e._isQueuing=!1;var i=e._queueGtag;for(h({get:function(i){return"clientId"===i?t:"trackingId"===i?e._currentMeasurementId:"apiVersion"===i?"1":void 0}});i.length;){var s=i.shift();e._gtag.apply(e,c(s))}})),e._isQueuing=!0}return e.ga})),b(this,"event",(function(t,i){if("string"===typeof t)e._gtag("event",t,e._toGtagOptions(i));else{var s=t.action,n=t.category,a=t.label,r=t.value,o=t.nonInteraction,l=t.transport;if(!n||!s)return void console.warn("args.category AND args.action are required in event()");var d={hitType:"event",eventCategory:(0,h.default)(n),eventAction:(0,h.default)(s)};a&&(d.eventLabel=(0,h.default)(a)),"undefined"!==typeof r&&("number"!==typeof r?console.warn("Expected `args.value` arg to be a Number."):d.eventValue=r),"undefined"!==typeof o&&("boolean"!==typeof o?console.warn("`args.nonInteraction` must be a boolean."):d.nonInteraction=o),"undefined"!==typeof l&&("string"!==typeof l?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(l)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),d.transport=l)),e._gaCommand("send",d)}})),b(this,"send",(function(t){e._gaCommand("send",t)})),this.reset()}var e,i,o;return e=t,i=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],i&&I(e.prototype,i),o&&I(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.GA4=D;var y=new D;e.default=y},148:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var s;"undefined"!==typeof window&&("undefined"===typeof window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(s=window).gtag.apply(s,e))};e.default=i},279:function(t,e,i){"use strict";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}e.Ay=void 0;var h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!==typeof t)return{default:t};var i=n(e);if(i&&i.has(t))return i.get(t);var h={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(h,r,o):h[r]=t[r]}h.default=t,i&&i.set(t,h);return h}(i(979));function n(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(n=function(t){return t?i:e})(t)}h.GA4;var a=h.default;e.Ay=a},153:function(t,e,i){"use strict";var s=i(43),h=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,i){var s,n={},l=null,d=null;for(s in void 0!==i&&(l=""+i),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(d=e.ref),e)a.call(e,s)&&!o.hasOwnProperty(s)&&(n[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps)void 0===n[s]&&(n[s]=e[s]);return{$$typeof:h,type:t,key:l,ref:d,props:n,_owner:r.current}}e.Fragment=n,e.jsx=l,e.jsxs=l},202:function(t,e){"use strict";var i=Symbol.for("react.element"),s=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,f={};function I(t,e,i){this.props=t,this.context=e,this.refs=f,this.updater=i||g}function b(){}function x(t,e,i){this.props=t,this.context=e,this.refs=f,this.updater=i||g}I.prototype.isReactComponent={},I.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},I.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=I.prototype;var D=x.prototype=new b;D.constructor=x,p(D,I.prototype),D.isPureReactComponent=!0;var y=Array.isArray,v=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function w(t,e,s){var h,n={},a=null,r=null;if(null!=e)for(h in void 0!==e.ref&&(r=e.ref),void 0!==e.key&&(a=""+e.key),e)v.call(e,h)&&!C.hasOwnProperty(h)&&(n[h]=e[h]);var o=arguments.length-2;if(1===o)n.children=s;else if(1<o){for(var l=Array(o),d=0;d<o;d++)l[d]=arguments[d+2];n.children=l}if(t&&t.defaultProps)for(h in o=t.defaultProps)void 0===n[h]&&(n[h]=o[h]);return{$$typeof:i,type:t,key:a,ref:r,props:n,_owner:k.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var L=/\/+/g;function S(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function F(t,e,h,n,a){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var o=!1;if(null===t)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case i:case s:o=!0}}if(o)return a=a(o=t),t=""===n?"."+S(o,0):n,y(a)?(h="",null!=t&&(h=t.replace(L,"$&/")+"/"),F(a,e,h,"",(function(t){return t}))):null!=a&&(T(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,h+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(L,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=""===n?".":n+":",y(t))for(var l=0;l<t.length;l++){var d=n+S(r=t[l],l);o+=F(r,e,h,d,a)}else if(d=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=m&&t[m]||t["@@iterator"])?t:null}(t),"function"===typeof d)for(t=d.call(t),l=0;!(r=t.next()).done;)o+=F(r=r.value,e,h,d=n+S(r,l++),a);else if("object"===r)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function A(t,e,i){if(null==t)return t;var s=[],h=0;return F(t,s,"","",(function(t){return e.call(i,t,h++)})),s}function _(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var B={current:null},z={transition:null},P={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:z,ReactCurrentOwner:k};e.Children={map:A,forEach:function(t,e,i){A(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=I,e.Fragment=h,e.Profiler=a,e.PureComponent=x,e.StrictMode=n,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,s){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var h=p({},t.props),n=t.key,a=t.ref,r=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,r=k.current),void 0!==e.key&&(n=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)v.call(e,l)&&!C.hasOwnProperty(l)&&(h[l]=void 0===e[l]&&void 0!==o?o[l]:e[l])}var l=arguments.length-2;if(1===l)h.children=s;else if(1<l){o=Array(l);for(var d=0;d<l;d++)o[d]=arguments[d+2];h.children=o}return{$$typeof:i,type:t.type,key:n,ref:a,props:h,_owner:r}},e.createContext=function(t){return(t={$$typeof:o,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:r,_context:t},t.Consumer=t},e.createElement=w,e.createFactory=function(t){var e=w.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:_}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=z.transition;z.transition={};try{t()}finally{z.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return B.current.useCallback(t,e)},e.useContext=function(t){return B.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return B.current.useDeferredValue(t)},e.useEffect=function(t,e){return B.current.useEffect(t,e)},e.useId=function(){return B.current.useId()},e.useImperativeHandle=function(t,e,i){return B.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return B.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return B.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return B.current.useMemo(t,e)},e.useReducer=function(t,e,i){return B.current.useReducer(t,e,i)},e.useRef=function(t){return B.current.useRef(t)},e.useState=function(t){return B.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return B.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return B.current.useTransition()},e.version="18.2.0"},43:function(t,e,i){"use strict";t.exports=i(202)},579:function(t,e,i){"use strict";t.exports=i(153)},234:function(t,e){"use strict";function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var s=i-1>>>1,h=t[s];if(!(0<n(h,e)))break t;t[s]=e,t[i]=h,i=s}}function s(t){return 0===t.length?null:t[0]}function h(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var s=0,h=t.length,a=h>>>1;s<a;){var r=2*(s+1)-1,o=t[r],l=r+1,d=t[l];if(0>n(o,i))l<h&&0>n(d,o)?(t[s]=d,t[l]=i,s=l):(t[s]=o,t[r]=i,s=r);else{if(!(l<h&&0>n(d,i)))break t;t[s]=d,t[l]=i,s=l}}}return e}function n(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();e.unstable_now=function(){return r.now()-o}}var l=[],d=[],c=1,u=null,m=3,g=!1,p=!1,f=!1,I="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function D(t){for(var e=s(d);null!==e;){if(null===e.callback)h(d);else{if(!(e.startTime<=t))break;h(d),e.sortIndex=e.expirationTime,i(l,e)}e=s(d)}}function y(t){if(f=!1,D(t),!p)if(null!==s(l))p=!0,z(v);else{var e=s(d);null!==e&&P(y,e.startTime-t)}}function v(t,i){p=!1,f&&(f=!1,b(T),T=-1),g=!0;var n=m;try{for(D(i),u=s(l);null!==u&&(!(u.expirationTime>i)||t&&!F());){var a=u.callback;if("function"===typeof a){u.callback=null,m=u.priorityLevel;var r=a(u.expirationTime<=i);i=e.unstable_now(),"function"===typeof r?u.callback=r:u===s(l)&&h(l),D(i)}else h(l);u=s(l)}if(null!==u)var o=!0;else{var c=s(d);null!==c&&P(y,c.startTime-i),o=!1}return o}finally{u=null,m=n,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,w=null,T=-1,L=5,S=-1;function F(){return!(e.unstable_now()-S<L)}function A(){if(null!==w){var t=e.unstable_now();S=t;var i=!0;try{i=w(!0,t)}finally{i?k():(C=!1,w=null)}}else C=!1}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,B=_.port2;_.port1.onmessage=A,k=function(){B.postMessage(null)}}else k=function(){I(A,0)};function z(t){w=t,C||(C=!0,k())}function P(t,i){T=I((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,z(v))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(l)},e.unstable_next=function(t){switch(m){case 1:case 2:case 3:var e=3;break;default:e=m}var i=m;m=e;try{return t()}finally{m=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=m;m=t;try{return e()}finally{m=i}},e.unstable_scheduleCallback=function(t,h,n){var a=e.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?a+n:a:n=a,t){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return t={id:c++,callback:h,priorityLevel:t,startTime:n,expirationTime:r=n+r,sortIndex:-1},n>a?(t.sortIndex=n,i(d,t),null===s(l)&&t===s(d)&&(f?(b(T),T=-1):f=!0,P(y,n-a))):(t.sortIndex=r,i(l,t),p||g||(p=!0,z(v))),t},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(t){var e=m;return function(){var i=m;m=e;try{return t.apply(this,arguments)}finally{m=i}}}},853:function(t,e,i){"use strict";t.exports=i(234)}},e={};function i(s){var h=e[s];if(void 0!==h)return h.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(s,h){if(1&h&&(s=this(s)),8&h)return s;if("object"===typeof s&&s){if(4&h&&s.__esModule)return s;if(16&h&&"function"===typeof s.then)return s}var n=Object.create(null);i.r(n);var a={};t=t||[null,e({}),e([]),e(e)];for(var r=2&h&&s;"object"==typeof r&&!~t.indexOf(r);r=e(r))Object.getOwnPropertyNames(r).forEach((function(t){a[t]=function(){return s[t]}}));return a.default=function(){return s},i.d(n,a),n}}(),i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="/",function(){"use strict";var t,e=i(43),s=i.t(e,2),h=i(950),n=i.t(h,2);function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},a.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));const r="popstate";function o(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function l(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(i){}}}function d(t,e){return{usr:t.state,key:t.key,idx:e}}function c(t,e,i,s){return void 0===i&&(i=null),a({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?m(e):e,{state:i,key:e&&e.key||s||Math.random().toString(36).substr(2,8)})}function u(t){let{pathname:e="/",search:i="",hash:s=""}=t;return i&&"?"!==i&&(e+="?"===i.charAt(0)?i:"?"+i),s&&"#"!==s&&(e+="#"===s.charAt(0)?s:"#"+s),e}function m(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function g(e,i,s,h){void 0===h&&(h={});let{window:n=document.defaultView,v5Compat:l=!1}=h,m=n.history,g=t.Pop,p=null,f=I();function I(){return(m.state||{idx:null}).idx}function b(){g=t.Pop;let e=I(),i=null==e?null:e-f;f=e,p&&p({action:g,location:D.location,delta:i})}function x(t){let e="null"!==n.location.origin?n.location.origin:n.location.href,i="string"===typeof t?t:u(t);return i=i.replace(/ $/,"%20"),o(e,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,e)}null==f&&(f=0,m.replaceState(a({},m.state,{idx:f}),""));let D={get action(){return g},get location(){return e(n,m)},listen(t){if(p)throw new Error("A history only accepts one active listener");return n.addEventListener(r,b),p=t,()=>{n.removeEventListener(r,b),p=null}},createHref(t){return i(n,t)},createURL:x,encodeLocation(t){let e=x(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,i){g=t.Push;let h=c(D.location,e,i);s&&s(h,e),f=I()+1;let a=d(h,f),r=D.createHref(h);try{m.pushState(a,"",r)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;n.location.assign(r)}l&&p&&p({action:g,location:D.location,delta:1})},replace:function(e,i){g=t.Replace;let h=c(D.location,e,i);s&&s(h,e),f=I();let n=d(h,f),a=D.createHref(h);m.replaceState(n,"",a),l&&p&&p({action:g,location:D.location,delta:0})},go(t){return m.go(t)}};return D}var p;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function f(t,e,i){return void 0===i&&(i="/"),I(t,e,i,!1)}function I(t,e,i,s){let h=_(("string"===typeof e?m(e):e).pathname||"/",i);if(null==h)return null;let n=b(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let i=t.length===e.length&&t.slice(0,-1).every(((t,i)=>t===e[i]));return i?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(n);let a=null;for(let r=0;null==a&&r<n.length;++r){let t=A(h);a=S(n[r],t,s)}return a}function b(t,e,i,s){void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===s&&(s="");let h=(t,h,n)=>{let a={relativePath:void 0===n?t.path||"":n,caseSensitive:!0===t.caseSensitive,childrenIndex:h,route:t};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(s),'Absolute route path "'+a.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(s.length));let r=O([s,a.relativePath]),l=i.concat(a);t.children&&t.children.length>0&&(o(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+r+'".'),b(t.children,e,l,r)),(null!=t.path||t.index)&&e.push({path:r,score:L(r,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var i;if(""!==t.path&&null!=(i=t.path)&&i.includes("?"))for(let s of x(t.path))h(t,e,s);else h(t,e)})),e}function x(t){let e=t.split("/");if(0===e.length)return[];let[i,...s]=e,h=i.endsWith("?"),n=i.replace(/\?$/,"");if(0===s.length)return h?[n,""]:[n];let a=x(s.join("/")),r=[];return r.push(...a.map((t=>""===t?n:[n,t].join("/")))),h&&r.push(...a),r.map((e=>t.startsWith("/")&&""===e?"/":e))}const D=/^:[\w-]+$/,y=3,v=2,k=1,C=10,w=-2,T=t=>"*"===t;function L(t,e){let i=t.split("/"),s=i.length;return i.some(T)&&(s+=w),e&&(s+=v),i.filter((t=>!T(t))).reduce(((t,e)=>t+(D.test(e)?y:""===e?k:C)),s)}function S(t,e,i){void 0===i&&(i=!1);let{routesMeta:s}=t,h={},n="/",a=[];for(let r=0;r<s.length;++r){let t=s[r],o=r===s.length-1,l="/"===n?e:e.slice(n.length)||"/",d=F({path:t.relativePath,caseSensitive:t.caseSensitive,end:o},l),c=t.route;if(!d&&o&&i&&!s[s.length-1].route.index&&(d=F({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},l)),!d)return null;Object.assign(h,d.params),a.push({params:h,pathname:O([n,d.pathname]),pathnameBase:R(O([n,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(n=O([n,d.pathnameBase]))}return a}function F(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[i,s]=function(t,e,i){void 0===e&&(e=!1);void 0===i&&(i=!0);l("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let s=[],h="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,i)=>(s.push({paramName:e,isOptional:null!=i}),i?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(s.push({paramName:"*"}),h+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?h+="\\/*$":""!==t&&"/"!==t&&(h+="(?:(?=\\/|$))");let n=new RegExp(h,e?void 0:"i");return[n,s]}(t.path,t.caseSensitive,t.end),h=e.match(i);if(!h)return null;let n=h[0],a=n.replace(/(.)\/+$/,"$1"),r=h.slice(1);return{params:s.reduce(((t,e,i)=>{let{paramName:s,isOptional:h}=e;if("*"===s){let t=r[i]||"";a=n.slice(0,n.length-t.length).replace(/(.)\/+$/,"$1")}const o=r[i];return t[s]=h&&!o?void 0:(o||"").replace(/%2F/g,"/"),t}),{}),pathname:n,pathnameBase:a,pattern:t}}function A(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return l(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function _(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=t.charAt(i);return s&&"/"!==s?null:t.slice(i)||"/"}function B(t,e,i,s){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function P(t,e){let i=z(t);return e?i.map(((t,e)=>e===i.length-1?t.pathname:t.pathnameBase)):i.map((t=>t.pathnameBase))}function E(t,e,i,s){let h;void 0===s&&(s=!1),"string"===typeof t?h=m(t):(h=a({},t),o(!h.pathname||!h.pathname.includes("?"),B("?","pathname","search",h)),o(!h.pathname||!h.pathname.includes("#"),B("#","pathname","hash",h)),o(!h.search||!h.search.includes("#"),B("#","search","hash",h)));let n,r=""===t||""===h.pathname,l=r?"/":h.pathname;if(null==l)n=i;else{let t=e.length-1;if(!s&&l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;h.pathname=e.join("/")}n=t>=0?e[t]:"/"}let d=function(t,e){void 0===e&&(e="/");let{pathname:i,search:s="",hash:h=""}="string"===typeof t?m(t):t,n=i?i.startsWith("/")?i:function(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?i.length>1&&i.pop():"."!==t&&i.push(t)})),i.length>1?i.join("/"):"/"}(i,e):e;return{pathname:n,search:j(s),hash:N(h)}}(h,n),c=l&&"/"!==l&&l.endsWith("/"),u=(r||"."===l)&&i.endsWith("/");return d.pathname.endsWith("/")||!c&&!u||(d.pathname+="/"),d}const O=t=>t.join("/").replace(/\/\/+/g,"/"),R=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",N=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function H(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const M=["post","put","patch","delete"],V=(new Set(M),["get",...M]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},$.apply(this,arguments)}const q=e.createContext(null);const W=e.createContext(null);const U=e.createContext(null);const K=e.createContext(null);const X=e.createContext({outlet:null,matches:[],isDataRoute:!1});const G=e.createContext(null);function Y(){return null!=e.useContext(K)}function Q(){return Y()||o(!1),e.useContext(K).location}function Z(t){e.useContext(U).static||e.useLayoutEffect(t)}function J(){let{isDataRoute:t}=e.useContext(X);return t?function(){let{router:t}=lt(rt.UseNavigateStable),i=ct(ot.UseNavigateStable),s=e.useRef(!1);return Z((()=>{s.current=!0})),e.useCallback((function(e,h){void 0===h&&(h={}),s.current&&("number"===typeof e?t.navigate(e):t.navigate(e,$({fromRouteId:i},h)))}),[t,i])}():function(){Y()||o(!1);let t=e.useContext(q),{basename:i,future:s,navigator:h}=e.useContext(U),{matches:n}=e.useContext(X),{pathname:a}=Q(),r=JSON.stringify(P(n,s.v7_relativeSplatPath)),l=e.useRef(!1);return Z((()=>{l.current=!0})),e.useCallback((function(e,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof e)return void h.go(e);let n=E(e,JSON.parse(r),a,"path"===s.relative);null==t&&"/"!==i&&(n.pathname="/"===n.pathname?i:O([i,n.pathname])),(s.replace?h.replace:h.push)(n,s.state,s)}),[i,h,r,a,t])}()}function tt(t,i){let{relative:s}=void 0===i?{}:i,{future:h}=e.useContext(U),{matches:n}=e.useContext(X),{pathname:a}=Q(),r=JSON.stringify(P(n,h.v7_relativeSplatPath));return e.useMemo((()=>E(t,JSON.parse(r),a,"path"===s)),[t,r,a,s])}function et(i,s,h,n){Y()||o(!1);let{navigator:a}=e.useContext(U),{matches:r}=e.useContext(X),l=r[r.length-1],d=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,g=Q();if(s){var p;let t="string"===typeof s?m(s):s;"/"===c||(null==(p=t.pathname)?void 0:p.startsWith(c))||o(!1),u=t}else u=g;let I=u.pathname||"/",b=I;if("/"!==c){let t=c.replace(/^\//,"").split("/");b="/"+I.replace(/^\//,"").split("/").slice(t.length).join("/")}let x=f(i,{pathname:b});let D=at(x&&x.map((t=>Object.assign({},t,{params:Object.assign({},d,t.params),pathname:O([c,a.encodeLocation?a.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?c:O([c,a.encodeLocation?a.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),r,h,n);return s&&D?e.createElement(K.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:t.Pop}},D):D}function it(){let t=function(){var t;let i=e.useContext(G),s=dt(ot.UseRouteError),h=ct(ot.UseRouteError);if(void 0!==i)return i;return null==(t=s.errors)?void 0:t[h]}(),i=H(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,h="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:h};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},i),s?e.createElement("pre",{style:n},s):null,null)}const st=e.createElement(it,null);class ht extends e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?e.createElement(X.Provider,{value:this.props.routeContext},e.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nt(t){let{routeContext:i,match:s,children:h}=t,n=e.useContext(q);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),e.createElement(X.Provider,{value:i},h)}function at(t,i,s,h){var n;if(void 0===i&&(i=[]),void 0===s&&(s=null),void 0===h&&(h=null),null==t){var a;if(!s)return null;if(s.errors)t=s.matches;else{if(!(null!=(a=h)&&a.v7_partialHydration&&0===i.length&&!s.initialized&&s.matches.length>0))return null;t=s.matches}}let r=t,l=null==(n=s)?void 0:n.errors;if(null!=l){let t=r.findIndex((t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id])));t>=0||o(!1),r=r.slice(0,Math.min(r.length,t+1))}let d=!1,c=-1;if(s&&h&&h.v7_partialHydration)for(let e=0;e<r.length;e++){let t=r[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:i}=s,h=t.route.loader&&void 0===e[t.route.id]&&(!i||void 0===i[t.route.id]);if(t.route.lazy||h){d=!0,r=c>=0?r.slice(0,c+1):[r[0]];break}}}return r.reduceRight(((t,h,n)=>{let a,o=!1,u=null,m=null;var g;s&&(a=l&&h.route.id?l[h.route.id]:void 0,u=h.route.errorElement||st,d&&(c<0&&0===n?(g="route-fallback",!1||ut[g]||(ut[g]=!0),o=!0,m=null):c===n&&(o=!0,m=h.route.hydrateFallbackElement||null)));let p=i.concat(r.slice(0,n+1)),f=()=>{let i;return i=a?u:o?m:h.route.Component?e.createElement(h.route.Component,null):h.route.element?h.route.element:t,e.createElement(nt,{match:h,routeContext:{outlet:t,matches:p,isDataRoute:null!=s},children:i})};return s&&(h.route.ErrorBoundary||h.route.errorElement||0===n)?e.createElement(ht,{location:s.location,revalidation:s.revalidation,component:u,error:a,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()}),null)}var rt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rt||{}),ot=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ot||{});function lt(t){let i=e.useContext(q);return i||o(!1),i}function dt(t){let i=e.useContext(W);return i||o(!1),i}function ct(t){let i=function(){let t=e.useContext(X);return t||o(!1),t}(),s=i.matches[i.matches.length-1];return s.route.id||o(!1),s.route.id}const ut={};s.startTransition;function mt(t){o(!1)}function gt(i){let{basename:s="/",children:h=null,location:n,navigationType:a=t.Pop,navigator:r,static:l=!1,future:d}=i;Y()&&o(!1);let c=s.replace(/^\/*/,"/"),u=e.useMemo((()=>({basename:c,navigator:r,static:l,future:$({v7_relativeSplatPath:!1},d)})),[c,d,r,l]);"string"===typeof n&&(n=m(n));let{pathname:g="/",search:p="",hash:f="",state:I=null,key:b="default"}=n,x=e.useMemo((()=>{let t=_(g,c);return null==t?null:{location:{pathname:t,search:p,hash:f,state:I,key:b},navigationType:a}}),[c,g,p,f,I,b,a]);return null==x?null:e.createElement(U.Provider,{value:u},e.createElement(K.Provider,{children:h,value:x}))}function pt(t){let{children:e,location:i}=t;return et(ft(e),i)}new Promise((()=>{}));e.Component;function ft(t,i){void 0===i&&(i=[]);let s=[];return e.Children.forEach(t,((t,h)=>{if(!e.isValidElement(t))return;let n=[...i,h];if(t.type===e.Fragment)return void s.push.apply(s,ft(t.props.children,n));t.type!==mt&&o(!1),t.props.index&&t.props.children&&o(!1);let a={id:t.props.id||n.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=ft(t.props.children,n)),s.push(a)})),s}function It(){return It=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},It.apply(this,arguments)}function bt(t,e){if(null==t)return{};var i,s,h={},n=Object.keys(t);for(s=0;s<n.length;s++)i=n[s],e.indexOf(i)>=0||(h[i]=t[i]);return h}function xt(t){return void 0===t&&(t=""),new URLSearchParams("string"===typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce(((e,i)=>{let s=t[i];return e.concat(Array.isArray(s)?s.map((t=>[i,t])):[[i,s]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Dt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(mc){}new Map;const yt=s.startTransition;n.flushSync,s.useId;function vt(t){let{basename:i,children:s,future:h,window:n}=t,a=e.useRef();var r;null==a.current&&(a.current=(void 0===(r={window:n,v5Compat:!0})&&(r={}),g((function(t,e){let{pathname:i,search:s,hash:h}=t.location;return c("",{pathname:i,search:s,hash:h},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:u(e)}),null,r)));let o=a.current,[l,d]=e.useState({action:o.action,location:o.location}),{v7_startTransition:m}=h||{},p=e.useCallback((t=>{m&&yt?yt((()=>d(t))):d(t)}),[d,m]);return e.useLayoutEffect((()=>o.listen(p)),[o,p]),e.createElement(gt,{basename:i,children:s,location:l.location,navigationType:l.action,navigator:o,future:h})}const kt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=e.forwardRef((function(t,i){let s,{onClick:h,relative:n,reloadDocument:a,replace:r,state:l,target:d,to:c,preventScrollReset:m,viewTransition:g}=t,p=bt(t,Dt),{basename:f}=e.useContext(U),I=!1;if("string"===typeof c&&Ct.test(c)&&(s=c,kt))try{let t=new URL(window.location.href),e=c.startsWith("//")?new URL(t.protocol+c):new URL(c),i=_(e.pathname,f);e.origin===t.origin&&null!=i?c=i+e.search+e.hash:I=!0}catch(mc){}let b=function(t,i){let{relative:s}=void 0===i?{}:i;Y()||o(!1);let{basename:h,navigator:n}=e.useContext(U),{hash:a,pathname:r,search:l}=tt(t,{relative:s}),d=r;return"/"!==h&&(d="/"===r?h:O([h,r])),n.createHref({pathname:d,search:l,hash:a})}(c,{relative:n}),x=function(t,i){let{target:s,replace:h,state:n,preventScrollReset:a,relative:r,viewTransition:o}=void 0===i?{}:i,l=J(),d=Q(),c=tt(t,{relative:r});return e.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,s)){e.preventDefault();let i=void 0!==h?h:u(d)===u(c);l(t,{replace:i,state:n,preventScrollReset:a,relative:r,viewTransition:o})}}),[d,l,c,h,n,s,t,a,r,o])}(c,{replace:r,state:l,target:d,preventScrollReset:m,relative:n,viewTransition:g});return e.createElement("a",It({},p,{href:s||b,onClick:I||a?h:function(t){h&&h(t),t.defaultPrevented||x(t)},ref:i,target:d}))}));var Tt,Lt;function St(t){let i=e.useRef(xt(t)),s=e.useRef(!1),h=Q(),n=e.useMemo((()=>function(t,e){let i=xt(t);return e&&e.forEach(((t,s)=>{i.has(s)||e.getAll(s).forEach((t=>{i.append(s,t)}))})),i}(h.search,s.current?null:i.current)),[h.search]),a=J(),r=e.useCallback(((t,e)=>{const i=xt("function"===typeof t?t(n):t);s.current=!0,a("?"+i,e)}),[a,n]);return[n,r]}(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tt||(Tt={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Lt||(Lt={}));var Ft=i(579);var At=()=>(0,Ft.jsxs)("div",{className:"footer",children:["\xa9 2025"," \u2014 ","CS 1332 Teaching Team and"," ","Rodrigo Pontes, under the direction of Mary Hudachek-Buswell. \xa9 2011\xa0",(0,Ft.jsx)("a",{href:"http://www.cs.usfca.edu/galles",children:"David Galles"})]}),_t={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bt=e.createContext&&e.createContext(_t),zt=function(){return zt=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var h in e=arguments[i])Object.prototype.hasOwnProperty.call(e,h)&&(t[h]=e[h]);return t},zt.apply(this,arguments)},Pt=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var h=0;for(s=Object.getOwnPropertySymbols(t);h<s.length;h++)e.indexOf(s[h])<0&&Object.prototype.propertyIsEnumerable.call(t,s[h])&&(i[s[h]]=t[s[h]])}return i};function Et(t){return t&&t.map((function(t,i){return e.createElement(t.tag,zt({key:i},t.attr),Et(t.child))}))}function Ot(t){return function(i){return e.createElement(Rt,zt({attr:zt({},t.attr)},i),Et(t.child))}}function Rt(t){var i=function(i){var s,h=t.attr,n=t.size,a=t.title,r=Pt(t,["attr","size","title"]),o=n||i.size||"1em";return i.className&&(s=i.className),t.className&&(s=(s?s+" ":"")+t.className),e.createElement("svg",zt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,h,r,{className:s,style:zt(zt({color:t.color||i.color},i.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==Bt?e.createElement(Bt.Consumer,null,(function(t){return i(t)})):i(_t)}function jt(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"}},{tag:"path",attr:{d:"m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z"}}]})(t)}function Nt(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"}}]})(t)}function Ht(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"}}]})(t)}function Mt(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"}},{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"}}]})(t)}function Vt(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"}}]})(t)}function $t(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM6.646 7.646a.5.5 0 1 1 .708.708L5.707 10l1.647 1.646a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2zm2.708 0 2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 10 8.646 8.354a.5.5 0 1 1 .708-.708z"}}]})(t)}function qt(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3z"}}]})(t)}function Wt(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM5.057 6h5.886L11 8h-.5c-.18-1.096-.356-1.192-1.694-1.235l-.298-.01v5.09c0 .47.1.582.903.655v.5H6.59v-.5c.799-.073.898-.184.898-.654V6.755l-.293.01C5.856 6.808 5.68 6.905 5.5 8H5l.057-2z"}}]})(t)}function Ut(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"}}]})(t)}function Kt(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}}]})(t)}function Xt(t){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}}]})(t)}var Gt=i.p+"static/media/bark.367847c8ab1b26a64e41.mp3";var Yt=()=>{const[t,i]=(0,e.useState)(!1),[s,h]=(0,e.useState)(0),[n,a]=(0,e.useState)(!1),r=(0,e.useRef)(null),o=["Welcome to CS 1332's visualization tool!","Click a data structure or algorithm to go to its visualization page!","Pause the animation and Step Forward/Back to explore operations.","Reference the pseudo-code to see how each step is implemented.","Click the top-right icons to change the pseudo-code or see more info.","Some pages have additional settings and modes. Play around!","Keep clicking me for a surprise!","...",""];return(0,Ft.jsxs)("div",{onMouseDown:()=>{i(!t),t&&(h((s+1)%o.length),r.current.classList.remove("blobLogo-animate")),o[s]||(r.current&&(r.current.src=r.current.src.replace("favicon","jack"),r.current.classList.add("blobLogo-animate")),h((s+1)%o.length),i(!1),a(!0))},children:[n&&(0,Ft.jsx)("audio",{src:Gt,autoPlay:!0,onEnded:()=>a(!1)}),t&&(0,Ft.jsx)("div",{id:"text-bubble",children:(0,Ft.jsx)("div",{children:o[s]})}),(0,Ft.jsx)("img",{src:"./favicon.png",alt:"",className:"blobLogo",id:"blobLogo",ref:r}),(0,Ft.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",width:"100%",height:"100%",id:"blobSvg",transform:"rotate(65)",style:{opacity:"1",cursor:"grab"},children:[" ",(0,Ft.jsxs)("defs",{children:[" ",(0,Ft.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[" ",(0,Ft.jsx)("stop",{offset:"0%",style:{stopColor:"#ff5f6d"}})," ",(0,Ft.jsx)("stop",{offset:"100%",style:{stopColor:"#ffc371"}})," "]})," "]})," ",(0,Ft.jsx)("path",{id:"blob",fill:"url(#gradient)",style:{opacity:"1"},children:(0,Ft.jsx)("animate",{attributeName:"d",dur:"9500ms",repeatCount:"indefinite",values:"M439.43806,316.51312Q432.44085,383.02623,370.39398,407.14258Q308.3471,431.25893,240.13979,459.78516Q171.93248,488.31139,132.30301,426.26451Q92.67355,364.21763,63.21484,307.10882Q33.75613,250,44.06194,178.90151Q54.36774,107.80301,118.67355,75.31613Q182.97935,42.82924,240.60882,72.66602Q298.23828,102.50279,368.10882,107.87054Q437.97935,113.23828,442.20731,181.61914Q446.43527,250,439.43806,316.51312Z;M424.84079,321.86371Q447.86386,393.72743,384.56836,431.15935Q321.27286,468.59128,248.86371,472.84107Q176.45457,477.09086,148.84107,410.1135Q121.22757,343.13614,67.95457,296.56807Q14.68157,250,76.45485,209.5685Q138.22813,169.13699,166.2505,123.59142Q194.27286,78.04585,249.70464,79.81828Q305.13643,81.59072,362.47721,103.93179Q419.818,126.27286,410.81786,188.13643Q401.81772,250,424.84079,321.86371Z;M453.70516,317.0107Q433.36186,384.02139,362.52423,381.146Q291.6866,378.27061,242.8433,399.93801Q194,421.60541,117.08118,412.14317Q40.16237,402.68093,64.29201,326.34046Q88.42165,250,109.0107,206.32693Q129.59975,162.65387,148.64317,78.76495Q167.6866,-5.12397,241.8433,20.74072Q316,46.60541,350.8433,99.17023Q385.6866,151.73505,429.86753,200.86753Q474.04846,250,453.70516,317.0107Z;M437.48517,301.93698Q392.82947,353.87396,357.50371,413.21131Q322.17795,472.54867,247.51112,479.51159Q172.8443,486.47452,129.54819,427.64458Q86.25209,368.81464,81.57785,309.40732Q76.90361,250,83.86283,191.93327Q90.82205,133.86654,141.98146,104.152Q193.14087,74.43745,247.01483,83.88926Q300.88878,93.34106,355.51112,113.62234Q410.13346,133.90361,446.13717,191.95181Q482.14087,250,437.48517,301.93698Z;M460.19079,314.81752Q429.48296,379.63503,366.74655,397.33779Q304.01014,415.04055,238.62673,450.6401Q173.24331,486.23965,141.80231,418.853Q110.3613,351.46635,87.51337,300.73317Q64.66545,250,86.56406,198.80231Q108.46268,147.60462,149.75669,107.39355Q191.05069,67.18248,258.9189,40.41566Q326.7871,13.64883,381.21107,64.45621Q435.63503,115.26359,463.26683,182.63179Q490.89862,250,460.19079,314.81752Z;M469.34657,320.38487Q443.8468,390.76973,373.53877,402.1156Q303.23073,413.46147,238.88463,448.30757Q174.53853,483.15367,122.76833,431.6929Q70.99814,380.23213,76.84563,315.11607Q82.69313,250,78.9227,186.3071Q75.15227,122.6142,131.92223,91.73003Q188.6922,60.84587,253.2305,51.539Q317.7688,42.23213,359.5759,90.92433Q401.383,139.61653,448.11467,194.80827Q494.84633,250,469.34657,320.38487Z;M402.82336,294.74662Q372.52122,339.49324,339.45366,380.77461Q306.3861,422.05598,251.70463,416.9165Q197.02317,411.77702,159.66506,377.28619Q122.30695,342.79537,72.75579,296.39768Q23.20463,250,37.88851,178.24662Q52.57238,106.49324,117.0304,72.97924Q181.48842,39.46525,238.53957,73.79537Q295.59073,108.12549,332.49083,135.50917Q369.39092,162.89286,401.2582,206.44643Q433.12549,250,402.82336,294.74662Z;M439.43806,316.51312Q432.44085,383.02623,370.39398,407.14258Q308.3471,431.25893,240.13979,459.78516Q171.93248,488.31139,132.30301,426.26451Q92.67355,364.21763,63.21484,307.10882Q33.75613,250,44.06194,178.90151Q54.36774,107.80301,118.67355,75.31613Q182.97935,42.82924,240.60882,72.66602Q298.23828,102.50279,368.10882,107.87054Q437.97935,113.23828,442.20731,181.61914Q446.43527,250,439.43806,316.51312Z"})})]})]})},Qt=i(929),Zt=i.n(Qt);function Jt(t){return Ot({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"}}]})(t)}class te extends e.Component{constructor(){super(...arguments),this.state={menuVisible:null,theme:"light"},this.toggleMenu=()=>this.setState((t=>({menuVisible:!t.menuVisible})))}render(){const t=this.props.theme,i=this.props.toggleTheme;return(0,Ft.jsxs)(e.Fragment,{children:[(0,Ft.jsxs)("div",{className:"header",children:[(0,Ft.jsx)("div",{id:"menu",children:(0,Ft.jsx)(Bt.Provider,{value:{className:"menu-bar"},children:(0,Ft.jsx)(Jt,{onClick:this.toggleMenu})})}),(0,Ft.jsx)("div",{id:"title",children:(0,Ft.jsx)("h1",{children:"CS 1332 Data Structures and Algorithms Visualization Tool"})}),(0,Ft.jsxs)("div",{className:"gimmicks",children:[(0,Ft.jsx)(Zt(),{children:(0,Ft.jsx)("div",{id:"blob-container",children:(0,Ft.jsx)(Yt,{})})}),(0,Ft.jsx)("div",{id:"theme",children:"light"===t?(0,Ft.jsx)(Nt,{size:31,onClick:i,color:"#f9c333",className:"rotate-effect"}):(0,Ft.jsx)(Xt,{size:29,onClick:i,color:"#d4f1f1",className:"rotate-effect"})})]})]}),(0,Ft.jsx)("div",{className:`menu ${{null:"",true:"show",false:"hide"}[this.state.menuVisible]}`,children:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:(0,Ft.jsxs)(wt,{to:"/",onClick:this.toggleMenu,children:[(0,Ft.jsx)(jt,{size:20}),"\xa0\xa0Home"]})}),(0,Ft.jsx)("li",{children:(0,Ft.jsxs)(wt,{to:"/about",onClick:this.toggleMenu,children:[(0,Ft.jsx)(Kt,{size:20}),"\xa0\xa0About"]})}),(0,Ft.jsx)("li",{children:(0,Ft.jsxs)("a",{href:"https://github.com/csvistool/visualization-tool",target:"_blank",rel:"noreferrer",children:[(0,Ft.jsx)(Ut,{size:20}),"\xa0\xa0Source Code"]})}),(0,Ft.jsx)("li",{children:(0,Ft.jsxs)("a",{href:"https://forms.gle/j9iMhFi8drjf2PU86",target:"_blank",rel:"noreferrer",children:[(0,Ft.jsx)(Vt,{size:20}),"\xa0\xa0Feedback"]})})]})})]})}}var ee=te;var ie=t=>{let{theme:e,toggleTheme:i}=t;return(0,Ft.jsxs)("div",{className:"container",children:[(0,Ft.jsx)(ee,{theme:e,toggleTheme:i}),(0,Ft.jsxs)("div",{className:"about",children:[(0,Ft.jsxs)("p",{children:["This tool is designed to help you visualize and understand the data structures and algorithms covered in Georgia Tech's CS 1332 course. It is based on the"," ",(0,Ft.jsx)("a",{href:"https://www.cs.usfca.edu/~galles/visualization/about.html",children:"Data Structures Visualizations website"})," ","created by David Galles."]}),(0,Ft.jsxs)("p",{children:["The CS 1332 Visualization Tool was adapted and expanded by"," ",(0,Ft.jsx)("a",{href:"https://rodrigodlpontes.github.io/website/",children:"Rodrigo Pontes"})," under the supervision of Dr. Mary Hudachek-Buswell to include data structures and algorithms covered in the course. It has since been updated and revised by"," ",(0,Ft.jsx)("a",{href:"https://github.com/csvistool/visualization-tool#contributors-",children:"many other wonderful contributors"}),"."]}),(0,Ft.jsxs)("p",{children:["This site uses icons from"," ",(0,Ft.jsx)("a",{href:"https://material.io/resources/icons/?style=baseline",children:"Google's Material Icons"})," ","and ",(0,Ft.jsx)("a",{href:"https://react-icons.github.io/react-icons",children:"react-icons"}),", as well as components from ",(0,Ft.jsx)("a",{href:"https://material-ui.com/",children:"Material UI"}),"."]})]}),(0,Ft.jsx)(At,{})]})};var se=()=>(0,Ft.jsxs)("div",{className:"container",children:[(0,Ft.jsx)(ee,{}),(0,Ft.jsx)("div",{className:"content",children:(0,Ft.jsxs)("div",{className:"four-o-four",children:[(0,Ft.jsx)("h1",{children:"404!"}),(0,Ft.jsxs)("h3",{children:["Algorithm not found! Click ",(0,Ft.jsx)(wt,{to:"/",children:"here"})," to return to the home screen and choose another algorithm."]})]})}),(0,Ft.jsx)(At,{})]});class he{constructor(t,e,i,s,h){this.objectID=t,this.fromX=e,this.fromY=i,this.toX=s,this.toY=h}}class ne{addUndoAnimation(){return!1}undoInitialStep(){}}class ae extends ne{constructor(t,e,i,s,h){super(),this.objectID=t,this.fromX=e,this.fromY=i,this.toX=s,this.toY=h}addUndoAnimation(t){const e=new he(this.objectID,this.fromX,this.fromY,this.toX,this.toY);return t.push(e),!0}}class re extends ne{constructor(t){super(),this.objectID=t}undoInitialStep(t){t.removeObject(this.objectID)}}class oe extends ne{constructor(t,e,i){super(),this.objectID=t,this.highlightValue=e,this.color=i}undoInitialStep(t){t.setHighlight(this.objectID,this.highlightValue,this.color)}}class le extends ne{constructor(t,e){super(),this.objectID=t,this.height=e}undoInitialStep(t){t.setHeight(this.objectID,this.height)}}class de extends ne{constructor(t,e){super(),this.objectID=t,this.width=e}undoInitialStep(t){t.setWidth(this.objectID,this.width)}}class ce extends ne{constructor(t,e){if(super(),this.objectID=t.objectID,this.sizeBeforeChange=t.getNumElements(),this.sizeAfterChange=e,this.sizeBeforeChange>this.sizeAfterChange){this.labels=new Array(this.sizeBeforeChange-this.sizeAfterChange),this.colors=new Array(this.sizeBeforeChange-this.sizeAfterChange);for(let e=0;e<this.sizeBeforeChange-this.sizeAfterChange;e++)this.labels[e]=t.getText(e+this.sizeAfterChange),this.colors[e]=t.getTextColor(e+this.sizeAfterChange)}}undoInitialStep(t){if(t.setNumElements(this.objectID,this.sizeBeforeChange),this.sizeBeforeChange>this.sizeAfterChange)for(let e=0;e<this.sizeBeforeChange-this.sizeAfterChange;e++)t.setText(this.objectID,this.labels[e],e+this.sizeAfterChange),t.setTextColor(this.objectID,this.colors[e],e+this.sizeAfterChange)}}class ue extends ne{constructor(t,e){super(),this.objectID=t,this.alphaVal=e}undoInitialStep(t){t.setAlpha(this.objectID,this.alphaVal)}}class me extends ne{constructor(t,e){super(),this.objectID=t,this.nullVal=e}undoInitialStep(t){t.setNull(this.objectID,this.nullVal)}}class ge extends ne{constructor(t,e){super(),this.objectID=t,this.nullVal=e}undoInitialStep(t){t.setPrevNull(this.objectID,this.nullVal)}}class pe extends ne{constructor(t,e){super(),this.objectID=t,this.nullVal=e}undoInitialStep(t){t.setNextNull(this.objectID,this.nullVal)}}class fe extends ne{constructor(t,e){super(),this.objectID=t,this.color=e}undoInitialStep(t){t.setForegroundColor(this.objectID,this.color)}}class Ie extends ne{constructor(t,e){super(),this.objectID=t,this.color=e}undoInitialStep(t){t.setBackgroundColor(this.objectID,this.color)}}class be extends ne{constructor(t,e){super(),this.objectID=t,this.index=e}undoInitialStep(t){t.setHighlightIndex(this.objectID,this.index)}}class xe extends ne{constructor(t,e,i){super(),this.objectID=t,this.newText=e,this.labelIndex=i}undoInitialStep(t){t.setText(this.objectID,this.newText,this.labelIndex)}}class De extends ne{constructor(t,e,i){super(),this.objectID=t,this.color=e,this.index=i}undoInitialStep(t){t.setTextColor(this.objectID,this.color,this.index)}}class ye extends ne{constructor(t,e,i){super(),this.fromID=t,this.toID=e,this.highlightValue=i}undoInitialStep(t){t.setEdgeHighlight(this.fromID,this.toID,this.highlightValue)}}class ve extends ne{constructor(t,e,i){super(),this.fromID=t,this.toID=e,this.thickness=i}undoInitialStep(t){t.setEdgeThickness(this.fromID,this.toID,this.thickness)}}class ke extends ne{constructor(t,e,i){super(),this.fromID=t,this.toID=e,this.color=i}undoInitialStep(t){t.setEdgeColor(this.fromID,this.toID,this.color)}}class Ce extends ne{constructor(t,e,i){super(),this.fromID=t,this.toID=e,this.alpha=i}undoInitialStep(t){t.setEdgeAlpha(this.fromID,this.toID,this.alpha)}}class we extends ne{constructor(t,e,i){super(),this.objectID=t,this.x=e,this.y=i}undoInitialStep(t){t.setNodePosition(this.objectID,this.x,this.y)}}class Te extends ne{constructor(t,e){super(),this.objectID=t,this.onTop=e}undoInitialStep(t){t.setAlwaysOnTop(this.objectID,this.onTop)}}class Le extends ne{constructor(t,e){super(),this.objectID=t,this.thicknessArray=e}undoInitialStep(t){t.setRectangleEdgeThickness(this.objectID,this.thicknessArray)}}class Se{constructor(){this.events=[]}removeListener(t,e,i){if(null==this.events[t])return;let s,h=null;for(s=0;s<this.events[t].length;s++)if(this.events[t][s].scope===e){h=this.events[t][s];break}if(null!=h)for(s=0;s<h.functions.length;s++)if(h.functions[s]===i)return void h.functions.splice(s,1)}addListener(t,e,i){let s;void 0===this.events[t]&&(this.events[t]=[]);let h=null;for(s=0;s<this.events[t].length;s++)if(this.events[t][s].scope===e){h=this.events[t][s];break}for(null===h&&(this.events[t].push({scope:e,functions:[]}),h=this.events[t][this.events[t].length-1]),s=0;s<h.functions.length;s++)if(h.functions[s]===i)return;h.functions.push(i)}fireEvent(t,e){if(void 0!==this.events[t])for(let i=0;i<this.events[t].length;i++){const s=this.events[t][i],h=s.functions,n=s.scope;for(let t=0;t<h.length;t++){h[t].call(n,e)}}}}class Fe{constructor(){this.objectID=-1,this.x=0,this.y=0,this.backgroundColor="#FFFFFF",this.foregroundColor="#000000",this.highlighted=!1,this.label="",this.labelColor="#000000",this.layer=0,this.alpha=1,this.minHeightDiff=3,this.range=5,this.highlightIndex=-1,this.highlightIndexDirty=!0,this.addedToScene=!0}setBackgroundColor(t){this.backgroundColor=t}setNull(){}getNull(){return!1}setAlpha(t){this.alpha=t}getAlpha(){return this.alpha}setForegroundColor(t){this.foregroundColor=t,this.labelColor=t}getHighlight(){return this.highlighted}getWidth(){return 0}getHeight(){return 0}setHighlight(t,e){this.highlighted=t,this.highlightColor=e||"#ff0000"}centerX(){return this.x}setWidth(){throw new Error("setWidth() should be implemented in a base class")}centerY(){return this.y}getAlignLeftPos(t){return[t.right()+this.getWidth()/2,t.centerY()]}getAlignRightPos(t){return[t.left()-this.getWidth()/2,t.centerY()]}getAlignTopPos(t){return[t.centerX(),t.top()-this.getHeight()/2]}getAlignBottomPos(t){return[t.centerX(),t.bottom()+this.getHeight()/2]}alignLeft(t){this.y=t.centerY(),this.x=t.right()+this.getWidth()/2}alignRight(t){this.y=t.centerY(),this.x=t.left()-this.getWidth()/2}alignTop(t){this.x=t.centerX(),this.y=t.top()-this.getHeight()/2}alignBottom(t){this.x=t.centerX(),this.y=t.bottom()+this.getHeight()/2}getClosestCardinalPoint(t,e){let i,s,h,n;return t<this.left()?(i=this.left()-t,h=this.left()):t>this.right()?(i=t-this.right(),h=this.right()):(i=0,h=this.centerX()),e<this.top()?(s=this.top()-e,n=this.top()):e>this.bottom()?(s=e-this.bottom(),n=this.bottom()):(s=0,n=this.centerY()),s>i?h=this.centerX():n=this.centerY(),[h,n]}centered(){return!1}pulseHighlight(t){if(this.highlighted){const e=t/7,i=Math.abs(e%(2*this.range-2)-this.range+1);this.highlightDiff=i+this.minHeightDiff}}getTailPointerAttachPos(){return[this.x,this.y]}getHeadPointerAttachPos(){return[this.x,this.y]}identifier(){return this.objectID}getText(){return this.label}getTextColor(){return this.labelColor}setTextColor(t){this.labelColor=t}setText(t){this.label=t}setHighlightIndex(t){this.highlightIndex=t,this.highlightIndexDirty=!0}getHighlightIndex(){return this.highlightIndex}}class Ae extends Fe{constructor(t,e,i,s,h,n){super(),this.objectID=t,this.backgroundColor=h,this.foregroundColor=n,this.widthPerElement=e,this.h=i,this.numLabels=s,this.labels=[],this.labelColors=[];for(let a=0;a<this.numLabels;a++)this.labelColors[a]=this.foregroundColor}getNumElements(){return this.numLabels}getWidth(){return this.numLabels>0?this.widthPerElement*this.numLabels:10}setNumElements(t){if(this.numLabels<t){for(let e=this.numLabels;e<t;e++)this.labels[e]="",this.labelColors[e]=this.foregroundColor;this.numLabels=t}else if(this.numLabels>t){for(let e=t;e<this.numLabels;e++)this.labels[e]=null;this.numLabels=t}}left(){return this.x-this.getWidth()/2}right(){return this.x+this.getWidth()/2}top(){return this.y-this.h/2}bottom(){return this.y+this.h/2}draw(t){let e;e=this.left(),isNaN(e)&&(e=0);const i=this.top();this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.getWidth()+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.getWidth()+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.getWidth(),i),t.lineTo(e+this.getWidth(),i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),t.textAlign="center",t.textBaseline="middle";for(let s=0;s<this.numLabels;s++){const e=this.x-this.widthPerElement*this.numLabels/2+this.widthPerElement/2+s*this.widthPerElement,i=this.y;t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],e,i)}}getHeight(){return this.h}setForegroundColor(t){this.foregroundColor=t;for(let e=0;e<this.numLabels;e++)this.labelColor[e]=t}getTailPointerAttachPos(t,e,i){return 0===i?[this.left()+5,this.y]:i===this.numLabels?[this.right()-5,this.y]:[this.left()+i*this.widthPerElement,this.y]}getHeadPointerAttachPos(t,e){return e<this.y-this.h/2?[this.x,this.y-this.h/2]:this.fromY>this.y+this.h/2?[this.x,this.y+this.h/2]:t<this.x-this.getWidth()/2?[this.x-this.getWidth()/2,this.y]:[this.x+this.getWidth()/2,this.y]}getTextColor(t){return t=t||0,this.labelColors[t]}getText(t){return t=t||0,this.labels[t]}setTextColor(t,e){e=e||0,this.labelColors[e]=t}setText(t,e){e=e||0,this.labels[e]=t}createUndoDelete(){return new _e(this.objectID,this.numLabels,this.labels,this.x,this.y,this.widthPerElement,this.h,this.labelColors,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}class _e extends ne{constructor(t,e,i,s,h,n,a,r,o,l,d,c,u){super(),this.objectID=t,this.numLabels=e,this.labels=i,this.x=s,this.y=h,this.widthPerElement=n,this.h=a,this.labelColors=r,this.backgroundColor=o,this.foregroundColor=l,this.layer=d,this.highlighted=c,this.highlightColor=u}undoInitialStep(t){t.addBTreeNode(this.objectID,this.widthPerElement,this.h,this.numLabels,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y);for(let e=0;e<this.numLabels;e++)t.setText(this.objectID,this.labels[e],e),t.setTextColor(this.objectID,this.labelColors[e],e);t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Be extends Fe{constructor(t,e){super(),this.objectID=t,this.label=e,this.radius=20,this.thickness=3,this.highlightIndex=-1}getTailPointerAttachPos(t,e){return this.getHeadPointerAttachPos(t,e)}getWidth(){return 2*this.radius}setWidth(t){this.radius=t/2}getHeadPointerAttachPos(t,e){const i=t-this.x,s=e-this.y,h=Math.sqrt(i*i+s*s);return 0===h?[this.x,this.y]:[this.x+i/h*this.radius,this.y+s/h*this.radius]}setHighlightIndex(t){this.highlightIndex=t,this.highlightIndexDirty=!0}draw(t){t.globalAlpha=this.alpha,this.highlighted&&(t.fillStyle=this.highlightColor,t.beginPath(),t.arc(this.x,this.y,this.radius+this.highlightDiff,0,2*Math.PI,!0),t.closePath(),t.fill()),t.fillStyle=this.backgroundColor,t.strokeStyle=this.foregroundColor,t.lineWidth=1.6,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,t.fillStyle=this.foregroundColor;const e=this.label.split("\n");if(1===e.length)if(this.highlightIndexDirty&&-1!==this.highlightIndex&&(this.leftWidth=t.measureText(this.label.substring(0,this.highlightIndex)).width,this.centerWidth=t.measureText(this.label.substring(this.highlightIndex,this.highlightIndex+1)).width,this.textWidth=t.measureText(this.label).width,this.highlightIndexDirty=!1),-1!==this.highlightIndex&&this.highlightIndex<this.label.length){const e=this.x-this.textWidth/2;t.textAlign="left";const i=this.label.substring(0,this.highlightIndex),s=this.label.substring(this.highlightIndex,this.highlightIndex+1),h=this.label.substring(this.highlightIndex+1);t.fillText(i,e,this.y),t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.fillText(s,e+this.leftWidth,this.y),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.fillText(h,e+this.leftWidth+this.centerWidth,this.y)}else t.fillText(this.label,this.x,this.y);else if(e.length%2===0){const i=e.length/2;for(let s=0;s<e.length/2;s++)t.fillText(e[i-s-1],this.x,this.y-12*(s+.5)),t.fillText(e[i+s],this.x,this.y+12*(s+.5))}else{const i=(e.length-1)/2;t.fillText(e[i],this.x,this.y);for(let s=0;s<i;s++)t.fillText(e[i-(s+1)],this.x,this.y-12*(s+1)),t.fillText(e[i+(s+1)],this.x,this.y+12*(s+1))}}createUndoDelete(){return new ze(this.objectID,this.label,this.x,this.y,this.foregroundColor,this.backgroundColor,this.layer,this.radius,this.highlighted,this.highlightColor)}}class ze extends ne{constructor(t,e,i,s,h,n,a,r,o,l){super(),this.objectID=t,this.label=e,this.x=i,this.y=s,this.foregroundColor=h,this.backgroundColor=n,this.layer=a,this.radius=r,this.highlighted=o,this.highlightColor=l}undoInitialStep(t){t.addCircleObject(this.objectID,this.label),t.setWidth(this.objectID,2*this.radius),t.setNodePosition(this.objectID,this.x,this.y),t.setForegroundColor(this.objectID,this.foregroundColor),t.setBackgroundColor(this.objectID,this.backgroundColor),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Pe extends Fe{constructor(t,e,i,s,h,n,a){super(),this.objectID=t,this.w=i,this.h=s,this.backgroundColor=n,this.foregroundColor=a,this.highlighted=!1,this.linkPercent=h,this.nullPointer=!1,this.label=e,this.labelPosX=0,this.labelPosY=0,this.labelColor=a}setNull(t){this.nullPointer!==t&&(this.nullPointer=t)}getNull(){return this.nullPointer}left(){return this.x-this.w*(1-this.linkPercent)/2}right(){return this.x+this.w*(this.linkPercent+1)/2}top(){return this.y-this.h/2}bottom(){return this.y+this.h/2}resetTextPosition(){this.labelPosX=this.x,this.labelPosY=this.y}getTailPointerAttachPos(){return[this.x+this.w/2,this.y]}getHeadPointerAttachPos(t,e){return t<this.x?this.getClosestCardinalPoint(t,e):[this.x,this.bottom()]}setWidth(t){this.w=t,this.resetTextPosition()}setHeight(t){this.h=t,this.resetTextPosition()}getWidth(){return this.w}getHeight(){return this.h}draw(t){let e,i;t.lineWidth=2,e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),e=this.right()-this.w*this.linkPercent,i=this.top(),t.lineWidth=1,t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.right(),i+this.h),t.closePath(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,t.fillText(this.label,this.labelPosX,this.labelPosY)}setTextColor(t){this.labelColor=t}getTextColor(){return this.labelColor}getText(){return this.label}setText(t){this.label=t,this.resetTextPosition()}setHighlight(t){t!==this.highlighted&&(this.highlighted=t)}createUndoDelete(){return new Ee(this.objectID,this.label,this.w,this.h,this.x,this.y,this.linkPercent,this.backgroundColor,this.foregroundColor,this.labelColor,this.layer,this.nullPointer,this.highlighted,this.highlightColor)}}class Ee extends ne{constructor(t,e,i,s,h,n,a,r,o,l,d,c,u,m){super(),this.objectID=t,this.label=e,this.w=i,this.h=s,this.x=h,this.y=n,this.linkPercent=a,this.backgroundColor=r,this.foregroundColor=o,this.labelColor=l,this.layer=d,this.nullPointer=c,this.highlighted=u,this.highlightColor=m}undoInitialStep(t){t.addCircularlyLinkedListObject(this.objectID,this.label,this.w,this.h,this.linkPercent,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setNull(this.objectID,this.nullPointer),t.setTextColor(this.objectID,this.labelColor),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Oe extends Fe{constructor(t,e,i,s,h,n,a){super(),this.objectID=t,this.w=i,this.h=s,this.backgroundColor=n,this.foregroundColor=a,this.highlighted=!1,this.linkPercent=h,this.prevNullPointer=!1,this.nextNullPointer=!1,this.label=e,this.labelPosX=0,this.labelPosY=0,this.labelColor=a}setPrevNull(t){this.prevNullPointer!==t&&(this.prevNullPointer=t)}setNextNull(t){this.nextNullPointer!==t&&(this.nextNullPointer=t)}getLeftNull(){return this.prevNullPointer}getRightNull(){return this.nextNullPointer}left(){return this.x-this.w*(1-this.linkPercent)/2}right(){return this.x+this.w*(this.linkPercent+1)/2}top(){return this.y-this.h/2}bottom(){return this.y+this.h/2}resetTextPosition(){this.labelPosY=this.y,this.labelPosX=this.left()+this.w*(2*this.linkPercent)}getTailPointerAttachPos(t,e,i){return 0===i?[this.x+this.w/2,this.y-.2*this.h]:[this.left()+this.w*this.linkPercent/2,this.y+.2*this.h]}getHeadPointerAttachPos(t,e){const i=this.getClosestCardinalPoint(t,e);return i[1]===this.y?i[0]===this.left()?[i[0],this.y-.2*this.h]:[i[0],this.y+.2*this.h]:[i[0],i[1]]}setWidth(t){this.w=t,this.resetTextPosition()}setHeight(t){this.h=t,this.resetTextPosition()}getWidth(){return this.w}getHeight(){return this.h}draw(t){let e,i;t.lineWidth=2,e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),t.lineWidth=1,e=this.left()+this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.prevNullPointer&&(t.moveTo(this.left(),i),t.lineTo(this.left()+this.w*this.linkPercent,i+this.h)),t.closePath(),t.stroke(),e=this.right()-this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nextNullPointer&&(t.moveTo(this.right()-this.w*this.linkPercent,i),t.lineTo(this.right(),i+this.h)),t.closePath(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,t.fillText(this.label,this.labelPosX,this.labelPosY)}setTextColor(t){this.labelColors=t}getTextColor(){return this.labelColors}getText(){return this.label}setText(t){this.label=t,this.resetTextPosition()}setHighlight(t){t!==this.highlighted&&(this.highlighted=t)}createUndoDelete(){return new Re(this.objectID,this.label,this.w,this.h,this.x,this.y,this.linkPercent,this.backgroundColor,this.foregroundColor,this.labelColor,this.layer,this.prevNullPointer,this.nextNullPointer,this.highlighted,this.highlightColor)}}class Re extends ne{constructor(t,e,i,s,h,n,a,r,o,l,d,c,u,m,g){super(),this.objectID=t,this.label=e,this.w=i,this.h=s,this.x=h,this.y=n,this.linkPercent=a,this.backgroundColor=r,this.foregroundColor=o,this.labelColors=l,this.layer=d,this.prevNullPointer=c,this.nextNullPointer=u,this.highlighted=m,this.highlightColor=g}undoInitialStep(t){t.addDoublyLinkedListObject(this.objectID,this.label,this.w,this.h,this.linkPercent,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setPrevNull(this.objectID,this.prevNullPointer),t.setNextNull(this.objectID,this.nextNullPointer),t.setTextColor(this.objectID,this.labelColor),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class je extends Fe{constructor(t,e,i){super(),this.objectID=t,this.radius=i,this.thickness=4,this.foregroundColor=e,this.x=0,this.y=0}draw(t){t.globalAlpha=this.alpha,t.strokeStyle=this.foregroundColor,t.lineWidth=this.thickness,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.stroke()}createUndoDelete(){return new Ne(this.objectID,this.x,this.y,this.foregroundColor,this.radius,this.layer,this.alpha,this.highlighted,this.highlightColor)}}class Ne extends ne{constructor(t,e,i,s,h,n,a,r,o){super(),this.objectID=t,this.x=e,this.y=i,this.foregroundColor=s,this.radius=h,this.layer=n,this.alpha=a,this.highlighted=r,this.highlightColor=o}undoInitialStep(t){t.addHighlightCircleObject(this.objectID,this.foregroundColor,this.radius),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setAlpha(this.objectID,this.alpha),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class He extends Fe{constructor(t,e,i,s,h,n){super(),this.objectID=t,this.textWidth=s||0,this.label=e,this.labelColor="#000000",this.highlighted=!1,this.centered=i,this.isCode=h,this.isPointer=n,this.leftWidth=-1,this.centerWidth=-1,this.highlightIndex=-1,this.fontLoaded=!1,h&&this.loadFont()}async loadFont(){const t=new FontFace("Source Code Pro","url(/SourceCodePro-Regular.ttf)",{display:"swap"});try{await t.load(),document.fonts.add(t),this.fontLoaded=!0,this.redraw()}catch(e){console.error("Font could not be loaded:",e),this.fontLoaded=!1}}redraw(){const t=document.getElementById("canvas").getContext("2d");this.draw(t)}centered(){return this.centered}draw(t){if(!this.addedToScene||this.isCode&&!this.fontLoaded)return;t.globalAlpha=this.alpha,this.isCode?t.font='13px "Source Code Pro", monospace':this.isPointer?t.font="16px Arial":t.font="12px Arial";let e=this.x;this.highlightIndex>=this.label.length&&(this.highlightIndex=-1),this.highlightIndexDirty&&-1!==this.highlightIndex&&(this.leftWidth=t.measureText(this.label.substring(0,this.highlightIndex)).width,this.centerWidth=t.measureText(this.label.substring(this.highlightIndex,this.highlightIndex+1)).width,this.highlightIndexDirty=!1),this.centered?-1!==this.highlightIndex?(e=this.x-this.width/2,t.textAlign="left",t.textBaseline="middle"):(t.textAlign="center",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="top"),this.highlighted&&(t.strokeStyle="#FFAAAA",t.fillStyle="#FF0000",t.lineWidth=this.highlightDiff,t.strokeText(this.label,this.x,this.y)),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.lineWidth=2;const i=this.label.split("\n");if(1===i.length)if(-1===this.highlightIndex)t.fillText(this.label,this.x,this.y);else{const i=this.label.substring(0,this.highlightIndex),s=this.label.substring(this.highlightIndex,this.highlightIndex+1),h=this.label.substring(this.highlightIndex+1);t.fillText(i,e,this.y),t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.fillText(s,e+this.leftWidth,this.y),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.fillText(h,e+this.leftWidth+this.centerWidth,this.y)}else{const e=this.centered?(1-i.length)/2:0;for(let s=0;s<i.length;s++)t.fillText(i[s],this.x,this.y+e+12*s)}t.closePath()}getAlignLeftPos(t){return this.centered?[t.left()-this.textWidth/2,this.y=t.centerY()]:[t.left()-this.textWidth,t.centerY()-5]}alignLeft(t){this.centered?(this.y=t.centerY(),this.x=t.left()-this.textWidth/2):(this.y=t.centerY()-5,this.x=t.left()-this.textWidth)}alignRight(t){this.centered?(this.y=t.centerY(),this.x=t.right()+this.textWidth/2):(this.y=t.centerY()-5,this.x=t.right())}getAlignRightPos(t){return this.centered?[t.right()+this.textWidth/2,t.centerY()]:[t.right(),t.centerY()-5]}alignTop(t){this.centered?(this.y=t.top()-5,this.x=t.centerX()):(this.y=t.top()-10,this.x=t.centerX()-this.textWidth/2)}getAlignTopPos(t){return this.centered?[t.centerX(),t.top()-5]:[t.centerX()-this.textWidth/2,t.top()-10]}alignBottom(t){this.centered?(this.y=t.bottom()+5,this.x=t.centerX()):(this.y=t.bottom(),this.x=t.centerX()-this.textWidth/2)}getAlignBottomPos(t){return this.centered?[t.centerX(),t.bottom()+5]:[t.centerX()-this.textWidth/2,t.bottom()]}getWidth(){return this.textWidth}getHeight(){return 10}setHighlight(t){this.highlighted=t}centerX(){return this.centered?this.x:this.x+this.textWidth}centerY(){return this.centered?this.y:this.y+5}top(){return this.centered?this.y-5:this.y}bottom(){return this.centered?this.y+5:this.y+10}right(){return this.centered?this.x+this.textWidth/2:this.x+this.textWidth}left(){return this.centered?this.x-this.textWidth/2:this.x}setHighlightIndex(t){-1===this.label.indexOf("\n")&&this.label.length>t?(this.highlightIndex=t,this.highlightIndexDirty=!0):this.highlightIndex=-1}getTailPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}getHeadPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}setText(t,e,i){this.label=t,null!=i&&(this.textWidth=i)}createUndoDelete(){return new Me(this.objectID,this.label,this.x,this.y,this.centered,this.labelColor,this.layer,this.highlightIndex,this.highlighted,this.highlightColor,this.isCode,this.isPointer)}}class Me extends ne{constructor(t,e,i,s,h,n,a,r,o,l,d,c){super(),this.objectID=t,this.label=e,this.x=i,this.y=s,this.centered=h,this.labelColor=n,this.layer=a,this.highlightIndex=r,this.highlighted=o,this.highlightColor=l,this.isCode=d,this.isPointer=c}undoInitialStep(t){t.addLabelObject(this.objectID,this.label,this.centered,this.isCode,this.isPointer),t.setNodePosition(this.objectID,this.x,this.y),t.setForegroundColor(this.objectID,this.labelColor),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Ve{constructor(t,e,i,s,h,n,a,r){this.fromID=t,this.toID=e,this.foregroundColor=i,this.edgeLabel=n,this.highlighted=!1,this.highlightDiff=0,this.dirty=!1,this.directed=h,this.anchorPoint=a,this.alpha=1,this.thickness=r,this.arrowHeight=8,this.arrowWidth=4,this.curve=s}color(){return this.foregroundColor}setColor(t){this.foregroundColor=t,this.dirty=!0}setHighlight(t,e){this.highlighted=t,this.highlightColor=e||"#FF0000"}setThickness(t){this.thickness=t}pulseHighlight(t){if(this.highlighted){const e=t/14,i=Math.abs(e%4-3+1);this.highlightDiff=i+this.thickness+3,this.dirty=!0}}hasNode(t){return this.fromID===t||this.toID===t}sign(t){return t>0?1:-1}drawArrow(t,e,i){i.strokeStyle=e,i.fillStyle=e,i.lineWidth=t;const s=this.fromID.getTailPointerAttachPos(this.toID.x,this.toID.y,this.anchorPoint),h=this.toID.getHeadPointerAttachPos(this.fromID.x,this.fromID.y),n=h[0]-s[0],a=h[1]-s[1],r=n/2+s[0],o=a/2+s[1],l=r-a*this.curve,d=o+n*this.curve;i.beginPath(),i.moveTo(s[0],s[1]),i.quadraticCurveTo(l,d,h[0],h[1]),i.stroke();let c=.25*s[0]+.5*l+.25*h[0],u=.25*s[1]+.5*d+.25*h[1];const m=Math.sqrt(a*a+n*n);if(0!==m&&(c+=-a*this.sign(this.curve)/m*10,u+=n*this.sign(this.curve)/m*10),i.textAlign="center",i.font="12px Arial",i.textBaseline="middle",i.fillText(this.edgeLabel,c,u),this.directed){let t=l-h[0],e=d-h[1];const s=Math.sqrt(t*t+e*e);s>0&&(t/=s,e/=s,i.beginPath(),i.moveTo(h[0],h[1]),i.lineTo(h[0]+t*this.arrowHeight-e*this.arrowWidth,h[1]+e*this.arrowHeight+t*this.arrowWidth),i.lineTo(h[0]+t*this.arrowHeight+e*this.arrowWidth,h[1]+e*this.arrowHeight-t*this.arrowWidth),i.lineTo(h[0],h[1]),i.closePath(),i.stroke(),i.fill())}}draw(t){t.globalAlpha=this.alpha,this.highlighted&&this.drawArrow(this.highlightDiff,this.highlightColor,t),this.drawArrow(this.thickness,this.foregroundColor,t)}createUndoConnect(){return new $e(this.fromID.objectID,this.toID.objectID,!0,this.foregroundColor,this.curve,this.directed,this.edgeLabel,this.anchorPoint,this.thickness,this.highlighted)}}class $e{constructor(t,e,i,s,h,n,a,r,o,l){this.fromID=t,this.toID=e,this.createConnection=i,this.color=s,this.curve=h,this.directed=n,this.edgeLabel=a,this.anchorPoint=r,this.thickness=o,this.highlighted=l}undoInitialStep(t){this.createConnection?(t.connectEdge(this.fromID,this.toID,this.color,this.curve,this.directed,this.edgeLabel,this.anchorPoint,this.thickness),t.setEdgeHighlight(this.fromID,this.toID,this.highlighted)):t.disconnect(this.fromID,this.toID)}addUndoAnimation(){return!1}}class qe extends Fe{constructor(t,e,i,s,h,n,a,r,o){super(),this.objectID=t,this.w=i,this.h=s,this.backgroundColor=r,this.foregroundColor=o,this.highlighted=!1,this.vertical=n,this.linkPosEnd=a,this.linkPercent=h,this.nullPointer=!1,this.labels=e,this.labelPosX=[0],this.labelPosY=[0],this.labelColors=[o]}left(){return this.vertical?this.x-this.w/2:this.linkPosEnd?this.x-this.w*(1-this.linkPercent)/2:this.x-this.w*(this.linkPercent+1)/2}setNull(t){this.nullPointer!==t&&(this.nullPointer=t)}getNull(){return this.nullPointer}right(){return this.vertical?this.x+this.w/2:this.linkPosEnd?this.x+this.w*(this.linkPercent+1)/2:this.x+this.w*(1-this.linkPercent)/2}top(){return this.vertical?this.linkPosEnd?this.y-this.h*(1-this.linkPercent)/2:this.y-this.h*(1+this.linkPercent)/2:this.y-this.h/2}bottom(){return this.vertical?this.linkPosEnd?this.y+this.h*(1+this.linkPercent)/2:this.y+this.h*(1-this.linkPercent)/2:this.y+this.h/2}getTailPointerAttachPos(t,e,i){return this.vertical&&this.linkPosEnd?[this.x,this.y+this.h/2]:this.vertical&&!this.linkPosEnd?[this.x,this.y-this.h/2]:!this.vertical&&this.linkPosEnd?[this.x+this.w/2,this.y]:[this.x-this.w/2,this.y]}getHeadPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}setWidth(t){this.w=t}setHeight(t){this.h=t}getWidth(){return this.w}getHeight(){return this.h}draw(t){let e,i;if(t.lineWidth=2,e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),this.vertical){e=this.left();for(let s=1;s<this.labels.length;s++)i=this.y+this.h*(1-this.linkPercent)*(s/this.labels.length-.5),t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.closePath(),t.stroke()}else{i=this.top();for(let s=1;s<this.labels.length;s++)e=this.x+this.w*(1-this.linkPercent)*(s/this.labels.length-.5),t.beginPath(),t.moveTo(e,i),t.lineTo(e,i+this.h),t.closePath(),t.stroke()}if(t.lineWidth=1,this.vertical&&this.linkPosEnd?(e=this.left(),i=this.bottom()-this.h*this.linkPercent,t.beginPath(),t.moveTo(e+this.w,i),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.startX+this.w,this.bottom()),t.closePath(),t.stroke()):this.vertical&&!this.linkPosEnd?(e=this.left(),i=this.top()+this.h*this.linkPercent,t.beginPath(),t.moveTo(e+this.w,i),t.lineTo(e,i),this.nullPointer&&t.lineTo(e+this.w,this.top()),t.closePath(),t.stroke()):!this.vertical&&this.linkPosEnd?(e=this.right()-this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.right(),i+this.h),t.closePath(),t.stroke()):(e=this.left()+this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.left(),i),t.closePath(),t.stroke()),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.vertical){this.labelPosX[0]=this.x,this.labelPosY[0]=this.y+this.h*(1-this.linkPercent)/2*(1/this.labels.length-1);for(let t=1;t<this.labels.length;t++)this.labelPosX[t]=this.x,this.labelPosY[t]=this.labelPosY[t-1]+this.h*(1-this.linkPercent)/this.labels.length}else{this.labelPosY[0]=this.y,this.labelPosX[0]=this.x+this.w*(1-this.linkPercent)/2*(1/this.labels.length-1);for(let t=1;t<this.labels.length;t++)this.labelPosY[t]=this.y,this.labelPosX[t]=this.labelPosX[t-1]+this.w*(1-this.linkPercent)/this.labels.length}for(let s=0;s<this.labels.length;s++)t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],this.labelPosX[s],this.labelPosY[s])}setTextColor(t,e){this.labelColors[e]=t}getTextColor(t){return this.labelColors[t]}getText(t){return this.labels[t]}setText(t,e){this.labels[e]=t}setHighlight(t){t!==this.highlighted&&(this.highlighted=t)}createUndoDelete(){return new We(this.objectID,this.labels,this.w,this.h,this.x,this.y,this.linkPercent,this.vertical,this.linkPosEnd,this.backgroundColor,this.foregroundColor,this.labelColors,this.layer,this.nullPointer,this.highlighted,this.highlightColor)}}class We extends ne{constructor(t,e,i,s,h,n,a,r,o,l,d,c,u,m,g,p){super(),this.objectID=t,this.labels=e,this.w=i,this.h=s,this.x=h,this.y=n,this.linkPercent=a,this.vertical=r,this.linkPosEnd=o,this.backgroundColor=l,this.foregroundColor=d,this.labelColors=c,this.layer=u,this.nullPointer=m,this.highlighted=g,this.highlightColor=p}undoInitialStep(t){t.addLinkedListObject(this.objectID,this.labels,this.w,this.h,this.linkPercent,this.vertical,this.linkPosEnd,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setNull(this.objectID,this.nullPointer);for(let e=0;e<this.labels.length;e++)t.setTextColor(this.objectID,this.labelColors[e],e);t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Ue extends Fe{constructor(t,e,i,s,h,n,a,r){super(),this.objectID=t,this.w=i,this.h=s,this.xJustify=h,this.yJustify=n,this.backgroundColor=a,this.foregroundColor=r,this.textColor=r,this.highlighted=!1,this.thicknessArray=[!1,!1,!1,!1],this.label=e,this.nullPointer=!1}setNull(t){this.nullPointer=t}getNull(){return this.nullPointer}left(){return"left"===this.xJustify?this.x:"center"===this.xJustify?this.x-this.w/2:this.x-this.w}centerX(){return"center"===this.xJustify?this.x:"left"===this.xJustify?this.x+this.w/2:this.x-this.w/2}centerY(){return"center"===this.yJustify?this.y:"top"===this.yJustify?this.y+this.h/2:this.y-this.w/2}top(){return"top"===this.yJustify?this.y:"center"===this.yJustify?this.y-this.h/2:this.y-this.h}bottom(){return"top"===this.yJustify?this.y+this.h:"center"===this.yJustify?this.y+this.h/2:this.y}right(){return"left"===this.xJustify?this.x+this.w:"center"===this.xJustify?this.x+this.w/2:this.x}getHeadPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}getTailPointerAttachPos(t,e,i){switch(i){case 0:return this.getClosestCardinalPoint(t,e);case 1:return[this.x,this.top()];case 2:return[this.x,this.bottom()];case 3:return[this.left(),this.y];case 4:return[this.right(),this.y];default:return null}}setWidth(t){this.w=t}setHeight(t){this.h=t}getWidth(){return this.w}getHeight(){return this.h}draw(t){if(!this.addedToScene)return;let e,i;t.globalAlpha=this.alpha,t.lineWidth=2,"left"===this.xJustify?e=this.x:"center"===this.xJustify?e=this.x-this.w/2:"right"===this.xJustify&&(e=this.x-this.w),"top"===this.yJustify?i=this.y:"center"===this.yJustify?i=this.y-this.h/2:"bottom"===this.yJustify&&(i=this.y-this.h),t.lineWidth=2,this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),this.thicknessArray[0]&&(t.lineWidth=3,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.stroke(),t.closePath()),this.thicknessArray[1]&&(t.lineWidth=3,t.beginPath(),t.moveTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.stroke(),t.closePath()),this.thicknessArray[2]&&(t.lineWidth=3,t.beginPath(),t.moveTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.stroke(),t.closePath()),this.thicknessArray[3]&&(t.lineWidth=3,t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),t.stroke(),t.closePath()),t.lineWidth=1.2,this.nullPointer&&(t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i+this.h),t.closePath(),t.stroke()),t.fillStyle=this.textColor,t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,t.fillText(this.label,this.x,this.y)}setText(t){this.label=t}setTextColor(t){this.textColor=t}getTextColor(){return this.textColor}setHighlight(t){this.highlighted=t}setEdgeThickness(t){this.thicknessArray=t}getEdgeThickness(){return this.thicknessArray}createUndoDelete(){return new Ke(this.objectID,this.label,this.x,this.y,this.w,this.h,this.xJustify,this.yJustify,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}class Ke extends ne{constructor(t,e,i,s,h,n,a,r,o,l,d,c,u){super(),this.objectID=t,this.label=e,this.x=i,this.y=s,this.w=h,this.h=n,this.xJustify=a,this.yJustify=r,this.backgroundColor=o,this.foregroundColor=l,this.layer=d,this.highlighted=c,this.highlightColor=u}undoInitialStep(t){t.addRectangleObject(this.objectID,this.label,this.w,this.h,this.xJustify,this.yJustify,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Xe extends Fe{constructor(t,e,i,s,h,n){super(),this.objectID=t,this.w=i,this.h=s,this.backgroundColor=h,this.foregroundColor=n,this.highlighted=!1,this.label=e,this.labelPosX=0,this.labelPosY=0,this.labelColor=n}left(){return this.x-this.w/2}right(){return this.x+this.w/2}top(){return this.y-this.h/2}bottom(){return this.y+this.h/2}resetTextPosition(){this.labelPosY=this.y,this.labelPosX=this.x}getTailPointerAttachPos(t,e,i){switch(i){case 0:return[this.x,this.top()];case 1:return[this.x,this.bottom()];case 2:return[this.left(),this.y];case 3:return[this.right(),this.y];default:return this.getClosestCardinalPoint(t,e)}}getHeadPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}setWidth(t){this.w=t,this.resetTextPosition()}setHeight(t){this.h=t,this.resetTextPosition()}getWidth(){return this.w}getHeight(){return this.h}draw(t){const e=this.left(),i=this.top();this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,"\u2212\u221e"!==this.label&&"\u221e"!==this.label||(t.font="18px sans-serif"),t.fillText(this.label,this.labelPosX,this.labelPosY)}setTextColor(t){this.labelColor=t}getTextColor(){return this.labelColor}getText(){return this.label}setText(t){this.label=t,this.resetTextPosition()}setHighlight(t){t!==this.highlighted&&(this.highlighted=t)}createUndoDelete(){return new Ge(this.objectID,this.label,this.w,this.h,this.x,this.y,this.labelColor,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}class Ge extends ne{constructor(t,e,i,s,h,n,a,r,o,l,d,c){super(),this.objectID=t,this.label=e,this.w=i,this.h=s,this.x=h,this.y=n,this.labelColor=a,this.backgroundColor=r,this.foregroundColor=o,this.layer=l,this.highlighted=d,this.highlightColor=c}undoInitialStep(t){t.addSkipListObject(this.objectID,this.label,this.w,this.h,this.backgroundColor,this.foregroundColor),t.setTextColor(this.objectID,this.labelColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Ye{constructor(t){this.nodes=[],this.edges=[],this.backEdges=[],this.activeLayers=[],this.activeLayers[0]=!0,this.activeLayers[32]=!0,this.activeLayers[33]=!1,this.ctx=t.current.getContext("2d"),this.framenum=0,this.width=0,this.height=0,this.statusReport=new He(-1,"XXX",!1,30),this.statusReport.x=30}draw(){let t,e;for(this.framenum++,this.framenum>1e3&&(this.framenum=0),this.ctx.clearRect(0,0,this.width,this.height),this.statusReport.y=this.height-15,t=0;t<this.nodes.length;t++)null==this.nodes[t]||this.nodes[t].highlighted||!this.nodes[t].addedToScene||this.nodes[t].alwaysOnTop||this.nodes[t].draw(this.ctx);for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&this.nodes[t].highlighted&&!this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&(this.nodes[t].pulseHighlight(this.framenum),this.nodes[t].draw(this.ctx));for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&!this.nodes[t].highlighted&&this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&this.nodes[t].draw(this.ctx);for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&this.nodes[t].highlighted&&this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&(this.nodes[t].pulseHighlight(this.framenum),this.nodes[t].draw(this.ctx));for(t=0;t<this.edges.length;t++)if(null!=this.edges[t])for(e=0;e<this.edges[t].length;e++)this.edges[t][e].addedToScene&&(this.edges[t][e].pulseHighlight(this.framenum),this.edges[t][e].draw(this.ctx));this.statusReport.draw(this.ctx)}update(){}setLayers(t,e){for(let i=0;i<e.length;i++)this.activeLayers[e[i]]=t;this.resetLayers()}addHighlightCircleObject(t,e,i){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addHighlightCircleObject: object with same ID ("+String(t)+") already exists!");const s=new je(t,e,i);this.nodes[t]=s}setEdgeAlpha(t,e,i){let s=1;if(null!=this.edges[t]&&void 0!==this.edges[t]){for(let h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[e]&&(s=this.edges[t][h].alpha,this.edges[t][h].alpha=i)}return s}setAlpha(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setAlpha(e)}getAlpha(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]?this.nodes[t].getAlpha():-1}getTextColor(t,e){return null!=this.nodes[t]&&void 0!==this.nodes[t]?this.nodes[t].getTextColor(e):"#000000"}setTextColor(t,e,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setTextColor(e,i)}setHighlightIndex(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHighlightIndex(e)}setAllLayers(t){this.activeLayers=[];for(let e=0;e<t.length;e++)this.activeLayers[t[e]]=!0;this.resetLayers()}toggleLayer(t){this.activeLayers[t]=!this.activeLayers[t],this.resetLayers()}updateLayer(t,e){this.activeLayers[t]=e,this.resetLayers()}resetLayers(){let t;for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&void 0!==this.nodes[t]&&(this.nodes[t].addedToScene=!0===this.activeLayers[this.nodes[t].layer]);for(t=this.edges.length-1;t>=0;t--)if(null!=this.edges[t]&&void 0!==this.edges[t])for(let e=0;e<this.edges[t].length;e++)null!=this.edges[t][e]&&void 0!==this.edges[t][e]&&(this.edges[t][e].addedToScene=!0===this.activeLayers[this.edges[t][e].fromID.layer]&&!0===this.activeLayers[this.edges[t][e].toID.layer])}setLayer(t,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){if(this.nodes[t].layer=e,this.activeLayers[e]?this.nodes[t].addedToScene=!0:this.nodes[t].addedToScene=!1,null!=this.edges[t]&&void 0!==this.edges[t])for(let e=0;e<this.edges[t].length;e++){const i=this.edges[t][e];null!=i&&void 0!==i&&(i.addedToScene=i.fromID.addedToScene&&i.toID.addedToScene)}if(null!=this.backEdges[t]&&void 0!==this.backEdges[t])for(let e=0;e<this.backEdges[t].length;e++){const i=this.backEdges[t][e];null!=i&&void 0!==i&&(i.addedToScene=i.fromID.addedToScene&&i.toID.addedToScene)}}}clearAllObjects(){this.nodes=[],this.edges=[],this.backEdges=[]}setForegroundColor(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setForegroundColor(e)}setBackgroundColor(t,e){null!=this.nodes[t]&&this.nodes[t].setBackgroundColor(e)}setHighlight(t,e,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHighlight(e,i)}getHighlight(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getHighlight()}getHighlightIndex(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getHighlightIndex()}setWidth(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setWidth(e)}setHeight(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHeight(e)}getHeight(t){return null==this.nodes[t]||void 0===this.nodes[t]?-1:this.nodes[t].getHeight()}getWidth(t){return null==this.nodes[t]||void 0===this.nodes[t]?-1:this.nodes[t].getWidth()}backgroundColor(t){return null!=this.nodes[t]?this.nodes[t].backgroundColor:"#000000"}foregroundColor(t){return null!=this.nodes[t]?this.nodes[t].foregroundColor:"#000000"}disconnect(t,e){let i,s,h=null;if(null!=this.edges[t]){i=this.edges[t].length;for(let n=i-1;n>=0;n--)null!=this.edges[t][n]&&this.edges[t][n].toID===this.nodes[e]&&(s=this.edges[t][n],h=s.createUndoConnect(),this.edges[t][n]=this.edges[t][i-1],i-=1,this.edges[t].pop())}if(null!=this.backEdges[e]){i=this.backEdges[e].length;for(let h=i-1;h>=0;h--)null!=this.backEdges[e][h]&&this.backEdges[e][h].fromID===this.nodes[t]&&(s=this.backEdges[e][h],this.backEdges[e][h]=this.backEdges[e][i-1],i-=1,this.backEdges[e].pop())}return h}deleteIncident(t){const e=[];let i,s;if(null!=this.edges[t]){i=this.edges[t].length;for(let h=i-1;h>=0;h--){s=this.edges[t][h];const i=s.toID.identifier();e.push(s.createUndoConnect());let n=this.backEdges[i].length;for(let t=n-1;t>=0;t--)this.backEdges[i][t]===s&&(this.backEdges[i][t]=this.backEdges[i][n-1],n-=1,this.backEdges[i].pop())}this.edges[t]=null}if(null!=this.backEdges[t]){i=this.backEdges[t].length;for(let h=i-1;h>=0;h--){s=this.backEdges[t][h];const i=s.fromID.identifier();e.push(s.createUndoConnect());let n=this.edges[i].length;for(let t=n-1;t>=0;t--)this.edges[i][t]===s&&(this.edges[i][t]=this.edges[i][n-1],n-=1,this.edges[i].pop())}this.backEdges[t]=null}return e}removeObject(t){const e=this.nodes[t];return t===this.nodes.length-1?this.nodes.pop():this.nodes[t]=null,e}getObject(t){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("getObject:Object with ID ("+String(t)+") does not exist");return this.nodes[t]}addCircleObject(t,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addCircleObject: object with same ID ("+String(t)+") already exists!");const i=new Be(t,e);this.nodes[t]=i}getNodeX(t){if(null!=this.nodes[t]&&void 0!==this.nodes[t])return this.nodes[t].x}getTextWidth(t,e,i){this.ctx.font=e?'13px "Source Code Pro", monospace':i?"16px Arial":"12px Arial";const s=t.split("\n");let h=0;if(1===s.length)h=this.ctx.measureText(t).width;else for(let n=0;n<s.length;n++)h=Math.max(h,this.ctx.measureText(s[n]).width);return h}setText(t,e,i){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("setting text of an object that does not exist");this.nodes[t].setText(e,i,this.getTextWidth(e))}getText(t,e){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("getting text of an object that does not exist");return this.nodes[t].getText(e)}getNodeY(t){if(null!=this.nodes[t]&&void 0!==this.nodes[t])return this.nodes[t].y}connectEdge(t,e,i,s,h,n,a,r){const o=this.nodes[t],l=this.nodes[e];if(null==o||null==l)throw new Error("Tried to connect two nodes, one didn't exist!");const d=new Ve(o,l,i,s,h,n,a,r);null==this.edges[t]&&(this.edges[t]=[]),null==this.backEdges[e]&&(this.backEdges[e]=[]),d.addedToScene=o.addedToScene&&l.addedToScene,this.edges[t].push(d),this.backEdges[e].push(d)}setNull(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setNull(e)}setPrevNull(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setPrevNull(e)}setNextNull(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setNextNull(e)}getNull(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getNull()}getLeftNull(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getLeftNull()}getRightNull(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getRightNull()}setEdgeColor(t,e,i){let s="#000000";if(null!=this.edges[t]&&void 0!==this.edges[t]){for(let h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[e]&&(s=this.edges[t][h].color(),this.edges[t][h].setColor(i))}return s}alignTop(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.nodes[t].alignTop(this.nodes[e])}alignLeft(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.nodes[t].alignLeft(this.nodes[e])}alignRight(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.nodes[t].alignRight(this.nodes[e])}getAlignRightPos(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));return this.nodes[t].getAlignRightPos(this.nodes[e])}getAlignLeftPos(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));return this.nodes[t].getAlignLeftPos(this.nodes[e])}alignBottom(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.nodes[t].alignBottom(this.nodes[e])}setAlwaysOnTop(t,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){const i=this.nodes[t].alwaysOnTop;return this.nodes[t].alwaysOnTop=e,i}throw new Error("Trying to bring node that doesn't exist to top")}setEdgeHighlight(t,e,i,s){let h=!1;if(null!=this.edges[t]&&void 0!==this.edges[t]){for(let n=this.edges[t].length-1;n>=0;n--)null!=this.edges[t][n]&&void 0!==this.edges[t][n]&&this.edges[t][n].toID===this.nodes[e]&&(h=this.edges[t][n].highlighted,this.edges[t][n].setHighlight(i,s))}return h}setEdgeThickness(t,e,i){let s=1;if(null!=this.edges[t]&&void 0!==this.edges[t]){for(let h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[e]&&(s=this.edges[t][h].thickness,this.edges[t][h].setThickness(i))}return s}setRectangleEdgeThickness(t,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){const i=this.nodes[t].getEdgeThickness();return this.nodes[t].setEdgeThickness(e),i}throw new Error("Trying to bring node that doesn't exist to top")}addLabelObject(t,e,i,s,h){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addLabelObject: object already exists!");const n=new He(t,e,i,this.getTextWidth(e,s,h),s,h);this.nodes[t]=n}addLinkedListObject(t,e,i,s,h,n,a,r,o){if(null!=this.nodes[t])throw new Error("addLinkedListObject: object with same ID already exists!");const l=new qe(t,e,i,s,h,n,a,r,o);this.nodes[t]=l}addDoublyLinkedListObject(t,e,i,s,h,n,a){if(null!=this.nodes[t])throw new Error("addDoublyLinkedListObject: object with same ID already exists!");const r=new Oe(t,e,i,s,h,n,a);this.nodes[t]=r}addCircularlyLinkedListObject(t,e,i,s,h,n,a){if(null!=this.nodes[t])throw new Error("addCircularlyLinkedListObject: object with same ID already exists!");const r=new Pe(t,e,i,s,h,n,a);this.nodes[t]=r}addSkipListObject(t,e,i,s,h,n){if(null!=this.nodes[t])throw new Error("addSkipListObject: object with same ID already exists!");const a=new Xe(t,e,i,s,h,n);this.nodes[t]=a}getNumElements(t){return this.nodes[t].getNumElements()}setNumElements(t,e){this.nodes[t].setNumElements(e)}addBTreeNode(t,e,i,s,h,n){if(h=void 0===h?"#FFFFFF":h,n=void 0===n?"#FFFFFF":n,null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addBTreeNode: object with same ID already exists!");const a=new Ae(t,e,i,s,h,n);this.nodes[t]=a}addRectangleObject(t,e,i,s,h,n,a,r){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addRectangleObject: object with same ID already exists!");const o=new Ue(t,e,i,s,h,n,a,r);this.nodes[t]=o}setNodePosition(t,e,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&void 0!==e&&void 0!==i&&(this.nodes[t].x=e,this.nodes[t].y=i)}}var Qe=i(391);function Ze(t,e){if(null==t)return{};var i,s,h={},n=Object.keys(t);for(s=0;s<n.length;s++)i=n[s],e.indexOf(i)>=0||(h[i]=t[i]);return h}function Je(){return Je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Je.apply(this,arguments)}var ti=i(24);function ei(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.useMemo((()=>i.every((t=>null==t))?null:t=>{i.forEach((e=>{!function(t,e){"function"===typeof t?t(e):t&&(t.current=e)}(e,t)}))}),i)}var ii=function(t){return"string"===typeof t};function si(t){if(void 0===t)return{};const e={};return Object.keys(t).filter((e=>!(e.match(/^on[A-Z]/)&&"function"===typeof t[e]))).forEach((i=>{e[i]=t[i]})),e}function hi(t){const{getSlotProps:e,additionalProps:i,externalSlotProps:s,externalForwardedProps:h,className:n}=t;if(!e){const t=(0,ti.default)(null==h?void 0:h.className,null==s?void 0:s.className,n,null==i?void 0:i.className),e=Je({},null==i?void 0:i.style,null==h?void 0:h.style,null==s?void 0:s.style),a=Je({},i,h,s);return t.length>0&&(a.className=t),Object.keys(e).length>0&&(a.style=e),{props:a,internalRef:void 0}}const a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===t)return{};const i={};return Object.keys(t).filter((i=>i.match(/^on[A-Z]/)&&"function"===typeof t[i]&&!e.includes(i))).forEach((e=>{i[e]=t[e]})),i}(Je({},h,s)),r=si(s),o=si(h),l=e(a),d=(0,ti.default)(null==l?void 0:l.className,null==i?void 0:i.className,n,null==h?void 0:h.className,null==s?void 0:s.className),c=Je({},null==l?void 0:l.style,null==i?void 0:i.style,null==h?void 0:h.style,null==s?void 0:s.style),u=Je({},l,i,o,r);return d.length>0&&(u.className=d),Object.keys(c).length>0&&(u.style=c),{props:u,internalRef:l.ref}}const ni=["elementType","externalSlotProps","ownerState"];function ai(t){var e;const{elementType:i,externalSlotProps:s,ownerState:h}=t,n=Ze(t,ni),a=function(t,e){return"function"===typeof t?t(e):t}(s,h),{props:r,internalRef:o}=hi(Je({},n,{externalSlotProps:a})),l=function(t,e,i){return void 0===t||ii(t)?e:Je({},e,{ownerState:Je({},e.ownerState,i)})}(i,Je({},r,{ref:ei(o,null==a?void 0:a.ref,null==(e=t.additionalProps)?void 0:e.ref)}),h);return l}function ri(t){return t&&t.ownerDocument||document}let oi,li=!0,di=!1;const ci={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ui(t){t.metaKey||t.altKey||t.ctrlKey||(li=!0)}function mi(){li=!1}function gi(){"hidden"===this.visibilityState&&di&&(li=!0)}function pi(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(i){}return li||function(t){const{type:e,tagName:i}=t;return!("INPUT"!==i||!ci[e]||t.readOnly)||"TEXTAREA"===i&&!t.readOnly||!!t.isContentEditable}(e)}function fi(){const t=e.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",ui,!0),e.addEventListener("mousedown",mi,!0),e.addEventListener("pointerdown",mi,!0),e.addEventListener("touchstart",mi,!0),e.addEventListener("visibilitychange",gi,!0))}),[]),i=e.useRef(!1);return{isFocusVisibleRef:i,onFocus:function(t){return!!pi(t)&&(i.current=!0,!0)},onBlur:function(){return!!i.current&&(di=!0,window.clearTimeout(oi),oi=window.setTimeout((()=>{di=!1}),100),i.current=!1,!0)},ref:t}}var Ii="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function bi(t){const i=e.useRef(t);return Ii((()=>{i.current=t})),e.useCallback((function(){return(0,i.current)(...arguments)}),[])}var xi={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Di(t,e){return t-e}function yi(t,e,i){return null==t?e:Math.min(Math.max(e,t),i)}function vi(t,e){var i;const{index:s}=null!=(i=t.reduce(((t,i,s)=>{const h=Math.abs(e-i);return null===t||h<t.distance||h===t.distance?{distance:h,index:s}:t}),null))?i:{};return s}function ki(t,e){if(void 0!==e.current&&t.changedTouches){const i=t;for(let t=0;t<i.changedTouches.length;t+=1){const s=i.changedTouches[t];if(s.identifier===e.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Ci(t,e,i){return 100*(t-e)/(i-e)}function wi(t,e,i){const s=Math.round((t-i)/e)*e+i;return Number(s.toFixed(function(t){if(Math.abs(t)<1){const e=t.toExponential().split("e-"),i=e[0].split(".")[1];return(i?i.length:0)+parseInt(e[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}(e)))}function Ti(t){let{values:e,newValue:i,index:s}=t;const h=e.slice();return h[s]=i,h.sort(Di)}function Li(t){let{sliderRef:e,activeIndex:i,setActive:s}=t;var h,n;const a=ri(e.current);var r;null!=(h=e.current)&&h.contains(a.activeElement)&&Number(null==a||null==(n=a.activeElement)?void 0:n.getAttribute("data-index"))===i||(null==(r=e.current)||r.querySelector(`[type="range"][data-index="${i}"]`).focus());s&&s(i)}const Si={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Fi=t=>t;let Ai;function _i(){return void 0===Ai&&(Ai="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),Ai}function Bi(t){const{"aria-labelledby":i,defaultValue:s,disabled:h=!1,disableSwap:n=!1,isRtl:a=!1,marks:r=!1,max:o=100,min:l=0,name:d,onChange:c,onChangeCommitted:u,orientation:m="horizontal",ref:g,scale:p=Fi,step:f=1,tabIndex:I,value:b}=t,x=e.useRef(),[D,y]=e.useState(-1),[v,k]=e.useState(-1),[C,w]=e.useState(!1),T=e.useRef(0),[L,S]=function(t){let{controlled:i,default:s,name:h,state:n="value"}=t;const{current:a}=e.useRef(void 0!==i),[r,o]=e.useState(s);return[a?i:r,e.useCallback((t=>{a||o(t)}),[])]}({controlled:b,default:null!=s?s:l,name:"Slider"}),F=c&&((t,e,i)=>{const s=t.nativeEvent||t,h=new s.constructor(s.type,s);Object.defineProperty(h,"target",{writable:!0,value:{value:e,name:d}}),c(h,e,i)}),A=Array.isArray(L);let _=A?L.slice().sort(Di):[L];_=_.map((t=>yi(t,l,o)));const B=!0===r&&null!==f?[...Array(Math.floor((o-l)/f)+1)].map(((t,e)=>({value:l+f*e}))):r||[],z=B.map((t=>t.value)),{isFocusVisibleRef:P,onBlur:E,onFocus:O,ref:R}=fi(),[j,N]=e.useState(-1),H=e.useRef(),M=ei(R,H),V=ei(g,M),$=t=>e=>{var i;const s=Number(e.currentTarget.getAttribute("data-index"));O(e),!0===P.current&&N(s),k(s),null==t||null==(i=t.onFocus)||i.call(t,e)},q=t=>e=>{var i;E(e),!1===P.current&&N(-1),k(-1),null==t||null==(i=t.onBlur)||i.call(t,e)};Ii((()=>{var t;h&&H.current.contains(document.activeElement)&&(null==(t=document.activeElement)||t.blur())}),[h]),h&&-1!==D&&y(-1),h&&-1!==j&&N(-1);const W=t=>e=>{var i;null==(i=t.onChange)||i.call(t,e);const s=Number(e.currentTarget.getAttribute("data-index")),h=_[s],a=z.indexOf(h);let r=e.target.valueAsNumber;if(B&&null==f&&(r=r<h?z[a-1]:z[a+1]),r=yi(r,l,o),B&&null==f){const t=z.indexOf(_[s]);r=r<_[s]?z[t-1]:z[t+1]}if(A){n&&(r=yi(r,_[s-1]||-1/0,_[s+1]||1/0));const t=r;r=Ti({values:_,newValue:r,index:s});let e=s;n||(e=r.indexOf(t)),Li({sliderRef:H,activeIndex:e})}S(r),N(s),F&&F(e,r,s),u&&u(e,r)},U=e.useRef();let K=m;a&&"horizontal"===m&&(K+="-reverse");const X=t=>{let{finger:e,move:i=!1}=t;const{current:s}=H,{width:h,height:a,bottom:r,left:d}=s.getBoundingClientRect();let c,u;if(c=0===K.indexOf("vertical")?(r-e.y)/a:(e.x-d)/h,-1!==K.indexOf("-reverse")&&(c=1-c),u=function(t,e,i){return(i-e)*t+e}(c,l,o),f)u=wi(u,f,l);else{const t=vi(z,u);u=z[t]}u=yi(u,l,o);let m=0;if(A){m=i?U.current:vi(_,u),n&&(u=yi(u,_[m-1]||-1/0,_[m+1]||1/0));const t=u;u=Ti({values:_,newValue:u,index:m}),n&&i||(m=u.indexOf(t),U.current=m)}return{newValue:u,activeIndex:m}},G=bi((t=>{const e=ki(t,x);if(!e)return;if(T.current+=1,"mousemove"===t.type&&0===t.buttons)return void Y(t);const{newValue:i,activeIndex:s}=X({finger:e,move:!0});Li({sliderRef:H,activeIndex:s,setActive:y}),S(i),!C&&T.current>2&&w(!0),F&&i!==L&&F(t,i,s)})),Y=bi((t=>{const e=ki(t,x);if(w(!1),!e)return;const{newValue:i}=X({finger:e,move:!0});y(-1),"touchend"===t.type&&k(-1),u&&u(t,i),x.current=void 0,Z()})),Q=bi((t=>{if(h)return;_i()||t.preventDefault();const e=t.changedTouches[0];null!=e&&(x.current=e.identifier);const i=ki(t,x);if(!1!==i){const{newValue:e,activeIndex:s}=X({finger:i});Li({sliderRef:H,activeIndex:s,setActive:y}),S(e),F&&F(t,e,s)}T.current=0;const s=ri(H.current);s.addEventListener("touchmove",G),s.addEventListener("touchend",Y)})),Z=e.useCallback((()=>{const t=ri(H.current);t.removeEventListener("mousemove",G),t.removeEventListener("mouseup",Y),t.removeEventListener("touchmove",G),t.removeEventListener("touchend",Y)}),[Y,G]);e.useEffect((()=>{const{current:t}=H;return t.addEventListener("touchstart",Q,{passive:_i()}),()=>{t.removeEventListener("touchstart",Q,{passive:_i()}),Z()}}),[Z,Q]),e.useEffect((()=>{h&&Z()}),[h,Z]);const J=t=>e=>{var i;if(null==(i=t.onMouseDown)||i.call(t,e),h)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const s=ki(e,x);if(!1!==s){const{newValue:t,activeIndex:i}=X({finger:s});Li({sliderRef:H,activeIndex:i,setActive:y}),S(t),F&&F(e,t,i)}T.current=0;const n=ri(H.current);n.addEventListener("mousemove",G),n.addEventListener("mouseup",Y)},tt=Ci(A?_[0]:l,l,o),et=Ci(_[_.length-1],l,o)-tt,it=t=>e=>{var i;null==(i=t.onMouseOver)||i.call(t,e);const s=Number(e.currentTarget.getAttribute("data-index"));k(s)},st=t=>e=>{var i;null==(i=t.onMouseLeave)||i.call(t,e),k(-1)};return{active:D,axis:K,axisProps:Si,dragging:C,focusedThumbIndex:j,getHiddenInputProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const n=Je({},e,{onChange:W(e||{}),onFocus:$(e||{}),onBlur:q(e||{})});return Je({tabIndex:I,"aria-labelledby":i,"aria-orientation":m,"aria-valuemax":p(o),"aria-valuemin":p(l),name:d,type:"range",min:t.min,max:t.max,step:null!=(s=t.step)?s:void 0,disabled:h},n,{style:Je({},xi,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Je({},t,{onMouseDown:J(t||{})});return Je({ref:V},e)},getThumbProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Je({},t,{onMouseOver:it(t||{}),onMouseLeave:st(t||{})})},marks:B,open:v,range:A,trackLeap:et,trackOffset:tt,values:_}}function zi(t){let e="https://mui.com/production-error/?code="+t;for(let i=1;i<arguments.length;i+=1)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Pi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),i)}function Ei(t){if(t.type)return t;if("#"===t.charAt(0))return Ei(function(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let i=t.match(e);return i&&1===i[0].length&&(i=i.map((t=>t+t))),i?`rgb${4===i.length?"a":""}(${i.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", ")})`:""}(t));const e=t.indexOf("("),i=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(i))throw new Error(zi(9,t));let s,h=t.substring(e+1,t.length-1);if("color"===i){if(h=h.split(" "),s=h.shift(),4===h.length&&"/"===h[3].charAt(0)&&(h[3]=h[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s))throw new Error(zi(10,s))}else h=h.split(",");return h=h.map((t=>parseFloat(t))),{type:i,values:h,colorSpace:s}}function Oi(t){const{type:e,colorSpace:i}=t;let{values:s}=t;return-1!==e.indexOf("rgb")?s=s.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),s=-1!==e.indexOf("color")?`${i} ${s.join(" ")}`:`${s.join(", ")}`,`${e}(${s})`}function Ri(t){let e="hsl"===(t=Ei(t)).type||"hsla"===t.type?Ei(function(t){t=Ei(t);const{values:e}=t,i=e[0],s=e[1]/100,h=e[2]/100,n=s*Math.min(h,1-h),a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+i/30)%12;return h-n*Math.max(Math.min(e-3,9-e,1),-1)};let r="rgb";const o=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===t.type&&(r+="a",o.push(e[3])),Oi({type:r,values:o})}(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ji(t,e){return t=Ei(t),e=Pi(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,Oi(t)}function Ni(t,e){if(t=Ei(t),e=Pi(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let i=0;i<3;i+=1)t.values[i]*=1-e;return Oi(t)}function Hi(t,e){if(t=Ei(t),e=Pi(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;else if(-1!==t.type.indexOf("color"))for(let i=0;i<3;i+=1)t.values[i]+=(1-t.values[i])*e;return Oi(t)}function Mi(t,e){const i=Je({},e);return Object.keys(t).forEach((s=>{if(s.toString().match(/^(components|slots)$/))i[s]=Je({},t[s],i[s]);else if(s.toString().match(/^(componentsProps|slotProps)$/)){const h=t[s]||{},n=e[s];i[s]={},n&&Object.keys(n)?h&&Object.keys(h)?(i[s]=Je({},n),Object.keys(h).forEach((t=>{i[s][t]=Mi(h[t],n[t])}))):i[s]=n:i[s]=h}else void 0===i[s]&&(i[s]=t[s])})),i}function Vi(t){const{theme:e,name:i,props:s}=t;return e&&e.components&&e.components[i]&&e.components[i].defaultProps?Mi(e.components[i].defaultProps,s):s}function $i(t){return null!==t&&"object"===typeof t&&t.constructor===Object}function qi(t){if(!$i(t))return t;const e={};return Object.keys(t).forEach((i=>{e[i]=qi(t[i])})),e}function Wi(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const s=i.clone?Je({},t):t;return $i(t)&&$i(e)&&Object.keys(e).forEach((h=>{"__proto__"!==h&&($i(e[h])&&h in t&&$i(t[h])?s[h]=Wi(t[h],e[h],i):i.clone?s[h]=$i(e[h])?qi(e[h]):e[h]:s[h]=e[h])})),s}const Ui=["values","unit","step"];function Ki(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:s=5}=t,h=Ze(t,Ui),n=(t=>{const e=Object.keys(t).map((e=>({key:e,val:t[e]})))||[];return e.sort(((t,e)=>t.val-e.val)),e.reduce(((t,e)=>Je({},t,{[e.key]:e.val})),{})})(e),a=Object.keys(n);function r(t){return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${i})`}function o(t){return`@media (max-width:${("number"===typeof e[t]?e[t]:t)-s/100}${i})`}function l(t,h){const n=a.indexOf(h);return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${i}) and (max-width:${(-1!==n&&"number"===typeof e[a[n]]?e[a[n]]:h)-s/100}${i})`}return Je({keys:a,values:n,up:r,down:o,between:l,only:function(t){return a.indexOf(t)+1<a.length?l(t,a[a.indexOf(t)+1]):r(t)},not:function(t){const e=a.indexOf(t);return 0===e?r(a[1]):e===a.length-1?o(a[e]):l(t,a[a.indexOf(t)+1]).replace("@media","@media not all and")},unit:i},h)}var Xi={borderRadius:4};const Gi={xs:0,sm:600,md:900,lg:1200,xl:1536},Yi={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Gi[t]}px)`};function Qi(t,e,i){const s=t.theme||{};if(Array.isArray(e)){const t=s.breakpoints||Yi;return e.reduce(((s,h,n)=>(s[t.up(t.keys[n])]=i(e[n]),s)),{})}if("object"===typeof e){const t=s.breakpoints||Yi;return Object.keys(e).reduce(((s,h)=>{if(-1!==Object.keys(t.values||Gi).indexOf(h)){s[t.up(h)]=i(e[h],h)}else{const t=h;s[t]=e[t]}return s}),{})}return i(e)}function Zi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e;return(null==(e=t.keys)?void 0:e.reduce(((e,i)=>(e[t.up(i)]={},e)),{}))||{}}function Ji(t,e){return t.reduce(((t,e)=>{const i=t[e];return(!i||0===Object.keys(i).length)&&delete t[e],t}),e)}function ts(t){if("string"!==typeof t)throw new Error(zi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function es(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||"string"!==typeof e)return null;if(t&&t.vars&&i){const i=`vars.${e}`.split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t);if(null!=i)return i}return e.split(".").reduce(((t,e)=>t&&null!=t[e]?t[e]:null),t)}function is(t,e,i){let s,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return s="function"===typeof t?t(i):Array.isArray(t)?t[i]||h:es(t,i)||h,e&&(s=e(s,h,t)),s}var ss=function(t){const{prop:e,cssProperty:i=t.prop,themeKey:s,transform:h}=t,n=t=>{if(null==t[e])return null;const n=t[e],a=es(t.theme,s)||{};return Qi(t,n,(t=>{let s=is(a,h,t);return t===s&&"string"===typeof t&&(s=is(a,h,`${e}${"default"===t?"":ts(t)}`,t)),!1===i?s:{[i]:s}}))};return n.propTypes={},n.filterProps=[e],n};var hs=function(t,e){return e?Wi(t,e,{clone:!1}):t};const ns={m:"margin",p:"padding"},as={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rs={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},os=function(t){const e={};return i=>(void 0===e[i]&&(e[i]=t(i)),e[i])}((t=>{if(t.length>2){if(!rs[t])return[t];t=rs[t]}const[e,i]=t.split(""),s=ns[e],h=as[i]||"";return Array.isArray(h)?h.map((t=>s+t)):[s+h]})),ls=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ds=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],cs=[...ls,...ds];function us(t,e,i,s){var h;const n=null!=(h=es(t,e,!1))?h:i;return"number"===typeof n?t=>"string"===typeof t?t:n*t:Array.isArray(n)?t=>"string"===typeof t?t:n[t]:"function"===typeof n?n:()=>{}}function ms(t){return us(t,"spacing",8)}function gs(t,e){if("string"===typeof e||null==e)return e;const i=t(Math.abs(e));return e>=0?i:"number"===typeof i?-i:`-${i}`}function ps(t,e,i,s){if(-1===e.indexOf(i))return null;const h=function(t,e){return i=>t.reduce(((t,s)=>(t[s]=gs(e,i),t)),{})}(os(i),s);return Qi(t,t[i],h)}function fs(t,e){const i=ms(t.theme);return Object.keys(t).map((s=>ps(t,e,s,i))).reduce(hs,{})}function Is(t){return fs(t,ls)}function bs(t){return fs(t,ds)}function xs(t){return fs(t,cs)}Is.propTypes={},Is.filterProps=ls,bs.propTypes={},bs.filterProps=ds,xs.propTypes={},xs.filterProps=cs;var Ds=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.reduce(((t,e)=>(e.filterProps.forEach((i=>{t[i]=e})),t)),{}),h=t=>Object.keys(t).reduce(((e,i)=>s[i]?hs(e,s[i](t)):e),{});return h.propTypes={},h.filterProps=e.reduce(((t,e)=>t.concat(e.filterProps)),[]),h};function ys(t){return"number"!==typeof t?t:`${t}px solid`}const vs=ss({prop:"border",themeKey:"borders",transform:ys}),ks=ss({prop:"borderTop",themeKey:"borders",transform:ys}),Cs=ss({prop:"borderRight",themeKey:"borders",transform:ys}),ws=ss({prop:"borderBottom",themeKey:"borders",transform:ys}),Ts=ss({prop:"borderLeft",themeKey:"borders",transform:ys}),Ls=ss({prop:"borderColor",themeKey:"palette"}),Ss=ss({prop:"borderTopColor",themeKey:"palette"}),Fs=ss({prop:"borderRightColor",themeKey:"palette"}),As=ss({prop:"borderBottomColor",themeKey:"palette"}),_s=ss({prop:"borderLeftColor",themeKey:"palette"}),Bs=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=us(t.theme,"shape.borderRadius",4),i=t=>({borderRadius:gs(e,t)});return Qi(t,t.borderRadius,i)}return null};Bs.propTypes={},Bs.filterProps=["borderRadius"];Ds(vs,ks,Cs,ws,Ts,Ls,Ss,Fs,As,_s,Bs);const zs=t=>{if(void 0!==t.gap&&null!==t.gap){const e=us(t.theme,"spacing",8),i=t=>({gap:gs(e,t)});return Qi(t,t.gap,i)}return null};zs.propTypes={},zs.filterProps=["gap"];const Ps=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=us(t.theme,"spacing",8),i=t=>({columnGap:gs(e,t)});return Qi(t,t.columnGap,i)}return null};Ps.propTypes={},Ps.filterProps=["columnGap"];const Es=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=us(t.theme,"spacing",8),i=t=>({rowGap:gs(e,t)});return Qi(t,t.rowGap,i)}return null};Es.propTypes={},Es.filterProps=["rowGap"];Ds(zs,Ps,Es,ss({prop:"gridColumn"}),ss({prop:"gridRow"}),ss({prop:"gridAutoFlow"}),ss({prop:"gridAutoColumns"}),ss({prop:"gridAutoRows"}),ss({prop:"gridTemplateColumns"}),ss({prop:"gridTemplateRows"}),ss({prop:"gridTemplateAreas"}),ss({prop:"gridArea"}));function Os(t,e){return"grey"===e?e:t}Ds(ss({prop:"color",themeKey:"palette",transform:Os}),ss({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Os}),ss({prop:"backgroundColor",themeKey:"palette",transform:Os}));function Rs(t){return t<=1&&0!==t?100*t+"%":t}const js=ss({prop:"width",transform:Rs}),Ns=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{var i,s,h;return{maxWidth:(null==(i=t.theme)||null==(s=i.breakpoints)||null==(h=s.values)?void 0:h[e])||Gi[e]||Rs(e)}};return Qi(t,t.maxWidth,e)}return null};Ns.filterProps=["maxWidth"];const Hs=ss({prop:"minWidth",transform:Rs}),Ms=ss({prop:"height",transform:Rs}),Vs=ss({prop:"maxHeight",transform:Rs}),$s=ss({prop:"minHeight",transform:Rs});ss({prop:"size",cssProperty:"width",transform:Rs}),ss({prop:"size",cssProperty:"height",transform:Rs}),Ds(js,Ns,Hs,Ms,Vs,$s,ss({prop:"boxSizing"}));var qs={border:{themeKey:"borders",transform:ys},borderTop:{themeKey:"borders",transform:ys},borderRight:{themeKey:"borders",transform:ys},borderBottom:{themeKey:"borders",transform:ys},borderLeft:{themeKey:"borders",transform:ys},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Bs},color:{themeKey:"palette",transform:Os},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Os},backgroundColor:{themeKey:"palette",transform:Os},p:{style:bs},pt:{style:bs},pr:{style:bs},pb:{style:bs},pl:{style:bs},px:{style:bs},py:{style:bs},padding:{style:bs},paddingTop:{style:bs},paddingRight:{style:bs},paddingBottom:{style:bs},paddingLeft:{style:bs},paddingX:{style:bs},paddingY:{style:bs},paddingInline:{style:bs},paddingInlineStart:{style:bs},paddingInlineEnd:{style:bs},paddingBlock:{style:bs},paddingBlockStart:{style:bs},paddingBlockEnd:{style:bs},m:{style:Is},mt:{style:Is},mr:{style:Is},mb:{style:Is},ml:{style:Is},mx:{style:Is},my:{style:Is},margin:{style:Is},marginTop:{style:Is},marginRight:{style:Is},marginBottom:{style:Is},marginLeft:{style:Is},marginX:{style:Is},marginY:{style:Is},marginInline:{style:Is},marginInlineStart:{style:Is},marginInlineEnd:{style:Is},marginBlock:{style:Is},marginBlockStart:{style:Is},marginBlockEnd:{style:Is},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:zs},rowGap:{style:Es},columnGap:{style:Ps},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Rs},maxWidth:{style:Ns},minWidth:{transform:Rs},height:{transform:Rs},maxHeight:{transform:Rs},minHeight:{transform:Rs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};const Ws=function(){function t(t,e,i,s){const h={[t]:e,theme:i},n=s[t];if(!n)return{[t]:e};const{cssProperty:a=t,themeKey:r,transform:o,style:l}=n;if(null==e)return null;const d=es(i,r)||{};if(l)return l(h);return Qi(h,e,(e=>{let i=is(d,o,e);return e===i&&"string"===typeof e&&(i=is(d,o,`${t}${"default"===e?"":ts(e)}`,e)),!1===a?i:{[a]:i}}))}return function e(i){var s;const{sx:h,theme:n={}}=i||{};if(!h)return null;const a=null!=(s=n.unstable_sxConfig)?s:qs;function r(i){let s=i;if("function"===typeof i)s=i(n);else if("object"!==typeof i)return i;if(!s)return null;const h=Zi(n.breakpoints),r=Object.keys(h);let o=h;return Object.keys(s).forEach((i=>{const h=(r=s[i],l=n,"function"===typeof r?r(l):r);var r,l;if(null!==h&&void 0!==h)if("object"===typeof h)if(a[i])o=hs(o,t(i,h,n,a));else{const t=Qi({theme:n},h,(t=>({[i]:t})));!function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.reduce(((t,e)=>t.concat(Object.keys(e))),[]),h=new Set(s);return e.every((t=>h.size===Object.keys(t).length))}(t,h)?o=hs(o,t):o[i]=e({sx:h,theme:n})}else o=hs(o,t(i,h,n,a))})),Ji(r,o)}return Array.isArray(h)?h.map(r):r(h)}}();Ws.filterProps=["sx"];var Us=Ws;const Ks=["breakpoints","palette","spacing","shape"];var Xs=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:e={},palette:i={},spacing:s,shape:h={}}=t,n=Ze(t,Ks),a=Ki(e),r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;const e=ms({spacing:t}),i=function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(0===i.length?[1]:i).map((t=>{const i=e(t);return"number"===typeof i?`${i}px`:i})).join(" ")};return i.mui=!0,i}(s);let o=Wi({breakpoints:a,direction:"ltr",components:{},palette:Je({mode:"light"},i),spacing:r,shape:Je({},Xi,h)},n);for(var l=arguments.length,d=new Array(l>1?l-1:0),c=1;c<l;c++)d[c-1]=arguments[c];return o=d.reduce(((t,e)=>Wi(t,e)),o),o.unstable_sxConfig=Je({},qs,null==n?void 0:n.unstable_sxConfig),o.unstable_sx=function(t){return Us({sx:t,theme:this})},o};var Gs=e.createContext(null);var Ys=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const i=e.useContext(Gs);return i&&(s=i,0!==Object.keys(s).length)?i:t;var s};const Qs=Xs();var Zs=function(){return Ys(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qs)};function Js(t,e){return Je({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var th={black:"#000",white:"#fff"};var eh={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var ih={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var sh={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var hh={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var nh={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var ah={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var rh={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const oh=["mode","contrastThreshold","tonalOffset"],lh={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:th.white,default:th.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dh={text:{primary:th.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:th.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ch(t,e,i,s){const h=s.light||s,n=s.dark||1.5*s;t[e]||(t.hasOwnProperty(i)?t[e]=t[i]:"light"===e?t.light=Hi(t.main,h):"dark"===e&&(t.dark=Ni(t.main,n)))}function uh(t){const{mode:e="light",contrastThreshold:i=3,tonalOffset:s=.2}=t,h=Ze(t,oh),n=t.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nh[200],light:nh[50],dark:nh[400]}:{main:nh[700],light:nh[400],dark:nh[800]}}(e),a=t.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ih[200],light:ih[50],dark:ih[400]}:{main:ih[500],light:ih[300],dark:ih[700]}}(e),r=t.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sh[500],light:sh[300],dark:sh[700]}:{main:sh[700],light:sh[400],dark:sh[800]}}(e),o=t.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ah[400],light:ah[300],dark:ah[700]}:{main:ah[700],light:ah[500],dark:ah[900]}}(e),l=t.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rh[400],light:rh[300],dark:rh[700]}:{main:rh[800],light:rh[500],dark:rh[900]}}(e),d=t.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hh[400],light:hh[300],dark:hh[700]}:{main:"#ed6c02",light:hh[500],dark:hh[900]}}(e);function c(t){const e=function(t,e){const i=Ri(t),s=Ri(e);return(Math.max(i,s)+.05)/(Math.min(i,s)+.05)}(t,dh.text.primary)>=i?dh.text.primary:lh.text.primary;return e}const u=t=>{let{color:e,name:i,mainShade:h=500,lightShade:n=300,darkShade:a=700}=t;if(e=Je({},e),!e.main&&e[h]&&(e.main=e[h]),!e.hasOwnProperty("main"))throw new Error(zi(11,i?` (${i})`:"",h));if("string"!==typeof e.main)throw new Error(zi(12,i?` (${i})`:"",JSON.stringify(e.main)));return ch(e,"light",n,s),ch(e,"dark",a,s),e.contrastText||(e.contrastText=c(e.main)),e},m={dark:dh,light:lh};return Wi(Je({common:Je({},th),mode:e,primary:u({color:n,name:"primary"}),secondary:u({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:u({color:r,name:"error"}),warning:u({color:d,name:"warning"}),info:u({color:o,name:"info"}),success:u({color:l,name:"success"}),grey:eh,contrastThreshold:i,getContrastText:c,augmentColor:u,tonalOffset:s},m[e]),h)}const mh=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const gh={textTransform:"uppercase"},ph='"Roboto", "Helvetica", "Arial", sans-serif';function fh(t,e){const i="function"===typeof e?e(t):e,{fontFamily:s=ph,fontSize:h=14,fontWeightLight:n=300,fontWeightRegular:a=400,fontWeightMedium:r=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:d,pxToRem:c}=i,u=Ze(i,mh);const m=h/14,g=c||(t=>t/l*m+"rem"),p=(t,e,i,h,n)=>{return Je({fontFamily:s,fontWeight:t,fontSize:g(e),lineHeight:i},s===ph?{letterSpacing:(a=h/e,Math.round(1e5*a)/1e5)+"em"}:{},n,d);var a},f={h1:p(n,96,1.167,-1.5),h2:p(n,60,1.2,-.5),h3:p(a,48,1.167,0),h4:p(a,34,1.235,.25),h5:p(a,24,1.334,0),h6:p(r,20,1.6,.15),subtitle1:p(a,16,1.75,.15),subtitle2:p(r,14,1.57,.1),body1:p(a,16,1.5,.15),body2:p(a,14,1.43,.15),button:p(r,14,1.75,.4,gh),caption:p(a,12,1.66,.4),overline:p(a,12,2.66,1,gh)};return Wi(Je({htmlFontSize:l,pxToRem:g,fontFamily:s,fontSize:h,fontWeightLight:n,fontWeightRegular:a,fontWeightMedium:r,fontWeightBold:o},f),u,{clone:!1})}function Ih(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}var bh=["none",Ih(0,2,1,-1,0,1,1,0,0,1,3,0),Ih(0,3,1,-2,0,2,2,0,0,1,5,0),Ih(0,3,3,-2,0,3,4,0,0,1,8,0),Ih(0,2,4,-1,0,4,5,0,0,1,10,0),Ih(0,3,5,-1,0,5,8,0,0,1,14,0),Ih(0,3,5,-1,0,6,10,0,0,1,18,0),Ih(0,4,5,-2,0,7,10,1,0,2,16,1),Ih(0,5,5,-3,0,8,10,1,0,3,14,2),Ih(0,5,6,-3,0,9,12,1,0,3,16,2),Ih(0,6,6,-3,0,10,14,1,0,4,18,3),Ih(0,6,7,-4,0,11,15,1,0,4,20,3),Ih(0,7,8,-4,0,12,17,2,0,5,22,4),Ih(0,7,8,-4,0,13,19,2,0,5,24,4),Ih(0,7,9,-4,0,14,21,2,0,5,26,4),Ih(0,8,9,-5,0,15,22,2,0,6,28,5),Ih(0,8,10,-5,0,16,24,2,0,6,30,5),Ih(0,8,11,-5,0,17,26,2,0,6,32,5),Ih(0,9,11,-5,0,18,28,2,0,7,34,6),Ih(0,9,12,-6,0,19,29,2,0,7,36,6),Ih(0,10,13,-6,0,20,31,3,0,8,38,7),Ih(0,10,13,-6,0,21,33,3,0,8,40,7),Ih(0,10,14,-6,0,22,35,3,0,8,42,7),Ih(0,11,14,-7,0,23,36,3,0,9,44,8),Ih(0,11,15,-7,0,24,38,3,0,9,46,8)];const xh=["duration","easing","delay"],Dh={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},yh={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vh(t){return`${Math.round(t)}ms`}function kh(t){if(!t)return 0;const e=t/36;return Math.round(10*(4+15*e**.25+e/5))}function Ch(t){const e=Je({},Dh,t.easing),i=Je({},yh,t.duration);return Je({getAutoHeightDuration:kh,create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:h=i.standard,easing:n=e.easeInOut,delay:a=0}=s;Ze(s,xh);return(Array.isArray(t)?t:[t]).map((t=>`${t} ${"string"===typeof h?h:vh(h)} ${n} ${"string"===typeof a?a:vh(a)}`)).join(",")}},t,{easing:e,duration:i})}var wh={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const Th=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Lh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:e={},palette:i={},transitions:s={},typography:h={}}=t,n=Ze(t,Th);if(t.vars)throw new Error(zi(18));const a=uh(i),r=Xs(t);let o=Wi(r,{mixins:Js(r.breakpoints,e),palette:a,shadows:bh.slice(),typography:fh(a,h),transitions:Ch(s),zIndex:Je({},wh)});o=Wi(o,n);for(var l=arguments.length,d=new Array(l>1?l-1:0),c=1;c<l;c++)d[c-1]=arguments[c];return o=d.reduce(((t,e)=>Wi(t,e)),o),o.unstable_sxConfig=Je({},qs,null==n?void 0:n.unstable_sxConfig),o.unstable_sx=function(t){return Us({sx:t,theme:this})},o}var Sh=Lh();function Fh(t){let{props:e,name:i}=t;return function(t){let{props:e,name:i,defaultTheme:s}=t;return Vi({theme:Zs(s),name:i,props:e})}({props:e,name:i,defaultTheme:Sh})}var Ah=function(t){var e=Object.create(null);return function(i){return void 0===e[i]&&(e[i]=t(i)),e[i]}},_h=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Bh=Ah((function(t){return _h.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));var zh=function(){function t(t){var e=this;this._insertTag=function(t){var i;i=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,i),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{i.insertRule(t,i.cssRules.length)}catch(mc){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),Ph=Math.abs,Eh=String.fromCharCode,Oh=Object.assign;function Rh(t){return t.trim()}function jh(t,e,i){return t.replace(e,i)}function Nh(t,e){return t.indexOf(e)}function Hh(t,e){return 0|t.charCodeAt(e)}function Mh(t,e,i){return t.slice(e,i)}function Vh(t){return t.length}function $h(t){return t.length}function qh(t,e){return e.push(t),t}var Wh=1,Uh=1,Kh=0,Xh=0,Gh=0,Yh="";function Qh(t,e,i,s,h,n,a){return{value:t,root:e,parent:i,type:s,props:h,children:n,line:Wh,column:Uh,length:a,return:""}}function Zh(t,e){return Oh(Qh("",null,null,"",null,null,0),t,{length:-t.length},e)}function Jh(){return Gh=Xh>0?Hh(Yh,--Xh):0,Uh--,10===Gh&&(Uh=1,Wh--),Gh}function tn(){return Gh=Xh<Kh?Hh(Yh,Xh++):0,Uh++,10===Gh&&(Uh=1,Wh++),Gh}function en(){return Hh(Yh,Xh)}function sn(){return Xh}function hn(t,e){return Mh(Yh,t,e)}function nn(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function an(t){return Wh=Uh=1,Kh=Vh(Yh=t),Xh=0,[]}function rn(t){return Yh="",t}function on(t){return Rh(hn(Xh-1,cn(91===t?t+2:40===t?t+1:t)))}function ln(t){for(;(Gh=en())&&Gh<33;)tn();return nn(t)>2||nn(Gh)>3?"":" "}function dn(t,e){for(;--e&&tn()&&!(Gh<48||Gh>102||Gh>57&&Gh<65||Gh>70&&Gh<97););return hn(t,sn()+(e<6&&32==en()&&32==tn()))}function cn(t){for(;tn();)switch(Gh){case t:return Xh;case 34:case 39:34!==t&&39!==t&&cn(Gh);break;case 40:41===t&&cn(t);break;case 92:tn()}return Xh}function un(t,e){for(;tn()&&t+Gh!==57&&(t+Gh!==84||47!==en()););return"/*"+hn(e,Xh-1)+"*"+Eh(47===t?t:tn())}function mn(t){for(;!nn(en());)tn();return hn(t,Xh)}var gn="-ms-",pn="-moz-",fn="-webkit-",In="comm",bn="rule",xn="decl",Dn="@keyframes";function yn(t,e){for(var i="",s=$h(t),h=0;h<s;h++)i+=e(t[h],h,t,e)||"";return i}function vn(t,e,i,s){switch(t.type){case"@import":case xn:return t.return=t.return||t.value;case In:return"";case Dn:return t.return=t.value+"{"+yn(t.children,s)+"}";case bn:t.value=t.props.join(",")}return Vh(i=yn(t.children,s))?t.return=t.value+"{"+i+"}":""}function kn(t){return rn(Cn("",null,null,null,[""],t=an(t),0,[0],t))}function Cn(t,e,i,s,h,n,a,r,o){for(var l=0,d=0,c=a,u=0,m=0,g=0,p=1,f=1,I=1,b=0,x="",D=h,y=n,v=s,k=x;f;)switch(g=b,b=tn()){case 40:if(108!=g&&58==Hh(k,c-1)){-1!=Nh(k+=jh(on(b),"&","&\f"),"&\f")&&(I=-1);break}case 34:case 39:case 91:k+=on(b);break;case 9:case 10:case 13:case 32:k+=ln(g);break;case 92:k+=dn(sn()-1,7);continue;case 47:switch(en()){case 42:case 47:qh(Tn(un(tn(),sn()),e,i),o);break;default:k+="/"}break;case 123*p:r[l++]=Vh(k)*I;case 125*p:case 59:case 0:switch(b){case 0:case 125:f=0;case 59+d:m>0&&Vh(k)-c&&qh(m>32?Ln(k+";",s,i,c-1):Ln(jh(k," ","")+";",s,i,c-2),o);break;case 59:k+=";";default:if(qh(v=wn(k,e,i,l,d,h,r,x,D=[],y=[],c),n),123===b)if(0===d)Cn(k,e,v,v,D,n,c,r,y);else switch(99===u&&110===Hh(k,3)?100:u){case 100:case 109:case 115:Cn(t,v,v,s&&qh(wn(t,v,v,0,0,h,r,x,h,D=[],c),y),h,y,c,r,s?D:y);break;default:Cn(k,v,v,v,[""],y,0,r,y)}}l=d=m=0,p=I=1,x=k="",c=a;break;case 58:c=1+Vh(k),m=g;default:if(p<1)if(123==b)--p;else if(125==b&&0==p++&&125==Jh())continue;switch(k+=Eh(b),b*p){case 38:I=d>0?1:(k+="\f",-1);break;case 44:r[l++]=(Vh(k)-1)*I,I=1;break;case 64:45===en()&&(k+=on(tn())),u=en(),d=c=Vh(x=k+=mn(sn())),b++;break;case 45:45===g&&2==Vh(k)&&(p=0)}}return n}function wn(t,e,i,s,h,n,a,r,o,l,d){for(var c=h-1,u=0===h?n:[""],m=$h(u),g=0,p=0,f=0;g<s;++g)for(var I=0,b=Mh(t,c+1,c=Ph(p=a[g])),x=t;I<m;++I)(x=Rh(p>0?u[I]+" "+b:jh(b,/&\f/g,u[I])))&&(o[f++]=x);return Qh(t,e,i,0===h?bn:r,o,l,d)}function Tn(t,e,i){return Qh(t,e,i,In,Eh(Gh),Mh(t,2,-2),0)}function Ln(t,e,i,s){return Qh(t,e,i,xn,Mh(t,0,s),Mh(t,s+1,-1),s)}var Sn=function(t,e,i){for(var s=0,h=0;s=h,h=en(),38===s&&12===h&&(e[i]=1),!nn(h);)tn();return hn(t,Xh)},Fn=function(t,e){return rn(function(t,e){var i=-1,s=44;do{switch(nn(s)){case 0:38===s&&12===en()&&(e[i]=1),t[i]+=Sn(Xh-1,e,i);break;case 2:t[i]+=on(s);break;case 4:if(44===s){t[++i]=58===en()?"&\f":"",e[i]=t[i].length;break}default:t[i]+=Eh(s)}}while(s=tn());return t}(an(t),e))},An=new WeakMap,_n=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,i=t.parent,s=t.column===i.column&&t.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||An.get(i))&&!s){An.set(t,!0);for(var h=[],n=Fn(e,h),a=i.props,r=0,o=0;r<n.length;r++)for(var l=0;l<a.length;l++,o++)t.props[o]=h[r]?n[r].replace(/&\f/g,a[l]):a[l]+" "+n[r]}}},Bn=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function zn(t,e){switch(function(t,e){return 45^Hh(t,0)?(((e<<2^Hh(t,0))<<2^Hh(t,1))<<2^Hh(t,2))<<2^Hh(t,3):0}(t,e)){case 5103:return fn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fn+t+pn+t+gn+t+t;case 6828:case 4268:return fn+t+gn+t+t;case 6165:return fn+t+gn+"flex-"+t+t;case 5187:return fn+t+jh(t,/(\w+).+(:[^]+)/,fn+"box-$1$2"+gn+"flex-$1$2")+t;case 5443:return fn+t+gn+"flex-item-"+jh(t,/flex-|-self/,"")+t;case 4675:return fn+t+gn+"flex-line-pack"+jh(t,/align-content|flex-|-self/,"")+t;case 5548:return fn+t+gn+jh(t,"shrink","negative")+t;case 5292:return fn+t+gn+jh(t,"basis","preferred-size")+t;case 6060:return fn+"box-"+jh(t,"-grow","")+fn+t+gn+jh(t,"grow","positive")+t;case 4554:return fn+jh(t,/([^-])(transform)/g,"$1"+fn+"$2")+t;case 6187:return jh(jh(jh(t,/(zoom-|grab)/,fn+"$1"),/(image-set)/,fn+"$1"),t,"")+t;case 5495:case 3959:return jh(t,/(image-set\([^]*)/,fn+"$1$`$1");case 4968:return jh(jh(t,/(.+:)(flex-)?(.*)/,fn+"box-pack:$3"+gn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fn+t+t;case 4095:case 3583:case 4068:case 2532:return jh(t,/(.+)-inline(.+)/,fn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vh(t)-1-e>6)switch(Hh(t,e+1)){case 109:if(45!==Hh(t,e+4))break;case 102:return jh(t,/(.+:)(.+)-([^]+)/,"$1"+fn+"$2-$3$1"+pn+(108==Hh(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Nh(t,"stretch")?zn(jh(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==Hh(t,e+1))break;case 6444:switch(Hh(t,Vh(t)-3-(~Nh(t,"!important")&&10))){case 107:return jh(t,":",":"+fn)+t;case 101:return jh(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fn+(45===Hh(t,14)?"inline-":"")+"box$3$1"+fn+"$2$3$1"+gn+"$2box$3")+t}break;case 5936:switch(Hh(t,e+11)){case 114:return fn+t+gn+jh(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fn+t+gn+jh(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fn+t+gn+jh(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return fn+t+gn+t+t}return t}var Pn=[function(t,e,i,s){if(t.length>-1&&!t.return)switch(t.type){case xn:t.return=zn(t.value,t.length);break;case Dn:return yn([Zh(t,{value:jh(t.value,"@","@"+fn)})],s);case bn:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yn([Zh(t,{props:[jh(e,/:(read-\w+)/,":-moz-$1")]})],s);case"::placeholder":return yn([Zh(t,{props:[jh(e,/:(plac\w+)/,":"+fn+"input-$1")]}),Zh(t,{props:[jh(e,/:(plac\w+)/,":-moz-$1")]}),Zh(t,{props:[jh(e,/:(plac\w+)/,gn+"input-$1")]})],s)}return""}))}}],En=function(t){var e=t.key;if("css"===e){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var s=t.stylisPlugins||Pn;var h,n,a={},r=[];h=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),i=1;i<e.length;i++)a[e[i]]=!0;r.push(t)}));var o,l,d=[vn,(l=function(t){o.insert(t)},function(t){t.root||(t=t.return)&&l(t)})],c=function(t){var e=$h(t);return function(i,s,h,n){for(var a="",r=0;r<e;r++)a+=t[r](i,s,h,n)||"";return a}}([_n,Bn].concat(s,d));n=function(t,e,i,s){o=i,yn(kn(t?t+"{"+e.styles+"}":e.styles),c),s&&(u.inserted[e.name]=!0)};var u={key:e,sheet:new zh({key:e,container:h,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:n};return u.sheet.hydrate(r),u};var On=function(t){for(var e,i=0,s=0,h=t.length;h>=4;++s,h-=4)e=1540483477*(65535&(e=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24))+(59797*(e>>>16)<<16),i=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(h){case 3:i^=(255&t.charCodeAt(s+2))<<16;case 2:i^=(255&t.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(s)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)},Rn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jn=/[A-Z]|^ms/g,Nn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Hn=function(t){return 45===t.charCodeAt(1)},Mn=function(t){return null!=t&&"boolean"!==typeof t},Vn=Ah((function(t){return Hn(t)?t:t.replace(jn,"-$&").toLowerCase()})),$n=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(Nn,(function(t,e,i){return Wn={name:e,styles:i,next:Wn},e}))}return 1===Rn[t]||Hn(t)||"number"!==typeof e||0===e?e:e+"px"};function qn(t,e,i){if(null==i)return"";if(void 0!==i.__emotion_styles)return i;switch(typeof i){case"boolean":return"";case"object":if(1===i.anim)return Wn={name:i.name,styles:i.styles,next:Wn},i.name;if(void 0!==i.styles){var s=i.next;if(void 0!==s)for(;void 0!==s;)Wn={name:s.name,styles:s.styles,next:Wn},s=s.next;return i.styles+";"}return function(t,e,i){var s="";if(Array.isArray(i))for(var h=0;h<i.length;h++)s+=qn(t,e,i[h])+";";else for(var n in i){var a=i[n];if("object"!==typeof a)null!=e&&void 0!==e[a]?s+=n+"{"+e[a]+"}":Mn(a)&&(s+=Vn(n)+":"+$n(n,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=e&&void 0!==e[a[0]]){var r=qn(t,e,a);switch(n){case"animation":case"animationName":s+=Vn(n)+":"+r+";";break;default:s+=n+"{"+r+"}"}}else for(var o=0;o<a.length;o++)Mn(a[o])&&(s+=Vn(n)+":"+$n(n,a[o])+";")}return s}(t,e,i);case"function":if(void 0!==t){var h=Wn,n=i(t);return Wn=h,qn(t,e,n)}}if(null==e)return i;var a=e[i];return void 0!==a?a:i}var Wn,Un=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Kn=!!s.useInsertionEffect&&s.useInsertionEffect,Xn=Kn||function(t){return t()},Gn=(0,e.createContext)("undefined"!==typeof HTMLElement?En({key:"css"}):null);Gn.Provider;var Yn=function(t){return(0,e.forwardRef)((function(i,s){var h=(0,e.useContext)(Gn);return t(i,h,s)}))},Qn=(0,e.createContext)({});var Zn=function(t,e,i){var s=t.key+"-"+e.name;!1===i&&void 0===t.registered[s]&&(t.registered[s]=e.styles)},Jn=Bh,ta=function(t){return"theme"!==t},ea=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?Jn:ta},ia=function(t,e,i){var s;if(e){var h=e.shouldForwardProp;s=t.__emotion_forwardProp&&h?function(e){return t.__emotion_forwardProp(e)&&h(e)}:h}return"function"!==typeof s&&i&&(s=t.__emotion_forwardProp),s},sa=function(t){var e=t.cache,i=t.serialized,s=t.isStringTag;Zn(e,i,s);Xn((function(){return function(t,e,i){Zn(t,e,i);var s=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var h=e;do{t.insert(e===h?"."+s:"",h,t.sheet,!0),h=h.next}while(void 0!==h)}}(e,i,s)}));return null},ha=function t(i,s){var h,n,a=i.__emotion_real===i,r=a&&i.__emotion_base||i;void 0!==s&&(h=s.label,n=s.target);var o=ia(i,s,a),l=o||ea(r),d=!l("as");return function(){var c=arguments,u=a&&void 0!==i.__emotion_styles?i.__emotion_styles.slice(0):[];if(void 0!==h&&u.push("label:"+h+";"),null==c[0]||void 0===c[0].raw)u.push.apply(u,c);else{0,u.push(c[0][0]);for(var m=c.length,g=1;g<m;g++)u.push(c[g],c[0][g])}var p=Yn((function(t,i,s){var h=d&&t.as||r,a="",c=[],m=t;if(null==t.theme){for(var g in m={},t)m[g]=t[g];m.theme=(0,e.useContext)(Qn)}"string"===typeof t.className?a=function(t,e,i){var s="";return i.split(" ").forEach((function(i){void 0!==t[i]?e.push(t[i]+";"):s+=i+" "})),s}(i.registered,c,t.className):null!=t.className&&(a=t.className+" ");var p=function(t,e,i){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var s=!0,h="";Wn=void 0;var n=t[0];null==n||void 0===n.raw?(s=!1,h+=qn(i,e,n)):h+=n[0];for(var a=1;a<t.length;a++)h+=qn(i,e,t[a]),s&&(h+=n[a]);Un.lastIndex=0;for(var r,o="";null!==(r=Un.exec(h));)o+="-"+r[1];return{name:On(h)+o,styles:h,next:Wn}}(u.concat(c),i.registered,m);a+=i.key+"-"+p.name,void 0!==n&&(a+=" "+n);var f=d&&void 0===o?ea(h):l,I={};for(var b in t)d&&"as"===b||f(b)&&(I[b]=t[b]);return I.className=a,I.ref=s,(0,e.createElement)(e.Fragment,null,(0,e.createElement)(sa,{cache:i,serialized:p,isStringTag:"string"===typeof h}),(0,e.createElement)(h,I))}));return p.displayName=void 0!==h?h:"Styled("+("string"===typeof r?r:r.displayName||r.name||"Component")+")",p.defaultProps=i.defaultProps,p.__emotion_real=p,p.__emotion_base=r,p.__emotion_styles=u,p.__emotion_forwardProp=o,Object.defineProperty(p,"toString",{value:function(){return"."+n}}),p.withComponent=function(e,i){return t(e,Je({},s,i,{shouldForwardProp:ia(p,i,!0)})).apply(void 0,u)},p}},na=ha.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){na[t]=na(t)}));var aa=na;const ra=["variant"];function oa(t){return 0===t.length}function la(t){const{variant:e}=t,i=Ze(t,ra);let s=e||"";return Object.keys(i).sort().forEach((e=>{s+="color"===e?oa(s)?t[e]:ts(t[e]):`${oa(s)?e:ts(e)}${ts(t[e].toString())}`})),s}const da=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],ca=["theme"],ua=["theme"];function ma(t){return 0===Object.keys(t).length}function ga(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const pa=Xs();const fa=ga,Ia=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{defaultTheme:e=pa,rootShouldForwardProp:i=ga,slotShouldForwardProp:s=ga}=t,h=t=>{const i=ma(t.theme)?e:t.theme;return Us(Je({},t,{theme:i}))};return h.__mui_systemSx=!0,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))})(t,(t=>t.filter((t=>!(null!=t&&t.__mui_systemSx)))));const{name:a,slot:r,skipVariantsResolver:o,skipSx:l,overridesResolver:d}=n,c=Ze(n,da),u=void 0!==o?o:r&&"Root"!==r||!1,m=l||!1;let g=ga;"Root"===r?g=i:r?g=s:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(g=void 0);const p=function(t,e){return aa(t,e)}(t,Je({shouldForwardProp:g,label:undefined},c)),f=function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];const r=s?s.map((t=>"function"===typeof t&&t.__emotion_real!==t?i=>{let{theme:s}=i,h=Ze(i,ca);return t(Je({theme:ma(s)?e:s},h))}:t)):[];let o=t;a&&d&&r.push((t=>{const i=ma(t.theme)?e:t.theme,s=((t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null)(a,i);if(s){const e={};return Object.entries(s).forEach((s=>{let[h,n]=s;e[h]="function"===typeof n?n(Je({},t,{theme:i})):n})),d(t,e)}return null})),a&&!u&&r.push((t=>{const i=ma(t.theme)?e:t.theme;return((t,e,i,s)=>{var h,n;const{ownerState:a={}}=t,r=[],o=null==i||null==(h=i.components)||null==(n=h[s])?void 0:n.variants;return o&&o.forEach((i=>{let s=!0;Object.keys(i.props).forEach((e=>{a[e]!==i.props[e]&&t[e]!==i.props[e]&&(s=!1)})),s&&r.push(e[la(i.props)])})),r})(t,((t,e)=>{let i=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(i=e.components[t].variants);const s={};return i.forEach((t=>{const e=la(t.props);s[e]=t.style})),s})(a,i),i,a)})),m||r.push(h);const l=r.length-s.length;if(Array.isArray(t)&&l>0){const e=new Array(l).fill("");o=[...t,...e],o.raw=[...t.raw,...e]}else"function"===typeof t&&t.__emotion_real!==t&&(o=i=>{let{theme:s}=i,h=Ze(i,ua);return t(Je({theme:ma(s)?e:s},h))});return p(o,...r)};return p.withConfig&&(f.withConfig=p.withConfig),f}}({defaultTheme:Sh,rootShouldForwardProp:t=>ga(t)&&"classes"!==t});var ba=Ia;var xa=t=>!t||!ii(t),Da=ts;const ya=t=>t;var va=(()=>{let t=ya;return{configure(e){t=e},generate(e){return t(e)},reset(){t=ya}}})();const ka={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Ca(t,e){const i=ka[e];return i?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${i}`:`${va.generate(t)}-${e}`}function wa(t){return Ca("MuiSlider",t)}const Ta=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const s={};return e.forEach((e=>{s[e]=Ca(t,e,i)})),s}("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);var La=Ta;const Sa=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],Fa=(t,e,i)=>100*(t-e)/(i-e);function Aa(t){return t}const _a=ba("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`color${Da(i.color)}`],"medium"!==i.size&&e[`size${Da(i.size)}`],i.marked&&e.marked,"vertical"===i.orientation&&e.vertical,"inverted"===i.track&&e.trackInverted,!1===i.track&&e.trackFalse]}})((t=>{let{theme:e,ownerState:i}=t;return Je({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[i.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===i.orientation&&Je({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===i.size&&{height:2},i.marked&&{marginBottom:20}),"vertical"===i.orientation&&Je({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===i.size&&{width:2},i.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${La.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${La.dragging}`]:{[`& .${La.thumb}, & .${La.track}`]:{transition:"none"}}})})),Ba=ba("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})((t=>{let{ownerState:e}=t;return Je({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===e.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===e.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===e.track&&{opacity:1})})),za=ba("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})((t=>{let{theme:e,ownerState:i}=t;const s="light"===e.palette.mode?Hi(e.palette[i.color].main,.62):Ni(e.palette[i.color].main,.5);return Je({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},"small"===i.size&&{border:"none"},"horizontal"===i.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===i.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===i.track&&{display:"none"},"inverted"===i.track&&{backgroundColor:e.vars?e.vars.palette.Slider[`${i.color}Track`]:s,borderColor:e.vars?e.vars.palette.Slider[`${i.color}Track`]:s})})),Pa=ba("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.thumb,e[`thumbColor${Da(i.color)}`],"medium"!==i.size&&e[`thumbSize${Da(i.size)}`]]}})((t=>{let{theme:e,ownerState:i}=t;return Je({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},"small"===i.size&&{width:12,height:12},"horizontal"===i.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===i.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":Je({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"small"===i.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${La.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[i.color].mainChannel} / 0.16)`:ji(e.palette[i.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${La.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[i.color].mainChannel} / 0.16)`:ji(e.palette[i.color].main,.16)}`},[`&.${La.disabled}`]:{"&:hover":{boxShadow:"none"}}})})),Ea=ba((function(t){const{children:i,className:s,value:h}=t,n=(t=>{const{open:e}=t;return{offset:(0,ti.default)(e&&La.valueLabelOpen),circle:La.valueLabelCircle,label:La.valueLabelLabel}})(t);return i?e.cloneElement(i,{className:(0,ti.default)(i.props.className)},(0,Ft.jsxs)(e.Fragment,{children:[i.props.children,(0,Ft.jsx)("span",{className:(0,ti.default)(n.offset,s),"aria-hidden":!0,children:(0,Ft.jsx)("span",{className:n.circle,children:(0,Ft.jsx)("span",{className:n.label,children:h})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})((t=>{let{theme:e,ownerState:i}=t;return Je({[`&.${La.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"horizontal"===i.orientation&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"vertical"===i.orientation&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},"small"===i.size&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})})),Oa=ba("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>fa(t)&&"markActive"!==t,overridesResolver:(t,e)=>{const{markActive:i}=t;return[e.mark,i&&e.markActive]}})((t=>{let{theme:e,ownerState:i,markActive:s}=t;return Je({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===i.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===i.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},s&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})})),Ra=ba("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>fa(t)&&"markLabelActive"!==t,overridesResolver:(t,e)=>e.markLabel})((t=>{let{theme:e,ownerState:i,markLabelActive:s}=t;return Je({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===i.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===i.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},s&&{color:(e.vars||e).palette.text.primary})})),ja=t=>{const{disabled:e,dragging:i,marked:s,orientation:h,track:n,classes:a,color:r,size:o}=t;return function(t,e,i){const s={};return Object.keys(t).forEach((h=>{s[h]=t[h].reduce(((t,s)=>(s&&(t.push(e(s)),i&&i[s]&&t.push(i[s])),t)),[]).join(" ")})),s}({root:["root",e&&"disabled",i&&"dragging",s&&"marked","vertical"===h&&"vertical","inverted"===n&&"trackInverted",!1===n&&"trackFalse",r&&`color${Da(r)}`,o&&`size${Da(o)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",o&&`thumbSize${Da(o)}`,r&&`thumbColor${Da(r)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},wa,a)},Na=t=>{let{children:e}=t;return e},Ha=e.forwardRef((function(t,i){var s,h,n,a,r,o,l,d,c,u,m,g,p,f,I,b,x,D,y,v,k,C,w,T;const L=Fh({props:t,name:"MuiSlider"}),S="rtl"===Zs(Sh).direction,{"aria-label":F,"aria-valuetext":A,"aria-labelledby":_,component:B="span",components:z={},componentsProps:P={},color:E="primary",classes:O,className:R,disableSwap:j=!1,disabled:N=!1,getAriaLabel:H,getAriaValueText:M,marks:V=!1,max:$=100,min:q=0,orientation:W="horizontal",size:U="medium",step:K=1,scale:X=Aa,slotProps:G,slots:Y,track:Q="normal",valueLabelDisplay:Z="off",valueLabelFormat:J=Aa}=L,tt=Ze(L,Sa),et=Je({},L,{isRtl:S,max:$,min:q,classes:O,disabled:N,disableSwap:j,orientation:W,marks:V,color:E,size:U,step:K,scale:X,track:Q,valueLabelDisplay:Z,valueLabelFormat:J}),{axisProps:it,getRootProps:st,getHiddenInputProps:ht,getThumbProps:nt,open:at,active:rt,axis:ot,focusedThumbIndex:lt,range:dt,dragging:ct,marks:ut,values:mt,trackOffset:gt,trackLeap:pt}=Bi(Je({},et,{ref:i}));et.marked=ut.length>0&&ut.some((t=>t.label)),et.dragging=ct,et.focusedThumbIndex=lt;const ft=ja(et),It=null!=(s=null!=(h=null==Y?void 0:Y.root)?h:z.Root)?s:_a,bt=null!=(n=null!=(a=null==Y?void 0:Y.rail)?a:z.Rail)?n:Ba,xt=null!=(r=null!=(o=null==Y?void 0:Y.track)?o:z.Track)?r:za,Dt=null!=(l=null!=(d=null==Y?void 0:Y.thumb)?d:z.Thumb)?l:Pa,yt=null!=(c=null!=(u=null==Y?void 0:Y.valueLabel)?u:z.ValueLabel)?c:Ea,vt=null!=(m=null!=(g=null==Y?void 0:Y.mark)?g:z.Mark)?m:Oa,kt=null!=(p=null!=(f=null==Y?void 0:Y.markLabel)?f:z.MarkLabel)?p:Ra,Ct=null!=(I=null!=(b=null==Y?void 0:Y.input)?b:z.Input)?I:"input",wt=null!=(x=null==G?void 0:G.root)?x:P.root,Tt=null!=(D=null==G?void 0:G.rail)?D:P.rail,Lt=null!=(y=null==G?void 0:G.track)?y:P.track,St=null!=(v=null==G?void 0:G.thumb)?v:P.thumb,At=null!=(k=null==G?void 0:G.valueLabel)?k:P.valueLabel,_t=null!=(C=null==G?void 0:G.mark)?C:P.mark,Bt=null!=(w=null==G?void 0:G.markLabel)?w:P.markLabel,zt=null!=(T=null==G?void 0:G.input)?T:P.input,Pt=ai({elementType:It,getSlotProps:st,externalSlotProps:wt,externalForwardedProps:tt,additionalProps:Je({},xa(It)&&{as:B}),ownerState:Je({},et,null==wt?void 0:wt.ownerState),className:[ft.root,R]}),Et=ai({elementType:bt,externalSlotProps:Tt,ownerState:et,className:ft.rail}),Ot=ai({elementType:xt,externalSlotProps:Lt,additionalProps:{style:Je({},it[ot].offset(gt),it[ot].leap(pt))},ownerState:Je({},et,null==Lt?void 0:Lt.ownerState),className:ft.track}),Rt=ai({elementType:Dt,getSlotProps:nt,externalSlotProps:St,ownerState:Je({},et,null==St?void 0:St.ownerState)}),jt=ai({elementType:yt,externalSlotProps:At,ownerState:Je({},et,null==At?void 0:At.ownerState),className:ft.valueLabel}),Nt=ai({elementType:vt,externalSlotProps:_t,ownerState:et,className:ft.mark}),Ht=ai({elementType:kt,externalSlotProps:Bt,ownerState:et}),Mt=ai({elementType:Ct,getSlotProps:ht,externalSlotProps:zt,ownerState:et});return(0,Ft.jsxs)(It,Je({},Pt,{children:[(0,Ft.jsx)(bt,Je({},Et)),(0,Ft.jsx)(xt,Je({},Ot)),ut.filter((t=>t.value>=q&&t.value<=$)).map(((t,i)=>{const s=Fa(t.value,q,$),h=it[ot].offset(s);let n;return n=!1===Q?-1!==mt.indexOf(t.value):"normal"===Q&&(dt?t.value>=mt[0]&&t.value<=mt[mt.length-1]:t.value<=mt[0])||"inverted"===Q&&(dt?t.value<=mt[0]||t.value>=mt[mt.length-1]:t.value>=mt[0]),(0,Ft.jsxs)(e.Fragment,{children:[(0,Ft.jsx)(vt,Je({"data-index":i},Nt,!ii(vt)&&{markActive:n},{style:Je({},h,Nt.style),className:(0,ti.default)(Nt.className,n&&ft.markActive)})),null!=t.label?(0,Ft.jsx)(kt,Je({"aria-hidden":!0,"data-index":i},Ht,!ii(kt)&&{markLabelActive:n},{style:Je({},h,Ht.style),className:(0,ti.default)(ft.markLabel,Ht.className,n&&ft.markLabelActive),children:t.label})):null]},i)})),mt.map(((t,i)=>{const s=Fa(t,q,$),h=it[ot].offset(s),n="off"===Z?Na:yt;return(0,Ft.jsx)(e.Fragment,{children:(0,Ft.jsx)(n,Je({},!ii(n)&&{valueLabelFormat:J,valueLabelDisplay:Z,value:"function"===typeof J?J(X(t),i):J,index:i,open:at===i||rt===i||"on"===Z,disabled:N},jt,{children:(0,Ft.jsx)(Dt,Je({"data-index":i,"data-focusvisible":lt===i},Rt,{className:(0,ti.default)(ft.thumb,Rt.className,rt===i&&ft.active,lt===i&&ft.focusVisible),style:Je({},h,{pointerEvents:j&&rt!==i?"none":void 0},Rt.style),children:(0,Ft.jsx)(Ct,Je({"data-index":i,"aria-label":H?H(i):F,"aria-valuenow":X(t),"aria-labelledby":_,"aria-valuetext":M?M(X(t),i):A,value:mt[i]},Mt))}))}))},i)}))]}))}));var Ma=Ha;function Va(t){let e,i,s;const h=document.cookie.split(";");for(e=0;e<h.length;e++)if(i=h[e].substr(0,h[e].indexOf("=")),s=h[e].substr(h[e].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i===t)return unescape(s)}function $a(t,e,i){const s=new Date;s.setDate(s.getDate()+i),document.cookie=t+"="+e}function qa(t,e,i,s){const h=document.createElement("input");h.setAttribute("type",e),h.setAttribute("value",i),"Button"===e?h.onclick=s:"Text"===e&&(h.onkeydown=s);const n=document.createElement("td");return n.appendChild(h),t.current.appendChild(n),h}function Wa(t){const e=document.createElement("td");e.setAttribute("class","divisorLeft");const i=document.createElement("td");i.setAttribute("class","divisorRight"),t.current.appendChild(e),t.current.appendChild(i)}class Ua extends Se{constructor(t,e){super(),this.objectManager=new Ye(t),this.animatedObjects=this.objectManager,this.animationPaused=!1,this.awaitingStep=!1,this.currentlyAnimating=!1,this.animationSteps=[],this.currentAnimation=0,this.previousAnimationSteps=[],this.currFrame=0,this.animationBlockLength=0,this.currentBlock=null,this.undoStack=[],this.doingUndo=!1,this.undoAnimationStepIndices=[],this.undoAnimationStepIndicesStack=[],this.animationBlockLength=10,this.paused=!1,this.canvas=t,this.skipBackButton=qa(e,"Button","Skip Back",(()=>this.skipBack())),this.stepBackButton=qa(e,"Button","Step Back",(()=>{this.paused||this.doPlayPause(),this.stepBack()})),this.playPauseBackButton=qa(e,"Button","Pause",(()=>this.doPlayPause())),this.playPauseBackButton.setAttribute("style","width: 80px"),this.playPauseBackButton.style.backgroundColor="#ffcccc",this.stepForwardButton=qa(e,"Button","Step Forward",(()=>{this.paused||this.doPlayPause(),this.step()})),this.skipForwardButton=qa(e,"Button","Skip Forward",(()=>this.skipForward())),Wa(e);const i=document.createElement("div");i.setAttribute("display","inline-block"),i.setAttribute("float","left");let s=Va("VisualizationSpeed");s=null==s||""===s?75:parseInt(s);const h=(0,Ft.jsx)(Ma,{style:{padding:"13px 0",height:2},defaultValue:s,onChange:(t,e)=>{this.setSpeed(e),$a("VisualizationSpeed",String(e),30)}});let n=document.createElement("td");const a=document.getElementById("GeneralAnimationControls"),r=document.createElement("table");let o=document.createElement("tr"),l=document.createElement("td");l.classList.add("slider"),o.appendChild(l);Qe.createRoot(l).render(h),r.appendChild(o),o=document.createElement("tr"),l=document.createElement("td"),l.align="center";let d=document.createTextNode("Animation Speed");o.appendChild(l),l.classList.add("txt-node"),l.appendChild(d),r.appendChild(o),n.appendChild(r),a.appendChild(n),this.setSpeed(s),i.setAttribute("style","width:200px"),Wa(e);let c=Va("VisualizationWidth");c=null==c||""===c?1500:parseInt(c);let u=Va("VisualizationHeight");u=null==u||""===u?555:parseInt(u),canvas.width=c,canvas.height=u,n=document.createElement("td"),d=document.createTextNode("Canvas height:"),n.classList.add("txt-node"),n.appendChild(d),a.appendChild(n),this.heightEntry=qa(e,"Text",canvas.height,(()=>{return t=this.heightEntry,e=()=>this.changeSize(document.documentElement.clientWidth,parseInt(this.heightEntry.value)),s=!0,void 0!==(i=4)&&(t.size=i),function(h){let n=0;return window.event?n=h.keyCode:h.which&&(n=h.which),13===n?(e(),!1):59!==n&&45!==n&&46!==n&&190!==n&&173!==n&&!((void 0!==i&&t.value.length>=i||s&&(n<48||n>57))&&!function(t){return 8===t||9===t||37===t||38===t||39===t||40===t||46===t}(n))};var t,e,i,s})),this.heightEntry.size=4,this.sizeButton=qa(e,"Button","Change Canvas Size",(()=>this.changeSize())),this.addListener("AnimationStarted",this,this.animStarted),this.addListener("AnimationEnded",this,this.animEnded),this.addListener("AnimationWaiting",this,this.animWaiting),this.addListener("AnimationUndoUnavailable",this,this.animUndoUnavailable),this.objectManager.width=canvas.width,this.objectManager.height=canvas.height}lerp(t,e,i){return(e-t)*i+t}setPaused(t){this.animationPaused=t,this.animationPaused||this.step()}parseBool(t){const e=t.toUpperCase();return!("False"===e||"f"===e||" 0"===e||"0"===e||""===e)}parseColor(t){return"#"===t.charAt(0)?t:"0x"===t.substring(0,2)?"#"+t.substring(2):void 0}setSpeed(t){this.animationBlockLength=Math.floor((100-t)/2)}changeSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement.clientWidth,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:parseInt(this.heightEntry.value);t>100&&(canvas.width=t,this.animatedObjects.width=t,$a("VisualizationWidth",String(t),30)),e>100&&(canvas.height=e,this.animatedObjects.height=e,$a("VisualizationHeight",String(e),30)),this.heightEntry.value=canvas.height,this.animatedObjects.draw(),this.fireEvent("CanvasSizeChanged",{width:canvas.width,height:canvas.height})}startNextBlock(){if(this.awaitingStep=!1,this.currentBlock=[],this.undoBlock=[],!this.animationSteps||this.currentAnimation===this.animationSteps.length)return this.currentlyAnimating=!1,this.awaitingStep=!1,this.fireEvent("AnimationEnded","NoData"),this.stopTimer(),this.animatedObjects.update(),void this.animatedObjects.draw();for(this.undoAnimationStepIndices.push(this.currentAnimation),this.foundBreak=!1,this.anyAnimations=!1;this.currentAnimation<this.animationSteps.length&&!this.foundBreak;){const[t,e]=this.animationSteps[this.currentAnimation];t.call(this,e),this.currentAnimation++}this.currFrame=0,(!this.anyAnimations&&this.animationPaused||!this.anyAnimations&&this.currentAnimation===this.animationSteps.length)&&(this.currFrame=this.animationBlockLength),this.undoStack.push(this.undoBlock)}startNewAnimation(t){this.stopTimer(),null!==this.animationSteps&&(this.previousAnimationSteps.push(this.animationSteps),this.undoAnimationStepIndicesStack.push(this.undoAnimationStepIndices)),void 0===t||0===t.length?this.animationSteps=[[Ka.step,[]]]:this.animationSteps=t,this.undoAnimationStepIndices=[],this.currentAnimation=0,this.startNextBlock(),this.currentlyAnimating=!0,this.fireEvent("AnimationStarted","NoData"),this.startTimer()}stepBack(){this.awaitingStep&&null!==this.undoStack&&0!==this.undoStack.length?(this.fireEvent("AnimationStarted","NoData"),this.stopTimer(),this.awaitingStep=!1,this.undoLastBlock(),this.stopTimer(),this.startTimer()):!this.currentlyAnimating&&this.animationPaused&&null!==this.undoAnimationStepIndices?(null!=this.undoStack&&0!==this.undoStack.length||(this.stepBackButton.disabled=!0),this.fireEvent("AnimationStarted","NoData"),this.currentlyAnimating=!0,this.undoLastBlock(),this.stopTimer(),this.startTimer()):null!=this.undoStack&&0!==this.undoStack.length||(this.stepBackButton.disabled=!0,this.fireEvent("AnimationUndoUnavailable","NoData"))}step(){this.awaitingStep&&(this.startNextBlock(),this.fireEvent("AnimationStarted","NoData"),this.currentlyAnimating=!0,this.stopTimer(),this.startTimer())}clearHistory(){this.undoStack=[],this.undoAnimationStepIndices=null,this.previousAnimationSteps=[],this.undoAnimationStepIndicesStack=[],this.animationSteps=null,this.fireEvent("AnimationUndoUnavailable","NoData"),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw()}skipBack(){let t=null!==this.undoAnimationStepIndices&&0!==this.undoAnimationStepIndices.length;if(t){let e;for(e=0;null!==this.currentBlock&&e<this.currentBlock.length;e++){const t=this.currentBlock[e].objectID;this.animatedObjects.setNodePosition(t,this.currentBlock[e].toX,this.currentBlock[e].toY)}for(this.doingUndo&&this.finishUndoBlock(this.undoStack.pop());t;){for(this.undoLastBlock(),e=0;e<this.currentBlock.length;e++){const t=this.currentBlock[e].objectID;this.animatedObjects.setNodePosition(t,this.currentBlock[e].toX,this.currentBlock[e].toY)}t=this.finishUndoBlock(this.undoStack.pop())}this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw(),null!=this.undoStack&&0!==this.undoStack.length||this.fireEvent("AnimationUndoUnavailable","NoData")}}resetAll(){this.clearHistory(),this.animatedObjects.clearAllObjects(),this.animatedObjects.draw(),this.stopTimer()}skipForward(){if(this.currentlyAnimating){for(this.animatedObjects.runFast=!0;null!==this.animationSteps&&this.currentAnimation<this.animationSteps.length;){for(let t=0;null!==this.currentBlock&&t<this.currentBlock.length;t++){const e=this.currentBlock[t].objectID;this.animatedObjects.setNodePosition(e,this.currentBlock[t].toX,this.currentBlock[t].toY)}this.doingUndo&&this.finishUndoBlock(this.undoStack.pop()),this.startNextBlock();for(let t=0;t<this.currentBlock.length;t++){const e=this.currentBlock[t].objectID;this.animatedObjects.setNodePosition(e,this.currentBlock[t].toX,this.currentBlock[t].toY)}}this.animatedObjects.update(),this.currentlyAnimating=!1,this.awaitingStep=!1,this.doingUndo=!1,this.animatedObjects.runFast=!1,this.fireEvent("AnimationEnded","NoData"),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw()}}finishUndoBlock(t){for(let e=t.length-1;e>=0;e--)t[e].undoInitialStep(this.animatedObjects);return this.doingUndo=!1,0!==this.undoAnimationStepIndices.length||(this.awaitingStep=!1,this.currentlyAnimating=!1,this.undoAnimationStepIndicesStack.length>0&&(this.undoAnimationStepIndices=this.undoAnimationStepIndicesStack.pop()),this.previousAnimationSteps.length>0&&(this.animationSteps=this.previousAnimationSteps.pop()),this.fireEvent("AnimationEnded","NoData"),this.fireEvent("AnimationUndo","NoData"),this.currentBlock=[],null!=this.undoStack&&0!==this.undoStack.length||(this.currentlyAnimating=!1,this.awaitingStep=!1,this.fireEvent("AnimationUndoUnavailable","NoData")),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw(),!1)}undoLastBlock(){if(null!=this.undoAnimationStepIndices&&0!==this.undoAnimationStepIndices.length&&this.undoAnimationStepIndices.length>0){this.doingUndo=!0;let t=!1;this.currentAnimation=this.undoAnimationStepIndices.pop(),this.currentBlock=[];const e=this.undoStack[this.undoStack.length-1];let i;for(i=e.length-1;i>=0;i--){const s=e[i].addUndoAnimation(this.currentBlock);t=t||s}this.currFrame=0,!t&&this.animationPaused&&(this.currFrame=this.animationBlockLength),this.currentlyAnimating=!0}}setLayer(t,e){this.animatedObjects.setLayer(t,e),this.animatedObjects.draw()}toggleLayer(t){this.animatedObjects.toggleLayer(t),this.animatedObjects.draw()}updateLayer(t,e){this.animatedObjects.updateLayer(t,e),this.animatedObjects.draw()}setAllLayers(t){this.animatedObjects.setAllLayers(t),this.animatedObjects.draw()}update(){if(this.currentlyAnimating){let t;for(this.currFrame=this.currFrame+1,t=0;t<this.currentBlock.length;t++)if(this.currFrame===this.animationBlockLength||1===this.currFrame&&0===this.animationBlockLength)this.animatedObjects.setNodePosition(this.currentBlock[t].objectID,this.currentBlock[t].toX,this.currentBlock[t].toY);else if(this.currFrame<this.animationBlockLength){const e=this.currentBlock[t].objectID,i=1/(this.animationBlockLength-this.currFrame),s=this.lerp(this.animatedObjects.getNodeX(e),this.currentBlock[t].toX,i),h=this.lerp(this.animatedObjects.getNodeY(e),this.currentBlock[t].toY,i);this.animatedObjects.setNodePosition(e,s,h)}this.currFrame>=this.animationBlockLength&&(this.doingUndo?this.finishUndoBlock(this.undoStack.pop())&&(this.awaitingStep=!0,this.fireEvent("AnimationWaiting","NoData")):this.animationPaused&&void 0!==this.animationSteps&&this.currentAnimation<this.animationSteps.length?(this.awaitingStep=!0,this.fireEvent("AnimationWaiting","NoData"),this.currentBlock=[]):this.startNextBlock()),this.animatedObjects.update()}}animWaiting(){this.stepForwardButton.disabled=!1,!1===this.skipBackButton.disabled&&this.undoStack&&0!==this.undoStack.length&&(this.stepBackButton.disabled=!1),this.objectManager.statusReport.setText("Animation Paused"),this.objectManager.statusReport.setForegroundColor("#FF0000")}animStarted(){this.skipForwardButton.disabled=!1,this.stepForwardButton.disabled=!1,this.skipBackButton.disabled=!1,this.objectManager.statusReport.setText("Animation Running"),this.objectManager.statusReport.setForegroundColor("#009900")}animEnded(){this.skipForwardButton.disabled=!0,this.stepForwardButton.disabled=!0,!1===this.skipBackButton.disabled&&this.paused&&(this.undoStack&&0!==this.undoStack.length?this.stepBackButton.disabled=!1:this.stepForwardButton.disabled=!1),this.objectManager.statusReport.setText("Animation Completed"),this.objectManager.statusReport.setForegroundColor("#000000")}animUndoUnavailable(){this.skipBackButton.disabled=!0}timeout(){this.timer=setTimeout((()=>this.timeout()),30),this.update(),this.objectManager.draw()}doPlayPause(){this.paused=!this.paused,this.paused?(this.playPauseBackButton.setAttribute("value","Play"),this.playPauseBackButton.style.backgroundColor="#ccffcc",!1===this.skipBackButton.disabled&&this.undoStack&&0!==this.undoStack.length&&(this.stepBackButton.disabled=!1)):(this.playPauseBackButton.setAttribute("value","Pause"),this.playPauseBackButton.style.backgroundColor="#ffcccc"),this.setPaused(this.paused)}startTimer(){this.timer=setTimeout((()=>this.timeout()),30)}stopTimer(){clearInterval(this.timer)}}const Ka={step(){this.foundBreak=!0},move(t){const e=new he(t[0],this.animatedObjects.getNodeX(t[0]),this.animatedObjects.getNodeY(t[0]),t[1],t[2]);this.currentBlock.push(e),this.undoBlock.push(new ae(e.objectID,e.toX,e.toY,e.fromX,e.fromY)),this.anyAnimations=!0},delete(t){const e=this.animatedObjects.deleteIncident(t[0]);e.length>0&&(this.undoBlock=this.undoBlock.concat(e));const i=this.animatedObjects.getObject(t[0]);null!==i&&(this.undoBlock.push(i.createUndoDelete()),this.animatedObjects.removeObject(t[0]))},connect(t){t[2]=t[2]||"#000000",t[3]=t[3]||0,t[4]=!1!==t[4]&&0!==t[4],t[5]=void 0===t[5]?"":t[5],t[6]=t[6]||0,t[7]=void 0===t[7]?1:t[7],this.animatedObjects.connectEdge(t[0],t[1],t[2],t[3],t[4],String(t[5]),t[6],t[7]),this.undoBlock.push(new $e(t[0],t[1],!1))},connectNext(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!0,"",0),this.undoBlock.push(new $e(t[0],t[1],!1))},connectPrev(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!0,"",1),this.undoBlock.push(new $e(t[0],t[1],!1))},connectCurve(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",t[2],!0,"",1),this.undoBlock.push(new $e(t[0],t[1],!1))},connectSkipList(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!1,"",t[2]),this.undoBlock.push(new $e(t[0],t[1],!1))},disconnect(t){const e=this.animatedObjects.disconnect(t[0],t[1]);null!==e&&this.undoBlock.push(e)},createCircle(t){t[2]=t[2]||0,t[3]=t[3]||0,this.animatedObjects.addCircleObject(t[0],String(t[1])),this.animatedObjects.setNodePosition(parseInt(t[0]),parseInt(t[2]),parseInt(t[3])),this.undoBlock.push(new re(t[0]))},createHighlightCircle(t){t[2]=t[2]||0,t[3]=t[3]||0,t[4]=void 0===t[4]?20:t[4],this.animatedObjects.addHighlightCircleObject(t[0],t[1],t[4]),this.animatedObjects.setNodePosition(parseInt(t[0]),parseInt(t[2]),parseInt(t[3])),this.undoBlock.push(new re(t[0]))},createRectangle(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"center",t[7]=t[7]||"center",t[8]=t[8]||"#FFFFFF",t[9]=t[9]||"#000000",this.animatedObjects.addRectangleObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8],t[9]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new re(t[0]))},createLabel(t){t[2]=t[2]||0,t[3]=t[3]||0,t[4]=!1!==t[4]&&0!==t[4],this.animatedObjects.addLabelObject(t[0],String(t[1]),t[4],t[5],t[6]),this.animatedObjects.setNodePosition(t[0],t[2],t[3]),this.undoBlock.push(new re(t[0]))},createLinkedListNode(t){t[1]=Array.isArray(t[1])?t[1].map((t=>String(t))):[String(t[1])],t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=!1!==t[7]&&0!==t[7],t[8]=t[8]||!1,t[9]=t[9]||"#FFFFFF",t[10]=t[10]||"#000000",this.animatedObjects.addLinkedListObject(t[0],t[1],t[2],t[3],t[6],t[7],t[8],t[9],t[10]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new re(t[0]))},createDoublyLinkedListNode(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=t[7]||"#FFFFFF",t[8]=t[8]||"#000000",this.animatedObjects.addDoublyLinkedListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new re(t[0]))},createCircularlyLinkedListNode(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=t[7]||"#FFFFFF",t[8]=t[8]||"#000000",this.animatedObjects.addCircularlyLinkedListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new re(t[0]))},createSkipListNode(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"#FFFFFF",t[7]=t[7]||"#000000",this.animatedObjects.addSkipListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new re(t[0]))},createBTreeNode(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"#FFFFFF",t[7]=t[7]||"#000000",this.animatedObjects.addBTreeNode(t[0],t[1],t[2],t[3],t[6],t[7]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new re(t[0]))},setText(t){t[2]=t[2]||0;const e=this.animatedObjects.getText(t[0],t[2]);this.animatedObjects.setText(t[0],String(t[1]),t[2]),void 0!==e&&this.undoBlock.push(new xe(t[0],e,t[2]))},setTextColor(t){t[2]=t[2]||0;const e=this.animatedObjects.getTextColor(t[0],t[2]);this.animatedObjects.setTextColor(t[0],t[1],t[2]),this.undoBlock.push(new De(t[0],e,t[2]))},setForegroundColor(t){const e=this.animatedObjects.foregroundColor(t[0]);this.animatedObjects.setForegroundColor(t[0],t[1]),this.undoBlock.push(new fe(t[0],e))},setBackgroundColor(t){const e=this.animatedObjects.backgroundColor(t[0]);this.animatedObjects.setBackgroundColor(t[0],t[1]),this.undoBlock.push(new Ie(t[0],e))},setHighlight(t){this.animatedObjects.setHighlight(t[0],t[1],t[2]),this.undoBlock.push(new oe(t[0],!t[1],t[2]))},setAlpha(t){const e=this.animatedObjects.getAlpha(t[0]);this.animatedObjects.setAlpha(t[0],t[1]),this.undoBlock.push(new ue(t[0],e))},setEdgeColor(t){const e=this.animatedObjects.setEdgeColor(t[0],t[1],t[2]);this.undoBlock.push(new ke(t[0],t[1],e))},setEdgeAlpha(t){const e=this.animatedObjects.setEdgeAlpha(t[0],t[1],t[2]);this.undoBlock.push(new Ce(t[0],t[1],e))},setEdgeHighlight(t){const e=this.animatedObjects.setEdgeHighlight(t[0],t[1],t[2],t[3]);this.undoBlock.push(new ye(t[0],t[1],e))},setEdgeThickness(t){const e=this.animatedObjects.setEdgeThickness(t[0],t[1],t[2]);this.undoBlock.push(new ve(t[0],t[1],e))},setRectangleEdgeThickness(t){const e=this.animatedObjects.setRectangleEdgeThickness(t[0],t[1]);this.undoBlock.push(new Le(t[0],e))},setHeight(t){const e=this.animatedObjects.getHeight(t[0]);this.animatedObjects.setHeight(t[0],t[1]),this.undoBlock.push(new le(t[0],e))},setWidth(t){const e=this.animatedObjects.getWidth(t[0]);this.animatedObjects.setWidth(t[0],t[1]),this.undoBlock.push(new de(t[0],e))},setLayer(t){this.animatedObjects.setLayer(t[0],t[1])},setNull(t){const e=this.animatedObjects.getNull(t[0]);this.animatedObjects.setNull(t[0],t[1]),this.undoBlock.push(new me(t[0],e))},setPrevNull(t){const e=this.animatedObjects.getLeftNull(t[0]);this.animatedObjects.setPrevNull(t[0],t[1]),this.undoBlock.push(new ge(t[0],e))},setNextNull(t){const e=this.animatedObjects.getRightNull(t[0]);this.animatedObjects.setNextNull(t[0],t[1]),this.undoBlock.push(new pe(t[0],e))},setNumElements(t){const e=this.animatedObjects.getObject(t[0]);this.undoBlock.push(new ce(e,t[1])),this.animatedObjects.setNumElements(t[0],t[1])},setPosition(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.setNodePosition(t[0],t[1],t[2]),this.undoBlock.push(new we(t[0],e,i))},setHighlightIndex(t){const e=this.animatedObjects.getHighlightIndex(t[0]);this.undoBlock.push(new be(t[0],e)),this.animatedObjects.setHighlightIndex(t[0],t[1])},alignRight(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignRight(t[0],t[1]),this.undoBlock.push(new we(t[0],e,i))},alignLeft(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignLeft(t[0],t[1]),this.undoBlock.push(new we(t[0],e,i))},alignTop(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignTop(t[0],t[1]),this.undoBlock.push(new we(t[0],e,i))},alignBottom(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignBottom(t[0],t[1]),this.undoBlock.push(new we(t[0],e,i))},bringToTop(t){const e=this.animatedObjects.setAlwaysOnTop(t[0],t[1]);this.undoBlock.push(new Te(t[0],e))},moveToAlignRight(t){const e=this.animatedObjects.getAlignRightPos(t[0],t[1]),i=new he(t[0],this.animatedObjects.getNodeX(t[0]),this.animatedObjects.getNodeY(t[0]),e[0],e[1]);this.currentBlock.push(i),this.undoBlock.push(new ae(i.objectID,i.toX,i.toY,i.fromX,i.fromY)),this.anyAnimations=!0}};var Xa=i(279);function Ga(t,e){const i=document.createElement("p");if(i.appendChild(document.createTextNode(t)),e)e.appendChild(i),i.setAttribute("class","groupChild");else{const t=document.createElement("td");t.appendChild(i);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return i}function Ya(t,e,i){const s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("id",t),s.setAttribute("name",t),s.setAttribute("value",t),e&&s.setAttribute("checked","true");const h=document.createElement("label");h.setAttribute("for",t);const n=document.createTextNode(t);if(h.appendChild(n),i){const t=document.createElement("span");t.appendChild(s),t.appendChild(h),i.appendChild(t),t.setAttribute("class","groupChild")}else{const t=document.createElement("td");t.appendChild(s),t.appendChild(h);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return s}function Qa(t,e,i){const s=document.createElement("select");s.name=e;for(let h=0;h<t.length;h++){const e=document.createElement("option");e.value=t[h][0],e.text=t[h][1],s.add(e)}if(i){const t=document.createElement("span");t.appendChild(s),i.appendChild(t),t.setAttribute("class","groupChild")}else{const t=document.createElement("td");t.appendChild(s);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return s}function Za(t,e,i){const s=[],h=document.createElement("table");for(let n=0;n<t.length;n++){const i=document.createElement("tr"),a=document.createElement("td"),r=document.createElement("input");r.setAttribute("type","radio"),r.setAttribute("name",e),r.setAttribute("id",t[n]),r.setAttribute("value",t[n]),a.appendChild(r),i.appendChild(a);const o=document.createElement("label");o.setAttribute("for",t[n]);const l=document.createTextNode(" "+t[n]);o.appendChild(l),a.appendChild(o),h.appendChild(i),s.push(r)}if(i)i.appendChild(h),h.setAttribute("class","groupChild");else{const t=document.createElement("td");t.appendChild(h);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return s}function Ja(t,e,i){const s=document.createElement("input");if(s.setAttribute("type",t),s.setAttribute("value",e),i)i.appendChild(s),s.setAttribute("class","groupChild");else{const t=document.createElement("td");t.appendChild(s);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return s}function tr(){const t=document.createElement("td");t.setAttribute("class","divisorLeft");const e=document.createElement("td");e.setAttribute("class","divisorRight");const i=document.getElementById("AlgorithmSpecificControls");i.appendChild(t),i.appendChild(e)}function er(t,e){const i=document.createElement("div");if(i.setAttribute("class",t?"hgroup":"vgroup"),e)e.appendChild(i);else{const t=document.createElement("td");t.appendChild(i);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return i}const ir="#FF0000",sr="#000000";class hr{constructor(t,e,i){null!=t&&(this.animationManager=t,t.addListener("AnimationStarted",this,this.disableUI),t.addListener("AnimationEnded",this,this.enableUI),t.addListener("AnimationUndo",this,this.undo),this.canvasWidth=e,this.canvasHeight=i,this.actionHistory=[],this.recordAnimation=!0,this.commands=[])}addCodeToCanvasBaseAll(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:15;return{english:this.addCodeToCanvasBase(t[e].english,i,s,h,sr,32),code:this.addCodeToCanvasBase(t[e].code,i,s,h,sr,33)}}addCodeToCanvasBase(t,e,i,s,h,n){s="undefined"!==typeof s?s:15,h="undefined"!==typeof h?h:sr,n="undefined"!=typeof n?n:32;const a=Array(t.length);let r,o;for(r=0;r<t.length;r++)for(a[r]=new Array(t[r].length),o=0;o<t[r].length;o++)a[r][o]=this.nextIndex++,this.cmd(Ka.createLabel,a[r][o],t[r][o],e,i+r*s,0,true),this.cmd(Ka.setForegroundColor,a[r][o],h),this.cmd(Ka.setLayer,a[r][o],n),o>0&&this.cmd(Ka.alignRight,a[r][o],a[r][o-1]);return a}highlight(t,e,i,s){i&&(s?this.highlight(t,e,i[s]):void 0===i[0]?(i.english.length&&this.cmd(Ka.setForegroundColor,i.english[t][e],ir),i.code.length&&this.cmd(Ka.setForegroundColor,i.code[t][e],ir)):this.cmd(Ka.setForegroundColor,i[t][e],ir))}unhighlight(t,e,i,s){i&&(s?this.unhighlight(t,e,i[s]):void 0===i[0]?(i.english.length&&this.cmd(Ka.setForegroundColor,i.english[t][e],sr),i.code.length&&this.cmd(Ka.setForegroundColor,i.code[t][e],sr)):this.cmd(Ka.setForegroundColor,i[t][e],sr))}removeCode(t){if(t){if(t.english)return this.removeCode(t.english),void this.removeCode(t.code);for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)this.cmd(Ka.delete,t[e][i])}}setCodeAlpha(t,e){for(let i=0;i<t.length;i++)for(let s=0;s<t[i].length;s++)this.cmd(Ka.setAlpha,t[i][s],e)}shake(t){t.classList.add("shake"),setTimeout((()=>{t.classList.remove("shake")}),750)}cmd(t){if(this.recordAnimation){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];this.commands.push([t,i])}}clearHistory(){this.actionHistory=[]}undo(){this.actionHistory.pop(),this.reset();const t=this.actionHistory.length;this.recordAnimation=!1;for(let e=0;e<t;e++)this.actionHistory[e][0](...this.actionHistory[e][1]);this.recordAnimation=!0}implementAction(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];const h=[t,i];this.actionHistory.push(h);const n=t(...i);this.animationManager.startNewAnimation(n)}normalizeNumber(t,e){return/\D/.test(t)||""===t?t:t.substr(-e)}returnSubmit(t,e,i,s){let h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return void 0!==i&&(t.size=i),function(n){let a=0;window.event?a=n.keyCode:n.which&&(a=n.which);const r=h||t.value.length<i;if(13===a&&null!=e)e();else{if(32===a||190===a||59===a||173===a)return!1;if((!r||s&&!(a>=48&&a<=57||a>=96&&a<=105))&&!nr(a))return!1}}}sizeChanged(t,e){throw new Error("sizeChanged() should be implemented in base class")}disableUI(t){throw new Error("disableUI() should be implemented in base class")}enableUI(t){throw new Error("enableUI() should be implemented in base class")}reset(){throw new Error("reset() should be implemented in base class")}}function nr(t){return 8===t||9===t||37===t||38===t||39===t||40===t||46===t}hr.prototype.returnSubmitFloat=function(t,e,i){return void 0!==i&&(t.size=i),function(s){let h=0;if(window.event?h=s.keyCode:s.which&&(h=s.which),13!==h)return(nr(h)||109===h||(void 0!==i||t.value.length<i)&&h>=48&&h<=57||(void 0!==i||t.value.length<i)&&190===h&&-1===t.value.indexOf("."))&&void 0;e()}},hr.prototype.addReturnSubmit=function(t,e){t.onkeydown=this.returnSubmit(t,e,4,!1)};class ar extends hr{constructor(t,e,i){super(t,e,i),this.first_print_pos_y=i-2*ar.PRINT_VERTICAL_GAP,this.print_max=e-10,this.startingX=e/2,this.addControls(),this.nextIndex=1,this.commands=[],this.edges=[],this.cmd(Ka.createLabel,0,"",ar.EXPLANITORY_TEXT_X,ar.EXPLANITORY_TEXT_Y,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}addControls(){this.controls=[],this.insertField=Ja("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Ja("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),tr(),this.deleteField=Ja("Text",""),this.deleteField.style.textAlign="center",this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Ja("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),tr(),this.findField=Ja("Text",""),this.findField.style.textAlign="center",this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),tr(),this.printButton=Ja("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr();const t=Za(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=t[0],this.succButton=t[1],this.predButton.onclick=()=>this.predSucc="pred",this.succButton.onclick=()=>this.predSucc="succ",this.succButton.checked=!0,this.predSucc="succ"}setURLData(t){if(t.has("predSucc")){const e=t.get("predSucc");"pred"===e?(this.predSucc="pred",this.predButton.checked=!0):"succ"===e&&(this.predSucc="succ",this.succButton.checked=!0)}if(t.has("data")){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),parseInt(t),!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}}reset(){this.nextIndex=1,this.treeRoot=null,this.edges=[]}insertCallback(){let t=this.insertField.value;t=this.normalizeNumber(t,4),""!==t?(this.insertField.value="",this.implementAction(this.add.bind(this),parseInt(t))):this.shake(this.insertButton)}deleteCallback(){let t=this.deleteField.value;""!==t&&this.treeRoot?(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.remove.bind(this),parseInt(t))):this.shake(this.deleteButton)}findCallback(){let t=this.findField.value;""!==t?(t=this.normalizeNumber(t,4),this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))):this.shake(this.findButton)}randomCallback(){const t=Math.floor(11*Math.random())+2;this.implementAction(this.clear.bind(this));for(let e=0;e<t;e++)this.implementAction(this.add.bind(this),Math.floor(17*Math.random())+0),this.animationManager.skipForward(),this.animationManager.clearHistory()}printCallback(){this.treeRoot?this.implementAction(this.printTree.bind(this)):this.shake(this.printButton)}clearCallback(){this.implementAction(this.clear.bind(this))}sizeChanged(t){this.startingX=t/2}printTree(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Ka.createHighlightCircle,this.highlightID,ar.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=ar.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Ka.delete,this.highlightID),this.cmd(Ka.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Ka.delete,e);this.nextIndex=this.highlightID}return this.commands}printTreeRec(t){this.cmd(Ka.step),null!=t.left&&(this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step));const e=this.nextIndex++;this.cmd(Ka.createLabel,e,t.data,t.x,t.y),this.cmd(Ka.setForegroundColor,e,ar.PRINT_COLOR),this.cmd(Ka.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Ka.step),this.xPosOfNextLabel+=ar.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=ar.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=ar.PRINT_VERTICAL_GAP),null!=t.right&&(this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step))}findElement(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t),this.commands}doFind(t,e){this.cmd(Ka.setText,0,"Searchiing for "+e),null!=t?(this.cmd(Ka.setHighlight,t.graphicID,1),t.data===e?(this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(Ka.step),this.cmd(Ka.setText,0,"Found:"+e),this.cmd(Ka.setHighlight,t.graphicID,0)):t.data>e?(this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),null!=t.left&&(this.cmd(Ka.createHighlightCircle,this.highlightID,ar.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID)),this.doFind(t.left,e)):(this.cmd(Ka.setText,0," Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),null!=t.right&&(this.cmd(Ka.createHighlightCircle,this.highlightID,ar.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID)),this.doFind(t.right,e))):(this.cmd(Ka.setText,0," Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd(Ka.step),this.cmd(Ka.setText,0," Searching for "+e+" :  (Element not found)"))}remakeTree(t){null!=t&&(null!=t.left&&(this.cmd(Ka.connect,t.graphicID,t.left.graphicID,ar.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd(Ka.connect,t.graphicID,t.right.graphicID,ar.LINK_COLOR),this.remakeTree(t.right)))}add(t){return this.commands=[],this.cmd(Ka.setText,0," Inserting "+t),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.commands}addH(t,e){if(null==e){this.cmd(Ka.setText,0,"Null found, inserting new node");const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;return this.cmd(Ka.createCircle,e,t,30,ar.STARTING_Y),this.cmd(Ka.setForegroundColor,e,ar.FOREGROUND_COLOR),this.cmd(Ka.setBackgroundColor,e,ar.BACKGROUND_COLOR),this.cmd(Ka.createLabel,i,0,10,ar.STARTING_Y-20),this.cmd(Ka.setForegroundColor,i,ar.HEIGHT_LABEL_COLOR),this.cmd(Ka.createLabel,s,0,50,ar.STARTING_Y-20),this.cmd(Ka.setForegroundColor,s,ar.HEIGHT_LABEL_COLOR),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),new rr(t,e,i,s,0,0)}if(this.cmd(Ka.setHighlight,e.graphicID,1),t<e.data){this.cmd(Ka.setText,0,`${t} < ${e.data}. Looking at left subtree`),this.cmd(Ka.step),e.left=this.addH(t,e.left),e.left.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.left.graphicID)&&this.cmd(Ka.step)}else if(t>e.data){this.cmd(Ka.setText,0,`${t} > ${e.data}. Looking at right subtree`),this.cmd(Ka.step),e.right=this.addH(t,e.right),e.right.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.right.graphicID)&&this.cmd(Ka.step)}else this.cmd(Ka.setText,0,`${t} == ${e.data}. Ignoring duplicate!`),this.cmd(Ka.step);return e=this.balance(e),this.cmd(Ka.setHighlight,e.graphicID,0),this.cmd(Ka.setText,0,""),e}connectSmart(t,e){return!this.edges.some((i=>i[0]===t&&i[1]===e))&&(this.cmd(Ka.connect,t,e,ar.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,t,e,ar.LINK_OPACITY),this.edges.push([t,e]),!0)}balance(t){return t.updateHeightAndBF(),this.cmd(Ka.setText,t.heightLabelID,t.height),this.cmd(Ka.setText,t.bfLabelID,t.bf),this.cmd(Ka.setText,0,"Adjusting height and balance factor after recursive call"),this.cmd(Ka.step),t.bf<-1?(this.cmd(Ka.setText,0,"Balance factor < -1"),this.cmd(Ka.setTextColor,t.bfLabelID,ar.HIGHLIGHT_LABEL_COLOR),this.cmd(Ka.step),null!=t.right&&t.right.bf>0?(this.cmd(Ka.setText,0,"Right child balance factor > 0"),this.cmd(Ka.setTextColor,t.right.bfLabelID,ar.HIGHLIGHT_LABEL_COLOR),this.cmd(Ka.step),this.cmd(Ka.setText,0,"Right-left rotation"),this.cmd(Ka.step),this.cmd(Ka.setTextColor,t.right.bfLabelID,ar.HEIGHT_LABEL_COLOR),t.right=this.singleRotateRight(t.right)):(null!=t.right?(this.cmd(Ka.setText,0,"Right child balance factor <= 0"),this.cmd(Ka.setTextColor,t.right.bfLabelID,ar.HIGHLIGHT_LABEL_COLOR),this.cmd(Ka.step)):(this.cmd(Ka.setText,0,"No right child"),this.cmd(Ka.step)),this.cmd(Ka.setText,0,"Left rotation"),this.cmd(Ka.step)),this.cmd(Ka.setTextColor,t.bfLabelID,ar.HEIGHT_LABEL_COLOR),this.cmd(Ka.setTextColor,t.right.bfLabelID,ar.HEIGHT_LABEL_COLOR),t=this.singleRotateLeft(t)):t.bf>1&&(this.cmd(Ka.setText,0,"Balance factor > 1"),this.cmd(Ka.setTextColor,t.bfLabelID,ar.HIGHLIGHT_LABEL_COLOR),this.cmd(Ka.step),null!=t.left&&t.left.bf<0?(this.cmd(Ka.setText,0,"Left child balance factor < 0"),this.cmd(Ka.setTextColor,t.left.bfLabelID,ar.HIGHLIGHT_LABEL_COLOR),this.cmd(Ka.step),this.cmd(Ka.setText,0,"Left-right rotation"),this.cmd(Ka.step),this.cmd(Ka.setTextColor,t.left.bfLabelID,ar.HEIGHT_LABEL_COLOR),t.left=this.singleRotateLeft(t.left)):(null!=t.left?(this.cmd(Ka.setText,0,"Left child balance factor >= 0"),this.cmd(Ka.setTextColor,t.left.bfLabelID,ar.HIGHLIGHT_LABEL_COLOR),this.cmd(Ka.step)):(this.cmd(Ka.setText,0,"No left child"),this.cmd(Ka.step)),this.cmd(Ka.setText,0,"Right rotation"),this.cmd(Ka.step),this.cmd(Ka.setTextColor,t.bfLabelID,ar.HEIGHT_LABEL_COLOR)),this.cmd(Ka.setTextColor,t.bfLabelID,ar.HEIGHT_LABEL_COLOR),this.cmd(Ka.setTextColor,t.left.bfLabelID,ar.HEIGHT_LABEL_COLOR),t=this.singleRotateRight(t)),t}singleRotateRight(t){const e=t,i=t.left,s=i.right;return this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.step),null!=s&&(this.cmd(Ka.disconnect,i.graphicID,s.graphicID),this.cmd(Ka.connect,e.graphicID,s.graphicID,ar.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,e.graphicID,s.graphicID,ar.LINK_OPACITY),s.parent=e),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,ar.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,i.graphicID,e.graphicID,ar.LINK_OPACITY),i.parent=e.parent,this.treeRoot===e?this.treeRoot=i:(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID,ar.LINK_COLOR),this.cmd(Ka.connect,e.parent.graphicID,i.graphicID,ar.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,e.parent.graphicID,i.graphicID,ar.LINK_OPACITY),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.right=e,e.parent=i,e.left=s,this.cmd(Ka.setHighlight,i.graphicID,0),this.cmd(Ka.setHighlight,e.graphicID,0),e.updateHeightAndBF(),this.cmd(Ka.setText,e.heightLabelID,e.height),this.cmd(Ka.setText,e.bfLabelID,e.bf),i.updateHeightAndBF(),this.cmd(Ka.setText,i.heightLabelID,i.height),this.cmd(Ka.setText,i.bfLabelID,i.bf),this.resizeTree(),i}singleRotateLeft(t){const e=t,i=t.right,s=i.left;return this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.step),null!=s&&(this.cmd(Ka.disconnect,i.graphicID,s.graphicID),this.cmd(Ka.connect,e.graphicID,s.graphicID,ar.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,e.graphicID,s.graphicID,ar.LINK_OPACITY),s.parent=e),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,ar.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,i.graphicID,e.graphicID,ar.LINK_OPACITY),i.parent=e.parent,this.treeRoot===e?this.treeRoot=i:(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID,ar.LINK_COLOR),this.cmd(Ka.connect,e.parent.graphicID,i.graphicID,ar.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,e.parent.graphicID,i.graphicID,ar.LINK_OPACITY),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.left=e,e.parent=i,e.right=s,this.cmd(Ka.setHighlight,e.graphicID,0),this.cmd(Ka.setHighlight,i.graphicID,0),e.updateHeightAndBF(),this.cmd(Ka.setText,e.heightLabelID,e.height),this.cmd(Ka.setText,e.bfLabelID,e.bf),i.updateHeightAndBF(),this.cmd(Ka.setText,i.heightLabelID,i.height),this.cmd(Ka.setText,i.bfLabelID,i.bf),this.resizeTree(),i}getHeight(t){return null==t?-1:t.height}resetHeight(t){if(null!=t){const e=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1;t.height!==e&&(t.height=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1,this.cmd(Ka.setText,t.heightLabelID,e))}}deleteNode(t){this.cmd(Ka.delete,t.graphicID),this.cmd(Ka.delete,t.heightLabelID),this.cmd(Ka.delete,t.bfLabelID)}remove(t){return this.commands=[],this.cmd(Ka.setText,0,`Deleting ${t}`),this.cmd(Ka.step),this.cmd(Ka.setText,0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.cmd(Ka.setText,0,""),this.resizeTree(),this.commands}removeH(t,e){if(null!=t){if(this.cmd(Ka.setHighlight,t.graphicID,1),e<t.data)this.cmd(Ka.setText,0,`${e} < ${t.data}. Looking left`),this.cmd(Ka.step),t.left=this.removeH(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(e>t.data)this.cmd(Ka.setText,0,`${e} > ${t.data}. Looking right`),this.cmd(Ka.step),t.right=this.removeH(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(null==t.left&&null==t.right)return this.cmd(Ka.setText,0,"Element to delete is a leaf node"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),null;if(null==t.left)return this.cmd(Ka.setText,0,"One-child case, replace with right child"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),t.right;if(null==t.right)return this.cmd(Ka.setText,0,"One-child case, replace with left child"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),t.left;{const e=[];"succ"===this.predSucc?(this.cmd(Ka.setText,0,"Two-child case, replace data with successor"),this.cmd(Ka.step),t.right=this.removeSucc(t.right,e),t.right&&this.connectSmart(t.graphicID,t.right.graphicID)):(this.cmd(Ka.setText,0,"Two-child case, replace data with predecessor"),this.cmd(Ka.step),t.left=this.removePred(t.left,e),t.left&&this.connectSmart(t.graphicID,t.left.graphicID)),this.resizeTree(),t.data=e[0],this.cmd(Ka.setText,t.graphicID,t.data)}}return t=this.balance(t),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setText,0,""),t}this.cmd(Ka.setText,0,`${e} not found in the tree`)}removeSucc(t,e){return this.cmd(Ka.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Ka.step),null==t.left?(this.cmd(Ka.setText,0,"No left child, replace with right child"),this.cmd(Ka.step),e.push(t.data),this.deleteNode(t),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),t.right):(this.cmd(Ka.setText,0,"Left child exists, look left"),this.cmd(Ka.step),t.left=this.removeSucc(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(Ka.setHighlight,t.graphicID,0),t)}removePred(t,e){return this.cmd(Ka.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Ka.step),null==t.right?(this.cmd(Ka.setText,0,"No right child, replace with right child"),this.cmd(Ka.step),e.push(t.data),this.deleteNode(t),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),t.left):(this.cmd(Ka.setText,0,"Right child exists, look right"),this.cmd(Ka.step),t.right=this.removePred(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(Ka.setHighlight,t.graphicID,0),t)}resizeTree(){if(null==this.treeRoot)return;let t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,ar.STARTING_Y,0),this.animateNewPositions(this.treeRoot),this.cmd(Ka.step))}setNewPositions(t,e,i,s){null!=t&&(t.y=i,-1===s?(e-=t.rightWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):1===s?(e+=t.leftWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):(t.heightLabelX=e-20,t.bfLabelX=e+20),t.x=e,t.heightLabelY=t.y-20,t.bfLabelY=t.y-20,this.setNewPositions(t.left,e,i+ar.HEIGHT_DELTA,-1),this.setNewPositions(t.right,e,i+ar.HEIGHT_DELTA,1))}animateNewPositions(t){null!=t&&(this.cmd(Ka.move,t.graphicID,t.x,t.y),this.cmd(Ka.move,t.heightLabelID,t.heightLabelX,t.heightLabelY),this.cmd(Ka.move,t.bfLabelID,t.bfLabelX,t.bfLabelY),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}resizeWidths(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),ar.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),ar.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}clear(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}recClear(t){null!=t&&(this.cmd(Ka.delete,t.graphicID),this.cmd(Ka.delete,t.heightLabelID),this.cmd(Ka.delete,t.bfLabelID),this.recClear(t.left),this.recClear(t.right))}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}class rr{constructor(t,e,i,s,h,n){this.data=t,this.x=h,this.y=n,this.heightLabelID=i,this.bfLabelID=s,this.height=0,this.bf=0,this.graphicID=e,this.left=null,this.right=null,this.parent=null}updateHeightAndBF(){const t=t=>null==t?-1:t.height,e=t(this.left),i=t(this.right);this.height=Math.max(e,i)+1,this.bf=e-i}isLeftChild(){return null==this.parent||this.parent.left===this}}ar.HIGHLIGHT_LABEL_COLOR="#FF0000",ar.HIGHLIGHT_COLOR="#007700",ar.HEIGHT_LABEL_COLOR="#000000",ar.LINK_COLOR="#000000",ar.LINK_OPACITY=.2,ar.HIGHLIGHT_CIRCLE_COLOR="#007700",ar.FOREGROUND_COLOR="#000000",ar.BACKGROUND_COLOR="#FFFFFF",ar.PRINT_COLOR="#007700",ar.WIDTH_DELTA=50,ar.HEIGHT_DELTA=50,ar.STARTING_Y=50,ar.FIRST_PRINT_POS_X=50,ar.PRINT_VERTICAL_GAP=20,ar.PRINT_HORIZONTAL_GAP=50,ar.EXPLANITORY_TEXT_X=10,ar.EXPLANITORY_TEXT_Y=10;var or=JSON.parse('{"mx":{"addFB":{"code":[["procedure addFront(data)"],["  addAtIndex(0, data)"],["end procedure"],[""],["procedure addBack(data)"],["  addAtIndex(size, data)"],["end procedure"]],"english":[["procedure addFront(data)"],["  call addAtIndex at front with data"],["end procedure"],[""],["procedure addBack(data)"],["  call addAtIndex at back with data"],["end procedure"]]},"addIndex":{"code":[["procedure addAtIndex(index, data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[size * 2]"],["    for i \u2190 0 to index - 1, i++:"],["      newArray[i] \u2190 array[i]"],["    newArray[index] \u2190 data"],["    for i \u2190 index to size - 1, i++:"],["      newArray[i + 1] \u2190 array[i]"],["    array \u2190 newArray"],["  else"],["    for i \u2190 size to index + 1, i--:"],["      array[i] \u2190 array[i - 1]"],["    array[index] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure addAtIndex(index, data)"],["  if (at max capacity):"],["    create newArray with 2x capacity"],["    for (i from 0 to index):"],["      copy array value at i to newArray"],["    put data into newArray at index"],["    for (i from index to back):"],["      copy and shift array value at i to newArray"],["    array points to newArray"],["  else:"],["    for (i from back to spot after index):"],["      shift array value back"],["    put data into array at index"],["  increment size"],["end procedure"]]},"removeFB":{"code":[["procedure removeFront()"],["  removeFromIndex(0)"],["end procedure"],[""],["procedure removeBack()"],["  removeFromIndex(size - 1)"],["end procedure"]],"english":[["procedure removeFront()"],["  call removeFromIndex at front"],["end procedure"],[""],["procedure removeBack()"],["  call removeFromIndex at back"],["end procedure"]]},"removeIndex":{"code":[["procedure removeFromIndex(index)"],["  T data \u2190 array[index]"],["  array[index] \u2190 null"],["  for i \u2190 index to size - 2, i++:"],["    array[i] \u2190 array[i + 1]"],["  array[size - 1] \u2190 null"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFromIndex(index)"],["  copy data at index to temp"],["  for (i from index to spot before back):"],["    copy array value at i and shift to newArray"],["  null out back of array"],["  decrement size"],["  return temp"],["end procedure"]]}},"k5":{"addFront":{"code":[["procedure addFront(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["  else"],["    Node newHead \u2190 new Node(data)"],["    newHead.next \u2190 head"],["    head \u2190 newHead"],["  end if"],["  size++"],["end procedure"]],"english":[["procedure addFront(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["  else"],["    Node newHead \u2190 new Node(data)"],["    newHead.next \u2190 head"],["    head \u2190 newHead"],["  end if"],["  size++"],["end procedure"]]},"addBack":{"code":[["procedure addBack(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to size - 2, i++:"],["      curr = curr.next"],["    curr.next \u2190 new Node(data)"],["  end if"],["  size++"],["end procedure"]],"english":[["procedure addBack(data)"],["  if (list is empty):"],["    head points to new node with data"],["  else:"],["    curr points to head"],["    for (i from front to node before back):"],["      curr moves to next node"],["    curr.next points to new node with data"],["  end if"],["  increment size"],["end procedure"]]},"addIndex":{"code":[["procedure addAtIndex(index, data)"],["  if index == 0"],["    addFront(data)"],["  else if index == size"],["    addBack(data)"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to index - 2, i++:"],["      curr = curr.next"],["    end for"],["    Node newNode \u2190 new Node(data)"],["    newNode.next \u2190 curr.next"],["    curr \u2190 newNode"],["    size++"],["  end if"],["end procedure"]],"english":[["procedure addAtIndex(index, data)"],["  if (index is at the front):"],["    call addFront with data"],["  else (index is at the back):"],["    call addBack with data"],["  else:"],["    curr points to head"],["    for (i from front to node before index):"],["      curr moves to next node"],["    end for"],["    create newNode node with data"],["    newNode.next points to curr.next"],["    curr points to newNode"],["    increment size"],["  end if"],["end procedure"]]},"removeFront":{"code":[["procedure removeFront()"],["  T data \u2190 head.data"],["  head \u2190 head.next"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFront()"],["  copy data at head to temp"],["  head moves to next node"],["  decrement size"],["  return temp"],["end procedure"]]},"removeBack":{"code":[["procedure removeBack()"],["  if size == 1:"],["    removeFront()"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to size - 2"],["      curr \u2190 curr.next"],["    end for"],["    T data \u2190 curr.next.data"],["    curr.next \u2190 null"],["    size--"],["    return data"],["  end if"],["end procedure"]],"english":[["procedure removeBack()"],["  if (list has 1 node):"],["    call removeFront"],["  else:"],["    curr points to head"],["    for (i from front to node before back):"],["      curr moves to next node"],["    end for"],["    copy data at curr.next to temp"],["    null out curr.next"],["    decrement size"],["    return temp"],["  end if"],["end procedure"]]},"removeIndex":{"code":[["procedure removeFromIndex(index)"],["  if index == 0"],["    removeFront()"],["  else if index == size - 1"],["    removeBack()"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to index - 2, i++"],["      curr \u2190 curr.next"],["    end for"],["    T data \u2190 curr.next.data"],["    curr.next \u2190 curr.next.next"],["    size--"],["    return data"],["  end if"],["end procedure"]],"english":[["procedure removeFromIndex(index)"],["  if (index is at the front):"],["    call removeFront"],["  else if (index is at the back):"],["    call removeBack"],["  else:"],["    curr points to head"],["    for (i from front to node before index):"],["      curr moves to next node"],["    end for"],["    copy data at curr to temp"],["    curr.next points to curr.next.next"],["    decrement size"],["    return temp"],["  end if"],["end procedure"]]}},"Ry":{"addFront":{"code":[["procedure addFront(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["    tail \u2190 head"],["  else"],["    Node newHead \u2190 new Node(data)"],["    newHead.next \u2190 head"],["    head.prev \u2190 newHead"],["    head \u2190 newHead"],["  size++"],["end procedure"]],"english":[["procedure addFront(data)"],["  if (list is empty):"],["    head points to new node"],["    tail points to new node"],["  else:"],["    create newHead node with data"],["    newHead.next points to head"],["    head.prev points to newHead"],["    head points to newHead"],["  increment size"],["end procedure"]]},"addBack":{"code":[["procedure addBack(data)"],["  if size == 0"],["    tail \u2190 new Node(data)"],["    head \u2190 tail"],["  else"],["    Node newTail \u2190 new Node(data)"],["    newTail.prev \u2190 tail"],["    tail.next \u2190 newTail"],["    tail \u2190 newTail"],["  size++"],["end procedure"]],"english":[["procedure addBack(data)"],["  if (list is empty):"],["    head points to new node"],["    tail points to new node"],["  else:"],["    create newTail node with data"],["    newTail.prev points to tail"],["    tail.next points to newTail"],["    tail points to newTail"],["  increment size"],["end procedure"]]},"addIndex":{"code":[["procedure addAtIndex(index, data)"],["  if index == 0"],["    addFront(data)"],["  else if index == size"],["    addBack(data)"],["  else"],["    if index < size / 2"],["      Node curr \u2190 head"],["      for i \u2190 0 to index - 2, i++:"],["        curr = curr.next"],["    else"],["      Node curr \u2190 tail"],["      for i \u2190 size - 1 to index, i--:"],["        curr = curr.prev"],["    Node newNode \u2190 new Node(data)"],["    newNode.prev \u2190 curr"],["    newNode.next \u2190 curr.next"],["    curr.next \u2190 newNode"],["    newNode.next.prev \u2190 newNode"],["    size++"],["end procedure"]],"english":[["procedure addAtIndex(index, data)"],["  if (index is at the front):"],["    call addFront with data"],["  else if (index is at the back):"],["    call addBack with data"],["  else:"],["    if (index is closer to front):"],["      curr points to head"],["      for (i from 0 to node before index):"],["        curr moves to next node"],["    else:"],["      curr points to tail"],["      for (i from back to index):"],["        curr moves to previous node"],["    create newNode node with data"],["    newNode.prev points to curr"],["    newNode.next points to curr.next"],["    curr.next points to newNode"],["    newNode.next.prev points to newNode"],["    increment size"],["end procedure"]]},"removeFront":{"code":[["procedure removeFront()"],["  T data \u2190 head.data"],["  head \u2190 head.next"],["  if head == null"],["    tail \u2190 null"],["  else"],["    head.prev \u2190 null"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFront()"],["  copy data at head to temp"],["  head moves to next node"],["  if (head is null):"],["    null out tail"],["  else:"],["    null out head.prev"],["  decrement size"],["  return temp"],["end procedure"]]},"removeBack":{"code":[["procedure removeBack()"],["  T data \u2190 tail.data"],["  tail \u2190 tail.prev"],["  if tail == null"],["    head \u2190 null"],["  else"],["    tail.next \u2190 null"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeBack()"],["  copy data at tail to temp"],["  tail moves to previous node"],["  if (tail is null):"],["    null out head"],["  else:"],["    null out tail.next"],["  decrement size"],["  return temp"],["end procedure"]]},"removeIndex":{"code":[["procedure removeFromIndex(index)"],["  if index == 0"],["    removeFront()"],["  else if index == size - 1"],["    removeBack()"],["  else"],["    if index < size / 2"],["      Node curr \u2190 head"],["      for i \u2190 0 to index - 1, i++:"],["        curr \u2190 curr.next"],["    else"],["      Node curr \u2190 tail"],["      for i \u2190 size - 1 to index + 1, i--:"],["         curr \u2190 curr.prev"],["    T data \u2190 curr.data"],["    curr.prev.next \u2190 curr.next"],["    curr.next.prev \u2190 curr.prev"],["    size--"],["    return data"],["end procedure"]],"english":[["procedure removeFromIndex(index)"],["  if (index is at the front):"],["    call removeFront"],["  else (index is at the back):"],["    call removeBack"],["  else:"],["    if (index is in the front half):"],["      curr points to head"],["      for (i from front to index):"],["        curr moves to next node"],["    else:"],["      curr points to tail"],["      for (i from back to index):"],["        curr moves to previous node"],["    copy data at curr to temp"],["    curr.prev.next points to curr.next"],["    curr.next.prev points to curr.prev"],["    decrement size"],["    return temp"],["end procedure"]]}},"Kf":{"addFront":{"code":[["procedure addFront(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["    head.next \u2190 head"],["  else"],["    Node newNode \u2190 new Node(head.data)"],["    head.data \u2190 data"],["    newNode.next \u2190 head.next"],["    head.next \u2190 newNode"],["  size++"],["end procedure"]],"english":[["procedure addFront(data)"],["  if (list is empty):"],["    create newNode node with data"],["    head points to newNode"],["    head.next points to itself"],["  else:"],["    create newNode node with head\'s data"],["    set head\'s data to new data"],["    newNode.next points to head.next"],["    head.next points to newNode"],["  increment size"],["end procedure"]]},"addBack":{"code":[["procedure addBack(data)"],["  addFront(data)"],["  head \u2190 head.next"],["end procedure"]],"english":[["procedure addBack(data)"],["  call addFront with data"],["  head moves to next node"],["end procedure"]]},"addIndex":{"code":[["procedure addAtIndex(index, data)"],["  if index == 0"],["    addFront(data)"],["  else if index == size"],["    addBack(data)"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to index - 2, i++:"],["      curr \u2190 curr.next"],["    Node newNode = new Node(data)"],["    newNode.next \u2190 curr.next"],["    curr.next \u2190 newNode"],["    size++"],["end procedure"]],"english":[["procedure addAtIndex(index, data)"],["  if (index is at the front):"],["    call addFront with data"],["  else (index is at the back):"],["    call addBack with data"],["  else:"],["    curr points to head"],["    for (i from front to node before index):"],["      curr moves to next node"],["    create newNode node with data"],["    newNode.next points to curr.next"],["    curr.next points to newNode"],["    increment size"],["end procedure"]]},"removeFront":{"code":[["procedure removeFront()"],["  T data \u2190 head.data"],["  if size == 1"],["    head \u2190 null"],["  else"],["    head.data \u2190 head.next.data"],["    head.next \u2190 head.next.next"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFront()"],["  copy data at head to temp"],["  if (list has 1 node):"],["    null out head pointer"],["  else:"],["    copy data at head.next to head.data"],["    head.next points to head.next.next"],["  decrement size"],["  return temp"],["end procedure"]]},"removeBack":{"code":[["procedure removeBack()"],["  T data \u2190 null"],["  if size == 1"],["    data \u2190 head.data"],["    head \u2190 null"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to size - 2"],["      curr \u2190 curr.next"],["    data \u2190 curr.next.data"],["    curr.next \u2190 curr.next.next"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeBack()"],["  if (list has 1 node):"],["    copy data at head to temp"],["    null out head pointer"],["  else:"],["    curr points to head"],["    for (i from front to node before end):"],["      curr moves to next node"],["    copy data at curr.next to temp"],["    curr.next points to curr.next.next"],["  decrement size"],["  return temp"],["end procedure"]]},"removeIndex":{"code":[["procedure removeIndex(index)"],["  if index == 0"],["    removeFront()"],["  else if index == size - 1"],["    removeBack()"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to index - 2, i++:"],["      curr \u2190 curr.next"],["    T data \u2190 curr.next.data"],["    curr.next \u2190 curr.next.next"],["    size--"],["    return data"],["end procedure"]],"english":[["procedure removeIndex(index)"],["  if (index is at the front):"],["    call removeFront"],["  else (index is at the back):"],["    call removeBack"],["  else:"],["    curr points to head"],["    for (i from front to node before index):"],["      curr moves to next node"],["    copy data at curr.next to temp"],["    curr.next points to curr.next.next"],["    decrement size"],["    return temp"],["end procedure"]]}},"ys":{"push":{"code":[["procedure push(data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[2 * size]"],["    for i \u2190 0 to size - 1, i++:"],["      newArray[i] \u2190 array[i]"],["    array \u2190 newArray"],["  array[size] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure push(data)"],["  if (at max capacity):"],["    create newArray with 2x capacity"],["    for (i from front to back):"],["      copy array value at i to newArray"],["    array points to newArray"],["    put data into array at back"],["    increment size"],["end procedure"]]},"pop":{"code":[["procedure pop()"],["  size--"],["  T data \u2190 array[size]"],["  array[size] \u2190 null"],["  return data"],["end procedure"]],"english":[["procedure pop()"],["  copy array value at back to temp"],["  null out back of array"],["  decrement size"],["  return temp"],["end procedure"]]}},"bQ":{"push":{"code":[["procedure push(data)"],["  head \u2190 new Node(data, head)"],["end procedure"]],"english":[["procedure push(data)"],["  create newNode node with data"],["  newNode.next points to head"],["  head points to newNode"],["  increment size"],["end procedure"]]},"pop":{"code":[["procedure pop()"],["  T data \u2190 head.data"],["  head \u2190 head.next"],["  return data"],["end procedure"]],"english":[["procedure pop()"],["  copy data at head to temp"],["  head moves to next node"],["  decrement size"],["  return temp"],["end procedure"]]}},"Vi":{"enqueue":{"code":[["procedure enqueue(data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[2 * size]"],["    for i \u2190 0 to size - 1, i++:"],["      newArray[i] \u2190 array[(front + i) % array.length]"],["    array \u2190 newArray"],["    front \u2190 0"],["  array[(front + size) % array.length] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure enqueue(data)"],["  if (at max capacity):"],["    create newArray with 2x capacity"],["    for (i from front to back):"],["      calculate index = (front + i) % capacity"],["      copy array value at index to newArray"],["    array points to newArray"],["    reset front to 0"],["  put data into array at back"],["  increment size"],["end procedure"]]},"dequeue":{"code":[["procedure dequeue()"],["  T data \u2190 array[front]"],["  array[front] \u2190 null"],["  front \u2190 (front + 1) % array.length"],["  size--"],["end procedure"]],"english":[["procedure dequeue()"],["  copy array value at front to temp"],["  null out front of array"],["  increment front"],["  decrement size"],["end procedure"]]}},"kX":{"enqueue":{"code":[["procedure enqueue(data)"],["  Node newNode \u2190 new Node(data)"],["  if size == 0"],["    head \u2190 newNode"],["  else"],["    tail.next \u2190 newNode"],["  tail \u2190 newNode"],["  size++"],["end procedure"]],"english":[["procedure enqueue(data)"],["  create newNode node with data"],["  if (queue is empty):"],["    head points to newNode"],["  else:"],["    tail.next points to newNode"],["  tail points to newNode"],["  increment size"],["end procedure"]]},"dequeue":{"code":[["procedure dequeue()"],["  T data \u2190 head.data"],["  if size == 1"],["    head \u2190 null"],["    tail \u2190 null"],["  else"],["    head \u2190 head.next"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure dequeue()"],["  copy data at head to temp"],["  if (queue has 1 node):"],["    null out head"],["    null out tail"],["  else:"],["    head moves to next node"],["  decrement size"],["  return temp"],["end procedure"]]}},"Y5":{"addFirst":{"code":[["procedure addFirst(data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[2 * size]"],["    for i \u2190 0 to size - 1, i++:"],["      newArray[i + 1] \u2190 array[(front + i) % array.length]"],["    array \u2190 newArray"],["    front \u2190 0"],["  else"],["    front \u2190 (front - 1) % array.length"],["  array[front] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure addFirst(data)"],["  if (at max capacity):"],["    create newArray with 2x capacity"],["    for (i from front to back):"],["      calculate index = (front + i) % capacity"],["      copy and shift array value at index to newArray"],["    array points to newArray"],["    reset front to 0"],["  else:"],["    decrement front"],["  put data into array at front"],["  increment size"],["end procedure"]]},"addLast":{"code":[["procedure addLast(data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[2 * size]"],["    for i \u2190 0 to size - 1, i++:"],["      newArray[i] \u2190 array[(front + i) % array.length]"],["    array \u2190 newArray"],["    front \u2190 0"],["  array[(front + size) % array.length] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure addLast(data)"],["  if (at max capacity)"],["    create newArray with 2x capacity"],["    for (i from front to back):"],["      calculate index = (front + i % capacity)"],["      copy array value at index to newArray"],["    array points to newArray"],["    reset front to 0"],["  put data into array at back"],["  increment size"],["end procedure"]]},"removeFirst":{"code":[["procedure removeFirst()"],["  T data \u2190 array[front]"],["  array[front] \u2190 null"],["  front \u2190 (front + 1) % array.length"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFirst()"],["  copy data at front to temp"],["  null out front of array"],["  increment front"],["  decrement size"],["  return temp"],["end procedure"]]},"removeLast":{"code":[["procedure removeLast()"],["  back \u2190 (front + size - 1) % array.length"],["  T data \u2190 array[back]"],["  array[back] \u2190 null"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeLast()"],["  copy data at back to temp"],["  null out back of array"],["  decrement size"],["  return temp"],["end procedure"]]}},"Of":{"preorder":{"code":[["procedure preOrder(Node node)"],["  if node != null:"],["    // do something with node"],["    preOrder(node.left)"],["    preOrder(node.right)"],["end procedure"]],"english":[["procedure preOrder(Node node)"],["  if node is not null:"],["    look at data in the node"],["    recurse left"],["    recurse right"],["end procedure"]]},"inorder":{"code":[["procedure inOrder(Node node)"],["  if node != null:"],["    inOrder(node.left)"],["    // do something with node"],["    inOrder(node.right)"],["end procedure"]],"english":[["procedure inOrder(Node node)"],["  if node is not null:"],["    recurse left"],["    look at data in the node"],["    recurse right"],["end procedure"]]},"postorder":{"code":[["procedure postOrder(Node node)"],["  if node != null:"],["    postOrder(node.left)"],["    postOrder(node.right)"],["    // do something with node"],["end procedure"]],"english":[["procedure postOrder(Node node)"],["  if node is not null:"],["    recurse left"],["    recurse right"],["    look at data in the node"],["end procedure"]]},"levelorder":{"code":[["procedure levelOrder()"],["  Queue q \u2190 new Queue()"],["  q.add(root)"],["  while q.size > 0"],["    Node curr \u2190 q.remove()"],["    // do something with curr"],["    if curr.left != null:"],["      q.add(curr.left)"],["    if curr.right != null:"],["      q.add(curr.right)"],["end procedure"]],"english":[["procedure levelOrder()"],["  create Queue q"],["  add root to q"],["  while q is not empty"],["    Node curr \u2190 remove from q"],["    record data from curr"],["    if curr.left is not null:"],["      add curr.left to q"],["    if curr.right is not null:"],["      add curr.right to q"],["end procedure"]]},"add":{"code":[["procedure add(data)"],["  root \u2190 addH(data, root) "],["end procedure"],[""],["procedure addH(data, curr)"],["  if curr == null"],["    size++"],["    return new Node(data)"],["  else if data < curr.data"],["    curr.left \u2190 addH(data, curr.left)"],["  else if data > curr.data"],["    curr.right \u2190 addH(data, curr.right)"],["  return curr"],["end procedure"]],"english":[["procedure add(data)"],["    reinforce root with addH call on root"],["end procedure"],[""],["procedure addH(data, curr)"],["  if (curr is null):"],["    increment size"],["    return new node with data"],["  else if (data < curr.data):"],["    reinforce left child with addH call on left child"],["  else if (data > right child):"],["    reinforce right child with addH call on right child"],["  return curr"],["end procedure"]]},"remove_successor":{"code":[["procedure remove(data)"],["  dummy \u2190 new Node(null)"],["  root \u2190 removeH(data, root, dummy)"],["  return dummy.data"],["end procedure"],[""],["procedure removeH(data, curr, dummy)"],["  if curr == null"],["    return null"],["  else if data < curr.data"],["    curr.left \u2190 removeH(data, curr.left)"],["  else if data > curr.data"],["    curr.right \u2190 removeH(data, curr.right)"],["  else"],["    size--"],["    dummy.data \u2190 curr.data"],["    if curr.left == null && curr.right == null"],["      return null"],["    else if curr.left == null"],["      return curr.right"],["    else if curr.right == null"],["      return curr.left"],["    else"],["      dummy2 \u2190 new Node(null)"],["      curr.right \u2190 removeSuccessor(curr.right, dummy2)"],["      curr.data \u2190 dummy2.data"],["  return curr"],["end procedure"],[""],["procedure removeSuccessor(curr, dummy2)"],["  if curr.left == null"],["    dummy2.data \u2190 curr.data"],["    return curr.right"],["  else"],["    curr.left \u2190 removeSuccessor(curr.left, dummy2)"],["    return curr"],["end procedure"]],"english":[["procedure remove(data):"],["  create dummy node"],["  reinforce root with removeH call on root"],["  return dummy data"],["end procedure"],[""],["procedure removeH(data, curr, dummy)"],["  if (curr is null):"],["    return null"],["  else if (data < curr.data):"],["    reinforce left child with removeH call on left child"],["  else if (data > curr.data):"],["    reinforce right child with removeH call on right child"],["  else:"],["    decrement size"],["    copy data in curr to dummy"],["    if (both children are null):"],["      return null"],["    else if (left child is null):"],["      return right child"],["    else if (right child is null):"],["      return left child"],["    else:"],["      create dummy2 node"],["      reinforce right child with removeSuccessor call on right child"],["      copy data in dummy2 to curr"],["  return curr"],["end procedure"],[""],["procedure removeSuccessor(curr, dummy2)"],["  if (left child is null):"],["    copy data in curr to dummy2"],["    return right child"],["  else:"],["    reinforce left child with removeSuccessor call on left child"],["    return curr"],["end procedure"]]},"remove_predecessor":{"code":[["procedure remove(data)"],["  dummy \u2190 new Node(null)"],["  root \u2190 removeH(data, root, dummy)"],["  return dummy.data"],["end procedure"],[""],["procedure removeH(data, curr, dummy)"],["  if curr == null"],["    return null"],["  else if data < curr.data"],["    curr.left \u2190 removeH(data, curr.left)"],["  else if data > curr.data"],["    curr.right \u2190 removeH(data, curr.right)"],["  else"],["    size--"],["    dummy.data \u2190 curr.data"],["    if curr.left == null && curr.right == null"],["      return null"],["    else if curr.left == null"],["      return curr.right"],["    else if curr.right == null"],["      return curr.left"],["    else"],["      dummy2 \u2190 new Node(null)"],["      curr.right \u2190 removePredecessor(curr.left, dummy2)"],["      curr.data \u2190 dummy2.data"],["  return curr"],["end procedure"],[""],["procedure removePredecessor(curr, dummy2)"],["  if curr.right == null"],["    dummy2.data \u2190 curr.data"],["    return curr.left"],["  else"],["    curr.right \u2190 removePredecessor(curr.right, dummy2)"],["    return curr"],["end procedure"]],"english":[["procedure remove(data):"],["  create dummy node"],["  reinforce root with removeH call on root"],["  return dummy data"],["end procedure"],[""],["procedure removeH(data, curr, dummy)"],["  if (curr is null):"],["    return null"],["  else if (data < curr.data):"],["    reinforce left child with removeH call on left child"],["  else if (data > curr.data):"],["    reinforce right child with removeH call on right child"],["  else:"],["    decrement size"],["    copy data in curr to dummy"],["    if (both children are null):"],["      return null"],["    else if (left child is null):"],["      return right child"],["    else if (right child is null):"],["      return left child"],["    else:"],["      create dummy2 node"],["      reinforce left child with removePredecessor call on left child"],["      copy data in dummy2 to curr"],["  return curr"],["end procedure"],[""],["procedure removePredecessor(curr, dummy2)"],["  if (right child is null):"],["    copy data in curr to dummy2"],["    return left child"],["  else:"],["    reinforce right child with removePredecessor call on right child"],["    return curr"],["end procedure"]]},"find":{"code":[["procedure find(data)"],["  return findH(data, root)"],["end procedure"],[""],["procedure findH(data, curr)"],["  if curr == null"],["    return null"],["  else if data < curr.data"],["    return findH(curr.left)"],["  else if data > curr.data"],["    return findH(curr.right)"],["  else"],["    return curr.data"],["end procedure"]],"english":[["procedure find(data)"],["  return call to findH with root"],["end procedure"],[""],["procedure findH(data, curr)"],["  if curr is null:"],["    return null"],["  else if (data < curr.data):"],["    return recursive call on left child"],["  else if (data > curr.data):"],["    return recursive call on right child"],["  else:"],["    return curr.data"],["end procedure"]]}},"XM":{"find":{"code":[["procedure BubbleSort(array):"],["  end \u2190 array.length"],["  start \u2190 0"],["  while start < end:"],["    swapped \u2190 start"],["    for j \u2190 0, end:"],["      if array[j] > array[j + 1]:"],["        swap array[j], array[j + 1]"],["        swapped \u2190 j"],["      end if"],["    end for"],["    end \u2190 swapped"],["  end while"],["end procedure"]],"english":[["procedure BubbleSort(array):"],["  end points to last element"],["  start points to first element"],["  while (start < end):"],["    lastSwapped points to start"],["    for (j from start to end):"],["      if (array[j] > array[j + 1]):"],["        bubble array[j] by swapping up"],["        lastSwapped points to j"],["      end if"],["    end for"],["    end points to lastSwapped"],["  end while"],["end procedure"]]}},"hV":{"find":{"code":[["procedure CocktailSort(array):"],["  start \u2190 0, end \u2190 array.length - 1"],["  swapped \u2190 start"],["  while end > start:"],["    swapped \u2190 start"],["    for i \u2190 start, end:"],["      if array[i] > array[i + 1]:"],["        swap array[i], array[i + 1]"],["        swapped \u2190 i"],["      end if"],["    end for"],["    end \u2190 swapped"],["    for i \u2190 end, start:"],["      if array[i] < array[i - 1]"],["        swap array[i], array[i - 1]"],["        swapped \u2190 i"],["      end if"],["    end for"],["    start \u2190 swapped"],["  end while"],["end procedure"]],"english":[["procedure CocktailSort(array):"],["  end points to last element"],["  start point to first element"],["  while (start < end):"],["    lastSwapped points to start"],["    for (i from start to end):"],["      if (array[i] > array[i + 1]):"],["        bubble array[i] by swapping up"],["        lastSwapped points to i"],["      end if"],["    end for"],["    end points to lastSwapped"],["    for (i from end to start):"],["      if (array[i] < array[i - 1]):"],["        bubble array[i] by swapping down"],["        lastSwapped points to i"],["      end if"],["    end for"],["    start points to lastSwapped"],["  end while"],["end procedure"]]}},"Kz":{"find":{"code":[["procedure InsertionSort(array):"],["  length \u2190 array.length"],["  for i \u2190 1, length - 1:"],["    j \u2190 i"],["    while"," ","j > 0",", ","array[j - 1] > array[j]",":"],["      swap array[j - 1], array[j]"],["      j \u2190 j - 1"],["    end while"],["  end for"],["end procedure"]],"english":[["procedure InsertionSort(array):"],["  length is array\'s length"],["  for (i from start to end):"],["    j points to i"],["    while"," (","j is positive"," and ","array[j - 1] > array[j]","):"],["      bubble array[j] by swapping down"],["      decrement j"],["    end while"],["  end for"],["end procedure"]]}},"X7":{"find":{"code":[["procedure SelectionSort(array):"],["  length \u2190 array.length"],["  for i \u2190 length - 1, 0:"],["    max \u2190 i"],["    for j \u2190 0, i:"],["      if array[j] > array[max]:"],["        max \u2190 j"],["      end if"],["    end for"],["    swap array[max], array[i]"],["  end for"],["end procedure"]],"english":[["procedure SelectionSort(array):"],["  length is array\'s length"],["  for (i from end to start):"],["    initialize max value"],["    for (j from start to i):"],["      if (array[j] > max value):"],["        max value is array[j]"],["      end if"],["    end for"],["    swap max value with array[i]"],["  end for"],["end procedure"]]}},"KM":{"find":{"code":[["procedure Quicksort(array, left, right):"],["  pivotIdx \u2190 random index within region being sorted"],["  pivot \u2190 array[pivotIdx]"],["  swap array[left], array[pivotIdx]"],["  i \u2190 left + 1, j \u2190 right - 1"],["  while i <= j:"],["    while"," ","i <= j"," and ","array[i] <= pivot",":"],["      i \u2190 i + 1"],["    end while"],["    while"," ","i <= j"," and ","array[j] >= pivot",":"],["      j \u2190 j - 1"],["    end while"],["    if i <= j:"],["      swap array[i], array[j]"],["      i \u2190 i + 1, j \u2190 j - 1"],["    end if"],["  end while"],["  swap pivot, array[j]"],["  Quicksort(array, left, j)"],["  Quicksort(array, j + 1, right)"],["end procedure"]],"english":[["procedure Quicksort(array, left, right):"],["  pivotIdx is some random index within partition"],["  pivot is the value at pivotIdx"],["  swap array[left] with the pivot"],["  i points to left + 1,  j points to right - 1"],["  while (j has not crossed i):"],["    while"," (","j has not crossed i"," and ","array[i] <= pivot","):"],["      increment i"],["    end while"],["    while"," (","j has not crossed i"," and ","array[j] >= pivot","):"],["      decrement j"],["    end while"],["    if j and i have not crossed:"],["      swap data at i and j"],["      increment i, decrement j"],["    end if"],["  end while"],["  swap the pivot and array[j]"],["  recursively call Quicksort() on the left partition"],["  recursively call Quicksort() on the right partition"],["end procedure"]]}},"CG":{"find":{"code":[["procedure Quickselect(array, left, right, k):"],["  pivotIdx = random index within region being sorted"],["  pivot \u2190 array[pivotIdx]"],["  swap array[left], array[pivotIdx]"],["  i \u2190 left + 1, j \u2190 right"],["  while i <= j:"],["    while"," ","i <= j"," and ","array[i] <= pivot",":"],["      i \u2190 i + 1"],["    end while"],["    while"," ","i <= j"," and ","array[j] >= pivot",":"],["      j \u2190 j - 1"],["    end while"],["    if i <= j:"],["      swap array[i], array[j]"],["      i \u2190 i + 1, j \u2190 j - 1"],["    end if"],["  end while"],["  swap pivot, array[j]"],["  if j == k - 1:"],["    return array[j]"],["  else if j > k - 1:"],["    Quickselect(array, left, j - 1, k)"],["  else:"],["    Quickselect(array, j + 1, right, k)"],["  end if"],["end procedure"]],"english":[["procedure Quickselect(array, left, right, k):"],["  pivotIdx is some random index within partition"],["  pivot is the value at pivotIdx"],["  swap array[left] with the pivot"],["  i points to left + 1, j points to right"],["  while (j has not crossed i):"],["    while"," (","j has not crossed i"," and ","array[i] <= pivot","):"],["      increment i"],["    end while"],["    while"," (","j has not crossed i"," and ","array[j] >= pivot","):"],["      decrement j"],["    end while"],["    if j and i have not crossed:"],["      swap data at i and j"],["      increment i, decrement j"],["    end if"],["  end while"],["  swap the pivot and array[j]"],["  if (j == k - 1):"],["    return the value at j"],["  else if (j > k - 1):"],["    recursively call Quickselect() on the left partition"],["  else:"],["    recursively call Quickselect() on the right partition"],["  end if"],["end procedure"]]}},"$K":{"find":{"code":[["procedure MergeSort(array):"],["  length \u2190 array.length, midIdx \u2190 length / 2"],["  leftArray \u2190 array[0...midIdx - 1]"],["  rightArray \u2190 array[midIdx...length - 1]"],["  MergeSort(leftArray)"],["  MergeSort(rightArray)"],["  leftIdx, rightIdx, currIdx \u2190 0"],["  while leftIdx < midIdx and rightIdx < length - midIdx:"],["    if leftArray[leftIdx] <= rightArray[rightIdx]:"],["      array[currIdx] \u2190 leftArray[leftIdx]"],["      leftIdx \u2190 leftIdx + 1"],["    else:"],["      array[currIdx] \u2190 rightArray[rightIdx]"],["      rightIdx \u2190 rightIdx + 1"],["    end if"],["    currIdx \u2190 currIdx + 1"],["  end while"],["  while leftIdx < midIdx:"],["    array[currIdx] \u2190 leftArray[leftIdx]"],["    currIdx \u2190 currIdx + 1"],["    leftIdx \u2190 leftIdx + 1"],["  end while"],["  while rightIdx < length - midIdx:"],["    array[currIdx] \u2190 rightArray[rightIdx]"],["    currIdx \u2190 currIdx + 1"],["    rightIdx \u2190 rightIdx + 1"],["  end while"],["end procedure"]],"english":[["procedure MergeSort(array):"],["  length is array\'s length, midIdx is half of length"],["  leftArray is a new Array with left half of array"],["  rightArray is a new Array with right half of array"],["  recursively call MergeSort() on leftArray"],["  recursively call MergeSort() on rightArray"],["  leftIdx, rightIdx, currIdx start at 0"],["  while (leftIdx < midIdx and rightIdx < length - midIdx):"],["    if (leftArray[leftIdx] <= rightArray[rightIdx]):"],["      put leftArray[leftIdx] into array at currIdx"],["      increment leftIdx"],["    else:"],["      put rightArray[rightIdx] into array at currIdx"],["      increment rightIdx"],["    end if"],["    increment currIdx"],["  end while"],["  while (leftIdx < midIdx):"],["    put leftArray[leftIdx] into array at currIdx"],["    increment currIdx"],["    increment leftIdx"],["  end while"],["  while (rightIdx < length - midIdx):"],["    put rightArray[rightIdx] into array at currIdx"],["    increment currIdx"],["    increment rightIdx"],["  end while"],["end procedure"]]}},"iF":{"find":{"code":[["procedure LSDRadixSort(array):"],["  buckets \u2190 array of 19 lists"],["  k \u2190 length of largest number by magnitude"],["  length \u2190 array.length"],["  div \u2190 1"],["  for i \u2190 1, k:"],["    for j \u2190 0, length - 1:"],["      b \u2190 array[j] / div % 10 + 9"],["      buckets[b].addLast(array[j])"],["    end for"],["    index \u2190 0"],["    for b \u2190 0, 18:"],["      while buckets[b].size > 0:"],["        array[index] \u2190 buckets[b].removeFirst()"],["        index \u2190 index + 1"],["      end while"],["    end for"],["    div \u2190 div * 10"],["  end for"],["end procedure"]],"english":[["procedure LSDRadixSort(array):"],["  buckets is an array containing 19 lists"],["  k is the length of largest number by magnitude"],["  length is array\'s length"],["  base starts at 1"],["  for (i from 1 to k):"],["    for (j from 0 to length):"],["      b is (num at array[j] / base % 10 + 9)"],["      enqueue array[j] into buckets[b]"],["    end for"],["    index starts at 0"],["    for each bucket:"],["      while (bucket is not empty):"],["        dequeue from bucket into array at index"],["        increment index"],["      end while"],["    end for"],["    multiply base by 10"],["  end for"],["end procedure"]]}},"TK":{"find":{"code":[["procedure HeapSort(array):"],["  heap \u2190 new PriorityQueue(array)"],["  for i \u2190 0, array.length -1:"],["    add heap.remove() to array[i]"],["  end for"],["end procedure"]],"english":[["procedure HeapSort(array):"],["  create heap from array with BuildHeap"],["  for (i from 0 to array.length):"],["    pop from heap into array at i"],["  end for"],["end procedure"]]}},"c":{"find":{"code":[["procedure BruteForce(text, pattern):"],["  n \u2190 text.length, m \u2190 pattern.length"],["  for i \u2190 0, n - m:"],["    j \u2190 0"],["    while j < m and pattern[j] = text[i + j]:"],["      j \u2190 j + 1"],["    end while"],["    if j = m:"],["      // match found at i"],["    end if"],["  end for"],["end procedure"]],"english":[["procedure BruteForce(text, pattern):"],["  n is text\'s length, m is pattern\'s length"],["  for (i from 0 to n - m):"],["    j starts at 0"],["    while (j < m and pattern[j] matches text[i + j]):"],["      move j forward"],["    end while"],["    if (j == m):"],["      // match found at i"],["    end if"],["  end for"],["end procedure"]]}},"OV":{"lastTable":{"code":[["procedure BuildLastOccurrenceTable(pattern):"],["  lastTable \u2190 new HashMap<Character, Integer>"],["  for i \u2190 0, pattern.length:"],["    lastTable[pattern[i]] \u2190 i"],["  end for"],["  return lastTable"],["end procedure"]],"english":[["procedure BuildLastOccurrenceTable(pattern):"],["  lastTable is a map from Characters to Integers"],["  for (i from 0 to pattern.length):"],["    set lastTable for pattern[i] to i"],["  end for"],["  return lastTable"],["end procedure"]]},"find":{"code":[["procedure BoyerMoore(text, pattern):"],["  lastTable \u2190 BuildLastOccurrenceTable(pattern)"],["  m \u2190 pattern.length, n \u2190 text.length"],["  i \u2190 0"],["  while i <= n - m:"],["    j \u2190 m - 1"],["    while j >= 0 and text[i + j] == pattern[j]:"],["      j \u2190 j - 1"],["    end while"],["    if j == -1:"],["      // match found at i"],["      i \u2190 i + 1"],["    else:"],["      shift \u2190 lastTable[text[i + j]]"],["      if shift < j:"],["        i \u2190 i + (j - shift)"],["      else:"],["        i \u2190 i + 1"],["      end if"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure BoyerMoore(text, pattern):"],["  lastTable is pattern\'s last occurrence table"],["  m is pattern\'s length, n is text\'s length"],["  i starts at 0"],["  while (i <= n - m):"],["    j starts at m - 1"],["    while (j >= 0 and text[i + j] matches pattern[j]):"],["      decrement j"],["    end while"],["    if (j == -1):"],["      // match found at i"],["      move i forward"],["    else:"],["      shift is the lastTable index for text[i + j]"],["      if (shift < j):"],["        add j - shift to i"],["      else:"],["        move i forward"],["      end if"],["    end if"],["  end while"],["end procedure"]]},"galil":{"code":[["procedure BoyerMooreGalil(text, pattern):"],["  initialize lastTable, failureTable"],["  m \u2190 length of pattern, n \u2190 length of text"],["  k \u2190 m - failureTable[m - 1]"],["  i \u2190 0, w \u2190 0"],["  while i <= n - m"],["    j \u2190 m - 1"],["    while j >= w and text[i + j] = pattern[j]"],["      j -> j - 1"],["    end while"],["    if j < w"],["      match found at i"],["      i \u2190 i + k"],["      w \u2190 m - k"],["    else"],["      shift \u2190 lastTable[text[i + j]]"],["      if shift < j"],["        i \u2190 i + (j - shift)"],["      else"],["        i \u2190 i + 1"],["      end if"],["      w \u2190 0"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure BoyerMooreGalilRule(text, pattern):"],["  create lastTable and failureTable for pattern"],["  m is pattern\'s length, n is text\'s length"],["  periodicity is the last failureTable entry subtracted from m"],["  i and lowBound start at 0"],["  while (i <= n - m):"],["    j starts at m - 1"],["    while (j >= lowBound and text[i + j] matches pattern[j]):"],["      move j backward"],["    end while"],["    if (j < lowBound):"],["      // match found at i"],["      add periodicity to i"],["      set lowBound to periodicity subtracted from m"],["    else:"],["      shift is the lastTable index for text[i + j]"],["      if (shift < j):"],["        move i forward by j - shift"],["      else:"],["        move i forward"],["      end if"],["      set lowBound to 0"],["    end if"],["  end while"],["end procedure"]]}},"z_":{"failureTable":{"code":[["procedure BuildFailureTable(pattern):"],["  m \u2190 pattern.length"],["  failureTable \u2190 new array of length m"],["  i \u2190 0, j \u2190 1"],["  failureTable[0] \u2190 0"],["  while j < m:"],["    if pattern[i] == pattern[j]:"],["      failureTable[j] \u2190 i + 1"],["      i \u2190 i + 1, j \u2190 j + 1"],["    else:"],["      if i == 0:"],["        failureTable[j] \u2190 0"],["        j \u2190 j + 1"],["      else:"],["        i \u2190 failureTable[i - 1]"],["      end if"],["    end if"],["  end while"],["  return failureTable"],["end procedure"]],"english":[["procedure BuildFailureTable(pattern):"],["  m is pattern\'s length"],["  failureTable is an array of length m"],["  i starts at 0, j starts at 1"],["  set the first failureTable value to 0"],["  while (j < m):"],["    if (pattern[i] matches pattern[j]):"],["      set failureTable at index j to i + 1"],["      move i and j forward"],["    else:"],["      if (i is 0):"],["        set failureTable at index j to 0"],["        move j forward"],["      else:"],["        move i to previous value in failureTable"],["      end if"],["    end if"],["  end while"],["  return failureTable"],["end procedure"]]},"find":{"code":[["procedure KMP(text, pattern):"],["  failureTable \u2190 BuildFailureTable(pattern)"],["  m \u2190 pattern.length, n \u2190 text.length"],["  i \u2190 0, j \u2190 0"],["  while i <= n - m:"],["    while j < m and text[i + j] == pattern[j]:"],["      j \u2190 j + 1"],["    end while"],["    if j == 0:"],["      i \u2190 i + 1"],["    else:"],["      if j == m:"],["        // match found at i"],["      end if"],["      shift \u2190 failureTable[j - 1]"],["      i \u2190 i + j - shift"],["      j \u2190 shift"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure KMP(text, pattern):"],["  failureTable is pattern\'s failure table"],["  m is pattern\'s length, n is text\'s length"],["  i and j start at 0"],["  while (i <= n - m):"],["    while (j < m and text[i+j] matches pattern[j]):"],["      move j forward"],["    end while"],["    if (j is 0):"],["      move i forward"],["    else:"],["      if (j is m):"],["        // match found at i"],["      end if"],["      shift is the failureTable value at j - 1"],["      move i forward by j - shift"],["      set j to shift"],["    end if"],["  end while"],["end procedure"]]}},"no":{"find":{"code":[["procedure RabinKarp(text, pattern):"],["  m \u2190 pattern.length, n \u2190 text.length"],["  patternHash \u2190 hash of pattern"],["  textHash \u2190 hash of text[0...m - 1]"],["  i \u2190 0"],["  while i <= n - m:"],["    if patternHash == textHash:"],["      j \u2190 0"],["      while j < m and text[i + j] == pattern[j]:"],["        j \u2190 j + 1"],["      end while"],["      if j == m:"],["        // match found at i"],["      end if"],["    end if"],["    if i < n - m:"],["      textHash \u2190 rolled hash of text[i to i + m]"],["    end if"],["    i \u2190 i + 1"],["  end while"],["end procedure"]],"english":[["procedure RabinKarp(text, pattern):"],["  m is pattern\'s length, n is text\'s length"],["  patternHash is a hash of the pattern"],["  textHash is a hash of the first m chars in the text"],["  i starts at 0"],["  while (i <= n - m):"],["    if (patternHash equals textHash):"],["      j starts at 0"],["      while (j < m and text[i + j] matches pattern[j]):"],["        move j forward"],["      end while"],["      if (j is m):"],["        // match found at i"],["      end if"],["    end if"],["    if (i < n - m):"],["      roll textHash forward one"],["    end if"],["    move i forward"],["  end while"],["end procedure"]]}},"wE":{"run":{"code":[["procedure BFS(Vertex s):"],["  initialize VisitedSet VS"],["  initialize Queue Q"],["  initialize List L"],["  Q.enqueue(s)"],["  VS.add(s)"],["  while Q.size > 0:"],["    v \u2190 Q.dequeue()"],["    L.add(v)"],["    for all w adjacent to v:"],["      if w not in VS:"],["        Q.enqueue(w)"],["        VS.add(w)"],["      end if"],["    end for"],["  end while"],["end procedure"]],"english":[["procedure BFS(Vertex start):"],["  initialize a visited set"],["  initialize a queue"],["  initialize a traversal list"],["  enqueue start"],["  add start to visited set"],["  while (queue is not empty):"],["    dequeue vertex"],["    add vertex to traversal list"],["    for each adjacent vertex:"],["      if (adjacent vertex is not visited):"],["        enqueue adjacent vertex"],["        add adjacent vertex to visited set"],["      end if"],["    end for"],["  end while"],["end procedure"]]}},"M5":{"recursive":{"code":[["procedure DFS(Vertex s, Set VS, List L):"],["  VS.add(s)"],["  L.add(s)"],["  for all v adjacent to s:"],["    if v not in VS:"],["      DFS(v, VS, L)"],["    end if"],["  end for"],["end procedure"]],"english":[["procedure DFS(Vertex start, Set visited, List traversal):"],["  add start to visited set"],["  add start to traversal list"],["  for each adjacent vertex:"],["    if (adjacent vertex is not visited):"],["      recursively call DFS on adjacent vertex"],["    end if"],["  end for"],["end procedure"]]},"iterative":{"code":[["procedure DFS(Vertex s, Set VS, List L):"],["  initialize Stack K"],["  add s to K, VS"],["  while K is not empty:"],["    v \u2190 remove from K"],["    add v to L"],["    for all w adjacent to v:"],["      if w not in VS:"],["        add w to K, VS"],["      end if"],["    end for"],["  end while"],["end procedure"]],"english":[["procedure DFS(Vertex start, Set visited, List traversal):"],["  initialize a stack"],["  push start vertex onto the stack and add it to visited set"],["  while (stack is not empty):"],["    pop vertex from stack"],["    add vertex to traversal list"],["    for each adjacent vertex:"],["      if (adjacent vertex is not visited):"],["        add adjacent vertex to stack and visited set"],["      end if"],["    end for"],["  end while"],["end procedure"]]}},"iu":{"run":{"code":[["procedure Dijkstras(Vertex s, Graph G):"],["  initialize VisitedSet VS"],["  initialize DistanceMap DM"],["  initialize PriorityQueue PQ"],["  for all v in G:"],["    DM.put(v, \u221e)"],["  end for"],["  PQ.enqueue((s, 0))"],["  DM.put(s, 0)"],["  while PQ.size > 0 and VS.size < G.vertices.size:"],["    (u, d1) \u2190 PQ.dequeue()"],["    if u not in VS:"],["      VS.add(u)"],["      DM.put(w, d1)"],["      for all (w, d2) adjacent to u:"],["        if w not in VS:"],["          PQ.enqueue((w, d1 + d2))"],["        end if"],["      end for"],["    end if"],["  end while"],["  return DM"],["end procedure"]],"english":[["procedure Dijkstras(Vertex start, Graph graph):"],["  initialize a visited set"],["  initialize a distance map"],["  initialize a priority queue"],["  for each vertex in the graph:"],["    put vertex in distance map with infinite distance"],["  end for"],["  enqueue the start vertex with distance 0"],["  put start vertex in distance map with distance 0"],["  while (queue is not empty and visited set is not full):"],["    dequeue vertex and its distance"],["    if (vertex is not visited):"],["      add vertex to visited set"],["      put vertex and distance into distance map"],["      for each adjacent vertex and distance:"],["        if (adjacent vertex is not visited):"],["          enqueue adjacent vertex and cumulative distance"],["        end if"],["      end for"],["    end if"],["  end while"],["  return distance map"],["end procedure"]]}},"OL":{"run":{"code":[["procedure Prims(Vertex s, Graph G):"],["  initialize VisitedSet VS"],["  initialize EdgeSet MST"],["  initialize PriorityQueue PQ"],["  VS.add(s)"],["  for all edge(s, v) in G:"],["    PQ.enqueue(edge(s, v))"],["  end for"],["  while PQ.size > 0 and VS.size < G.vertices.size:"],["    edge(u, w) \u2190 PQ.dequeue()"],["    if w not in VS:"],["      MST.add(edge(u, w))"],["      VS.add(w)"],["      for all edge(w, x) adjacent to w:"],["        if x not in VS:"],["          PQ.enqueue(edge(w, x))"],["        end if"],["      end for"],["    end if"],["  end while"],["  return MST"],["end procedure"]],"english":[["procedure Prims(Vertex start, Graph graph):"],["  initialize a visited set"],["  initialize an edge set MST"],["  initialize a priority queue"],["  add start to visited set"],["  for each edge adjacent to start vertex in the graph:"],["    enqueue edge"],["  end for"],["  while (queue is not empty and visited set is not full):"],["    dequeue edge between vertices V, W"],["    if (W is not visited):"],["      add edge to MST"],["      add W to visited set"],["      for each edge adjacent to W:"],["        if (other endpoint vertex is not visited):"],["          enqueue edge between W and other endpoint vertex"],["        end if"],["      end for"],["    end if"],["  end while"],["  return MST"],["end procedure"]]}},"XN":{"run":{"code":[["procedure Kruskals(Graph g):"],["  initialize DisjointSet, DS, with all vertices in G"],["  initialize MST EdgeSet, MST"],["  initialize PriorityQueue, PQ with all edges in G"],["  while PQ is not empty and MST has fewer than n-1 edges:"],["    edge(u, v) \u2190 PQ.dequeue()"],["    if u and v are not in the same cluster:"],["      add edge(u, v) to MST"],["      merge u\'s cluster with v\'s cluster"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure Kruskals(Graph g):"],["  initialize a disjoint set with all vertices in graph"],["  initialize an edge set MST"],["  initialize a priority queue with all edges in graph"],["  while (queue is not empty and MST has fewer than n-1 edges):"],["    dequeue edge between vertices V, W"],["    if (V and W are not in the same set):"],["      add edge to MST"],["      merge V\'s set with W\'s set in the disjoint set structure"],["    end if"],["  end while"],["end procedure"]]}}}');const lr=85,dr=100,cr=215,ur=50,mr=14,gr=130,pr=120,fr=70,Ir=290;const br=[[!1,!0,!0,!1,!0,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0],[!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!0,!0,!1]],xr=[[0,0,-.4,0,0,0,0,0,0,0,0,0,0,0,.25,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.25],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.4],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,.25,0,0,0,0,0,0,0,0,0,0,0,-.4,0,0]],Dr=[600,700,800,900,650,750,850,600,700,800,900,650,750,850,600,700,800,900],yr=[50,50,50,50,150,150,150,250,250,250,250,350,350,350,450,450,450,450],vr=[[!1,!0,!0,!0,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!0,!1,!0],[!0,!1,!0,!1,!1,!1,!0,!0],[!1,!0,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!0,!1,!0],[!1,!1,!1,!0,!0,!0,!0,!1]],kr=[[0,.001,0,.5,-.5,0,0,0],[0,0,0,.001,0,.001,-.2,0],[0,.001,0,0,0,.2,0,0],[-.5,0,0,0,0,.001,0,.5],[.5,0,0,0,0,0,0,-.5],[0,0,-.2,0,0,0,.001,.001],[0,.2,0,0,0,0,0,0],[0,0,0,-.5,.5,0,0,0]],Cr=[800,725,875,650,950,725,875,800],wr=[25,125,125,225,225,325,325,425],Tr=[[0,1,1,1,1,0,0,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,1,0,0],[1,0,0,0,0,0,1,0],[0,0,0,1,0,0,1,0],[0,1,0,0,1,1,0,1],[0,0,0,0,0,0,1,0]].map((t=>t.map((t=>t||-1)))),Lr=[[0,8,2,5,0,0,0,0],[8,0,1,1,0,0,7,0],[2,1,0,0,3,0,0,0],[5,1,0,0,0,4,0,0],[0,0,3,0,0,0,2,0],[0,0,0,4,0,0,"0",1],[0,7,0,0,2,"0",0,1],[0,0,0,0,0,1,1,0]].map((t=>t.map((t=>Number(t||-1))))),Sr=[[0,1,5,0,0,0,0,0],[1,0,7,9,0,0,1,0],[5,7,0,0,0,0,13,0],[0,9,0,0,0,4,0,0],[0,0,0,0,0,0,10,0],[0,0,0,4,0,0,2,"0"],[0,1,13,0,10,2,0,3],[0,0,0,0,0,"0",3,0]].map((t=>t.map((t=>Number(t||-1))))),Fr=[[-1,8,-1,-1,6,-1,-1,-1],[8,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,3,-1,-1],[6,-1,-1,-1,-1,-1,-1,4],[-1,-1,-1,3,-1,-1,7,9],[-1,-1,-1,-1,-1,7,-1,6],[-1,-1,-1,-1,4,9,6,-1]],Ar=["#9b9bd4","#6aaf6a","#f07575","#ffe866","#b8f9b8","#ff99ff","#99ffff","#ffccd4"],_r="#0000FF",Br="#000000",zr="#000000";class Pr extends hr{constructor(t,e,i,s,h,n,a){super(t,e,i),this.controls=[],s=0===s.length?void 0:s,h=void 0!==h&&h,n=void 0!==n&&n,a=void 0!==a&&a,this.nextIndex=0,this.currentLayer=1,this.defaultEdges=s,this.directed=h,this.isDAG=n,this.showEdgeCosts=a,this.currentLayer=1,this.setup_small(this.defaultEdges)}addControls(t){null==t&&(t=!0);const e=er(!1);if(this.newGraphButton=Ja("Button","New Graph",e),this.newGraphButton.onclick=this.newGraphCallback.bind(this),this.controls.push(this.newGraphButton),this.defaultGraphButton=Ja("Button","Default Graph",e),this.defaultGraphButton.onclick=this.defaultGraphCallback.bind(this),this.defaultGraphButton.disabled=!0,this.controls.push(this.defaultGraphButton),tr(),t){const t=Za(["Undirected Graph","Directed Graph"],"GraphType");this.undirectedGraphButton=t[0],this.undirectedGraphButton.onclick=this.directedGraphCallback.bind(this,!1),this.undirectedGraphButton.checked=!this.directed,this.controls.push(this.undirectedGraphButton),this.directedGraphButton=t[1],this.directedGraphButton.onclick=this.directedGraphCallback.bind(this,!0),this.directedGraphButton.checked=this.directed,this.controls.push(this.directedGraphButton),tr()}let i=Za(["Small Graph","Large Graph"],"GraphSize");this.smallGraphButton=i[0],this.smallGraphButton.onclick=this.smallGraphCallback.bind(this),this.smallGraphButton.checked=!0,this.controls.push(this.smallGraphButton),this.largeGraphButton=i[1],this.largeGraphButton.onclick=this.largeGraphCallback.bind(this),this.controls.push(this.largeGraphButton),tr(),i=Za(["Logical Representation","Adjacency List Representation","Adjacency Matrix Representation"],"GraphRepresentation"),this.logicalButton=i[0],this.logicalButton.onclick=this.graphRepChangedCallback.bind(this,1),this.adjacencyListButton=i[1],this.adjacencyListButton.onclick=this.graphRepChangedCallback.bind(this,2),this.adjacencyMatrixButton=i[2],this.adjacencyMatrixButton.onclick=this.graphRepChangedCallback.bind(this,3),this.logicalButton.checked=!0}directedGraphCallback(t){t!==this.directed&&(this.defaultGraphButton.disabled=t,this.directed=t,this.animationManager.resetAll(),this.setup())}smallGraphCallback(){8!==this.size&&(this.animationManager.resetAll(),this.setup_small())}largeGraphCallback(){18!==this.size&&(this.animationManager.resetAll(),this.setup_large())}newGraphCallback(){this.animationManager.resetAll(),this.setup()}defaultGraphCallback(){this.animationManager.resetAll(),this.setup(this.defaultEdges)}graphRepChangedCallback(t){this.animationManager.setAllLayers([0,32,t]),this.currentLayer=t}recolorGraph(){for(let t=0;t<this.size;t++)for(let e=0;e<this.size;e++)this.adj_matrix[t][e]>=0&&(this.setEdgeColor(t,e,Br),this.setEdgeThickness(t,e,1))}highlightEdge(t,e,i,s){this.cmd(Ka.setHighlight,this.adj_list_edges[t][e],i,s),this.cmd(Ka.setHighlight,this.adj_matrixID[t][e],i,s),this.cmd(Ka.setEdgeHighlight,this.circleID[t],this.circleID[e],i,s),this.directed||this.cmd(Ka.setEdgeHighlight,this.circleID[e],this.circleID[t],i,s)}visitVertex(t){this.cmd(Ka.createHighlightCircle,this.highlightCircleL,zr,this.x_pos_logical[t],this.y_pos_logical[t]),this.cmd(Ka.setLayer,this.highlightCircleL,1),this.cmd(Ka.createHighlightCircle,this.highlightCircleAL,zr,this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+t*this.adj_list_height),this.cmd(Ka.setLayer,this.highlightCircleAL,2),this.cmd(Ka.createHighlightCircle,this.highlightCircleAM,zr,this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(Ka.setLayer,this.highlightCircleAM,3)}leaveVertex(){this.cmd(Ka.delete,this.highlightCircleL),this.cmd(Ka.delete,this.highlightCircleAM),this.cmd(Ka.delete,this.highlightCircleAL)}setEdgeColor(t,e,i){this.cmd(Ka.setForegroundColor,this.adj_list_edges[t][e],i),this.cmd(Ka.setTextColor,this.adj_matrixID[t][e],i),this.cmd(Ka.setEdgeColor,this.circleID[t],this.circleID[e],i),this.directed||this.cmd(Ka.setEdgeColor,this.circleID[e],this.circleID[t],i)}setEdgeThickness(t,e,i){this.cmd(Ka.setEdgeThickness,this.circleID[t],this.circleID[e],i),this.directed||this.cmd(Ka.setEdgeThickness,this.circleID[e],this.circleID[t],i)}clearEdges(){for(let t=0;t<this.size;t++)for(let e=0;e<this.size;e++)this.adj_matrix[t][e]>=0&&this.cmd(Ka.disconnect,this.circleID[t],this.circleID[e])}rebuildEdges(){this.clearEdges(),this.buildEdges()}buildEdges(){for(let t=0;t<this.size;t++)for(let e=0;e<this.size;e++)if(this.adj_matrix[t][e]>=0){const i=this.showEdgeCosts?String(this.adj_matrix[t][e]):"";this.directed?this.cmd(Ka.connect,this.circleID[t],this.circleID[e],Br,this.adjustCurveForDirectedEdges(this.curve[t][e],this.adj_matrix[e][t]>=0),1,i):t<e&&this.cmd(Ka.connect,this.circleID[t],this.circleID[e],Br,this.curve[t][e],0,i)}}setup_small(t){this.allowed=vr,this.curve=kr,this.x_pos_logical=Cr,this.y_pos_logical=wr,this.adj_matrix_x_start=700,this.adj_matrix_y_start=45,this.adj_matrix_width=30,this.adj_matrix_height=30,this.adj_list_x_start=600,this.adj_list_y_start=30,this.adj_list_elem_width=80,this.adj_list_elem_height=30,this.adj_list_height=36,this.adj_list_width=36,this.adj_list_spacing_after_list=15,this.adj_list_spacing_between_nodes=15,this.size=8,this.isLarge=!1,this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.setup(t)}setup_large(){this.allowed=br,this.curve=xr,this.x_pos_logical=Dr,this.y_pos_logical=yr,this.adj_matrix_x_start=575,this.adj_matrix_y_start=40,this.adj_matrix_width=23,this.adj_matrix_height=23,this.adj_list_x_start=550,this.adj_list_y_start=30,this.adj_list_elem_width=80,this.adj_list_elem_height=20,this.adj_list_height=25,this.adj_list_width=20,this.adj_list_spacing_after_list=25,this.adj_list_spacing_between_nodes=15,this.size=18,this.isLarge=!0,this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.setup()}adjustCurveForDirectedEdges(t,e){return!this.directed||!e||Math.abs(t)>.01?t:.1}setup(t){this.commands=[],this.circleID=new Array(this.size),t||(t=Fr);for(let e=0;e<this.size;e++)t&&t[e].some((t=>-1!==t))?(this.circleID[e]=this.nextIndex++,this.cmd(Ka.createCircle,this.circleID[e],this.toStr(e),this.x_pos_logical[e],this.y_pos_logical[e]),this.cmd(Ka.setTextColor,this.circleID[e],_r,0),this.cmd(Ka.setLayer,this.circleID[e],1)):this.circleID[e]=null;if(t){this.adj_matrix=t,this.adj_matrixID=new Array(this.size);for(let t=0;t<this.size;t++){this.adj_matrixID[t]=new Array(this.size);for(let e=0;e<this.size;e++)this.adj_matrixID[t][e]=this.nextIndex++}this.buildEdges()}else{this.adj_matrix=new Array(this.size),this.adj_matrixID=new Array(this.size);for(let e=0;e<this.size;e++)this.adj_matrix[e]=new Array(this.size),this.adj_matrixID[e]=new Array(this.size);let t;if(t=8===this.size?this.directed?.4:.5:this.directed?.35:.6,this.directed){for(let e=0;e<this.size;e++)for(let i=0;i<this.size;i++)this.adj_matrixID[e][i]=this.nextIndex++,this.allowed[e][i]&&Math.random()<=t&&(e<i||Math.abs(this.curve[e][i])<.01||-1===this.adj_matrixID[i][e])&&(!this.isDAG||e<i)?this.showEdgeCosts?this.adj_matrix[e][i]=Math.floor(9*Math.random())+1:this.adj_matrix[e][i]=1:this.adj_matrix[e][i]=-1;this.buildEdges()}else{for(let e=0;e<this.size;e++)for(let i=e+1;i<this.size;i++)if(this.adj_matrixID[e][i]=this.nextIndex++,this.adj_matrixID[i][e]=this.nextIndex++,this.allowed[e][i]&&Math.random()<=t){let t;this.showEdgeCosts?this.adj_matrix[e][i]=Math.floor(9*Math.random())+1:this.adj_matrix[e][i]=1,this.adj_matrix[i][e]=this.adj_matrix[e][i],t=this.showEdgeCosts?String(this.adj_matrix[e][i]):"",this.cmd(Ka.connect,this.circleID[e],this.circleID[i],Br,this.curve[e][i],0,t)}else this.adj_matrix[e][i]=-1,this.adj_matrix[i][e]=-1;this.buildEdges();for(let t=0;t<this.size;t++)this.adj_matrix[t][t]=-1}}this.buildAdjList(),this.buildAdjMatrix(),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.clearHistory()}resetAll(){}buildAdjMatrix(){this.adj_matrix_index_x=new Array(this.size),this.adj_matrix_index_y=new Array(this.size);for(let t=0;t<this.size;t++){this.adj_matrix_index_x[t]=this.nextIndex++,this.adj_matrix_index_y[t]=this.nextIndex++,this.cmd(Ka.createLabel,this.adj_matrix_index_x[t],this.toStr(t),this.adj_matrix_x_start+t*this.adj_matrix_width,this.adj_matrix_y_start-this.adj_matrix_height),this.cmd(Ka.setForegroundColor,this.adj_matrix_index_x[t],_r),this.cmd(Ka.createLabel,this.adj_matrix_index_y[t],this.toStr(t),this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(Ka.setForegroundColor,this.adj_matrix_index_y[t],_r),this.cmd(Ka.setLayer,this.adj_matrix_index_x[t],3),this.cmd(Ka.setLayer,this.adj_matrix_index_y[t],3);for(let e=0;e<this.size;e++){let i;this.adj_matrixID[t][e]=this.nextIndex++,i=this.adj_matrix[t][e]<0?"":String(this.adj_matrix[t][e]),this.cmd(Ka.createRectangle,this.adj_matrixID[t][e],i,this.adj_matrix_width,this.adj_matrix_height,this.adj_matrix_x_start+e*this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(Ka.setLayer,this.adj_matrixID[t][e],3)}}}removeAdjList(){for(let t=0;t<this.size;t++){this.cmd(Ka.delete,this.adj_list_list[t],"RAL1"),this.cmd(Ka.delete,this.adj_list_index[t],"RAL2");for(let e=0;e<this.size;e++)this.adj_matrix[t][e]>0&&this.cmd(Ka.delete,this.adj_list_edges[t][e],"RAL3")}}buildAdjList(){this.adj_list_index=new Array(this.size),this.adj_list_list=new Array(this.size),this.adj_list_edges=new Array(this.size);for(let t=0;t<this.size;t++){this.adj_list_index[t]=this.nextIndex++,this.adj_list_edges[t]=new Array(this.size),this.adj_list_index[t]=this.nextIndex++,this.adj_list_list[t]=this.nextIndex++,this.cmd(Ka.createRectangle,this.adj_list_list[t],"",this.adj_list_width,this.adj_list_height,this.adj_list_x_start,this.adj_list_y_start+t*this.adj_list_height),this.cmd(Ka.setLayer,this.adj_list_list[t],2),this.cmd(Ka.createLabel,this.adj_list_index[t],this.toStr(t),this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+t*this.adj_list_height),this.cmd(Ka.setForegroundColor,this.adj_list_index[t],_r),this.cmd(Ka.setLayer,this.adj_list_index[t],2);let e=this.adj_list_list[t],i=this.adj_list_x_start+this.adj_list_width+this.adj_list_spacing_after_list+this.adj_list_spacing_between_nodes,s=!1;for(let h=0;h<this.size;h++)this.adj_matrix[t][h]>=0&&(s=!0,this.adj_list_edges[t][h]=this.nextIndex++,this.cmd(Ka.createLinkedListNode,this.adj_list_edges[t][h],[this.toStr(h),this.adj_matrix[t][h]],this.adj_list_elem_width,this.adj_list_elem_height,i,this.adj_list_y_start+t*this.adj_list_height,.25,0,1),this.cmd(Ka.setNull,this.adj_list_edges[t][h],1),this.cmd(Ka.setTextColor,this.adj_list_edges[t][h],_r,0),this.cmd(Ka.setLayer,this.adj_list_edges[t][h],2),i=i+this.adj_list_elem_width+this.adj_list_spacing_between_nodes,this.cmd(Ka.connect,e,this.adj_list_edges[t][h]),this.cmd(Ka.setNull,e,0),e=this.adj_list_edges[t][h]);s||this.cmd(Ka.setNull,this.adj_list_list[t],1)}}reset(){throw new Error("reset() should be implemented in child")}toStr(t){return String.fromCharCode(65+t)}enableUI(){for(const t of this.controls)t===this.defaultGraphButton&&(this.directed||this.isLarge||this.adj_matrix===this.defaultEdges)?t.disabled=!0:t.disabled=!1}disableUI(){for(const t of this.controls)t.disabled=!0}}const Er="#99CCFF",Or=190;const Rr=250;class jr extends hr{constructor(t,e,i){super(t,e,i),this.first_print_pos_y=i-2*jr.PRINT_VERTICAL_GAP,this.print_max=e-10,this.startingX=e/2,this.addControls(),this.nextIndex=1,this.commands=[],this.edges=[],this.toClear=[],this.cmd(Ka.createLabel,0,"",jr.EXPLANITORY_TEXT_X,jr.EXPLANITORY_TEXT_Y,0,this.codeID),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.pseudocode=or.Of}addControls(){this.controls=[],this.insertField=Ja("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Ja("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),tr(),this.deleteField=Ja("Text",""),this.deleteField.style.textAlign="center",this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Ja("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),tr(),this.findField=Ja("Text",""),this.findField.style.textAlign="center",this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),tr();const t=Za(["Pre-order","In-order","Post-order","Level-order"],"Traversals");this.preOrderSelect=t[0],this.inOrderSelect=t[1],this.postOrderSelect=t[2],this.levelOrderSelect=t[3],this.preOrderSelect.onclick=()=>this.traversal="pre",this.inOrderSelect.onclick=()=>this.traversal="in",this.postOrderSelect.onclick=()=>this.traversal="post",this.levelOrderSelect.onclick=()=>this.traversal="level",this.preOrderSelect.checked=!0,this.traversal="pre",this.traverseButton=Ja("Button","Traverse"),this.traverseButton.onclick=this.traverseCallback.bind(this),this.controls.push(this.traverseButton),tr();const e=er(!1);this.randomButton=Ja("Button","Random",e),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=Ja("Button","Clear",e),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton),tr();const i=Za(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=i[0],this.succButton=i[1],this.predButton.onclick=()=>this.predSucc="pred",this.succButton.onclick=()=>this.predSucc="succ",this.succButton.checked=!0,this.predSucc="succ"}setURLData(t){if(t.has("predSucc")){const e=t.get("predSucc");"pred"===e?(this.predSucc="pred",this.predButton.checked=!0):"succ"===e&&(this.predSucc="succ",this.succButton.checked=!0)}if(t.has("data")){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),parseInt(t),!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}}reset(){this.nextIndex=1,this.treeRoot=null,this.edges=[],this.toClear=[]}insertCallback(){const t=this.insertField.value;""!==t?(this.insertField.value="",this.implementAction(this.add.bind(this),parseInt(t))):this.shake(this.insertButton)}deleteCallback(){const t=this.deleteField.value;""!==t&&this.treeRoot?(this.deleteField.value="",this.implementAction(this.remove.bind(this),parseInt(t))):this.shake(this.deleteButton)}findCallback(){const t=this.findField.value;""!==t&&this.treeRoot?(this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))):this.shake(this.findButton)}traverseCallback(){this.implementAction(this.traverse.bind(this))}randomCallback(){const t=Math.floor(11*Math.random())+2;this.implementAction(this.clear.bind(this));for(let e=0;e<t;e++)this.implementAction(this.add.bind(this),Math.floor(17*Math.random())+0,!0),this.clearOldObjects(),this.animationManager.skipForward(),this.animationManager.clearHistory()}clearCallback(){this.implementAction(this.clear.bind(this))}sizeChanged(t){this.startingX=t/2}printTree(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Ka.createHighlightCircle,this.highlightID,jr.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=jr.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Ka.delete,this.highlightID),this.cmd(Ka.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Ka.delete,e);this.nextIndex=this.highlightID}return this.commands}preOrderRec(t,e){this.codeID=e,this.cmd(Ka.step);const i=this.nextIndex++;this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Ka.createLabel,i,t.data,t.x,t.y),this.cmd(Ka.setForegroundColor,i,jr.PRINT_COLOR),this.cmd(Ka.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Ka.step),this.xPosOfNextLabel+=jr.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=jr.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=jr.PRINT_VERTICAL_GAP),this.unhighlight(2,0,this.codeID),null!=t.left&&(this.highlight(3,0,this.codeID),this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.preOrderRec(t.left,e),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step)),this.unhighlight(3,0,this.codeID),null!=t.right&&(this.highlight(4,0,this.codeID),this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.preOrderRec(t.right,e),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step)),this.unhighlight(4,0,this.codeID)}levelOrder(t,e){this.codeID=e;const i=[t],s=this.nextIndex++,h=[this.nextIndex];for(this.cmd(Ka.createLabel,s,"Queue: ",30,225,0),this.cmd(Ka.step),this.cmd(Ka.createLabel,this.nextIndex,t.data,t.x,t.y),this.cmd(Ka.setForegroundColor,this.nextIndex,jr.PRINT_COLOR),this.cmd(Ka.move,this.nextIndex++,35,Rr,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Ka.step),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step);0!==i.length;){const t=i.shift();this.cmd(Ka.move,this.highlightID,t.x,t.y),this.unhighlight(3,0,this.codeID);const e=h.shift();this.cmd(Ka.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.highlight(4,0,this.codeID),this.highlight(5,0,this.codeID);for(let i=0;i<h.length;i++)this.cmd(Ka.move,h[i],35+40*i,Rr);this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.xPosOfNextLabel+=jr.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=jr.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=jr.PRINT_VERTICAL_GAP),this.highlight(6,0,this.codeID),null!=t.left?(this.cmd(Ka.step),this.unhighlight(6,0,this.codeID),this.highlight(7,0,this.codeID),i.push(t.left),h.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex,t.left.data,t.left.x,t.left.y),this.cmd(Ka.setForegroundColor,this.nextIndex,jr.PRINT_COLOR),this.cmd(Ka.move,this.nextIndex++,35+40*(i.length-1),Rr),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID)):(this.cmd(Ka.step),this.unhighlight(6,0,this.codeID)),this.highlight(8,0,this.codeID),null!=t.right?(this.cmd(Ka.step),this.unhighlight(8,0,this.codeID),this.highlight(9,0,this.codeID),i.push(t.right),h.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex,t.right.data,t.right.x,t.right.y),this.cmd(Ka.setForegroundColor,this.nextIndex,jr.PRINT_COLOR),this.cmd(Ka.move,this.nextIndex++,35+40*(i.length-1),Rr),this.cmd(Ka.step),this.unhighlight(9,0,this.codeID)):(this.cmd(Ka.step),this.unhighlight(8,0,this.codeID)),this.highlight(3,0,this.codeID),this.cmd(Ka.step)}this.unhighlight(3,0,this.codeID)}traverse(){if(this.commands=[],this.clearOldObjects(),null==this.treeRoot)return this.commands;this.cmd(Ka.setText,0,""),this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Ka.createHighlightCircle,this.highlightID,jr.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=jr.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,this.traversal+"order",25,35),"pre"===this.traversal?this.preOrderRec(this.treeRoot,this.codeID):"in"===this.traversal?this.printTreeRec(this.treeRoot,this.codeID):"post"===this.traversal?this.postOrderRec(this.treeRoot,this.codeID):"level"===this.traversal&&this.levelOrder(this.treeRoot,this.codeID),this.cmd(Ka.delete,this.highlightID),this.cmd(Ka.step);for(let e=t;e<this.nextIndex;e++)this.toClear.push(e);return this.commands}postOrderRec(t,e){this.codeID=e,this.cmd(Ka.step),null!=t.left&&(this.unhighlight(3,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.postOrderRec(t.left,e),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step)),this.unhighlight(2,0,this.codeID),null!=t.right&&(this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.postOrderRec(t.right,e),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step)),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);const i=this.nextIndex++;this.cmd(Ka.createLabel,i,t.data,t.x,t.y),this.cmd(Ka.setForegroundColor,i,jr.PRINT_COLOR),this.cmd(Ka.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Ka.step),this.xPosOfNextLabel+=jr.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=jr.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=jr.PRINT_VERTICAL_GAP),this.unhighlight(4,0,this.codeID)}printTreeRec(t,e){this.codeID=e,this.cmd(Ka.step),null!=t.left&&(this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left,e),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step)),this.unhighlight(2,0,this.codeID),this.unhighlight(4,0,this.codeID),this.highlight(3,0,this.codeID);const i=this.nextIndex++;this.cmd(Ka.createLabel,i,t.data,t.x,t.y),this.cmd(Ka.setForegroundColor,i,jr.PRINT_COLOR),this.cmd(Ka.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Ka.step),this.xPosOfNextLabel+=jr.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=jr.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=jr.PRINT_VERTICAL_GAP),this.unhighlight(3,0,this.codeID),null!=t.right&&(this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right,e),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step)),this.unhighlight(4,0,this.codeID)}findElement(t){this.commands=[],this.clearOldObjects();const e=this.nextIndex;this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",55,115);for(let i=e;i<this.nextIndex;i++)this.toClear.push(i);return this.highlightID=this.nextIndex++,this.highlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.step),this.doFind(this.treeRoot,t),this.unhighlight(0,0,this.codeID),this.unhighlight(1,0,this.codeID),this.unhighlight(4,0,this.codeID),this.commands}doFind(t,e){this.cmd(Ka.setText,0,"Searching for "+e),null!=t?(this.cmd(Ka.setHighlight,t.graphicID,1),t.data===e?(this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID),this.cmd(Ka.setText,0,"Found: "+e),this.cmd(Ka.setHighlight,t.graphicID,0,this.codeID)):t.data>e?(this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0,this.codeID),null!=t.left&&(this.cmd(Ka.createHighlightCircle,this.highlightID,jr.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID)),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID),this.doFind(t.left,e)):(this.highlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Ka.setText,0," Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0,this.codeID),null!=t.right&&(this.cmd(Ka.createHighlightCircle,this.highlightID,jr.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID)),this.unhighlight(9,0,this.codeID),this.unhighlight(10,0,this.codeID),this.doFind(t.right,e))):(this.highlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Ka.setText,0,"Searching for "+e+" :  (Element not found)"),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.cmd(Ka.setText,0,"Searching for "+e+" :  (Element not found)"))}remakeTree(t){null!=t&&(null!=t.left&&(this.cmd(Ka.connect,t.graphicID,t.left.graphicID,jr.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd(Ka.connect,t.graphicID,t.right.graphicID,jr.LINK_COLOR),this.remakeTree(t.right)))}clearOldObjects(){this.toClear.forEach((t=>this.cmd(Ka.delete,t))),this.toClear=[]}add(t,e){this.commands=[],this.clearOldObjects();const i=this.nextIndex;e||(this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"add",55,115));for(let s=i;s<this.nextIndex;s++)this.toClear.push(s);return this.highlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.setText,0,"Inserting "+t),this.cmd(Ka.step),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.unhighlight(0,0,this.codeID),this.unhighlight(1,0,this.codeID),this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.unhighlight(7,0,this.codeID),this.unhighlight(12,0,this.codeID),this.commands}addH(t,e){if(null==e){this.highlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.highlight(7,0,this.codeID),this.cmd(Ka.setText,0,"Null found, inserting new node");const e=this.nextIndex++;return this.cmd(Ka.createCircle,e,t,30,jr.STARTING_Y),this.cmd(Ka.setForegroundColor,e,jr.FOREGROUND_COLOR),this.cmd(Ka.setBackgroundColor,e,jr.BACKGROUND_COLOR),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),new Nr(t,e,0,0,this.codeID)}if(this.cmd(Ka.setHighlight,e.graphicID,1),t<e.data){this.highlight(8,0,this.codeID),this.highlight(9,0,this.codeID),this.cmd(Ka.setText,0,`${t} < ${e.data}. Looking at left subtree`),this.cmd(Ka.step),this.unhighlight(8,0,this.codeID),this.unhighlight(9,0,this.codeID),e.left=this.addH(t,e.left),e.left.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.left.graphicID)&&this.cmd(Ka.step)}else if(t>e.data){this.highlight(10,0,this.codeID),this.highlight(11,0,this.codeID),this.cmd(Ka.setText,0,`${t} > ${e.data}. Looking at right subtree`),this.cmd(Ka.step),this.unhighlight(10,0,this.codeID),this.unhighlight(11,0,this.codeID),e.right=this.addH(t,e.right),e.right.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.right.graphicID)&&this.cmd(Ka.step)}else this.highlight(12,0,this.codeID),this.cmd(Ka.setText,0,`${t} == ${e.data}. Ignoring duplicate!`),this.cmd(Ka.step);return this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.unhighlight(7,0,this.codeID),this.highlight(12,0,this.codeID),this.cmd(Ka.setHighlight,e.graphicID,0,this.codeID),this.cmd(Ka.setText,0,""),e}connectSmart(t,e){return!this.edges.some((i=>i[0]===t&&i[1]===e))&&(this.cmd(Ka.connect,t,e,jr.LINK_COLOR),this.edges.push([t,e]),!0)}deleteNode(t){this.cmd(Ka.delete,t.graphicID)}remove(t){this.commands=[],this.clearOldObjects();const e=this.nextIndex;this.codeID="succ"===this.predSucc?this.addCodeToCanvasBaseAll(this.pseudocode,"remove_successor",40,50,13):this.addCodeToCanvasBaseAll(this.pseudocode,"remove_predecessor",40,50,13);for(let i=e;i<this.nextIndex;i++)this.toClear.push(i);return this.highlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Ka.setText,0,`Deleting ${t}`),this.cmd(Ka.step),this.cmd(Ka.setText,0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.resizeTree(),this.highlight(2,0,this.codeID),this.highlight(4,0,this.codeID),this.unhighlight(26,0,this.codeID),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(22,0,this.codeID),this.unhighlight(13,0,this.codeID),this.cmd(Ka.step),this.unhighlight(0,0,this.codeID),this.unhighlight(4,0,this.codeID),this.commands}removeH(t,e){if(null==t)return this.highlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Ka.setText,0,`${e} not found in the tree`),void this.cmd(Ka.step);if(this.cmd(Ka.setHighlight,t.graphicID,1),e<t.data)this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Ka.setText,0,`${e} < ${t.data}. Looking left`),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID),t.left=this.removeH(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(e>t.data)this.highlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Ka.setText,0,`${e} > ${t.data}. Looking right`),this.cmd(Ka.step),this.unhighlight(9,0,this.codeID),this.unhighlight(10,0,this.codeID),t.right=this.removeH(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(this.cmd(Ka.setText,0,`Found node with data ${e}`),this.highlight(13,0,this.codeID),this.cmd(Ka.step),this.unhighlight(12,0,this.codeID),null==t.left&&null==t.right)return this.highlight(13,0,this.codeID),this.highlight(14,0,this.codeID),this.cmd(Ka.setText,0,"Element to delete is a leaf node"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.unhighlight(13,0,this.codeID),this.unhighlight(14,0,this.codeID),null;if(null==t.left)return this.highlight(15,0,this.codeID),this.highlight(16,0,this.codeID),this.cmd(Ka.setText,0,"One-child case, replace with right child"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.unhighlight(15,0,this.codeID),this.unhighlight(16,0,this.codeID),t.right;if(null==t.right)return this.highlight(17,0,this.codeID),this.highlight(18,0,this.codeID),this.cmd(Ka.setText,0,"One-child case, replace with left child"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.unhighlight(17,0,this.codeID),this.unhighlight(18,0,this.codeID),t.left;{this.highlight(22,0,this.codeID),this.highlight(23,0,this.codeID);const e=[];"succ"===this.predSucc?(this.cmd(Ka.setText,0,"Two-child case, replace data with successor"),this.cmd(Ka.step),t.right=this.removeSucc(t.right,e),t.right&&this.connectSmart(t.graphicID,t.right.graphicID)):(this.cmd(Ka.setText,0,"Two-child case, replace data with predecessor"),this.cmd(Ka.step),t.left=this.removePred(t.left,e),t.left&&this.connectSmart(t.graphicID,t.left.graphicID)),this.resizeTree(),this.unhighlight(19,0,this.codeID),this.unhighlight(20,0,this.codeID),this.unhighlight(24,0,this.codeID),this.unhighlight(29,0,this.codeID),t.data=e[0],this.cmd(Ka.setText,t.graphicID,t.data),this.cmd(Ka.step)}}return this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.unhighlight(11,0,this.codeID),this.unhighlight(22,0,this.codeID),this.unhighlight(25,0,this.codeID),this.highlight(26,0,this.codeID),this.cmd(Ka.setHighlight,t.graphicID,0,this.codeID),this.cmd(Ka.setText,0,""),t}removeSucc(t,e){return this.unhighlight(27,0,this.codeID),this.unhighlight(28,0,this.codeID),this.unhighlight(23,0,this.codeID),this.highlight(24,0,this.codeID),this.highlight(29,0,this.codeID),this.highlight(30,0,this.codeID),this.cmd(Ka.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Ka.step),null==t.left?(this.highlight(31,0,this.codeID),this.cmd(Ka.setText,0,"No left child, replace with right child"),this.cmd(Ka.step),e.push(t.data),this.unhighlight(31,0,this.codeID),this.highlight(32,0,this.codeID),this.deleteNode(t),this.cmd(Ka.step),this.unhighlight(30,0,this.codeID),this.unhighlight(32,0,this.codeID),this.unhighlight(24,0,this.codeID),this.unhighlight(29,0,this.codeID),this.highlight(25,0,this.codeID),this.cmd(Ka.setText,0,""),t.right):(this.unhighlight(30,0,this.codeID),this.highlight(33,0,this.codeID),this.highlight(34,0,this.codeID),this.cmd(Ka.setText,0,"Left child exists, look left"),this.cmd(Ka.step),this.unhighlight(33,0,this.codeID),this.unhighlight(34,0,this.codeID),t.left=this.removeSucc(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),t)}removePred(t,e){return this.unhighlight(27,0,this.codeID),this.unhighlight(28,0,this.codeID),this.unhighlight(23,0,this.codeID),this.highlight(24,0,this.codeID),this.highlight(29,0,this.codeID),this.highlight(30,0,this.codeID),this.cmd(Ka.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Ka.step),null==t.right?(this.highlight(31,0,this.codeID),this.cmd(Ka.setText,0,"No right child, replace with right child"),this.cmd(Ka.step),e.push(t.data),this.unhighlight(31,0,this.codeID),this.highlight(32,0,this.codeID),this.deleteNode(t),this.cmd(Ka.step),this.unhighlight(30,0,this.codeID),this.unhighlight(32,0,this.codeID),this.unhighlight(24,0,this.codeID),this.unhighlight(29,0,this.codeID),this.highlight(25,0,this.codeID),this.cmd(Ka.setText,0,""),t.left):(this.unhighlight(30,0,this.codeID),this.highlight(33,0,this.codeID),this.highlight(34,0,this.codeID),this.cmd(Ka.setText,0,"Right child exists, look right"),this.cmd(Ka.step),this.unhighlight(33,0,this.codeID),this.unhighlight(34,0,this.codeID),t.right=this.removePred(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),t)}resizeTree(){if(null==this.treeRoot)return;let t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,jr.STARTING_Y,0,this.codeID),this.animateNewPositions(this.treeRoot),this.cmd(Ka.step))}setNewPositions(t,e,i,s){null!=t&&(t.y=i,-1===s?e-=t.rightWidth:1===s&&(e+=t.leftWidth),t.x=e,this.setNewPositions(t.left,e,i+jr.HEIGHT_DELTA,-1),this.setNewPositions(t.right,e,i+jr.HEIGHT_DELTA,1))}animateNewPositions(t){null!=t&&(this.cmd(Ka.move,t.graphicID,t.x,t.y),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}resizeWidths(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),jr.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),jr.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}clear(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",this.commands=[],this.clearOldObjects(),this.recClear(this.treeRoot),this.treeRoot=null,this.commands}recClear(t){null!=t&&(this.cmd(Ka.delete,t.graphicID),this.recClear(t.left),this.recClear(t.right))}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}class Nr{constructor(t,e,i,s){this.data=t,this.x=i,this.y=s,this.graphicID=e,this.left=null,this.right=null,this.parent=null}}jr.HIGHLIGHT_COLOR="#007700",jr.HEIGHT_LABEL_COLOR="#007700",jr.LINK_COLOR="#000000",jr.HIGHLIGHT_CIRCLE_COLOR="#007700",jr.FOREGROUND_COLOR="#000000",jr.BACKGROUND_COLOR="#FFFFFF",jr.PRINT_COLOR="#007700",jr.WIDTH_DELTA=50,jr.HEIGHT_DELTA=50,jr.STARTING_Y=50,jr.FIRST_PRINT_POS_X=50,jr.PRINT_VERTICAL_GAP=20,jr.PRINT_HORIZONTAL_GAP=50,jr.EXPLANITORY_TEXT_X=10,jr.EXPLANITORY_TEXT_Y=10;const Hr=30,Mr=40,Vr="#000000",$r="#FFFFFF",qr=Vr;function Wr(t,e,i){this.widths=[],this.keys=[],this.children=[],this.x=e,this.y=i,this.graphicID=t,this.numKeys=1,this.isLeaf=!0,this.parent=null,this.leftWidth=0,this.rightWidth=0}const Ur=100,Kr=60,Xr=215,Gr=140;const Yr=100,Qr=60;const Zr=100,Jr=130,to=50;let eo=!0;const io=75,so=275,ho=165,no=170,ao=12,ro=100,oo=350,lo=10;const co=200,uo=10,mo=270,go=46,po="#0000FF";class fo extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.hashType="integers"}addControls(){this.controls=[];const t=er(!1),e=er(!0,t),i=er(!0,t);Ga(`Key: ${"\xa0".repeat(2)}`,e),this.keyField=Ja("Text","",e),this.keyField.size=4,this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),4,!0),this.controls.push(this.keyField),Ga("Value: ",i),this.valueField=Ja("Text","",i),this.valueField.size=4,this.valueField.onkeydown=this.returnSubmit(this.valueField,this.insertCallback.bind(this),4,!1),this.controls.push(this.valueField),this.insertButton=Ja("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),tr(),this.deleteField=Ja("Text",""),this.deleteField.setAttribute("placeholder","Key"),this.deleteField.size=4,this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Ja("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),tr(),this.findField=Ja("Text",""),this.findField.setAttribute("placeholder","Key"),this.findField.size=4,this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),tr();const s=er(!1),h=er(!0,s),n=er(!0,h),a=er(!0,s);this.loadField=Ja("Text","",n),this.loadField.setAttribute("placeholder","67"),this.loadFieldLabel=Ga("%",n),this.loadField.size=2,this.loadField.onkeydown=this.returnSubmit(this.loadField,this.loadFactorCallBack.bind(this),2,!0),this.controls.push(this.loadField),this.loadButton=Ja("Button","Load Factor",a),this.loadButton.onclick=this.loadFactorCallBack.bind(this),this.controls.push(this.loadButton),tr(),this.rightVerticalGroup=er(!1),this.rightVerticalTop=er(!0,this.rightVerticalGroup),this.rightVerticalBottom=er(!0,this.rightVerticalGroup),this.initialCapacityLabel=Ga("Initial Capacity: ",this.rightVerticalTop),this.initialCapacityField=Ja("Text","",this.rightVerticalTop),this.initialCapacityField.size=4,this.restartButton=Ja("Button","Restart",this.rightVerticalBottom),this.initialCapacityField.onkeydown=this.returnSubmit(this.initialCapacityField,null,2,!0),this.restartButton.onclick=this.clearCallback.bind(this),tr(),this.dropDownParentGroup=er(!1),this.dropDownLabelGroup=er(!0,this.dropDownParentGroup),this.dropDownGroup=er(!0,this.dropDownParentGroup)}checkHashType(){"Integers"===this.hashTypeDropDown.value?this.implementAction(this.changeHashType.bind(this),"integers"):"Strings"===this.hashTypeDropDown.value?this.implementAction(this.changeHashType.bind(this),"strings"):"True"===this.hashTypeDropDown.value&&this.implementAction(this.changeHashType.bind(this),"true")}changeHashType(t){return this.hashType!==t&&(this.hashType=t,"integers"===this.hashType?(this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),4,!0),this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),4,!0),this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),4,!0)):("strings"===this.hashType||"true"===this.hashType)&&(this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),4,!1),this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),4,!1),this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),4,!1))),this.resetAll()}setURLData(t){if(t.has("initialCapacity")&&(this.initialCapacityField.value=parseInt(t.get("initialCapacity").substring(0,2)),this.resizeInitialTableCall(),this.animationManager.skipForward()),t.has("loadFactor")&&(this.loadField.value=parseInt(t.get("loadFactor").substring(0,2)),this.loadFactorCallBack()),t.has("hashType")){const e=t.get("hashType").trim();"Integers"!==e&&"Strings"!==e&&"True"!==e||(this.hashTypeDropDown.value=e,this.checkHashType())}if(t.has("data")){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{const e=t.split(":");e[0]=e[0].trim().substring(0,4),e[1]=e[1].trim().substring(0,4),"integers"===this.hashType&&isNaN(Number(e[0]))?console.error("Cannot add non-integer keys when hashType is Integers."):0!==e[0].length?(this.implementAction(this.insertElement.bind(this),e[0],e[1]),this.animationManager.skipForward(),this.animationManager.clearHistory()):console.error("Cannot add empty keys.")}))}}randomCallback(){const t=Math.floor(11*Math.random())+2;this.implementAction(this.clear.bind(this));for(let e=0;e<t;e++){let t,e;if("integers"===this.hashType)t=Math.floor(17*Math.random())+0,e=Math.floor(17*Math.random())+0;else if("strings"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}else if("true"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}this.implementAction(this.insertElement.bind(this),t,e),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clear.bind(this))}doHash(t){if("integers"===this.hashType){const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++,h=parseInt(t)%this.table_size;return this.currHash=parseInt(t),this.cmd(Ka.createLabel,e,t+" % "+String(this.table_size)+" = ",mo,go),this.cmd(Ka.createLabel,i,h,315,go),this.cmd(Ka.step),this.cmd(Ka.createHighlightCircle,s,po,315,go),this.cmd(Ka.move,s,this.indexXPos[h],this.indexYPos[h]),this.cmd(Ka.step),this.cmd(Ka.delete,e),this.cmd(Ka.delete,i),this.cmd(Ka.delete,s),this.nextIndex-=3,h}if("strings"===this.hashType){const e=this.nextIndex++;this.cmd(Ka.createLabel,e,"Hashing:",10,55,0);const i=new Array(t.length),s=new Array(t.length);for(let f=0;f<t.length;f++)i[f]=this.nextIndex++,s[f]=t.charAt(f),this.cmd(Ka.createLabel,i[f],s[f],60+7*f,55,0);const h=new Array(32),n=new Array(32),a=new Array(8),r=new Array(8),o=new Array(32),l=new Array(4),d=new Array(4),c=this.nextIndex++,u=this.nextIndex++;for(let t=0;t<32;t++)n[t]=0,h[t]=this.nextIndex++,o[t]=this.nextIndex++;for(let t=0;t<8;t++)r[t]=this.nextIndex++;for(let t=0;t<4;t++)l[t]=this.nextIndex++;this.cmd(Ka.step);for(let t=s.length-1;t>=0;t--){for(let t=0;t<32;t++)this.cmd(Ka.createLabel,h[t],n[t],co+7*t,uo,0);this.cmd(Ka.delete,i[t]);let e=s[t].charCodeAt(0);for(let i=7;i>=0;i--)a[i]=e%2,e=Math.floor(e/2),this.cmd(Ka.createLabel,r[i],a[i],60+7*t,55,0),this.cmd(Ka.move,r[i],co+7*(i+24),30);this.cmd(Ka.step),this.cmd(Ka.createRectangle,u,"",224,0,co,42,"left","bottom"),this.cmd(Ka.createLabel,c,"+",co,30,0),this.cmd(Ka.step);let m=0;for(let t=7;t>=0;t--)n[t+24]=n[t+24]+a[t]+m,n[t+24]>1?(n[t+24]=n[t+24]-2,m=1):m=0;for(let t=23;t>=0;t--)n[t]=n[t]+m,n[t]>1?(n[t]=n[t]-2,m=1):m=0;for(let t=0;t<32;t++)this.cmd(Ka.createLabel,o[t],n[t],co+7*t,50,0);this.cmd(Ka.step);for(let t=0;t<8;t++)this.cmd(Ka.delete,r[t]);this.cmd(Ka.delete,u),this.cmd(Ka.delete,c);for(let t=0;t<32;t++)this.cmd(Ka.delete,h[t]),this.cmd(Ka.move,o[t],co+7*t,uo);if(this.cmd(Ka.step),t>0){for(let t=0;t<32;t++)this.cmd(Ka.move,o[t],co+7*(t-4),uo);this.cmd(Ka.step);for(let t=0;t<28;t++)d[t]=n[t],n[t]=n[t+4];for(let t=0;t<4;t++)this.cmd(Ka.move,o[t],co+7*(t+10),30),n[t+28]=0,this.cmd(Ka.createLabel,l[t],0,co+7*(t+28),uo,0),d[t]&&(n[t+10]=1-n[t+10]);this.cmd(Ka.createRectangle,u,"",224,0,co,42,"left","bottom"),this.cmd(Ka.createLabel,c,"XOR",co,30,0),this.cmd(Ka.step);for(let t=0;t<32;t++)this.cmd(Ka.createLabel,h[t],n[t],co+7*t,50,0);this.cmd(Ka.step),this.cmd(Ka.delete,c),this.cmd(Ka.delete,u);for(let t=0;t<32;t++)this.cmd(Ka.delete,o[t]),this.cmd(Ka.move,h[t],co+7*t,uo);for(let t=0;t<4;t++)this.cmd(Ka.delete,l[t]);this.cmd(Ka.step);for(let t=0;t<32;t++)this.cmd(Ka.delete,h[t])}else for(let t=0;t<32;t++)this.cmd(Ka.delete,o[t])}this.cmd(Ka.delete,e);for(let t=0;t<32;t++)this.cmd(Ka.createLabel,h[t],n[t],co+7*t,uo,0);this.currHash=0;for(let t=0;t<32;t++)this.currHash=2*this.currHash+n[t];this.cmd(Ka.createLabel,e," = "+String(this.currHash),424,uo,0),this.cmd(Ka.step);for(let t=0;t<32;t++)this.cmd(Ka.delete,h[t]);const m=this.nextIndex++;this.cmd(Ka.setText,e,String(this.currHash)+" % "+String(this.table_size)+" = ");const g=this.currHash%this.table_size;this.cmd(Ka.createLabel,m,g,529,uo,0),this.cmd(Ka.step);const p=this.nextIndex++;return this.cmd(Ka.createHighlightCircle,p,po,530,25),this.cmd(Ka.move,p,this.indexXPos[g],this.indexYPos[g]),this.cmd(Ka.step),this.cmd(Ka.delete,p),this.cmd(Ka.delete,e),this.cmd(Ka.delete,m),g}if("true"===this.hashType){const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,n=this.trueHash(String(t)),a=n%this.table_size;return this.cmd(Ka.createLabel,e,t+".hashcode() % "+String(this.table_size)+" = ",mo,go),this.cmd(Ka.createLabel,i,String(n)+" % "+String(this.table_size)+" = ",mo,71),this.cmd(Ka.createLabel,s,a,315,71),this.cmd(Ka.step),this.cmd(Ka.createHighlightCircle,h,po,315,71),this.cmd(Ka.move,h,this.indexXPos[a],this.indexYPos[a]),this.cmd(Ka.step),this.cmd(Ka.delete,e),this.cmd(Ka.delete,i),this.cmd(Ka.delete,s),this.cmd(Ka.delete,h),this.nextIndex-=4,a}}trueHash(t){if("0"===t)return 0;let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e^=0xa8c2991a181,e&=65535;return e}resetAll(){return this.implementAction(this.changeLoadFactor.bind(this),.67),this.keyField.value="",this.valueField.value="",this.deleteField.value="",this.findField.value="",this.loadField.value="",[]}insertCallback(){const t="integers"===this.hashType?parseInt(this.keyField.value).toString():this.keyField.value,e=this.valueField.value;""!==t&&""!==e?(this.keyField.value="",this.valueField.value="",this.implementAction(this.insertElement.bind(this),t,e)):this.shake(this.insertButton)}deleteCallback(){const t=this.deleteField.value;""!==t?(this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),t)):this.shake(this.deleteButton)}findCallback(){const t=this.findField.value;""!==t?(this.findField.value="",this.implementAction(this.findElement.bind(this),t)):this.shake(this.findButton)}loadFactorCallBack(){const t=this.loadField.value&&this.loadField.value>0?parseInt(this.loadField.value)/100:.67;this.loadField.value=(100*t).toFixed(0),this.implementAction(this.changeLoadFactor.bind(this),t)}reset(){this.hashType="integers"}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0,this.restartButton.disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1,this.restartButton.disabled=!1}}const Io=85,bo=30,xo=100,Do=.67,yo=70,vo="#0000FF";class ko{constructor(t,e){this.key=t,this.val=e,this.elem=`<${t}, ${e}>`}}const Co=100,wo=120,To=50;let Lo=!0;const So="#0000FF",Fo="#99CCFF",Ao=120;class _o extends hr{constructor(t,e,i){super(t,e,i),this.first_print_pos_y=i-2*_o.PRINT_VERTICAL_GAP,this.print_max=e-10,this.startingX=e/2,this.addControls(),this.nextIndex=1,this.commands=[],this.edges=[],this.cmd(Ka.createLabel,0,"",_o.EXPLANITORY_TEXT_X,_o.EXPLANITORY_TEXT_Y,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}addControls(){this.controls=[],this.insertField=Ja("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Ja("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),tr(),this.deleteField=Ja("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Ja("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),tr(),this.findField=Ja("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),tr(),this.printButton=Ja("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr();const t=Za(["Right-LVA","Left-LVA"],"rlva/llva");this.rightButton=t[0],this.leftButton=t[1],this.rightButton.onclick=()=>{this.implementAction(this.clear.bind(this)),this.rightLeft="right"},this.leftButton.onclick=()=>{this.implementAction(this.clear.bind(this)),this.rightLeft="left"},this.rightButton.checked=!0,this.rightLeft="right",this.predSucc="pred"}reset(){this.nextIndex=1,this.treeRoot=null,this.edges=[]}insertCallback(){let t=this.insertField.value;t=this.normalizeNumber(t,4),""!==t&&(this.insertField.value="",this.implementAction(this.add.bind(this),parseInt(t)))}deleteCallback(){let t=this.deleteField.value;""!==t&&(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.remove.bind(this),parseInt(t)))}findCallback(){let t=this.findField.value;""!==t&&(t=this.normalizeNumber(t,4),this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t)))}printCallback(){this.implementAction(this.printTree.bind(this))}clearCallback(){this.implementAction(this.clear.bind(this))}sizeChanged(t){this.startingX=t/2}printTree(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Ka.createHighlightCircle,this.highlightID,_o.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=_o.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Ka.delete,this.highlightID),this.cmd(Ka.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Ka.delete,e);this.nextIndex=this.highlightID}return this.commands}printTreeRec(t){this.cmd(Ka.step),null!=t.left&&(this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step));const e=this.nextIndex++;this.cmd(Ka.createLabel,e,t.data,t.x,t.y),this.cmd(Ka.setForegroundColor,e,_o.PRINT_COLOR),this.cmd(Ka.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Ka.step),this.xPosOfNextLabel+=_o.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=_o.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=_o.PRINT_VERTICAL_GAP),null!=t.right&&(this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step))}findElement(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t),this.commands}doFind(t,e){this.cmd(Ka.setText,0,"Searchiing for "+e),null!=t?(this.cmd(Ka.setHighlight,t.graphicID,1),t.data===e?(this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(Ka.step),this.cmd(Ka.setText,0,"Found:"+e),this.cmd(Ka.setHighlight,t.graphicID,0)):t.data>e?(this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),null!=t.left&&(this.cmd(Ka.createHighlightCircle,this.highlightID,_o.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID)),this.doFind(t.left,e)):(this.cmd(Ka.setText,0," Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),null!=t.right&&(this.cmd(Ka.createHighlightCircle,this.highlightID,_o.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID)),this.doFind(t.right,e))):(this.cmd(Ka.setText,0," Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd(Ka.step),this.cmd(Ka.setText,0," Searching for "+e+" :  (Element not found)"))}remakeTree(t){null!=t&&(null!=t.left&&(this.cmd(Ka.connect,t.graphicID,t.left.graphicID,_o.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd(Ka.connect,t.graphicID,t.right.graphicID,_o.LINK_COLOR),this.remakeTree(t.right)))}add(t){return this.commands=[],this.cmd(Ka.setText,0," Inserting "+t),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.commands}addH(t,e){if(null==e){this.cmd(Ka.setText,0,"Null found, inserting new node");const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;return this.cmd(Ka.createCircle,e,t,30,_o.STARTING_Y),this.cmd(Ka.setForegroundColor,e,_o.FOREGROUND_COLOR),this.cmd(Ka.setBackgroundColor,e,_o.BACKGROUND_COLOR),this.cmd(Ka.createLabel,i,0,10,_o.STARTING_Y-20),this.cmd(Ka.setForegroundColor,i,_o.HEIGHT_LABEL_COLOR),this.cmd(Ka.createLabel,s,0,50,_o.STARTING_Y-20),this.cmd(Ka.setForegroundColor,s,_o.HEIGHT_LABEL_COLOR),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),new Bo(t,e,i,s,0,0)}if(this.cmd(Ka.setHighlight,e.graphicID,1),t<e.data){this.cmd(Ka.setText,0,`${t} < ${e.data}. Looking at left subtree`),this.cmd(Ka.step),e.left=this.addH(t,e.left),e.left.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.left.graphicID)&&this.cmd(Ka.step)}else if(t>e.data){this.cmd(Ka.setText,0,`${t} > ${e.data}. Looking at right subtree`),this.cmd(Ka.step),e.right=this.addH(t,e.right),e.right.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.right.graphicID)&&this.cmd(Ka.step)}else this.cmd(Ka.setText,0,`${t} == ${e.data}. Ignoring duplicate!`),this.cmd(Ka.step);return e=this.balance(e),this.cmd(Ka.setHighlight,e.graphicID,0),this.cmd(Ka.setText,0,""),e}connectSmart(t,e){return!this.edges.some((i=>i[0]===t&&i[1]===e))&&(this.cmd(Ka.connect,t,e,_o.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,t,e,_o.LINK_OPACITY),this.edges.push([t,e]),!0)}balance(t){return t.updateHeightAndBF(),this.cmd(Ka.setText,t.heightLabelID,t.height),this.cmd(Ka.setText,t.bfLabelID,t.bf),this.cmd(Ka.setText,0,"Adjusting height and balance factor after recursive call"),this.cmd(Ka.step),"right"===this.rightLeft?null!=t.left&&(t=this.singleRotateRight(t)):null!=t.right&&(t=this.singleRotateLeft(t)),t}singleRotateRight(t){const e=t,i=t.left,s=i.right;return this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.step),null!=s&&(this.cmd(Ka.disconnect,i.graphicID,s.graphicID),this.cmd(Ka.connect,e.graphicID,s.graphicID,_o.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,e.graphicID,s.graphicID,_o.LINK_OPACITY),s.parent=e),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,_o.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,i.graphicID,e.graphicID,_o.LINK_OPACITY),i.parent=e.parent,this.treeRoot===e?this.treeRoot=i:(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID,_o.LINK_COLOR),this.cmd(Ka.connect,e.parent.graphicID,i.graphicID,_o.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,e.parent.graphicID,i.graphicID,_o.LINK_OPACITY),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.right=e,e.parent=i,e.left=s,this.cmd(Ka.setHighlight,i.graphicID,0),this.cmd(Ka.setHighlight,e.graphicID,0),e.updateHeightAndBF(),this.cmd(Ka.setText,e.heightLabelID,e.height),this.cmd(Ka.setText,e.bfLabelID,e.bf),i.updateHeightAndBF(),this.cmd(Ka.setText,i.heightLabelID,i.height),this.cmd(Ka.setText,i.bfLabelID,i.bf),this.resizeTree(),i}singleRotateLeft(t){const e=t,i=t.right,s=i.left;return this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.step),null!=s&&(this.cmd(Ka.disconnect,i.graphicID,s.graphicID),this.cmd(Ka.connect,e.graphicID,s.graphicID,_o.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,e.graphicID,s.graphicID,_o.LINK_OPACITY),s.parent=e),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,_o.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,i.graphicID,e.graphicID,_o.LINK_OPACITY),i.parent=e.parent,this.treeRoot===e?this.treeRoot=i:(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID,_o.LINK_COLOR),this.cmd(Ka.connect,e.parent.graphicID,i.graphicID,_o.LINK_COLOR),this.cmd(Ka.setEdgeAlpha,e.parent.graphicID,i.graphicID,_o.LINK_OPACITY),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.left=e,e.parent=i,e.right=s,this.cmd(Ka.setHighlight,e.graphicID,0),this.cmd(Ka.setHighlight,i.graphicID,0),e.updateHeightAndBF(),this.cmd(Ka.setText,e.heightLabelID,e.height),this.cmd(Ka.setText,e.bfLabelID,e.bf),i.updateHeightAndBF(),this.cmd(Ka.setText,i.heightLabelID,i.height),this.cmd(Ka.setText,i.bfLabelID,i.bf),this.resizeTree(),i}getHeight(t){return null==t?-1:t.height}resetHeight(t){if(null!=t){const e=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1;t.height!==e&&(t.height=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1,this.cmd(Ka.setText,t.heightLabelID,e))}}deleteNode(t){this.cmd(Ka.delete,t.graphicID),this.cmd(Ka.delete,t.heightLabelID),this.cmd(Ka.delete,t.bfLabelID)}remove(t){return this.commands=[],this.cmd(Ka.setText,0,`Deleting ${t}`),this.cmd(Ka.step),this.cmd(Ka.setText,0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.cmd(Ka.setText,0,""),this.resizeTree(),this.commands}removeH(t,e){if(null!=t){if(this.cmd(Ka.setHighlight,t.graphicID,1),e<t.data)this.cmd(Ka.setText,0,`${e} < ${t.data}. Looking left`),this.cmd(Ka.step),t.left=this.removeH(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(e>t.data)this.cmd(Ka.setText,0,`${e} > ${t.data}. Looking right`),this.cmd(Ka.step),t.right=this.removeH(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(null==t.left&&null==t.right)return this.cmd(Ka.setText,0,"Element to delete is a leaf node"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),null;if(null==t.left)return this.cmd(Ka.setText,0,"One-child case, replace with right child"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),t.right;if(null==t.right)return this.cmd(Ka.setText,0,"One-child case, replace with left child"),this.cmd(Ka.step),this.deleteNode(t),this.cmd(Ka.step),t.left;{const e=[];"succ"===this.predSucc?(this.cmd(Ka.setText,0,"Two-child case, replace data with successor"),this.cmd(Ka.step),t.right=this.removeSucc(t.right,e),t.right&&this.connectSmart(t.graphicID,t.right.graphicID)):(this.cmd(Ka.setText,0,"Two-child case, replace data with predecessor"),this.cmd(Ka.step),t.left=this.removePred(t.left,e),t.left&&this.connectSmart(t.graphicID,t.left.graphicID)),this.resizeTree(),t.data=e[0],this.cmd(Ka.setText,t.graphicID,t.data)}}return t=this.balance(t),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setText,0,""),t}this.cmd(Ka.setText,0,`${e} not found in the tree`)}removeSucc(t,e){return this.cmd(Ka.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Ka.step),null==t.left?(this.cmd(Ka.setText,0,"No left child, replace with right child"),this.cmd(Ka.step),e.push(t.data),this.deleteNode(t),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),t.right):(this.cmd(Ka.setText,0,"Left child exists, look left"),this.cmd(Ka.step),t.left=this.removeSucc(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(Ka.setHighlight,t.graphicID,0),t)}removePred(t,e){return this.cmd(Ka.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Ka.step),null==t.right?(this.cmd(Ka.setText,0,"No right child, replace with right child"),this.cmd(Ka.step),e.push(t.data),this.deleteNode(t),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),t.left):(this.cmd(Ka.setText,0,"Right child exists, look right"),this.cmd(Ka.step),t.right=this.removePred(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(Ka.setHighlight,t.graphicID,0),t)}resizeTree(){if(null==this.treeRoot)return;let t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,_o.STARTING_Y,0),this.animateNewPositions(this.treeRoot),this.cmd(Ka.step))}setNewPositions(t,e,i,s){null!=t&&(t.y=i,-1===s?(e-=t.rightWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):1===s?(e+=t.leftWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):(t.heightLabelX=e-20,t.bfLabelX=e+20),t.x=e,t.heightLabelY=t.y-20,t.bfLabelY=t.y-20,this.setNewPositions(t.left,e,i+_o.HEIGHT_DELTA,-1),this.setNewPositions(t.right,e,i+_o.HEIGHT_DELTA,1))}animateNewPositions(t){null!=t&&(this.cmd(Ka.move,t.graphicID,t.x,t.y),this.cmd(Ka.move,t.heightLabelID,t.heightLabelX,t.heightLabelY),this.cmd(Ka.move,t.bfLabelID,t.bfLabelX,t.bfLabelY),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}resizeWidths(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),_o.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),_o.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}clear(){return this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}recClear(t){null!=t&&(this.cmd(Ka.delete,t.graphicID),this.cmd(Ka.delete,t.heightLabelID),this.cmd(Ka.delete,t.bfLabelID),this.recClear(t.left),this.recClear(t.right))}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}class Bo{constructor(t,e,i,s,h,n){this.data=t,this.x=h,this.y=n,this.heightLabelID=i,this.bfLabelID=s,this.height=0,this.bf=0,this.graphicID=e,this.left=null,this.right=null,this.parent=null}updateHeightAndBF(){const t=t=>null==t?-1:t.height,e=t(this.left),i=t(this.right);this.height=Math.max(e,i)+1,this.bf=e-i}isLeftChild(){return null==this.parent||this.parent.left===this}}_o.HIGHLIGHT_LABEL_COLOR="#FF0000",_o.HIGHLIGHT_COLOR="#007700",_o.HEIGHT_LABEL_COLOR="#000000",_o.LINK_COLOR="#000000",_o.LINK_OPACITY=.2,_o.HIGHLIGHT_CIRCLE_COLOR="#007700",_o.FOREGROUND_COLOR="#000000",_o.BACKGROUND_COLOR="#FFFFFF",_o.PRINT_COLOR="#007700",_o.WIDTH_DELTA=50,_o.HEIGHT_DELTA=50,_o.STARTING_Y=50,_o.FIRST_PRINT_POS_X=50,_o.PRINT_VERTICAL_GAP=20,_o.PRINT_HORIZONTAL_GAP=50,_o.EXPLANITORY_TEXT_X=10,_o.EXPLANITORY_TEXT_Y=10;const zo=[{name:"sin",equation:t=>-50*Math.sin(t*Math.PI/4)},{name:"exponential",equation:t=>-1*Math.pow(1.41,t)+200},{name:"quadratic",equation:t=>Math.pow(2.2*t-18.7,2)-150},{name:"logarithmic",equation:t=>-100*Math.log(t+.4)+170},{name:"multaplicative inverse",equation:t=>250/(2.8*t-24.1)}];class Po{constructor(t,e){this.key=t,this.val=e,this.elem=`<${t}, ${e}>`}}const Eo=40,Oo=30,Ro=645,jo=475;const No=100,Ho=245,Mo=50,Vo=50,$o=14,qo=130,Wo=180,Uo=120,Ko=280,Xo=120,Go=60,Yo=30,Qo=130,Zo=30,Jo=-40,tl="#0000FF",el=450,il=20;var sl=class{constructor(){this.backingArray=[]}enqueue(t,e,i){this.backingArray.push([t,e,i]),this.backingArray.sort(((t,e)=>t[2]!==e[2]?t[2]-e[2]:Array.isArray(t[0])?t[0][0]!==e[0][0]?t[0][0]-e[0][0]:t[0][1]-e[0][1]:t[0]-e[0]))}dequeue(){const t=this.backingArray.shift();return[t[0],t[1]]}size(){return this.backingArray.length}getIDs(){return this.backingArray.map((t=>t[1]))}};const hl=110,nl=110,al=50,rl=180;const ol=135,ll=230;const dl=40,cl=50,ul=[0,450,250,650,150,350,550,750,100,200,300,400,500,600,700,800,75,125,175,225,275,325,375,425,475,525,575,625,675,725,775,825],ml=[0,180,250,250,320,320,320,320,390,390,390,390,390,390,390,390,460,460,460,460,460,460,460,460,460,460,460,460,460,460,460,460];const gl=100,pl=130,fl=50;const Il=100,bl=60,xl=100;const Dl=145,yl=50,vl=20,kl=52,Cl=110,wl=40,Tl=100,Ll=150,Sl=135;const Fl=485,Al=70,_l=50,Bl=485,zl=935,Pl=140,El=50,Ol=20,Rl=15;let jl=!1;const Nl=135,Hl=230;const Ml=650,Vl=50,$l=75,ql=50,Wl=15;const Ul=50,Kl=25,Xl=70,Gl=100,Yl=.67,Ql="#0000FF";class Zl{constructor(t,e,i,s,h){this.key=t,this.val=e,this.graphicID=i,this.x=s,this.y=h,this.next=null}}const Jl="#99CCFF",td=143;const ed=100,id=240,sd=50,hd=50,nd=14,ad=130,rd=130,od=260,ld="#0000FF",dd=-40;const cd=475,ud=120,md=50;let gd,pd=0;const fd=100,Id=120,bd=50;let xd,Dd=0;const yd=100,vd=60;const kd=100,Cd=130,wd=50;const Td=[3,2,0,3,3,4,4,0,2,1,3,4,0,0,1,0,0,3,2,1,2,1,2,3,1,0,4,1,4,4,4,4,2,0,1,4,4,3,0,0,3,2,3,3,1,1,4,1,0,1,1,0,4,3,3,0,0,2,4,2,3,2,4,3,1,1,2,0,3,4,4,2,4,1,0,0,2,1,0,0,4,0,2,4,0,2,4,4,0,3,3,2,0,0,1,3,0,3,3,1,0,1,1,0,3,0,3,0,4,2,1,1,2,0,0,1,1,2,3,4,3,1,2,4,1,3,1,3,2,0,1,1,0,4,3,1,0,0,0,1,4,0,3,4,1,1,3,0,1,0,2,3,3,3,3,1,1,3,0,3,0,3,0,2,0,2,4,0,1,0,3,1,2,3,3,3,0,3,1,1,0,2,1,2,3,0,0,1,1,0,3,1,2,4,2,2,4,0,3,4,0,3,1,0,2,4,0,4,2,0,2,3,0,4,4,1,3,0,1,0,2,3,2,3,0,2,4,0,3,3,3,3,1,4,3,1,2,3,4,1,4,2,2,0,3,3,1,4,1,1,2,3,4,4,3,4,3,2,2,2,0,0,2,4,2,1,2,3,4,1,0,4,0,1,0,1,2,4,4,3,3,1,3,3,1,0,4,4,1,2,4,3,1,2,1,4,4,3,2,1,2,4,2,2,1,3,4,4,4,0,4,2,1,0,1,0,0,1,1,1,0,4,3,0,0,4,4,4,1,2,0,2,4,2,0,3,1,1,2,3,3,0,3,2,1,4,1,4,4,4,1,1,4,2,1,0,3,4,1,4,0,3,1,2,4,0,0,3,4,2,2,1,2,0,3,1,3,1,4,0,1,3,4,1,4,3,0,0,4,1,0,2,0,2,4,2,2,0,3,4,2,4,4,3,3,4,2,2,4,4,2,0,3,3,2,1,3,1,2,0,0,0,1,2,2,2,1,4,1,3,4,1,3,4,1,0,2,3,3,4,0,3,2,3,4,4,4,0,3,2,4,2,4,1,2,4,3,4,4,2,2,2,0,2,4,3,4,2,1,2,2,1,3,0,2,0,3,4,3,2,0,1,1,3,2,1,1,0,0,1,4,1,1,2,1,1,0,1,4,4,4,2,0,0,2,2,3,2,4,2,3,2,3,3,0,2,0,4,2,0,4,3,0,1,1,3,3,1,3,0,3,1,2,3,1,1,2,1,0,0,0,0,4,3,4,3,2,1,1,3,4,4,4,3,2,0,0,2,1,2,0,4,1,4,4,3,4,0,2,2,3,0,0,0,3,3,4,4,4,0,4,4,0,0,3,1,4,3,2,0,4,2,4,4,1,2,0,4,3,1,1,3,3,3,2,3,0,3,2,2,3,2,3,2,2,3,4,4,0,3,2,0,0,2,3,3,2,0,3,4,0,0,4,4,2,3,3,2,2,1,4,0,3,4,3,3,0,0,4,1,2,0,1,2,2,1,1,1,3,4,4,3,2,3,1,4,0,4,0,0,0,4,4,2,1,0,2,2,1,4,2,2,4,0,2,1,3,1,1,0,0,3,1,2,0,2,2,0,2,1,4,2,2,3,2,2,4,0,1,3,3,2,0,1,0,4,3,1,4,3,0,2,1,2,4,2,0,1,1,0,0,1,3,2,0,3,1,2,1,3,0,0,1,1,4,1,3,1,3,0,2,1,3,1,1,2,3,0,3,2,3,3,2,2,2,3,0,1,1,0,2,3,3,0,3,2,3,1,2,3,2,1,4,0,4,3,0,1,1,2,1,1,0,1,3,1,4,2,1,1,3,0,3,3,0,4,0,3,2,4,4,4,3,1,0,4,2,1,3,2,3,2,2,2,2,1,3,3,3,4,1,0,0,2,4,2,2,3,0,3,4,2,1,4,3,4,2,3,0,3,3,3,1,4,2,2,3,3,4,4,3,1,3,2,4,3,0,3,2,0,3,3,1,1,3,2,2,0,4,2,3,1,0,4,3,2,0,0,0,3,1,0,4,3,4,3,0,2,1,2,1,2,0,3,4,0,1,4,4,1,0,0,0,0,0,2,1,3,4,3,1,1,3,4,0,1,1,1,3,1,0,2,3,4,4,4,1,4,1,0,1,1,2,4,3,3,2,4,0,2,0,3,3,2,1,3,3,4,1,4,2,1,0,3,3,3,0,4,2,4,3,4,1,2,3,0,3,1,2,1,2,4,4,0,3,2,0,4,3,4,1,4,1,0,3,1,1,3,0,0],Ld=100,Sd=400,Fd=40,Ad=80,_d="\u2212\u221e";const Bd="#000000",zd="#007700",Pd="#000000",Ed="#FFFFFF";class Od{constructor(t,e,i,s){this.data=t,this.x=i,this.y=s,this.graphicID=e,this.left=null,this.right=null,this.parent=null}isLeftChild(){return null==this.parent||this.parent.left===this}}const Rd=100,jd=225,Nd=50,Hd=50,Md=14,Vd=130,$d=120;const qd=150,Wd=[0,450,250,650,150,350,550,750,100,200,300,400,500,600,700,800,75,125,175,225,275,325,375,425,475,525,575,625,675,725,775,825],Ud=[0,250,320,320,390,390,390,390,460,460,460,460,460,460,460,460,530,530,530,530,530,530,530,530,530,530,530,530,530,530,530,530];let Kd=[[0,1,0,1,0,0,0,0],[1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]].map((t=>t.map((t=>t||-1))));const Xd={NonLinearProbing:["Non-Linear Probing",class extends fo{constructor(t,e,i){super(t,e,i),this.elements_per_row=18,this.setup()}addControls(){super.addControls(),tr(),this.fillButton=Ja("Button","Fill HashMap"),this.fillButton.onclick=this.fillCallback.bind(this),this.controls.push(this.fillButton),tr(),Ga("Collision Strategy: h(elem) + i ???")}setup(){this.resetIndex=this.nextIndex,this.table_size=18,this.load_factor=.67,this.skipDist=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.size=0,this.indexLabelID=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.indexEqYPos=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++,this.commands=[],this.equation=zo[parseInt(Math.random()*(zo.length-1))];for(let t=0;t<this.table_size;t++){this.skipDist[t]=t+1,this.hashTableVisual[t]=this.nextIndex++,this.empty[t]=!0,this.deleted[t]=!1;const e=100+t%this.elements_per_row*60,i=200+Math.floor(t/this.elements_per_row),s=200+this.equation.equation(t);this.cmd(Ka.createRectangle,this.hashTableVisual[t],"",60,30,e,i),this.indexLabelID[t]=this.nextIndex++,this.indexXPos[t]=e,this.indexYPos[t]=i+30,this.indexEqYPos[t]=s,this.cmd(Ka.createLabel,this.indexLabelID[t],t,this.indexXPos[t],this.indexYPos[t]),this.cmd(Ka.setForegroundColor,this.indexLabelID[t],"#0000FF")}this.cmd(Ka.createLabel,this.ExplainLabel,"",10,40,0),this.cmd(Ka.createLabel,this.HashIndexID,"",570,75),this.cmd(Ka.createLabel,this.DelIndexLabel,"",10,60,0),this.cmd(Ka.createLabel,this.loadFactorID,`Load Factor: ${this.load_factor}`,100,20),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}fillCallback(){this.implementAction(this.fillMap.bind(this))}fillMap(){this.commands=[];const t=this.hashTableValues.length-this.size;for(let e=0;e<t;e++)this.insertElement(e,"val",!0);return this.commands}insertElement(t,e,i){const s=new Po(t,e),h=s.elem;i||(this.commands=[]),this.cmd(Ka.setText,this.ExplainLabel,"Inserting element: "+h),this.cmd(Ka.step);let n=this.doHash(t);if(n=this.getEmptyIndex(n,t),-2===n)return this.cmd(Ka.setText,this.ExplainLabel,"Happy april fools!\n                  - Grant, Liam, William, and the TAs :)"),this.commands;this.hashTableValues[n]&&this.hashTableValues[n].key===t&&!this.deleted[n]&&(this.cmd(Ka.setText,this.ExplainLabel,"Key "+t+" is already in HashMap, updating value.",""),this.size--);const a=this.nextIndex++;return this.cmd(Ka.createLabel,a,h,20,25),this.cmd(Ka.move,a,this.indexXPos[n],this.indexYPos[n]-30),this.cmd(Ka.step),this.cmd(Ka.delete,a),this.cmd(Ka.setText,this.hashTableVisual[n],h),this.cmd(Ka.setHighlight,this.hashTableVisual[n],0),this.cmd(Ka.step),this.cmd(Ka.move,this.hashTableVisual[n],this.indexXPos[n],this.indexEqYPos[n]-30),this.cmd(Ka.move,this.indexLabelID[n],this.indexXPos[n],this.indexEqYPos[n]),this.cmd(Ka.step),this.hashTableValues[n]=s,this.empty[n]=!1,this.deleted[n]=!1,this.size++,this.cmd(Ka.setText,this.ExplainLabel,""),this.cmd(Ka.setText,this.DelIndexLabel,""),this.commands}getEmptyIndex(t,e){let i=1,s=0,h=-1;const n=t;for(this.cmd(Ka.setHighlight,this.hashTableVisual[t],1);s<this.table_size&&!this.empty[t]&&this.hashTableValues[t].key!==e;)this.cmd(Ka.setText,this.ExplainLabel,"Entry occupied, so probe forward"),this.cmd(Ka.step),-1===h&&this.deleted[t]&&(this.cmd(Ka.setText,this.ExplainLabel,"Storing index of first deleted element"),this.cmd(Ka.setText,this.DelIndexLabel,"First Deleted Index: "+t),h=t,this.cmd(Ka.step)),this.cmd(Ka.setHighlight,this.hashTableVisual[t],0),this.cmd(Ka.setText,this.ExplainLabel,""),t=(n+this.skipDist[s])%this.table_size,this.currentHashingTypeButtonState===this.quadraticProbingButton&&(i=s+1),this.cmd(Ka.setText,this.HashIndexID,`Index to probe: (${n} + ${s+1}*${i}) % ${this.table_size} = `+(n+this.skipDist[s])%this.table_size),this.cmd(Ka.setHighlight,this.hashTableVisual[t],1),this.empty[t]?this.cmd(Ka.setText,this.ExplainLabel,"Encountered null spot, so terminate loop"):this.hashTableValues[t].key===e&&this.cmd(Ka.setText,this.ExplainLabel,"Encountered matching key, so terminate loop"),s++,this.cmd(Ka.step);return this.cmd(Ka.setText,this.HashIndexID,""),this.empty[t]||this.hashTableValues[t].key!==e||this.deleted[t]?s===this.table_size&&-1===h?(this.cmd(Ka.setHighlight,this.hashTableVisual[t],0),-2):(-1!==h?(this.cmd(Ka.setHighlight,this.hashTableVisual[t],0),this.cmd(Ka.setText,this.ExplainLabel,"Inserting at earlier DEL spot"),t=h):null==this.hashTableValues[t]?this.cmd(Ka.setText,this.ExplainLabel,"Inserting at null spot"):this.hashTableValues[t].key===e&&this.cmd(Ka.setText,this.ExplainLabel,"Inserting at DEL spot with same key"),this.cmd(Ka.setHighlight,this.hashTableVisual[t],1),this.cmd(Ka.step),-1!==h?h:t):(this.cmd(Ka.setHighlight,this.hashTableVisual[t],0),t)}getElemIndex(t,e){let i=1;const s=t;let h=-1,n=t;for(let a=0;a<this.table_size;a++){if(this.cmd(Ka.setHighlight,this.hashTableVisual[n],1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.hashTableVisual[n],0),!this.empty[n]&&!this.deleted[n]&&this.hashTableValues[n].key===e){h=n;break}if(this.empty[n]||this.deleted[n]&&this.hashTableValues[n].key===e)break;this.currentHashingTypeButtonState===this.quadraticProbingButton&&(i=a+1),this.cmd(Ka.setText,this.HashIndexID,`Index to probe: (${s} + ${a+1}*${i}) % ${this.table_size} = `+(s+this.skipDist[a])%this.table_size),n=(t+this.skipDist[a])%this.table_size}return this.cmd(Ka.setText,this.HashIndexID,""),h}deleteElement(t){this.commands=[],this.cmd(Ka.setText,this.ExplainLabel,"Deleting element with key: "+t);let e=this.doHash(t);if(e=this.getElemIndex(e,t),e>=0){const t=this.hashTableValues[e].elem;this.cmd(Ka.setText,this.ExplainLabel,"Deleting element: "+t+"  Element deleted"),this.deleted[e]=!0,this.cmd(Ka.setText,this.hashTableVisual[e],"DEL"),this.size--}else this.cmd(Ka.setText,this.ExplainLabel,"Deleting element with key: "+t+"  Key not in table");return this.commands}findElement(t){this.commands=[],this.cmd(Ka.setText,this.ExplainLabel,"Finding Key: "+t);const e=this.doHash(t);return-1!==this.getElemIndex(e,t)?this.cmd(Ka.setText,this.ExplainLabel,"Found Key: "+t+"  Value: "+this.hashTableValues[e].val):this.cmd(Ka.setText,this.ExplainLabel,"Finding Key: "+t+"  Not Found!"),this.commands}changeLoadFactor(t){return this.commands=[],this.cmd(Ka.setText,this.loadFactorID,"Resizing? We don't do that here"),this.cmd(Ka.step),this.commands}resetAll(){this.commands=super.resetAll(),this.size=0;for(let t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableValues[t]=void 0,this.cmd(Ka.setText,this.hashTableVisual[t],"");return this.commands}reset(){this.nextIndex=this.resetIndex,this.table_size=18,this.load_factor=.67,this.size=0,this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.indexLabelID=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++;for(let t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableVisual[t]=this.nextIndex++,this.indexLabelID[t]=this.nextIndex++;super.reset()}resetCallback(){}disableUI(){super.disableUI()}enableUI(){super.enableUI()}}],LVA:["LVA",_o],BogoSort:["Bogo Sort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). No more than 5 elements, unless you have time to spare...',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.warningID=this.nextIndex++,this.iterations=0,this.colors=["#f0928e","#f8b896","#a9fd99","#a8fdff","#94b3f9","#ca8ff9","#f092f9","#ed74f0","#ec74b3","#ed7370"],this.cmd(Ka.createLabel,this.comparisonCountID,"Iterations: "+this.iterations,100,50),this.cmd(Ka.createLabel,this.warningID,"",200,200),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.arrayData=[],this.arrayID=[],this.displayData=[],this.removeCode(this.codeID),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.warningID=this.nextIndex++,this.iterations=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));""!==this.listField.value&&t.length<=18&&t.map(Number).filter((t=>t>999||Number.isNaN(t))).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}clearCallback(){this.implementAction(this.clear.bind(this))}clear(){this.commands=[];for(let t=0;t<this.arrayID.length;t++)this.cmd(Ka.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.iterations=0,this.cmd(Ka.setText,this.comparisonCountID,"Iterations: "+this.iterations),this.cmd(Ka.setText,this.warningID,""),this.commands}sort(t){this.commands=[],this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=this.arrayData.length,i=new Map,s=new Map;for(let n=0;n<e;n++){const t=i.has(this.arrayData[n])?i.get(this.arrayData[n]):0;t>0&&s.set(this.arrayData[n],"a"),i.set(this.arrayData[n],t+1)}for(let n=0;n<e;n++){this.arrayID[n]=this.nextIndex++;const t=50*n+100,e=130;let i=this.arrayData[n].toString();if(s.has(this.arrayData[n])){const t=s.get(this.arrayData[n]);i+=t,s.set(this.arrayData[n],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[n]=i,this.cmd(Ka.createRectangle,this.arrayID[n],i,50,50,t,e)}for(let n=0;n<this.arrayData.length;n++)this.cmd(Ka.setBackgroundColor,this.arrayID[n],this.colors[n%this.colors.length]);if(this.cmd(Ka.step),this.arrayData.length>=10){for(let t=0;t<this.arrayData.length/2;t++)this.cmd(Ka.step);for(;this.arrayID.length>0;){const t=this.arrayID.splice(Math.floor(Math.random()*(this.arrayID.length-1)),1);this.cmd(Ka.delete,t),this.cmd(Ka.step)}return this.arrayID=[],this.arrayData=[],this.displayData=[],this.iterations=0,this.cmd(Ka.setText,this.comparisonCountID,"Iterations: "+this.iterations),this.cmd(Ka.setText,this.warningID,"Yeah so that array was too long...try something smaller"),this.commands}let h=!1;for(;!h;){this.cmd(Ka.setText,this.comparisonCountID,"Iterations: "+this.iterations++),h=!0;for(let t=0;t<e-1;t++)if(this.arrayData[t]>this.arrayData[t+1]){h=!1;break}if(h)for(let t=0;t<e;t++)this.cmd(Ka.setBackgroundColor,this.arrayID[t],this.colors[t%this.colors.length]);else this.shuffle();this.cmd(Ka.step)}return this.cmd(Ka.step),this.commands}movePointers(t,e){const i=50*t+100;this.cmd(Ka.move,this.iPointerID,i,130);const s=50*e+100;this.cmd(Ka.move,this.jPointerID,s,130),this.cmd(Ka.step)}shuffle(){for(let t=0;t<this.arrayData.length;t++)this.swap(t,Math.floor(Math.random()*(this.arrayData.length-1))),this.cmd(Ka.setBackgroundColor,this.arrayID[t],this.colors[Math.abs(this.iterations-t)%this.colors.length])}swap(t,e){this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]);let i=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=i,i=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=i}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}],ArrayList:["ArrayList",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1),e=er(!0,t),i=er(!0,t);Ga("Add",e),this.addValueField=Ja("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addValueField),Ga("at index",e),this.addIndexField=Ja("Text","",e),this.addIndexField.style.textAlign="center",this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=Ja("Button","Add to Front",i),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=Ja("Button","Add to Back",i),this.addBackButton.onclick=()=>this.addBackCallback(),this.controls.push(this.addBackButton),Ga("or",i),this.addIndexButton=Ja("Button","Add at Index",i),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),tr();const s=er(!1),h=er(!0,s),n=er(!0,s);Ga("Index",h),this.removeField=Ja("Text","",h),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,(()=>this.removeIndexCallback()),4,!0),this.controls.push(this.removeField),this.removeIndexButton=Ja("Button","Remove from Index",h),this.removeIndexButton.onclick=()=>this.removeIndexCallback(),this.controls.push(this.removeIndexButton),Ga("or",n),this.removeFrontButton=Ja("Button","Remove from Front",n),this.removeFrontButton.onclick=()=>this.removeFrontCallback(),this.controls.push(this.removeFrontButton),this.removeBackButton=Ja("Button","Remove from Back",n),this.removeBackButton.onclick=()=>this.removeBackCallback(),this.controls.push(this.removeBackButton),tr();const a=er(!1);this.randomButton=Ja("Button","Random",a),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=Ja("Button","Clear",a),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{if(this.addValueField.value=t.substring(0,4),""===this.addValueField.value||this.length===this.size&&2*this.length>30)this.shake(this.addBackButton),this.implementAction(this.setInfoText.bind(this),"Missing input data.");else{const t=this.addValueField.value;this.addValueField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,this.size,!1,!0,!1):this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1,!0)}this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.arrayData=new Array(7),this.size=0,this.length=7,this.commands=[],this.pseudocode=or.mx,this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.resetIndex=this.nextIndex,this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;for(let t=0;t<7;t++){const e=t%mr*ur+lr,i=Math.floor(t/mr)*gr+dr;this.cmd(Ka.createRectangle,this.arrayID[t],"",ur,50,e,i),this.cmd(Ka.createLabel,this.arrayLabelID[t],t,e,i+50),this.cmd(Ka.setForegroundColor,this.arrayLabelID[t],"#0000FF")}this.highlight1ID=this.nextIndex++,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.size=0,this.length=7,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.highlight1ID=this.nextIndex++}setInfoText(t){return this.commands=[],this.cmd(Ka.setText,this.infoLabelID,t),this.commands}addIndexCallback(){if(""===this.addValueField.value||""===this.addIndexField.value||this.length===this.size&&2*this.length>30)this.shake(this.addIndexButton),this.implementAction(this.setInfoText.bind(this),"Missing input data or index.");else{const t=this.addValueField.value,e=this.addIndexField.value;e>=0&&e<=this.size?(this.addValueField.value="",this.addIndexField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,parseInt(e),!1,!1,!0):this.implementAction(this.add.bind(this),t,parseInt(e),!1,!1,!0)):(this.shake(this.addIndexButton),this.implementAction(this.setInfoText.bind(this),0===this.size?"Index must be 0 when the list is empty.":`Index must be between 0 and ${this.size}.`))}}addFrontCallback(){if(""===this.addValueField.value||this.length===this.size&&2*this.length>30)this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addFrontButton);else{const t=this.addValueField.value;this.addValueField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,0,!0,!1,!1):this.implementAction(this.add.bind(this),t,0,!0,!1,!1)}}addBackCallback(){if(""===this.addValueField.value||this.length===this.size&&2*this.length>30)this.shake(this.addBackButton),this.implementAction(this.setInfoText.bind(this),"Missing input data.");else{const t=this.addValueField.value;this.addValueField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,this.size,!1,!0,!1):this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1)}}randomCallback(){this.implementAction(this.clearAll.bind(this));const t=this.length-1,e=Math.floor(Math.random()*(t-3+1))+3,i=new Set;for(let s=0;s<e;s++){const t=Math.floor(17*Math.random())+0;i.has(t)?s--:(i.add(t),this.implementAction(this.add.bind(this),t,0,!0,!1,!1,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}removeIndexCallback(){if(""!==this.removeField.value){const t=this.removeField.value;if(t>=0&&t<this.size)this.removeField.value="",this.implementAction(this.remove.bind(this),t,!1,!1,!0);else{let t="Cannot remove from an empty list.";1===this.size?t="Index must be 0 when the list contains one element.":this.size>1&&(t=`Index must be between 0 and ${this.size-1}.`),this.implementAction(this.setInfoText.bind(this),t),this.shake(this.removeIndexButton)}}else this.shake(this.removeIndexButton),this.implementAction(this.setInfoText.bind(this),"Missing input index.")}removeFrontCallback(){this.size>0?this.implementAction(this.remove.bind(this),0,!0,!1,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeFrontButton))}removeBackCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1,!1,!0,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeBackButton))}clearCallback(){this.implementAction(this.clear.bind(this))}clear(){return this.commands=[],this.clearAll(),this.commands}add(t,e,i,s,h,n){this.commands=[],this.setInfoText(""),n||(this.addFBCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFB",fr,Ir),this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",370,Ir));const a=this.nextIndex++,r=this.nextIndex++;i?(this.highlight(0,0,this.addFBCodeID),this.highlight(1,0,this.addFBCodeID)):s&&(this.highlight(4,0,this.addFBCodeID),this.highlight(5,0,this.addFBCodeID)),this.highlight(0,0,this.addIndexCodeID),this.cmd(Ka.createLabel,a,"Adding Value: ",50,25),this.cmd(Ka.createLabel,r,t,pr,25),this.cmd(Ka.step);for(let d=this.size;d>=e;d--)this.arrayData[d+1]=this.arrayData[d];if(this.arrayData[e]=t,this.arrayMoveID=new Array(this.size),this.highlight(9,0,this.addIndexCodeID),this.cmd(Ka.step),e!==this.size){(i||h&&0!==e)&&(this.highlight(10,0,this.addIndexCodeID),this.highlight(11,0,this.addIndexCodeID));for(let t=this.size-1;t>=e;t--){const e=t%mr*ur+lr,i=Math.floor(t/mr)*gr+dr;this.arrayMoveID[t]=this.nextIndex++,this.cmd(Ka.createLabel,this.arrayMoveID[t],this.arrayData[t+1],e,i),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.move,this.arrayMoveID[t],e+ur,i)}this.cmd(Ka.step);for(let t=this.size-1;t>=e;t--)this.cmd(Ka.setText,this.arrayID[t+1],this.arrayData[t+1]),this.cmd(Ka.delete,this.arrayMoveID[t]);this.cmd(Ka.step)}this.cmd(Ka.createHighlightCircle,this.highlight1ID,"#0000FF",pr,25),(i||h)&&(this.unhighlight(10,0,this.addIndexCodeID),this.unhighlight(11,0,this.addIndexCodeID)),this.highlight(12,0,this.addIndexCodeID),this.cmd(Ka.step);const o=parseInt(e)%mr*ur+lr,l=Math.floor(parseInt(e)/mr)*gr+dr;return this.cmd(Ka.move,this.highlight1ID,o,l),this.cmd(Ka.move,r,o,l),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[e],t),this.cmd(Ka.delete,r),this.cmd(Ka.delete,this.highlight1ID),this.unhighlight(12,0,this.addIndexCodeID),this.unhighlight(9,0,this.addIndexCodeID),this.highlight(13,0,this.addIndexCodeID),this.cmd(Ka.step),this.cmd(Ka.delete,a),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(13,0,this.addIndexCodeID),i&&(this.unhighlight(0,0,this.addFBCodeID),this.unhighlight(1,0,this.addFBCodeID)),s&&(this.unhighlight(4,0,this.addFBCodeID),this.unhighlight(5,0,this.addFBCodeID)),this.cmd(Ka.step),this.nextIndex=null!=e?this.nextIndex-(this.size-e)-2:this.nextIndex-2,this.size=this.size+1,n||(this.removeCode(this.addFBCodeID),this.removeCode(this.addIndexCodeID)),this.commands}remove(t,e,i,s){this.commands=[],this.setInfoText(""),this.removeFBCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFB",fr,Ir),this.removeIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeIndex",370,Ir),e?(this.highlight(0,0,this.removeFBCodeID),this.highlight(1,0,this.removeFBCodeID)):i&&(this.highlight(4,0,this.removeFBCodeID),this.highlight(5,0,this.removeFBCodeID)),this.highlight(0,0,this.removeIndexCodeID),this.cmd(Ka.step),this.highlight(1,0,this.removeIndexCodeID),t=parseInt(t);const h=this.nextIndex++,n=t%mr*ur+lr,a=Math.floor(t/mr)*gr+dr;this.cmd(Ka.createHighlightCircle,this.highlight1ID,"#0000FF",n,a),this.cmd(Ka.createLabel,h,this.arrayData[t],n,a),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.move,this.highlight1ID,n,a-55),this.cmd(Ka.move,h,n,a-55),this.cmd(Ka.step),this.unhighlight(1,0,this.removeIndexCodeID),this.highlight(2,0,this.removeIndexCodeID),this.cmd(Ka.delete,h),this.cmd(Ka.delete,this.highlight1ID),this.cmd(Ka.step);for(let r=t;r<this.size;r++)this.arrayData[r]=this.arrayData[r+1];this.arrayData[this.size]=null,this.arrayMoveID=new Array(this.size),this.unhighlight(2,0,this.removeIndexCodeID),(e||s)&&(this.highlight(3,0,this.removeIndexCodeID),this.highlight(4,0,this.removeIndexCodeID),this.highlight(5,0,this.removeIndexCodeID));for(let r=t+1;r<this.size;r++){const t=r%mr*ur+lr,e=Math.floor(r/mr)*gr+dr;this.arrayMoveID[r]=this.nextIndex++,this.cmd(Ka.createLabel,this.arrayMoveID[r],this.arrayData[r-1],t,e),this.cmd(Ka.setText,this.arrayID[r],""),this.cmd(Ka.move,this.arrayMoveID[r],t-ur,e)}this.cmd(Ka.step),this.unhighlight(3,0,this.removeIndexCodeID),this.unhighlight(4,0,this.removeIndexCodeID),this.unhighlight(5,0,this.removeIndexCodeID),this.highlight(6,0,this.removeIndexCodeID);for(let r=t+1;r<this.size;r++)this.cmd(Ka.setText,this.arrayID[r-1],this.arrayData[r-1]),this.cmd(Ka.delete,this.arrayMoveID[r]);return this.cmd(Ka.step),this.unhighlight(6,0,this.removeIndexCodeID),this.highlight(7,0,this.removeIndexCodeID),this.cmd(Ka.step),this.unhighlight(7,0,this.removeIndexCodeID),this.unhighlight(0,0,this.removeIndexCodeID),e?(this.unhighlight(0,0,this.removeFBCodeID),this.unhighlight(1,0,this.removeFBCodeID)):i&&(this.unhighlight(4,0,this.removeFBCodeID),this.unhighlight(5,0,this.removeFBCodeID)),this.nextIndex=null!=t?this.nextIndex-(this.size-t):this.nextIndex-2,this.size=this.size-1,this.removeCode(this.removeFBCodeID),this.removeCode(this.removeIndexCodeID),this.commands}resize(t,e,i,s,h){this.commands=[],this.setInfoText(""),this.addFBCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFB",fr,Ir),this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",370,Ir);const n=this.nextIndex++,a=this.nextIndex++,r=this.nextIndex++;i&&(this.highlight(0,0,this.addFBCodeID),this.highlight(1,0,this.addFBCodeID),this.highlight(0,0,this.addIndexCodeID)),s&&(this.highlight(4,0,this.addFBCodeID),this.highlight(5,0,this.addFBCodeID),this.highlight(0,0,this.addIndexCodeID)),h&&this.highlight(0,0,this.addIndexCodeID),this.cmd(Ka.step),this.cmd(Ka.createLabel,n,"Adding Value: ",50,25),this.cmd(Ka.createLabel,a,t,pr,25),this.cmd(Ka.createLabel,r,"(Resize Required)",60,55),this.highlight(1,0,this.addIndexCodeID),this.cmd(Ka.step),this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size),this.length=2*this.length;for(let d=0;d<2*this.size;d++)this.arrayIDNew[d]=this.nextIndex++,this.arrayLabelIDNew[d]=this.nextIndex++,d<e?this.arrayDataNew[d]=this.arrayData[d]:d>e&&d<=this.size&&(this.arrayDataNew[d]=this.arrayData[d-1]);this.arrayDataNew[e]=t,this.highlight1ID=this.nextIndex++,this.unhighlight(1,0,this.addIndexCodeID),this.highlight(2,0,this.addIndexCodeID);for(let d=0;d<2*this.size;d++){const t=d%mr*ur+85,e=Math.floor(d/mr)*gr+cr;this.cmd(Ka.createRectangle,this.arrayIDNew[d],"",ur,50,t,e),this.cmd(Ka.createLabel,this.arrayLabelIDNew[d],d,t,e+50),this.cmd(Ka.setForegroundColor,this.arrayLabelIDNew[d],"#0000FF")}this.cmd(Ka.step),this.arrayMoveID=new Array(this.size),this.unhighlight(2,0,this.addIndexCodeID),this.highlight(3,0,this.addIndexCodeID),this.highlight(4,0,this.addIndexCodeID);for(let d=0;d<e;d++){const t=d%mr*ur+lr,e=Math.floor(d/mr)*gr+dr,i=d%mr*ur+85,s=Math.floor(d/mr)*gr+cr;this.arrayMoveID[d]=this.nextIndex++,this.cmd(Ka.createLabel,this.arrayMoveID[d],this.arrayData[d],t,e),this.cmd(Ka.move,this.arrayMoveID[d],i,s)}this.cmd(Ka.step);for(let d=0;d<e;d++)this.cmd(Ka.delete,this.arrayMoveID[d]),this.cmd(Ka.setText,this.arrayIDNew[d],this.arrayData[d]);this.unhighlight(3,0,this.addIndexCodeID),this.unhighlight(4,0,this.addIndexCodeID),this.highlight(5,0,this.addIndexCodeID),this.cmd(Ka.createHighlightCircle,this.highlight1ID,"#0000FF",pr,25),this.cmd(Ka.step);const o=parseInt(e)%mr*ur+85,l=Math.floor(parseInt(e)/mr)*gr+cr;this.cmd(Ka.move,this.highlight1ID,o,l),this.cmd(Ka.move,a,o,l),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayIDNew[e],t),this.cmd(Ka.delete,a),this.cmd(Ka.delete,this.highlight1ID),this.cmd(Ka.step),this.unhighlight(5,0,this.addIndexCodeID),e<this.size&&(this.highlight(6,0,this.addIndexCodeID),this.highlight(7,0,this.addIndexCodeID));for(let d=e;d<this.size;d++){const t=d%mr*ur+lr,e=Math.floor(d/mr)*gr+dr,i=d%13*ur+85,s=Math.floor(d/13)*gr+cr;this.arrayMoveID[d]=this.nextIndex++,this.cmd(Ka.createLabel,this.arrayMoveID[d],this.arrayData[d],t,e),this.cmd(Ka.move,this.arrayMoveID[d],i+ur,s)}this.cmd(Ka.step);for(let d=e;d<=this.size;d++)d<this.size&&this.cmd(Ka.delete,this.arrayMoveID[d]),this.cmd(Ka.setText,this.arrayIDNew[d],this.arrayData[d-1]);this.cmd(Ka.setText,this.arrayIDNew[e],t),this.cmd(Ka.delete,n),this.cmd(Ka.delete,r),this.cmd(Ka.step);for(let d=0;d<this.size;d++)this.cmd(Ka.delete,this.arrayID[d]),this.cmd(Ka.delete,this.arrayLabelID[d]);this.unhighlight(6,0,this.addIndexCodeID),this.unhighlight(7,0,this.addIndexCodeID),this.highlight(8,0,this.addIndexCodeID);for(let d=0;d<2*this.size;d++){const t=d%mr*ur+lr,e=Math.floor(d/mr)*gr+dr;this.cmd(Ka.move,this.arrayIDNew[d],t,e),this.cmd(Ka.move,this.arrayLabelIDNew[d],t,e+50)}return this.cmd(Ka.step),this.unhighlight(8,0,this.addIndexCodeID),this.highlight(13,0,this.addIndexCodeID),this.cmd(Ka.step),this.unhighlight(13,0,this.addIndexCodeID),i&&(this.unhighlight(0,0,this.addFBCodeID),this.unhighlight(1,0,this.addFBCodeID),this.unhighlight(0,0,this.addIndexCodeID)),s&&(this.unhighlight(4,0,this.addFBCodeID),this.unhighlight(5,0,this.addFBCodeID),this.unhighlight(0,0,this.addIndexCodeID)),h&&this.unhighlight(0,0,this.addIndexCodeID),this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,null!=e&&(this.nextIndex=this.nextIndex-this.size),this.size=this.size+1,this.removeCode(this.addFBCodeID),this.removeCode(this.addIndexCodeID),this.commands}clearAll(){this.addValueField.value="",this.addIndexField.value="",this.removeField.value="",this.commands=[],this.cmd(Ka.setText,this.infoLabelID,"");for(let t=0;t<this.size;t++)this.cmd(Ka.setText,this.arrayID[t],""),this.arrayData[t]=null;this.size=0;for(let t=7;t<this.length;t++)this.cmd(Ka.delete,this.arrayID[t]),this.cmd(Ka.delete,this.arrayLabelID[t]);return this.length=7,this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],LinkedList:["Singly LinkedList",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[];const t=er(!1),e=er(!0,t),i=er(!0,t);Ga("Add",e),this.addValueField=Ja("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addValueField),Ga("at index",e),this.addIndexField=Ja("Text","",e),this.addIndexField.style.textAlign="center",this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=Ja("Button","Add to Front",i),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=Ja("Button","Add to Back",i),this.addBackButton.onclick=()=>this.addBackCallback(),this.controls.push(this.addBackButton),Ga("or",i),this.addIndexButton=Ja("Button","Add at Index",i),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),tr();const s=er(!1),h=er(!0,s),n=er(!0,s);Ga("Index",h),this.removeField=Ja("Text","",h),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,(()=>this.removeIndexCallback()),4,!0),this.controls.push(this.removeField),this.removeIndexButton=Ja("Button","Remove from Index",h),this.removeIndexButton.onclick=()=>this.removeIndexCallback(),this.controls.push(this.removeIndexButton),Ga("or",n),this.removeFrontButton=Ja("Button","Remove from Front",n),this.removeFrontButton.onclick=()=>this.removeFrontCallback(),this.controls.push(this.removeFrontButton),this.removeBackButton=Ja("Button","Remove from Back",n),this.removeBackButton.onclick=()=>this.removeBackCallback(),this.controls.push(this.removeBackButton),tr(),this.tailCheckbox=Ya("Tail pointer",!1),this.tailCheckbox.onclick=this.toggleTailPointer.bind(this),this.controls.push(this.tailCheckbox),tr();const a=er(!1);this.randomButton=Ja("Button","Random",a),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=Ja("Button","Clear",a),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}toggleTailPointer(){this.tailEnabled=!this.tailEnabled,this.implementAction(this.clearAll.bind(this)),this.tailEnabled?this.animationManager.setAllLayers([0,1,32]):this.animationManager.setAllLayers([0,32])}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){if(this.implementAction(this.clearAll.bind(this)),t.has("tail")){"1"===t.get("tail")&&(this.toggleTailPointer(),this.tailCheckbox.checked=!0)}if(t.has("data")){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),t.substring(0,4),this.size,!1,!1,!0,!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}}setup(){this.linkedListElemID=new Array(32),this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.leftoverLabelID,"",50,30),this.cmd(Ka.createLabel,this.topLabelID,"Head",130,100),this.cmd(Ka.createRectangle,this.topID,"",30,30,180,100),this.cmd(Ka.setNull,this.topID,1),this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.tailLabelID,"Tail",130,500),this.cmd(Ka.createRectangle,this.tailID,"",30,30,180,500),this.cmd(Ka.setNull,this.tailID,1),this.cmd(Ka.setLayer,this.tailLabelID,1),this.cmd(Ka.setLayer,this.tailID,1),this.tailEnabled?this.animationManager.setAllLayers([0,1,32]):this.animationManager.setAllLayers([0,32]),this.pseudocode=or.k5,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.size=0,this.nextIndex=this.initialIndex,this.tailEnabled?this.animationManager.setAllLayers([0,1]):this.animationManager.setAllLayers([0])}setInfoText(t){return this.commands=[],this.cmd(Ka.setText,this.infoLabelID,t),this.commands}addIndexCallback(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){const t=parseInt(this.addValueField.value),e=parseInt(this.addIndexField.value);e>=0&&e<=this.size?(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,e,!1,!1,!0,!1)):(this.implementAction(this.setInfoText.bind(this),0===this.size?"Index must be 0 when the list is empty.":`Index must be between 0 and ${this.size}.`),this.shake(this.addIndexButton))}else this.implementAction(this.setInfoText.bind(this),"Missing input data or index."),this.shake(this.addIndexButton)}addFrontCallback(){if(""!==this.addValueField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0,!0,!1,!1,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addFrontButton)}addBackCallback(){if(""!==this.addValueField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addBackButton)}removeIndexCallback(){if(""!==this.removeField.value){const t=parseInt(this.removeField.value);if(t>=0&&t<this.size)this.removeField.value="",this.implementAction(this.remove.bind(this),t,!1,!1,!0);else{let t="Cannot remove from an empty list.";1===this.size?t="Index must be 0 when the list contains one element.":this.size>1&&(t=`Index must be between 0 and ${this.size-1}.`),this.implementAction(this.setInfoText.bind(this),t),this.shake(this.removeIndexButton)}}else this.implementAction(this.setInfoText.bind(this),"Missing input index."),this.shake(this.removeIndexButton)}removeFrontCallback(){this.size>0?this.implementAction(this.remove.bind(this),0,!0,!1,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeFrontButton))}removeBackCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1,!1,!0,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeBackButton))}randomCallback(){const t=Math.floor(5*Math.random())+4,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.add.bind(this),t,0,!1,!0,!1,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}traverse(t,e,i,s){this.unhighlight(4,0,this.addBackCodeID),this.unhighlight(6,0,this.addIndexCodeID),this.unhighlight(4,0,this.removeBackCodeID),this.unhighlight(6,0,this.removeIndexCodeID);for(let h=t;h<=e;h++)this.unhighlight(6,0,this.addBackCodeID),this.unhighlight(8,0,this.addIndexCodeID),this.unhighlight(6,0,this.removeBackCodeID),this.unhighlight(8,0,this.removeIndexCodeID),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.linkedListElemID[h],1),h>0&&this.cmd(Ka.setHighlight,this.linkedListElemID[h-1],0),i?s?this.highlight(6,0,this.removeBackCodeID):this.highlight(6,0,this.addBackCodeID):s?this.highlight(8,0,this.removeIndexCodeID):this.highlight(8,0,this.addIndexCodeID),this.cmd(Ka.step);this.cmd(Ka.step)}add(t,e,i,s,h,n){this.commands=[],this.setInfoText(""),n||(this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",Nl,Hl),this.addFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFront",505,Hl),this.addBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addBack",775,Hl)),i?this.highlight(0,0,this.addFrontCodeID):s?this.highlight(0,0,this.addBackCodeID):h&&this.highlight(0,0,this.addIndexCodeID);const a=i||h&&0===e,r=s||h&&e===this.size&&!a,o=!a&&!r;h&&(a?(this.cmd(Ka.step),this.highlight(1,0,this.addIndexCodeID),this.highlight(2,0,this.addIndexCodeID),this.highlight(0,0,this.addFrontCodeID)):r&&(this.cmd(Ka.step),this.highlight(3,0,this.addIndexCodeID),this.highlight(4,0,this.addIndexCodeID),this.highlight(0,0,this.addBackCodeID))),this.cmd(Ka.step);const l=this.nextIndex++,d=this.nextIndex++;a?this.highlight(1,0,this.addFrontCodeID):r?this.highlight(1,0,this.addBackCodeID):this.highlight(5,0,this.addIndexCodeID),this.cmd(Ka.step),r&&this.size>0?(this.unhighlight(1,0,this.addBackCodeID),this.highlight(3,0,this.addBackCodeID),this.cmd(Ka.step),this.highlight(4,0,this.addBackCodeID),this.cmd(Ka.step),this.unhighlight(4,0,this.addBackCodeID),this.highlight(5,0,this.addBackCodeID)):o&&(this.highlight(6,0,this.addIndexCodeID),this.cmd(Ka.step),this.highlight(7,0,this.addIndexCodeID));for(let c=this.size-1;c>=e;c--)this.arrayData[c+1]=this.arrayData[c],this.linkedListElemID[c+1]=this.linkedListElemID[c];return this.arrayData[e]=t,this.linkedListElemID[e]=this.nextIndex++,this.cmd(Ka.setText,this.leftoverLabelID,""),this.tailEnabled&&e===this.size?this.traverse(this.size-1,this.size,r,!1):this.traverse(0,e-1,r,!1),this.cmd(Ka.createLinkedListNode,this.linkedListElemID[e],"",70,30,200,50,.25,0,1),this.cmd(Ka.createLabel,l,"Adding Value: ",50,30),this.cmd(Ka.createLabel,d,t,120,30),a?0===this.size?this.highlight(2,0,this.addFrontCodeID):(this.unhighlight(1,0,this.addFrontCodeID),this.highlight(3,0,this.addFrontCodeID),this.cmd(Ka.step),this.highlight(4,0,this.addFrontCodeID),this.highlight(5,0,this.addFrontCodeID),this.highlight(6,0,this.addFrontCodeID)):r?0===this.size&&this.highlight(2,0,this.addBackCodeID):(this.unhighlight(7,0,this.addIndexCodeID),this.unhighlight(8,0,this.addIndexCodeID),this.highlight(10,0,this.addIndexCodeID),this.highlight(11,0,this.addIndexCodeID),this.highlight(12,0,this.addIndexCodeID)),this.cmd(Ka.step),this.cmd(Ka.move,d,200,50),this.cmd(Ka.step),this.cmd(Ka.setText,this.linkedListElemID[e],t),this.cmd(Ka.delete,d),e===this.size&&(this.cmd(Ka.setNull,this.linkedListElemID[e],1),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[e-1]),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[e])),0!==this.size?0===e?(this.cmd(Ka.disconnect,this.topID,this.linkedListElemID[e+1]),this.cmd(Ka.connect,this.topID,this.linkedListElemID[e]),this.cmd(Ka.connect,this.linkedListElemID[e],this.linkedListElemID[e+1])):e===this.size?(this.cmd(Ka.setNull,this.linkedListElemID[e-1],0),this.cmd(Ka.connect,this.linkedListElemID[e-1],this.linkedListElemID[e]),r&&(this.unhighlight(5,0,this.addBackCodeID),this.unhighlight(6,0,this.addBackCodeID),this.highlight(7,0,this.addBackCodeID))):(this.cmd(Ka.disconnect,this.linkedListElemID[e-1],this.linkedListElemID[e+1]),this.cmd(Ka.connect,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Ka.connect,this.linkedListElemID[e],this.linkedListElemID[e+1])):(this.cmd(Ka.connect,this.topID,this.linkedListElemID[0]),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[0])),this.cmd(Ka.setHighlight,this.linkedListElemID[e-1],0),this.cmd(Ka.step),a?(this.unhighlight(1,0,this.addFrontCodeID),this.unhighlight(2,0,this.addFrontCodeID),this.unhighlight(3,0,this.addFrontCodeID),this.unhighlight(4,0,this.addFrontCodeID),this.unhighlight(5,0,this.addFrontCodeID),this.unhighlight(6,0,this.addFrontCodeID),this.highlight(8,0,this.addFrontCodeID)):r?(this.unhighlight(1,0,this.addBackCodeID),this.unhighlight(2,0,this.addBackCodeID),this.unhighlight(3,0,this.addBackCodeID),this.unhighlight(7,0,this.addBackCodeID),this.highlight(9,0,this.addBackCodeID)):(this.unhighlight(8,0,this.addIndexCodeID),this.unhighlight(10,0,this.addIndexCodeID),this.unhighlight(11,0,this.addIndexCodeID),this.unhighlight(12,0,this.addIndexCodeID),this.highlight(13,0,this.addIndexCodeID)),this.size=this.size+1,this.resetNodePositions(),this.cmd(Ka.delete,l),this.cmd(Ka.step),n||(this.removeCode(this.addFrontCodeID),this.removeCode(this.addBackCodeID),this.removeCode(this.addIndexCodeID)),this.commands}remove(t,e,i,s){this.commands=[],this.setInfoText(""),this.removeIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeIndex",Nl,Hl),this.removeFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFront",460,Hl),this.removeBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeBack",755,Hl),e?this.highlight(0,0,this.removeFrontCodeID):i?this.highlight(0,0,this.removeBackCodeID):s&&this.highlight(0,0,this.removeIndexCodeID);const h=e||s&&0===t,n=i||s&&t===this.size-1&&!h,a=!h&&!n;s&&(h?(this.cmd(Ka.step),this.highlight(1,0,this.removeIndexCodeID),this.highlight(2,0,this.removeIndexCodeID),this.highlight(0,0,this.removeFrontCodeID)):n&&(this.cmd(Ka.step),this.highlight(3,0,this.removeIndexCodeID),this.highlight(4,0,this.removeIndexCodeID),this.highlight(0,0,this.removeBackCodeID))),this.cmd(Ka.step),t=parseInt(t);const r=this.nextIndex++,o=this.nextIndex++;this.cmd(Ka.setText,this.leftoverLabelID,""),h?this.highlight(1,0,this.removeFrontCodeID):n?this.highlight(1,0,this.removeBackCodeID):this.highlight(5,0,this.removeIndexCodeID),this.cmd(Ka.step),n&&this.size>0?(this.unhighlight(1,0,this.removeBackCodeID),this.highlight(3,0,this.removeBackCodeID),this.cmd(Ka.step),this.highlight(4,0,this.removeBackCodeID),this.cmd(Ka.step),this.unhighlight(4,0,this.removeBackCodeID),this.highlight(5,0,this.removeBackCodeID)):a&&(this.highlight(6,0,this.removeIndexCodeID),this.cmd(Ka.step),this.highlight(7,0,this.removeIndexCodeID)),this.traverse(0,t-1,n,!0),a?(this.unhighlight(7,0,this.removeIndexCodeID),this.unhighlight(8,0,this.removeIndexCodeID),this.highlight(10,0,this.removeIndexCodeID)):n&&(this.unhighlight(5,0,this.removeBackCodeID),this.unhighlight(6,0,this.removeBackCodeID),this.highlight(8,0,this.removeBackCodeID));const l=100+100*t;if(this.cmd(Ka.createLabel,r,"Removing Value: ",50,30),this.cmd(Ka.createLabel,o,this.arrayData[t],l,200),this.cmd(Ka.move,o,120,30),this.cmd(Ka.setTextColor,this.linkedListElemID[t],"#FF0000"),this.cmd(Ka.step),h&&this.unhighlight(1,0,this.removeFrontCodeID),1!==this.size)if(0===t)this.highlight(2,0,this.removeFrontCodeID),this.cmd(Ka.disconnect,this.topID,this.linkedListElemID[t]),this.cmd(Ka.connect,this.topID,this.linkedListElemID[t+1]),this.cmd(Ka.step),this.cmd(Ka.disconnect,this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd(Ka.setNull,this.linkedListElemID[0],1);else if(t===this.size-1)this.unhighlight(8,0,this.removeBackCodeID),this.highlight(9,0,this.removeBackCodeID),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[t]),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[t-1]),this.cmd(Ka.step),this.cmd(Ka.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Ka.setNull,this.linkedListElemID[t-1],1),this.cmd(Ka.step);else{this.unhighlight(10,0,this.removeIndexCodeID),this.highlight(11,0,this.removeIndexCodeID);const e=t%8*100+100,i=140;this.cmd(Ka.move,this.linkedListElemID[t],e,i),this.cmd(Ka.step),this.cmd(Ka.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Ka.connect,this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd(Ka.step),this.cmd(Ka.disconnect,this.linkedListElemID[t],this.linkedListElemID[t+1])}this.unhighlight(2,0,this.removeFrontCodeID),this.unhighlight(9,0,this.removeBackCodeID),this.unhighlight(11,0,this.removeIndexCodeID),a?this.highlight(12,0,this.removeIndexCodeID):n?this.highlight(10,0,this.removeBackCodeID):this.highlight(3,0,this.removeFrontCodeID),this.cmd(Ka.step),this.cmd(Ka.delete,this.linkedListElemID[t]),this.cmd(Ka.setHighlight,this.linkedListElemID[t-1],0);for(let d=t;d<this.size;d++)this.arrayData[d]=this.arrayData[d+1],this.linkedListElemID[d]=this.linkedListElemID[d+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(Ka.delete,o),this.cmd(Ka.delete,r),this.cmd(Ka.step),this.unhighlight(3,0,this.removeFrontCodeID),this.unhighlight(10,0,this.removeBackCodeID),this.unhighlight(12,0,this.removeIndexCodeID),a?this.highlight(13,0,this.removeIndexCodeID):n?this.highlight(11,0,this.removeBackCodeID):this.highlight(4,0,this.removeFrontCodeID),this.cmd(Ka.step),this.removeCode(this.removeFrontCodeID),this.removeCode(this.removeBackCodeID),this.removeCode(this.removeIndexCodeID),this.commands}resetNodePositions(){for(let t=0;t<this.size;t++){const e=t%8*100+100,i=100*Math.floor(t/8)+200;this.cmd(Ka.move,this.linkedListElemID[t],e,i)}}clearAll(){this.addValueField.value="",this.addIndexField.value="",this.removeField.value="",this.commands=[],this.cmd(Ka.setText,this.infoLabelID,"");for(let t=0;t<this.size;t++)this.cmd(Ka.delete,this.linkedListElemID[t]);return this.size=0,this.commands}},!0],DoublyLinkedList:["Doubly LinkedList",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[];const t=er(!1),e=er(!0,t),i=er(!0,t);Ga("Add",e),this.addValueField=Ja("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addValueField),Ga("at index",e),this.addIndexField=Ja("Text","",e),this.addIndexField.style.textAlign="center",this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=Ja("Button","Add to Front",i),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=Ja("Button","Add to Back",i),this.addBackButton.onclick=()=>this.addBackCallback(),this.controls.push(this.addBackButton),Ga("or",i),this.addIndexButton=Ja("Button","Add at Index",i),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),tr();const s=er(!1),h=er(!0,s),n=er(!0,s);Ga("Index",h),this.removeField=Ja("Text","",h),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,(()=>this.removeIndexCallback()),4,!0),this.controls.push(this.removeField),this.removeIndexButton=Ja("Button","Remove from Index",h),this.removeIndexButton.onclick=()=>this.removeIndexCallback(),this.controls.push(this.removeIndexButton),Ga("or",n),this.removeFrontButton=Ja("Button","Remove from Front",n),this.removeFrontButton.onclick=()=>this.removeFrontCallback(),this.controls.push(this.removeFrontButton),this.removeBackButton=Ja("Button","Remove from Back",n),this.removeBackButton.onclick=()=>this.removeBackCallback(),this.controls.push(this.removeBackButton),tr();const a=er(!1);this.randomButton=Ja("Button","Random",a),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=Ja("Button","Clear",a),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),t.substring(0,4),this.size,!1,!1,!0,!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(32),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.headLabelID,"Head",220,60),this.cmd(Ka.createRectangle,this.headID,"",30,30,170,60),this.cmd(Ka.createLabel,this.tailLabelID,"Tail",125,195),this.cmd(Ka.createRectangle,this.tailID,"",30,30,170,195),this.cmd(Ka.setNull,this.headID,1),this.cmd(Ka.setNull,this.tailID,1),this.cmd(Ka.createLabel,this.leftoverLabelID,"",65,25),this.pseudocode=or.Ry,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.size=0,this.nextIndex=this.resetIndex}setInfoText(t){return this.commands=[],this.cmd(Ka.setText,this.infoLabelID,t),this.commands}addIndexCallback(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){const t=parseInt(this.addValueField.value),e=parseInt(this.addIndexField.value);e>=0&&e<=this.size?(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,e,!1,!1,!0)):(this.implementAction(this.setInfoText.bind(this),0===this.size?"Index must be 0 when the list is empty.":`Index must be between 0 and ${this.size}.`),this.shake(this.addIndexButton))}else this.implementAction(this.setInfoText.bind(this),"Missing input data or index."),this.shake(this.addIndexButton)}addFrontCallback(){if(""!==this.addValueField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0,!0,!1,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addFrontButton)}addBackCallback(){if(""!==this.addValueField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addBackButton)}removeIndexCallback(){if(""!==this.removeField.value){const t=this.removeField.value;if(t>=0&&t<this.size)this.removeField.value="",this.implementAction(this.remove.bind(this),t,!1,!1,!0);else{let t="Cannot remove from an empty list.";1===this.size?t="Index must be 0 when the list contains one element.":this.size>1&&(t=`Index must be between 0 and ${this.size-1}.`),this.implementAction(this.setInfoText.bind(this),t),this.shake(this.removeIndexButton)}}else this.implementAction(this.setInfoText.bind(this),"Missing input index."),this.shake(this.removeIndexButton)}removeFrontCallback(){this.size>0?this.implementAction(this.remove.bind(this),0,!0,!1,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeFrontButton))}removeBackCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1,!1,!0,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeBackButton))}randomCallback(){const t=Math.floor(4*Math.random())+3,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.add.bind(this),t,0,!1,!0,!1,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}removeTraverse(t){if(t<this.size/2){for(let e=0;e<=t;e++)this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.linkedListElemID[e],1),e>0&&this.cmd(Ka.setHighlight,this.linkedListElemID[e-1],0);this.cmd(Ka.step)}else{for(let e=this.size-1;e>=t;e--)this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.linkedListElemID[e],1),e<this.size&&this.cmd(Ka.setHighlight,this.linkedListElemID[e+1],0);this.cmd(Ka.step)}}addTraverse(t){if(t+1<this.size/2){for(let e=0;e<=t;e++)this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.linkedListElemID[e],1),e>0&&this.cmd(Ka.setHighlight,this.linkedListElemID[e-1],0);this.cmd(Ka.step)}else{for(let e=this.size-1;e>=t;e--)this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.linkedListElemID[e],1),e<this.size&&this.cmd(Ka.setHighlight,this.linkedListElemID[e+1],0);this.cmd(Ka.step)}}add(t,e,i,s,h,n){this.commands=[],this.setInfoText(""),n||(this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",ol,ll),this.addFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFront",460,ll),this.addBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addBack",755,ll)),i?this.highlight(0,0,this.addFrontCodeID):s?this.highlight(0,0,this.addBackCodeID):h&&this.highlight(0,0,this.addIndexCodeID),h&&0===e?(this.highlight(1,0,this.addIndexCodeID),this.highlight(2,0,this.addIndexCodeID),this.highlight(0,0,this.addFrontCodeID)):h&&e===this.size&&(this.highlight(3,0,this.addIndexCodeID),this.highlight(4,0,this.addIndexCodeID),this.highlight(0,0,this.addBackCodeID)),this.cmd(Ka.step);const a=this.nextIndex++,r=this.nextIndex++,o=e-1;e>0&&e<this.size&&(this.highlight(5,0,this.addIndexCodeID),h&&e<this.size/2?(this.highlight(6,0,this.addIndexCodeID),this.highlight(7,0,this.addIndexCodeID),this.highlight(8,0,this.addIndexCodeID),this.highlight(9,0,this.addIndexCodeID)):(this.highlight(10,0,this.addIndexCodeID),this.highlight(11,0,this.addIndexCodeID),this.highlight(12,0,this.addIndexCodeID),this.highlight(13,0,this.addIndexCodeID)),this.addTraverse(o));for(let l=this.size-1;l>=e;l--)this.arrayData[l+1]=this.arrayData[l],this.linkedListElemID[l+1]=this.linkedListElemID[l];return this.arrayData[e]=t,this.linkedListElemID[e]=this.nextIndex++,this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.step),(i||h&&0===e)&&0===this.size?this.highlight(1,0,this.addFrontCodeID):i||h&&0===e?this.highlight(4,0,this.addFrontCodeID):h&&0===e?this.unhighlight(1,0,this.addIndexCodeID):h&&e<this.size/2?(this.unhighlight(6,0,this.addIndexCodeID),this.unhighlight(7,0,this.addIndexCodeID),this.unhighlight(8,0,this.addIndexCodeID),this.unhighlight(9,0,this.addIndexCodeID)):(s||h&&e===this.size)&&0===this.size?this.highlight(1,0,this.addBackCodeID):s||h&&e===this.size?this.highlight(4,0,this.addBackCodeID):h&&(this.unhighlight(10,0,this.addIndexCodeID),this.unhighlight(11,0,this.addIndexCodeID),this.unhighlight(12,0,this.addIndexCodeID),this.unhighlight(13,0,this.addIndexCodeID)),this.cmd(Ka.step),this.cmd(Ka.createDoublyLinkedListNode,this.linkedListElemID[e],"",70,30,330,60),(i||h&&0===e)&&0===this.size?(this.highlight(2,0,this.addFrontCodeID),this.highlight(3,0,this.addFrontCodeID)):i||h&&0===e?this.highlight(5,0,this.addFrontCodeID):(s||h&&e===this.size)&&0===this.size?(this.highlight(2,0,this.addBackCodeID),this.highlight(3,0,this.addBackCodeID)):s||h&&e===this.size?this.highlight(5,0,this.addBackCodeID):h&&this.highlight(14,0,this.addIndexCodeID),this.cmd(Ka.createLabel,a,"Adding Value: ",65,25),this.cmd(Ka.createLabel,r,t,125,25),this.cmd(Ka.step),this.cmd(Ka.move,r,330,60),this.cmd(Ka.setText,this.linkedListElemID[e],t),this.cmd(Ka.delete,r),this.cmd(Ka.step),0===e&&(this.cmd(Ka.setPrevNull,this.linkedListElemID[e],1),this.cmd(Ka.connect,this.headID,this.linkedListElemID[e])),e===this.size&&(this.cmd(Ka.setNextNull,this.linkedListElemID[e],1),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[e])),0!==this.size&&(0===e?((i||h&&0===e)&&(this.unhighlight(5,0,this.addFrontCodeID),this.highlight(6,0,this.addFrontCodeID),this.highlight(7,0,this.addFrontCodeID),this.highlight(8,0,this.addFrontCodeID)),this.cmd(Ka.setPrevNull,this.linkedListElemID[e+1],0),this.cmd(Ka.connectNext,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.cmd(Ka.connectPrev,this.linkedListElemID[e+1],this.linkedListElemID[e]),this.cmd(Ka.disconnect,this.headID,this.linkedListElemID[e+1])):e===this.size?((s||h&&e===this.size)&&(this.unhighlight(5,0,this.addBackCodeID),this.highlight(6,0,this.addBackCodeID),this.highlight(7,0,this.addBackCodeID),this.highlight(8,0,this.addBackCodeID)),this.cmd(Ka.setNextNull,this.linkedListElemID[e-1],0),this.cmd(Ka.connectNext,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Ka.connectPrev,this.linkedListElemID[e],this.linkedListElemID[e-1]),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[e-1])):(h&&(this.unhighlight(14,0,this.addIndexCodeID),this.highlight(15,0,this.addIndexCodeID),this.highlight(16,0,this.addIndexCodeID),this.highlight(17,0,this.addIndexCodeID),this.highlight(18,0,this.addIndexCodeID)),this.cmd(Ka.disconnect,this.linkedListElemID[e-1],this.linkedListElemID[e+1]),this.cmd(Ka.disconnect,this.linkedListElemID[e+1],this.linkedListElemID[e-1]),this.cmd(Ka.connectNext,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Ka.connectPrev,this.linkedListElemID[e],this.linkedListElemID[e-1]),this.cmd(Ka.connectNext,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.cmd(Ka.connectPrev,this.linkedListElemID[e+1],this.linkedListElemID[e]))),this.cmd(Ka.setHighlight,this.linkedListElemID[(this.size,o)],0),this.size=this.size+1,this.resetNodePositions(),this.cmd(Ka.delete,a),this.cmd(Ka.step),i||h&&0===e?(this.unhighlight(1,0,this.addFrontCodeID),this.unhighlight(2,0,this.addFrontCodeID),this.unhighlight(3,0,this.addFrontCodeID),this.unhighlight(4,0,this.addFrontCodeID),this.unhighlight(5,0,this.addFrontCodeID),this.unhighlight(6,0,this.addFrontCodeID),this.unhighlight(7,0,this.addFrontCodeID),this.unhighlight(8,0,this.addFrontCodeID),this.highlight(9,0,this.addFrontCodeID)):s||h&&e===this.size-1?(this.unhighlight(1,0,this.addBackCodeID),this.unhighlight(2,0,this.addBackCodeID),this.unhighlight(3,0,this.addBackCodeID),this.unhighlight(4,0,this.addBackCodeID),this.unhighlight(5,0,this.addBackCodeID),this.unhighlight(6,0,this.addBackCodeID),this.unhighlight(7,0,this.addBackCodeID),this.unhighlight(8,0,this.addBackCodeID),this.highlight(9,0,this.addBackCodeID)):h&&(this.unhighlight(15,0,this.addIndexCodeID),this.unhighlight(16,0,this.addIndexCodeID),this.unhighlight(17,0,this.addIndexCodeID),this.unhighlight(18,0,this.addIndexCodeID),this.highlight(19,0,this.addIndexCodeID)),this.cmd(Ka.step),i||h&&0===e?(this.unhighlight(0,0,this.addFrontCodeID),this.unhighlight(9,0,this.addFrontCodeID),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(1,0,this.addIndexCodeID),this.unhighlight(2,0,this.addIndexCodeID)):s||h&&e===this.size-1?(this.unhighlight(0,0,this.addBackCodeID),this.unhighlight(9,0,this.addBackCodeID),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(3,0,this.addIndexCodeID),this.unhighlight(4,0,this.addIndexCodeID)):h&&(this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(5,0,this.addIndexCodeID),this.unhighlight(19,0,this.addIndexCodeID)),n||(this.removeCode(this.addFrontCodeID),this.removeCode(this.addBackCodeID),this.removeCode(this.addIndexCodeID)),this.commands}remove(t,e,i,s){this.commands=[],this.setInfoText(""),this.removeIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeIndex",ol,ll),this.removeFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFront",460,ll),this.removeBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeBack",755,ll),t=parseInt(t),e?this.highlight(0,0,this.removeFrontCodeID):i?this.highlight(0,0,this.removeBackCodeID):s&&this.highlight(0,0,this.removeIndexCodeID),s&&0===t?(this.highlight(1,0,this.removeIndexCodeID),this.highlight(2,0,this.removeIndexCodeID),this.highlight(0,0,this.removeFrontCodeID)):s&&t===this.size-1&&(this.highlight(3,0,this.removeIndexCodeID),this.highlight(4,0,this.removeIndexCodeID),this.highlight(0,0,this.removeBackCodeID));const h=this.nextIndex++,n=this.nextIndex++;this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.step),t>0&&t<this.size-1&&(s&&(this.highlight(5,0,this.removeIndexCodeID),t<this.size/2?(this.highlight(6,0,this.removeIndexCodeID),this.highlight(7,0,this.removeIndexCodeID),this.highlight(8,0,this.removeIndexCodeID),this.highlight(9,0,this.removeIndexCodeID)):(this.highlight(10,0,this.removeIndexCodeID),this.highlight(11,0,this.removeIndexCodeID),this.highlight(12,0,this.removeIndexCodeID),this.highlight(13,0,this.removeIndexCodeID))),this.removeTraverse(t));const a=170+125*t;if(e||s&&0===t?this.highlight(1,0,this.removeFrontCodeID):i||s&&t===this.size-1?this.highlight(1,0,this.removeBackCodeID):s&&(this.unhighlight(6,0,this.removeIndexCodeID),this.unhighlight(7,0,this.removeIndexCodeID),this.unhighlight(8,0,this.removeIndexCodeID),this.unhighlight(9,0,this.removeIndexCodeID),this.unhighlight(10,0,this.removeIndexCodeID),this.unhighlight(11,0,this.removeIndexCodeID),this.unhighlight(12,0,this.removeIndexCodeID),this.unhighlight(13,0,this.removeIndexCodeID),this.highlight(14,0,this.removeIndexCodeID)),this.cmd(Ka.createLabel,h,"Removing Value: ",65,25),this.cmd(Ka.createLabel,n,this.arrayData[t],a,130),this.cmd(Ka.move,n,129,25),this.cmd(Ka.step),1!==this.size)if(0===t)(e||s&&0===t)&&(this.unhighlight(1,0,this.removeFrontCodeID),this.highlight(2,0,this.removeFrontCodeID)),this.cmd(Ka.connect,this.headID,this.linkedListElemID[t+1]),this.cmd(Ka.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(Ka.step),(e||s&&0===t)&&(this.unhighlight(2,0,this.removeFrontCodeID),this.highlight(5,0,this.removeFrontCodeID),this.highlight(6,0,this.removeFrontCodeID)),this.cmd(Ka.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(Ka.setPrevNull,this.linkedListElemID[t+1],1);else if(t===this.size-1)(i||s&&t===this.size-1)&&(this.unhighlight(1,0,this.removeBackCodeID),this.highlight(2,0,this.removeBackCodeID)),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[t-1]),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[t]),this.cmd(Ka.step),(i||s&&t===this.size-1)&&(this.unhighlight(2,0,this.removeBackCodeID),this.highlight(5,0,this.removeBackCodeID),this.highlight(6,0,this.removeBackCodeID)),this.cmd(Ka.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Ka.setNextNull,this.linkedListElemID[t-1],1);else{const e=t%12*125+170,i=82;this.cmd(Ka.move,this.linkedListElemID[t],e,i),s&&(this.unhighlight(14,0,this.removeIndexCodeID),this.highlight(15,0,this.removeIndexCodeID),this.highlight(16,0,this.removeIndexCodeID)),this.cmd(Ka.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Ka.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(Ka.connectNext,this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd(Ka.connectPrev,this.linkedListElemID[t+1],this.linkedListElemID[t-1])}else e||s&&0===t?(this.unhighlight(1,0,this.removeFrontCodeID),this.highlight(2,0,this.removeFrontCodeID)):(i||s&&t===this.size-1)&&(this.unhighlight(1,0,this.removeBackCodeID),this.highlight(2,0,this.removeBackCodeID),this.highlight(3,0,this.removeBackCodeID),this.highlight(4,0,this.removeBackCodeID)),this.cmd(Ka.disconnect,this.headID,this.linkedListElemID[t]),(e||s&&0===t)&&this.cmd(Ka.step),(e||s&&0===t)&&(this.unhighlight(2,0,this.removeFrontCodeID),this.highlight(3,0,this.removeFrontCodeID),this.highlight(4,0,this.removeFrontCodeID)),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[t]);this.cmd(Ka.step),this.cmd(Ka.delete,this.linkedListElemID[t]);for(let r=t;r<this.size;r++)this.arrayData[r]=this.arrayData[r+1],this.linkedListElemID[r]=this.linkedListElemID[r+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(Ka.step),e||s&&0===t?(this.unhighlight(3,0,this.removeFrontCodeID),this.unhighlight(4,0,this.removeFrontCodeID),this.unhighlight(5,0,this.removeFrontCodeID),this.unhighlight(6,0,this.removeFrontCodeID),this.highlight(7,0,this.removeFrontCodeID)):i||s&&t===this.size?(this.unhighlight(2,0,this.removeBackCodeID),this.unhighlight(3,0,this.removeBackCodeID),this.unhighlight(4,0,this.removeBackCodeID),this.unhighlight(5,0,this.removeBackCodeID),this.unhighlight(6,0,this.removeBackCodeID),this.highlight(7,0,this.removeBackCodeID)):s&&(this.unhighlight(15,0,this.removeIndexCodeID),this.unhighlight(16,0,this.removeIndexCodeID),this.highlight(17,0,this.removeIndexCodeID)),this.cmd(Ka.delete,n),this.cmd(Ka.delete,h),this.cmd(Ka.step),e||s&&0===t?(this.unhighlight(0,0,this.removeIndexCodeID),this.unhighlight(1,0,this.removeIndexCodeID),this.unhighlight(2,0,this.removeIndexCodeID),this.unhighlight(0,0,this.removeFrontCodeID),this.unhighlight(7,0,this.removeFrontCodeID)):i||s&&t===this.size?(this.unhighlight(0,0,this.removeBackCodeID),this.unhighlight(7,0,this.removeBackCodeID),this.unhighlight(0,0,this.removeIndexCodeID),this.unhighlight(3,0,this.removeIndexCodeID),this.unhighlight(4,0,this.removeIndexCodeID)):s&&(this.unhighlight(0,0,this.removeIndexCodeID),this.unhighlight(5,0,this.removeIndexCodeID),this.unhighlight(17,0,this.removeIndexCodeID)),this.removeCode(this.removeFrontCodeID),this.removeCode(this.removeBackCodeID),this.removeCode(this.removeIndexCodeID),this.commands}resetNodePositions(){for(let t=0;t<this.size;t++){const e=t%12*125+170,i=100*Math.floor(t/12)+130;this.cmd(Ka.move,this.linkedListElemID[t],e,i)}}clearAll(){this.addValueField.value="",this.addIndexField.value="",this.removeField.value="",this.commands=[],this.cmd(Ka.setText,this.infoLabelID,"");for(let t=0;t<this.size;t++)this.cmd(Ka.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(Ka.setNull,this.headID,1),this.cmd(Ka.setNull,this.tailID,1),this.commands}},!0],CircularlyLinkedList:["Circularly LinkedList",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[];const t=er(!1),e=er(!0,t),i=er(!0,t);Ga("Add",e),this.addValueField=Ja("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addValueField),Ga("at index",e),this.addIndexField=Ja("Text","",e),this.addIndexField.style.textAlign="center",this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=Ja("Button","Add to Front",i),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=Ja("Button","Add to Back",i),this.addBackButton.onclick=()=>this.addBackCallback(),this.controls.push(this.addBackButton),Ga("or",i),this.addIndexButton=Ja("Button","Add at Index",i),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),tr();const s=er(!1),h=er(!0,s),n=er(!0,s);Ga("Index",h),this.removeField=Ja("Text","",h),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,(()=>this.removeIndexCallback()),4,!0),this.controls.push(this.removeField),this.removeIndexButton=Ja("Button","Remove from Index",h),this.removeIndexButton.onclick=()=>this.removeIndexCallback(),this.controls.push(this.removeIndexButton),Ga("or",n),this.removeFrontButton=Ja("Button","Remove from Front",n),this.removeFrontButton.onclick=()=>this.removeFrontCallback(),this.controls.push(this.removeFrontButton),this.removeBackButton=Ja("Button","Remove from Back",n),this.removeBackButton.onclick=()=>this.removeBackCallback(),this.controls.push(this.removeBackButton),tr();const a=er(!1);this.randomButton=Ja("Button","Random",a),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=Ja("Button","Clear",a),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),t.substring(0,4),this.size,!1,!1,!0,!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(15),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.headLabelID,"Head",50,165),this.cmd(Ka.createRectangle,this.headID,"",30,30,50,195),this.cmd(Ka.setNull,this.headID,1),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.arrayData=new Array(15),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.leftoverLabelID,"",75,30),this.pseudocode=or.Kf,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.size=0,this.nextIndex=this.resetIndex}setInfoText(t){return this.commands=[],this.cmd(Ka.setText,this.infoLabelID,t),this.commands}addIndexCallback(){if(""!==this.addValueField.value&&""!==this.addIndexField.value&&this.size<15){const t=parseInt(this.addValueField.value),e=parseInt(this.addIndexField.value);e>=0&&e<=this.size?(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,e,!1,!1,!0)):(this.implementAction(this.setInfoText.bind(this),0===this.size?"Index must be 0 when the list is empty.":`Index must be between 0 and ${this.size}.`),this.shake(this.addIndexButton))}else this.implementAction(this.setInfoText.bind(this),"Missing input data or index."),this.shake(this.addIndexButton)}addFrontCallback(){if(""!==this.addValueField.value&&this.size<15){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0,!0,!1,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addFrontButton)}addBackCallback(){if(""!==this.addValueField.value&&this.size<15){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addBackButton)}removeIndexCallback(){if(""!==this.removeField.value){const t=this.removeField.value;if(t>=0&&t<this.size)this.removeField.value="",this.implementAction(this.remove.bind(this),t,!1,!1,!0);else{let t="Cannot remove from an empty list.";1===this.size?t="Index must be 0 when the list contains one element.":this.size>1&&(t=`Index must be between 0 and ${this.size-1}.`),this.implementAction(this.setInfoText.bind(this),t),this.shake(this.removeIndexButton)}}else this.implementAction(this.setInfoText.bind(this),"Missing input index."),this.shake(this.removeIndexButton)}removeFrontCallback(){this.size>0?this.implementAction(this.remove.bind(this),0,!0,!1,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeFrontButton))}removeBackCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1,!1,!0,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeBackButton))}randomCallback(){const t=Math.floor(5*Math.random())+4,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.add.bind(this),t,0,!1,!0,!1,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}traverse(t){for(let e=0;e<=t;e++)this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.linkedListElemID[e],1),e>0&&this.cmd(Ka.setHighlight,this.linkedListElemID[e-1],0);this.cmd(Ka.step)}add(t,e,i,s,h,n){this.commands=[],this.setInfoText(""),n||(this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",oo,lo),this.addFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFront",710,lo),this.addBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addBack",1050,lo)),i||h&&0===e?this.highlight(0,0,this.addFrontCodeID):(s||h&&e===this.size)&&(this.highlight(0,0,this.addFrontCodeID),this.highlight(0,0,this.addBackCodeID),this.highlight(1,0,this.addBackCodeID)),h&&0===e?(this.highlight(0,0,this.addIndexCodeID),this.highlight(1,0,this.addIndexCodeID),this.highlight(2,0,this.addIndexCodeID),i=!0):h&&e===this.size?(this.highlight(0,0,this.addIndexCodeID),this.highlight(3,0,this.addIndexCodeID),this.highlight(4,0,this.addIndexCodeID),s=!0):h&&this.highlight(0,0,this.addIndexCodeID),e<this.size&&(h&&e>0&&(this.cmd(Ka.step),this.highlight(5,0,this.addIndexCodeID),this.highlight(6,0,this.addIndexCodeID),this.highlight(7,0,this.addIndexCodeID),this.highlight(8,0,this.addIndexCodeID)),this.traverse(e-1));const a=this.nextIndex++,r=this.nextIndex++;for(let o=this.size-1;o>=e;o--)this.arrayData[o+1]=this.arrayData[o];if(this.arrayData[e]=t,0===this.size||0!==e&&e!==this.size){for(let t=this.size-1;t>=e;t--)this.linkedListElemID[t+1]=this.linkedListElemID[t];this.linkedListElemID[e]=this.nextIndex++}else{for(let t=this.size-1;t>=1;t--)this.linkedListElemID[t+1]=this.linkedListElemID[t];this.linkedListElemID[1]=this.nextIndex++}if(this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.createLabel,a,"Adding Value: ",75,30),this.cmd(Ka.createLabel,r,t,150,30),this.cmd(Ka.step),0===this.size||0!==e&&e!==this.size?this.cmd(Ka.createCircularlyLinkedListNode,this.linkedListElemID[e],"",70,30,ho,no):this.cmd(Ka.createCircularlyLinkedListNode,this.linkedListElemID[1],"",70,30,ho,no),0===this.size)(i||s)&&(this.highlight(1,0,this.addFrontCodeID),this.highlight(2,0,this.addFrontCodeID)),this.cmd(Ka.move,r,ho,no),this.cmd(Ka.setText,this.linkedListElemID[0],t),this.cmd(Ka.connect,this.headID,this.linkedListElemID[0]),this.cmd(Ka.step),(i||s)&&(this.unhighlight(2,0,this.addFrontCodeID),this.highlight(3,0,this.addFrontCodeID)),this.cmd(Ka.delete,r),this.cmd(Ka.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5),this.cmd(Ka.step),this.size=this.size+1,this.resetNodePositions(),this.cmd(Ka.step),(i||s)&&(this.unhighlight(1,0,this.addFrontCodeID),this.unhighlight(3,0,this.addFrontCodeID)),s&&this.highlight(9,0,this.addFrontCodeID);else if(0===e||e===this.size){(i||s)&&(this.highlight(4,0,this.addFrontCodeID),this.highlight(5,0,this.addFrontCodeID));const h=this.nextIndex++,n=0===e?this.arrayData[1]:this.arrayData[0];if(this.cmd(Ka.createLabel,h,n,io,so),this.cmd(Ka.move,h,ho,no),this.cmd(Ka.step),this.cmd(Ka.setText,this.linkedListElemID[1],n),this.cmd(Ka.delete,h),(i||s)&&(this.unhighlight(5,0,this.addFrontCodeID),this.highlight(6,0,this.addFrontCodeID)),this.cmd(Ka.move,r,io,so),this.cmd(Ka.setText,this.linkedListElemID[0],t),this.cmd(Ka.delete,r),this.cmd(Ka.step),(i||s)&&(this.unhighlight(6,0,this.addFrontCodeID),this.highlight(7,0,this.addFrontCodeID),this.highlight(8,0,this.addFrontCodeID)),1===this.size?(this.cmd(Ka.disconnect,this.linkedListElemID[0],this.linkedListElemID[0]),this.cmd(Ka.connect,this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd(Ka.connectCurve,this.linkedListElemID[1],this.linkedListElemID[0],-.5)):(this.cmd(Ka.disconnect,this.linkedListElemID[0],this.linkedListElemID[2]),this.cmd(Ka.connect,this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd(Ka.connect,this.linkedListElemID[1],this.linkedListElemID[2])),this.cmd(Ka.step),this.size=this.size+1,this.cmd(Ka.connect,this.headID,this.linkedListElemID[0]),this.resetNodePositions(),this.cmd(Ka.step),s&&(this.unhighlight(4,0,this.addFrontCodeID),this.unhighlight(7,0,this.addFrontCodeID),this.unhighlight(8,0,this.addFrontCodeID),this.highlight(9,0,this.addFrontCodeID),this.cmd(Ka.step)),e===this.size-1){let t;s&&(this.unhighlight(9,0,this.addFrontCodeID),this.unhighlight(0,0,this.addFrontCodeID),this.unhighlight(1,0,this.addBackCodeID),this.highlight(2,0,this.addBackCodeID)),this.cmd(Ka.disconnect,this.headID,this.linkedListElemID[0]);const e=this.linkedListElemID[0];for(t=0;t<this.size-1;t++)this.linkedListElemID[t]=this.linkedListElemID[t+1];this.linkedListElemID[this.size-1]=e;const i=(this.size-1)%ao*ro+io,h=100*Math.floor((this.size-1)/ao)+so;this.cmd(Ka.move,this.linkedListElemID[t],(io+i)/2,h+90),this.cmd(Ka.connect,this.headID,this.linkedListElemID[0]),this.cmd(Ka.step);for(let s=0;s<this.size-1;s++){const t=s%ao*ro+io,e=100*Math.floor(s/ao)+so;this.cmd(Ka.move,this.linkedListElemID[s],t,e)}this.cmd(Ka.disconnect,this.linkedListElemID[this.size-2],this.linkedListElemID[this.size-1]),this.cmd(Ka.connect,this.linkedListElemID[this.size-2],this.linkedListElemID[this.size-1]),this.cmd(Ka.disconnect,this.linkedListElemID[this.size-1],this.linkedListElemID[0]),this.cmd(Ka.connectCurve,this.linkedListElemID[this.size-1],this.linkedListElemID[0],-.5),this.cmd(Ka.move,this.linkedListElemID[t],i,h),this.cmd(Ka.step)}}else h&&(this.unhighlight(5,0,this.addIndexCodeID),this.unhighlight(6,0,this.addIndexCodeID),this.unhighlight(7,0,this.addIndexCodeID),this.unhighlight(8,0,this.addIndexCodeID),0!==e&&this.highlight(9,0,this.addIndexCodeID)),this.cmd(Ka.move,r,ho,no),this.cmd(Ka.setText,this.linkedListElemID[e],t),this.cmd(Ka.delete,r),this.cmd(Ka.step),h&&(this.unhighlight(9,0,this.addIndexCodeID),this.highlight(10,0,this.addIndexCodeID),this.highlight(11,0,this.addIndexCodeID)),this.cmd(Ka.disconnect,this.linkedListElemID[e-1],this.linkedListElemID[e+1]),this.cmd(Ka.connect,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Ka.connect,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.size=this.size+1,this.resetNodePositions();return this.cmd(Ka.setHighlight,this.linkedListElemID[e-1],0),this.cmd(Ka.delete,a),i?(this.unhighlight(4,0,this.addFrontCodeID),this.unhighlight(7,0,this.addFrontCodeID),this.unhighlight(8,0,this.addFrontCodeID)):s&&this.unhighlight(2,0,this.addBackCodeID),this.cmd(Ka.step),i&&this.highlight(9,0,this.addFrontCodeID),h&&(this.unhighlight(10,0,this.addIndexCodeID),this.unhighlight(11,0,this.addIndexCodeID),0!==e&&e!==this.size-1&&this.highlight(12,0,this.addIndexCodeID)),s&&(this.unhighlight(9,0,this.addFrontCodeID),this.unhighlight(1,0,this.addBackCodeID),1===this.size&&this.highlight(2,0,this.addBackCodeID)),this.cmd(Ka.step),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(0,0,this.addFrontCodeID),this.unhighlight(9,0,this.addFrontCodeID),this.unhighlight(2,0,this.addBackCodeID),this.unhighlight(0,0,this.addBackCodeID),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(1,0,this.addIndexCodeID),this.unhighlight(2,0,this.addIndexCodeID),this.unhighlight(3,0,this.addIndexCodeID),this.unhighlight(4,0,this.addIndexCodeID),this.unhighlight(12,0,this.addIndexCodeID),n||(this.removeCode(this.addFrontCodeID),this.removeCode(this.addBackCodeID),this.removeCode(this.addIndexCodeID)),this.commands}remove(t,e,i,s){this.commands=[],this.setInfoText(""),this.removeIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeIndex",oo,lo),this.removeFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFront",710,lo),this.removeBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeBack",1050,lo),t=parseInt(t),e?this.highlight(0,0,this.removeFrontCodeID):i?this.highlight(0,0,this.removeBackCodeID):s&&this.highlight(0,0,this.removeIndexCodeID),s&&0===t?(this.highlight(1,0,this.removeIndexCodeID),this.highlight(2,0,this.removeIndexCodeID),this.highlight(0,0,this.removeFrontCodeID),e=!0):s&&t===this.size-1&&(this.highlight(3,0,this.removeIndexCodeID),this.highlight(4,0,this.removeIndexCodeID),this.highlight(0,0,this.removeBackCodeID),i=!0);const h=this.nextIndex++,n=this.nextIndex++;i&&this.size>1?(this.cmd(Ka.step),this.highlight(5,0,this.removeBackCodeID),this.highlight(6,0,this.removeBackCodeID),this.highlight(7,0,this.removeBackCodeID),this.highlight(8,0,this.removeBackCodeID)):s&&t>0&&(this.cmd(Ka.step),this.highlight(5,0,this.removeIndexCodeID),this.highlight(6,0,this.removeIndexCodeID),this.highlight(7,0,this.removeIndexCodeID),this.highlight(8,0,this.removeIndexCodeID)),this.traverse(t-1),this.cmd(Ka.setText,this.leftoverLabelID,"");const a=io+ro*t;if(this.cmd(Ka.createLabel,h,"Removing Value: ",75,30),this.cmd(Ka.createLabel,n,this.arrayData[t],a,275),e?this.highlight(1,0,this.removeFrontCodeID):i?(this.unhighlight(5,0,this.removeBackCodeID),this.unhighlight(6,0,this.removeBackCodeID),this.unhighlight(7,0,this.removeBackCodeID),this.unhighlight(8,0,this.removeBackCodeID),1!==this.size&&this.highlight(9,0,this.removeBackCodeID)):s&&(this.unhighlight(5,0,this.removeIndexCodeID),this.unhighlight(6,0,this.removeIndexCodeID),this.unhighlight(7,0,this.removeIndexCodeID),this.unhighlight(8,0,this.removeIndexCodeID),this.highlight(9,0,this.removeIndexCodeID)),this.cmd(Ka.move,n,150,30),this.cmd(Ka.step),e?this.unhighlight(1,0,this.removeFrontCodeID):i?this.unhighlight(9,0,this.removeBackCodeID):s&&this.unhighlight(9,0,this.removeIndexCodeID),1!==this.size){if(0===t){e&&(this.highlight(4,0,this.removeFrontCodeID),this.highlight(5,0,this.removeFrontCodeID));const t=this.nextIndex++,i=175,s=so;this.cmd(Ka.createLabel,t,this.arrayData[1],i,s),this.cmd(Ka.move,t,io,so),this.cmd(Ka.setText,this.linkedListElemID[0],this.arrayData[1]),this.cmd(Ka.delete,t),this.cmd(Ka.step),e&&(this.unhighlight(5,0,this.removeFrontCodeID),this.highlight(6,0,this.removeFrontCodeID)),this.cmd(Ka.move,this.linkedListElemID[1],i,s-60),this.cmd(Ka.disconnect,this.linkedListElemID[0],this.linkedListElemID[1]),2===this.size?this.cmd(Ka.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5):this.cmd(Ka.connect,this.linkedListElemID[0],this.linkedListElemID[2])}else if(t===this.size-1)i&&this.highlight(10,0,this.removeBackCodeID),this.cmd(Ka.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),2===this.size?this.cmd(Ka.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5):this.cmd(Ka.connectCurve,this.linkedListElemID[t-1],this.linkedListElemID[0],-.5);else{s&&this.highlight(10,0,this.removeIndexCodeID);const e=t%ao*ro+io,i=215;this.cmd(Ka.move,this.linkedListElemID[t],e,i),this.cmd(Ka.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Ka.connect,this.linkedListElemID[t-1],this.linkedListElemID[t+1])}this.cmd(Ka.step);const h=0===t?1:t;this.cmd(Ka.delete,this.linkedListElemID[h]);for(let t=h;t<this.size;t++)this.linkedListElemID[t]=this.linkedListElemID[t+1]}else e?(this.highlight(2,0,this.removeFrontCodeID),this.highlight(3,0,this.removeFrontCodeID)):i&&(this.highlight(2,0,this.removeBackCodeID),this.highlight(3,0,this.removeBackCodeID),this.highlight(4,0,this.removeBackCodeID)),this.cmd(Ka.delete,this.linkedListElemID[0]),this.cmd(Ka.setNull,this.headID,1);for(let r=t;r<this.size;r++)this.arrayData[r]=this.arrayData[r+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(Ka.step),e?(this.unhighlight(2,0,this.removeFrontCodeID),this.unhighlight(3,0,this.removeFrontCodeID),this.unhighlight(4,0,this.removeFrontCodeID),this.unhighlight(6,0,this.removeFrontCodeID),this.highlight(7,0,this.removeFrontCodeID)):i?(this.unhighlight(10,0,this.removeBackCodeID),this.unhighlight(2,0,this.removeBackCodeID),this.unhighlight(3,0,this.removeBackCodeID),this.unhighlight(4,0,this.removeBackCodeID),this.highlight(11,0,this.removeBackCodeID)):s&&(this.unhighlight(10,0,this.removeIndexCodeID),this.highlight(11,0,this.removeIndexCodeID)),this.cmd(Ka.setHighlight,this.linkedListElemID[t-1],0),this.cmd(Ka.delete,n),this.cmd(Ka.delete,h),this.cmd(Ka.step),e?(this.unhighlight(0,0,this.removeFrontCodeID),this.unhighlight(7,0,this.removeFrontCodeID)):i&&(this.unhighlight(11,0,this.removeBackCodeID),this.unhighlight(0,0,this.removeBackCodeID)),s&&(this.unhighlight(0,0,this.removeIndexCodeID),this.unhighlight(11,0,this.removeIndexCodeID)),s&&0===t?(this.unhighlight(1,0,this.removeIndexCodeID),this.unhighlight(2,0,this.removeIndexCodeID),this.unhighlight(0,0,this.removeFrontCodeID)):s&&t===this.size&&(this.unhighlight(3,0,this.removeIndexCodeID),this.unhighlight(4,0,this.removeIndexCodeID),this.unhighlight(0,0,this.removeBackCodeID)),this.cmd(Ka.step),this.removeCode(this.removeFrontCodeID),this.removeCode(this.removeBackCodeID),this.removeCode(this.removeIndexCodeID),this.commands}resetNodePositions(){for(let t=0;t<this.size;t++){const e=t%ao*ro+io,i=100*Math.floor(t/ao)+so;this.cmd(Ka.move,this.linkedListElemID[t],e,i)}}clearAll(){this.addValueField.value="",this.addIndexField.value="",this.removeField.value="",this.commands=[],this.cmd(Ka.setText,this.infoLabelID,"");for(let t=0;t<this.size;t++)this.cmd(Ka.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(Ka.setNull,this.headID,1),this.commands}},!0],StackArray:["Stack (Array)",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup()}addControls(){this.controls=[],this.pushField=Ja("Text",""),this.pushField.style.textAlign="center",this.pushField.onkeydown=this.returnSubmit(this.pushField,this.pushCallback.bind(this),4,!0),this.pushButton=Ja("Button","Push"),this.pushButton.onclick=this.pushCallback.bind(this),this.controls.push(this.pushField),this.controls.push(this.pushButton),tr(),this.popButton=Ja("Button","Pop"),this.popButton.onclick=this.popCallback.bind(this),this.controls.push(this.popButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.pushField.value=t.substring(0,4),this.pushCallback(),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.nextIndex=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7),this.arraySize=7;for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.top=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.commands=[];for(let t=0;t<7;t++){const e=t%Md*Nd+Rd,i=Math.floor(t/Md)*Vd+jd;this.cmd(Ka.createRectangle,this.arrayID[t],"",Nd,Hd,e,i),this.cmd(Ka.createLabel,this.arrayLabelID[t],t,e,i+Hd),this.cmd(Ka.setForegroundColor,this.arrayLabelID[t],"#0000FF")}this.cmd(Ka.createLabel,this.topLabelID,"Size",130,100),this.cmd(Ka.createRectangle,this.topID,0,Nd,Hd,180,100),this.cmd(Ka.createLabel,this.leftoverLabelID,"",50,30),this.cmd(Ka.createLabel,this.leftoverValID,"",$d,30),this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++,this.pseudocode=or.ys,this.pushCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"push",300,25),this.popCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"pop",625,25),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.top=0,this.nextIndex=0,this.length=7,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+4,this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++}pushCallback(){if(this.top<this.arrayData.length&&""!==this.pushField.value){const t=this.pushField.value;this.pushField.value="",this.implementAction(this.push.bind(this),t)}else if(this.top===this.arrayData.length&&2*this.top<30){const t=this.pushField.value;this.pushField.value="",this.implementAction(this.resize.bind(this),t)}else this.shake(this.pushButton)}popCallback(){this.top>0?this.implementAction(this.pop.bind(this)):this.shake(this.popButton)}randomCallback(){this.implementAction(this.clearAll.bind(this));const t=this.arrayData.length-1,e=Math.floor(Math.random()*(t-3+1))+3,i=new Set;for(let s=0;s<e;s++){const t=Math.floor(17*Math.random())+0;i.has(t)?s--:(i.add(t),this.implementAction(this.push.bind(this),t)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearData.bind(this))}clearData(){return this.pushField.value="",this.commands=[],this.clearAll(),this.commands}push(t){this.commands=[],this.arrayData[this.top]=t;const e=this.nextIndex++,i=this.nextIndex++;this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.highlight(0,0,this.pushCodeID),this.cmd(Ka.createLabel,e,"Pushing Value: ",50,30),this.cmd(Ka.createLabel,i,t,$d,30),this.cmd(Ka.step),this.highlight(6,0,this.pushCodeID),this.cmd(Ka.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(Ka.step);const s=this.top%Md*Nd+Rd,h=Math.floor(this.top/Md)*Vd+jd;return this.cmd(Ka.move,this.highlight1ID,s,h+Hd),this.cmd(Ka.step),this.cmd(Ka.move,i,s,h),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[this.top],t),this.cmd(Ka.delete,i),this.cmd(Ka.delete,this.highlight1ID),this.unhighlight(6,0,this.pushCodeID),this.highlight(7,0,this.pushCodeID),this.cmd(Ka.setHighlight,this.topID,1),this.cmd(Ka.step),this.top=this.top+1,this.cmd(Ka.setText,this.topID,this.top),this.cmd(Ka.delete,e),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.topID,0),this.unhighlight(7,0,this.pushCodeID),null!=t&&(this.nextIndex=this.nextIndex-2),this.unhighlight(0,0,this.pushCodeID),this.commands}pop(){this.commands=[];const t=this.nextIndex++,e=this.nextIndex++;this.highlight(0,0,this.popCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.cmd(Ka.step),this.cmd(Ka.createLabel,t,"Popped Value: ",50,30),this.highlight(1,0,this.popCodeID),this.cmd(Ka.setHighlight,this.topID,1),this.cmd(Ka.step),this.top=this.top-1;const i=this.arrayData[this.top];this.arrayData[this.top]="",this.cmd(Ka.setText,this.topID,this.top),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.topID,0),this.unhighlight(1,0,this.popCodeID),this.highlight(2,0,this.popCodeID),this.cmd(Ka.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(Ka.step);const s=this.top%Md*Nd+Rd,h=Math.floor(this.top/Md)*Vd+jd;return this.cmd(Ka.move,this.highlight1ID,s,h+Hd),this.cmd(Ka.step),this.cmd(Ka.createLabel,e,i,s,h),this.cmd(Ka.move,e,$d,30),this.cmd(Ka.step),this.unhighlight(2,0,this.popCodeID),this.highlight(3,0,this.popCodeID),this.cmd(Ka.setText,this.arrayID[this.top],""),this.cmd(Ka.delete,t),this.cmd(Ka.delete,this.highlight1ID),this.cmd(Ka.setText,this.leftoverLabelID,"Popped Value: "),this.cmd(Ka.setText,this.leftoverValID,i),this.cmd(Ka.delete,e),this.cmd(Ka.step),this.unhighlight(3,0,this.popCodeID),this.unhighlight(0,0,this.popCodeID),this.nextIndex=this.nextIndex-2,this.commands}resize(t){this.commands=[],this.highlight(0,0,this.pushCodeID);const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;this.cmd(Ka.createLabel,e,"Pushing Value: ",50,30),this.cmd(Ka.createLabel,i,t,$d,30),this.cmd(Ka.step),this.arraySize=2*this.top,this.arrayIDNew=new Array(2*this.top),this.arrayLabelIDNew=new Array(2*this.top),this.arrayDataNew=new Array(2*this.top);for(let a=0;a<2*this.top;a++)this.arrayIDNew[a]=this.nextIndex++,this.arrayLabelIDNew[a]=this.nextIndex++,a<this.top&&(this.arrayDataNew[a]=this.arrayData[a]);this.arrayDataNew[this.top]=t,this.highlight1ID=this.nextIndex++,this.highlight(1,0,this.pushCodeID),this.highlight(2,0,this.pushCodeID),this.cmd(Ka.createLabel,s,"(Resize Required)",60,60);for(let a=0;a<2*this.top;a++){const t=a%Md*Nd+100,e=Math.floor(a/Md)*Vd+325;this.cmd(Ka.createRectangle,this.arrayIDNew[a],"",Nd,Hd,t,e),this.cmd(Ka.createLabel,this.arrayLabelIDNew[a],a,t,e+Hd),this.cmd(Ka.setForegroundColor,this.arrayLabelIDNew[a],"#0000FF")}this.cmd(Ka.step),this.arrayMoveID=new Array(this.top),this.unhighlight(2,0,this.pushCodeID),this.highlight(3,0,this.pushCodeID),this.highlight(4,0,this.pushCodeID);for(let a=0;a<this.top;a++){const t=a%Md*Nd+Rd,e=Math.floor(a/Md)*Vd+jd,i=a%Md*Nd+100,s=Math.floor(a/Md)*Vd+325;this.arrayMoveID[a]=this.nextIndex++;const h=this.arrayData[a];this.cmd(Ka.createLabel,this.arrayMoveID[a],h,t,e),this.cmd(Ka.move,this.arrayMoveID[a],i,s)}for(let a=0;a<this.top;a++){const t=this.arrayData[a];this.cmd(Ka.setText,this.arrayIDNew[a],t),this.cmd(Ka.delete,this.arrayMoveID[a])}this.cmd(Ka.step),this.unhighlight(3,0,this.pushCodeID),this.unhighlight(4,0,this.pushCodeID),this.highlight(5,0,this.pushCodeID);for(let a=0;a<this.top;a++)this.cmd(Ka.delete,this.arrayID[a]),this.cmd(Ka.delete,this.arrayLabelID[a]);for(let a=0;a<2*this.top;a++){const t=a%Md*Nd+Rd,e=Math.floor(a/Md)*Vd+jd;this.cmd(Ka.move,this.arrayIDNew[a],t,e),this.cmd(Ka.move,this.arrayLabelIDNew[a],t,e+Hd)}this.cmd(Ka.step),this.unhighlight(1,0,this.pushCodeID),this.unhighlight(5,0,this.pushCodeID),this.highlight(6,0,this.pushCodeID),this.cmd(Ka.createHighlightCircle,this.highlight1ID,"#0000FF",$d,30),this.cmd(Ka.step);const h=parseInt(this.top)%Md*Nd+Rd,n=Math.floor(parseInt(this.top)/Md)*Vd+jd;return this.cmd(Ka.move,this.highlight1ID,h,n),this.cmd(Ka.move,i,h,n),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayIDNew[this.top],t),this.cmd(Ka.delete,i),this.cmd(Ka.delete,this.highlight1ID),this.cmd(Ka.step),this.unhighlight(6,0,this.pushCodeID),this.highlight(7,0,this.pushCodeID),this.cmd(Ka.setHighlight,this.topID,1),this.cmd(Ka.step),this.top=this.top+1,this.cmd(Ka.setText,this.topID,this.top),this.cmd(Ka.delete,e),this.cmd(Ka.delete,s),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.topID,0),this.unhighlight(7,0,this.pushCodeID),this.unhighlight(0,0,this.pushCodeID),this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,this.nextIndex=this.nextIndex-this.top+1,this.commands}clearAll(){this.commands=[];for(let t=0;t<this.top;t++)this.cmd(Ka.setText,this.arrayID[t],"");this.top=0,this.cmd(Ka.setText,this.topID,"0");for(let t=7;t<this.arraySize;t++)this.cmd(Ka.delete,this.arrayID[t]),this.cmd(Ka.delete,this.arrayLabelID[t]);return this.arraySize=7,this.commands}},!0],StackLL:["Stack (LinkedList)",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.pushField=Ja("Text",""),this.pushField.style.textAlign="center",this.pushField.onkeydown=this.returnSubmit(this.pushField,this.pushCallback.bind(this),4,!0),this.pushButton=Ja("Button","Push"),this.pushButton.onclick=this.pushCallback.bind(this),this.controls.push(this.pushField),this.controls.push(this.pushButton),tr(),this.popButton=Ja("Button","Pop"),this.popButton.onclick=this.popCallback.bind(this),this.controls.push(this.popButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));const e=t.get("data").split(",").filter((t=>""!==t.trim()));e.reverse(),e.forEach((t=>{this.implementAction(this.push.bind(this),t.substring(0,4)),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(32);for(let t=0;t<32;t++)this.linkedListElemID[t]=this.nextIndex++;this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.arrayData=new Array(32),this.top=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.cmd(Ka.createLabel,this.topLabelID,"Head",130,135),this.cmd(Ka.createRectangle,this.topID,"",30,30,180,135),this.cmd(Ka.setNull,this.topID,1),this.cmd(Ka.createLabel,this.leftoverLabelID,"",50,30),this.cmd(Ka.createLabel,this.leftoverValID,"",120,30),this.pseudocode=or.bQ,this.pushCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"push",400,25),this.popCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"pop",725,25),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}resetLinkedListPositions(){for(let t=this.top-1;t>=0;t--){const e=(this.top-1-t)%12*100+100,i=100*Math.floor((this.top-1-t)/12)+250;this.cmd(Ka.move,this.linkedListElemID[t],e,i)}}reset(){this.top=0,this.nextIndex=this.initialIndex}pushCallback(){if(this.top<32&&""!==this.pushField.value){const t=this.pushField.value;this.pushField.value="",this.implementAction(this.push.bind(this),t)}else this.shake(this.pushButton)}popCallback(){this.top>0?this.implementAction(this.pop.bind(this)):this.shake(this.popButton)}randomCallback(){const t=Math.floor(6*Math.random())+2,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.push.bind(this),t)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}push(t){this.commands=[];const e=this.nextIndex++,i=this.nextIndex++;return this.arrayData[this.top]=t,this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.highlight(1,0,this.pushCodeID),this.cmd(Ka.createLinkedListNode,this.linkedListElemID[this.top],"",70,30,250,50,.25,0,1),this.cmd(Ka.createLabel,e,"Pushing Value: ",50,30),this.cmd(Ka.createLabel,i,t,120,30),this.cmd(Ka.step),this.cmd(Ka.move,i,250,50),this.cmd(Ka.step),this.cmd(Ka.setText,this.linkedListElemID[this.top],t),this.cmd(Ka.delete,i),this.unhighlight(1,0,this.pushCodeID),0===this.top?(this.cmd(Ka.setNull,this.topID,0),this.cmd(Ka.setNull,this.linkedListElemID[this.top],1)):(this.cmd(Ka.connect,this.linkedListElemID[this.top],this.linkedListElemID[this.top-1]),this.cmd(Ka.step),this.cmd(Ka.disconnect,this.topID,this.linkedListElemID[this.top-1])),this.cmd(Ka.connect,this.topID,this.linkedListElemID[this.top]),this.highlight(2,0,this.pushCodeID,"english"),this.highlight(3,0,this.pushCodeID,"english"),this.cmd(Ka.step),this.top=this.top+1,this.unhighlight(2,0,this.pushCodeID,"english"),this.unhighlight(3,0,this.pushCodeID,"english"),this.highlight(4,0,this.pushCodeID,"english"),this.resetLinkedListPositions(),this.cmd(Ka.delete,e),this.cmd(Ka.step),this.unhighlight(4,0,this.pushCodeID,"english"),this.commands}pop(){this.commands=[];const t=this.nextIndex++,e=this.nextIndex++;return this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.cmd(Ka.createLabel,t,"Popped Value: ",50,30),this.cmd(Ka.createLabel,e,this.arrayData[this.top-1],100,250),this.highlight(1,0,this.popCodeID),this.cmd(Ka.move,e,120,30),this.cmd(Ka.step),this.cmd(Ka.disconnect,this.topID,this.linkedListElemID[this.top-1]),this.unhighlight(1,0,this.popCodeID),1===this.top?this.cmd(Ka.setNull,this.topID,1):this.cmd(Ka.connect,this.topID,this.linkedListElemID[this.top-2]),this.highlight(2,0,this.popCodeID),this.cmd(Ka.step),this.unhighlight(2,0,this.popCodeID),this.cmd(Ka.delete,this.linkedListElemID[this.top-1]),this.highlight(3,0,this.popCodeID),this.highlight(4,0,this.popCodeID,"english"),this.top=this.top-1,this.resetLinkedListPositions(),this.cmd(Ka.step),this.unhighlight(3,0,this.popCodeID),this.unhighlight(4,0,this.popCodeID,"english"),this.cmd(Ka.delete,e),this.cmd(Ka.delete,t),this.cmd(Ka.setText,this.leftoverLabelID,"Popped Value: "),this.cmd(Ka.setText,this.leftoverValID,this.arrayData[this.top]),this.commands}clearAll(){this.pushField.value="",this.commands=[];for(let t=0;t<this.top;t++)this.cmd(Ka.delete,this.linkedListElemID[t]);return this.top=0,this.cmd(Ka.setNull,this.topID,1),this.commands}},!0],QueueArray:["Queue (Array)",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.enqueueField=Ja("Text",""),this.enqueueField.style.textAlign="center",this.enqueueField.onkeydown=this.returnSubmit(this.enqueueField,this.enqueueCallback.bind(this),4,!0),this.enqueueButton=Ja("Button","Enqueue"),this.enqueueButton.onclick=this.enqueueCallback.bind(this),this.controls.push(this.enqueueField),this.controls.push(this.enqueueButton),tr(),this.dequeueButton=Ja("Button","Dequeue"),this.dequeueButton.onclick=this.dequeueCallback.bind(this),this.controls.push(this.dequeueButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.enqueueField.value=t.substring(0,4),this.enqueueCallback(),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.nextIndex=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(let i=0;i<7;i++)this.arrayID[i]=this.nextIndex++,this.arrayLabelID[i]=this.nextIndex++;this.frontID=this.nextIndex++;const t=this.nextIndex++;this.sizeID=this.nextIndex++;const e=this.nextIndex++;this.frontPointerID=this.nextIndex++,this.arrayData=new Array(7),this.front=0,this.size=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.arraySize=7;for(let i=0;i<7;i++){const t=i%nd*sd+ed,e=Math.floor(i/nd)*ad+id;this.cmd(Ka.createRectangle,this.arrayID[i],"",sd,hd,t,e),this.cmd(Ka.createLabel,this.arrayLabelID[i],i,t,e+hd),this.cmd(Ka.setForegroundColor,this.arrayLabelID[i],ld)}this.cmd(Ka.createLabel,t,"Front",130,100),this.cmd(Ka.createRectangle,this.frontID,0,sd,hd,180,100),this.cmd(Ka.createLabel,e,"Size",230,100),this.cmd(Ka.createRectangle,this.sizeID,0,sd,hd,280,100),this.cmd(Ka.createLabel,this.frontPointerID,"Front",ed,200),this.cmd(Ka.createLabel,this.leftoverLabelID,"",60,30),this.cmd(Ka.createLabel,this.leftoverValID,"",rd,30),this.highlight1ID=this.nextIndex++,this.pseudocode=or.Vi,this.enqueueCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"enqueue",350,25),this.dequeueCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"dequeue",815,25),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.top=0,this.front=0,this.size=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+8,this.arraySize=7}enqueueCallback(){if(this.size<this.arraySize&&""!==this.enqueueField.value){const t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.enqueue.bind(this),t)}else if(this.size===this.arraySize&&""!==this.enqueueField.value&&2*this.size<30){const t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.resize.bind(this),t)}else this.shake(this.enqueueButton)}dequeueCallback(){0!==this.size?this.implementAction(this.dequeue.bind(this)):this.shake(this.dequeueButton)}randomCallback(){const t=Math.floor(4*Math.random())+3,e=Math.floor(6*Math.random()),i=new Set;this.implementAction(this.clearAll.bind(this,e));for(let s=0;s<t;s++){const t=Math.floor(17*Math.random())+0;i.has(t)?s--:(i.add(t),this.implementAction(this.enqueue.bind(this),t)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}enqueue(t){this.commands=[];const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,n=(this.front+this.size)%this.arraySize;this.arrayData[n]=t,this.highlight(0,0,this.enqueueCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.cmd(Ka.step),this.highlight(7,0,this.enqueueCodeID,"code"),this.highlight(8,0,this.enqueueCodeID,"english"),this.cmd(Ka.createLabel,e,"Enqueuing Value: ",60,30),this.cmd(Ka.createLabel,i,t,rd,30),this.cmd(Ka.createLabel,s,"Enqueueing at (front + size) % array.length: ",129,50),this.cmd(Ka.createLabel,h,n,od,50),this.cmd(Ka.step),this.cmd(Ka.createHighlightCircle,this.highlight1ID,ld,280,100),this.cmd(Ka.step);const a=n%nd*sd+ed,r=Math.floor(n/nd)*ad+id;return this.cmd(Ka.move,this.highlight1ID,od,50),this.cmd(Ka.step),this.cmd(Ka.move,this.highlight1ID,a,r+hd),this.cmd(Ka.move,h,a,r+hd),this.cmd(Ka.step),this.cmd(Ka.move,i,a,r),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[n],t),this.cmd(Ka.delete,i),this.cmd(Ka.delete,h),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlight1ID),this.unhighlight(7,0,this.enqueueCodeID,"code"),this.highlight(8,0,this.enqueueCodeID,"code"),this.unhighlight(8,0,this.enqueueCodeID,"english"),this.highlight(9,0,this.enqueueCodeID,"english"),this.cmd(Ka.setHighlight,this.sizeID,1),this.cmd(Ka.step),this.size=this.size+1,this.cmd(Ka.setText,this.sizeID,this.size),this.cmd(Ka.step),this.unhighlight(8,0,this.enqueueCodeID,"code"),this.unhighlight(9,0,this.enqueueCodeID,"english"),this.unhighlight(0,0,this.enqueueCodeID),this.cmd(Ka.setHighlight,this.sizeID,0),this.cmd(Ka.delete,e),this.cmd(Ka.delete,s),this.nextIndex=this.nextIndex-4,this.commands}dequeue(){this.commands=[];const t=this.nextIndex++,e=this.nextIndex++;this.highlight(0,0,this.dequeueCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.cmd(Ka.step),this.highlight(1,0,this.dequeueCodeID),this.cmd(Ka.createLabel,t,"Dequeued Value: ",60,30),this.cmd(Ka.createHighlightCircle,this.highlight1ID,ld,180,100),this.cmd(Ka.step);const i=this.front%nd*sd+ed,s=Math.floor(this.front/nd)*ad+id;this.cmd(Ka.move,this.highlight1ID,i,s+hd),this.cmd(Ka.step),this.unhighlight(1,0,this.dequeueCodeID),this.highlight(2,0,this.dequeueCodeID),this.cmd(Ka.delete,this.highlight1ID);const h=this.arrayData[this.front];this.cmd(Ka.createLabel,e,h,i,s),this.cmd(Ka.setText,this.arrayID[this.front],""),this.cmd(Ka.move,e,rd,30),this.cmd(Ka.step),this.unhighlight(2,0,this.dequeueCodeID),this.highlight(3,0,this.dequeueCodeID),this.cmd(Ka.setHighlight,this.frontID,1),this.cmd(Ka.setHighlight,this.frontPointerID,1),this.cmd(Ka.step),this.front=(this.front+1)%this.arraySize;const n=this.front%nd*sd+ed,a=Math.floor(this.front/nd)*ad+id+dd;return this.cmd(Ka.move,this.frontPointerID,n,a),this.cmd(Ka.setText,this.frontID,this.front),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.frontID,0),this.cmd(Ka.setHighlight,this.frontPointerID,0),this.unhighlight(3,0,this.dequeueCodeID),this.cmd(Ka.setText,this.leftoverLabelID,"Dequeued Value: "),this.cmd(Ka.setText,this.leftoverValID,h),this.cmd(Ka.delete,t),this.cmd(Ka.delete,e),this.cmd(Ka.step),this.highlight(4,0,this.dequeueCodeID),this.cmd(Ka.setHighlight,this.sizeID,1),this.cmd(Ka.step),this.size=this.size-1,this.cmd(Ka.setText,this.sizeID,this.size),this.cmd(Ka.step),this.unhighlight(4,0,this.dequeueCodeID),this.unhighlight(0,0,this.dequeueCodeID),this.cmd(Ka.setHighlight,this.sizeID,0),this.nextIndex=this.nextIndex-2,this.commands}resize(t){this.commands=[];const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size);for(let d=0;d<2*this.size;d++)this.arrayIDNew[d]=this.nextIndex++,this.arrayLabelIDNew[d]=this.nextIndex++,d<this.size&&(this.arrayDataNew[d]=this.arrayData[(this.front+d)%this.arraySize]);this.arrayDataNew[this.size]=t,this.highlight(0,0,this.enqueueCodeID),this.cmd(Ka.createLabel,e,"Enqueuing Value: ",60,30),this.cmd(Ka.createLabel,i,t,rd,30),this.cmd(Ka.step),this.highlight(1,0,this.enqueueCodeID),this.cmd(Ka.createLabel,s,"(Resize Required)",60,60),this.cmd(Ka.step),this.highlight(2,0,this.enqueueCodeID);for(let d=0;d<2*this.size;d++){const t=d%nd*sd+100,e=Math.floor(d/nd)*ad+345;this.cmd(Ka.createRectangle,this.arrayIDNew[d],"",sd,hd,t,e),this.cmd(Ka.createLabel,this.arrayLabelIDNew[d],d,t,e+hd),this.cmd(Ka.setForegroundColor,this.arrayLabelIDNew[d],"#0000FF")}this.cmd(Ka.step),this.highlight1ID=this.nextIndex++,this.arrayMoveID=new Array(this.size),this.unhighlight(2,0,this.enqueueCodeID),this.highlight(3,0,this.enqueueCodeID),this.highlight(4,0,this.enqueueCodeID),this.highlight(5,0,this.enqueueCodeID);for(let d=0;d<this.size;d++){const t=(this.front+d)%this.arraySize%nd*sd+ed,e=Math.floor((this.front+d)%this.arraySize/nd)*ad+id,i=d%nd*sd+100,s=Math.floor(d/nd)*ad+345;this.arrayMoveID[d]=this.nextIndex++,this.cmd(Ka.createLabel,this.arrayMoveID[d],this.arrayData[(this.front+d)%this.arraySize],t,e),this.cmd(Ka.move,this.arrayMoveID[d],i,s),this.cmd(Ka.step)}for(let d=0;d<this.size;d++)this.cmd(Ka.delete,this.arrayMoveID[d]),this.cmd(Ka.setText,this.arrayIDNew[d],this.arrayDataNew[d]);this.cmd(Ka.step);for(let d=0;d<this.size;d++)this.cmd(Ka.delete,this.arrayID[d]),this.cmd(Ka.delete,this.arrayLabelID[d]);this.arraySize=2*this.size,this.unhighlight(3,0,this.enqueueCodeID),this.unhighlight(4,0,this.enqueueCodeID),this.unhighlight(5,0,this.enqueueCodeID),this.highlight(6,0,this.enqueueCodeID);for(let d=0;d<2*this.size;d++){const t=d%nd*sd+ed,e=Math.floor(d/nd)*ad+id;this.cmd(Ka.move,this.arrayIDNew[d],t,e),this.cmd(Ka.move,this.arrayLabelIDNew[d],t,e+hd)}this.cmd(Ka.step),this.front=0,this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,this.unhighlight(6,0,this.enqueueCodeID),this.highlight(7,0,this.enqueueCodeID),this.cmd(Ka.setHighlight,this.frontID,1),this.cmd(Ka.setHighlight,this.frontPointerID,1),this.cmd(Ka.step),this.cmd(Ka.setText,this.frontID,this.front),this.cmd(Ka.move,this.frontPointerID,ed,200),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.frontID,0),this.cmd(Ka.setHighlight,this.frontPointerID,0);const h=(this.front+this.size)%this.arraySize,n=this.nextIndex++,a=this.nextIndex++;this.cmd(Ka.delete,s),this.cmd(Ka.delete,i);const r=this.nextIndex++;this.cmd(Ka.createLabel,r,t,rd,30),this.unhighlight(7,0,this.enqueueCodeID),this.unhighlight(1,0,this.enqueueCodeID),this.highlight(8,0,this.enqueueCodeID),this.cmd(Ka.createLabel,n,"Enqueueing at (front + size) % array.length: ",129,50),this.cmd(Ka.createLabel,a,h,od,50),this.cmd(Ka.createHighlightCircle,this.highlight1ID,ld,280,100),this.cmd(Ka.step);const o=h%nd*sd+ed,l=Math.floor(h/nd)*ad+id;return this.cmd(Ka.move,this.highlight1ID,od,50),this.cmd(Ka.step),this.cmd(Ka.move,this.highlight1ID,o,l+hd),this.cmd(Ka.move,a,o,l+hd),this.cmd(Ka.step),this.cmd(Ka.move,r,o,l),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[h],t),this.cmd(Ka.delete,r),this.cmd(Ka.delete,a),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlight1ID),this.cmd(Ka.setHighlight,this.sizeID,1),this.unhighlight(8,0,this.enqueueCodeID),this.highlight(9,0,this.enqueueCodeID),this.cmd(Ka.step),this.size++,this.cmd(Ka.setText,this.sizeID,this.size),this.cmd(Ka.step),this.unhighlight(9,0,this.enqueueCodeID),this.unhighlight(0,0,this.enqueueCodeID),this.cmd(Ka.setHighlight,this.sizeID,0),this.cmd(Ka.delete,e),this.cmd(Ka.delete,n),this.nextIndex=this.nextIndex-this.size,this.commands}clearAll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.enqueueField.value="",this.commands=[],this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,"");for(let s=0;s<this.arraySize;s++)this.cmd(Ka.setText,this.arrayID[s],"");this.size=0,this.cmd(Ka.setText,this.sizeID,"0"),this.front=t;const e=this.front%nd*sd+ed,i=Math.floor(this.front/nd)*ad+id+dd;this.cmd(Ka.setText,this.frontID,t),this.cmd(Ka.setPosition,this.frontPointerID,e,i);for(let s=7;s<this.arraySize;s++)this.cmd(Ka.delete,this.arrayID[s]),this.cmd(Ka.delete,this.arrayLabelID[s]);return this.arraySize=7,this.commands}},!0],QueueLL:["Queue (LinkedList)",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.enqueueField=Ja("Text",""),this.enqueueField.style.textAlign="center",this.enqueueField.onkeydown=this.returnSubmit(this.enqueueField,this.enqueueCallback.bind(this),4,!0),this.enqueueButton=Ja("Button","Enqueue"),this.enqueueButton.onclick=this.enqueueCallback.bind(this),this.controls.push(this.enqueueField),this.controls.push(this.enqueueButton),tr(),this.dequeueButton=Ja("Button","Dequeue"),this.dequeueButton.onclick=this.dequeueCallback.bind(this),this.controls.push(this.dequeueButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.enqueue.bind(this),t.substring(0,4)),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(32);for(let t=0;t<32;t++)this.linkedListElemID[t]=this.nextIndex++;this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.arrayData=new Array(32),this.top=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.cmd(Ka.createLabel,this.headLabelID,"Head",130,100),this.cmd(Ka.createRectangle,this.headID,"",30,30,180,100),this.cmd(Ka.setNull,this.headID,1),this.cmd(Ka.createLabel,this.tailLabelID,"Tail",130,335),this.cmd(Ka.createRectangle,this.tailID,"",30,30,180,335),this.cmd(Ka.setNull,this.tailID,1),this.cmd(Ka.createLabel,this.leftoverLabelID,"",60,30),this.cmd(Ka.createLabel,this.leftoverValID,"",130,30),this.pseudocode=or.kX,this.enqueueCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"enqueue",330,30),this.dequeueCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"dequeue",615,30),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}resetLinkedListPositions(){for(let t=this.top-1;t>=0;t--){const e=(this.top-1-t)%12*100+100,i=100*Math.floor((this.top-1-t)/12)+225;this.cmd(Ka.move,this.linkedListElemID[t],e,i)}}reset(){this.top=0,this.nextIndex=this.initialIndex}enqueueCallback(){if(this.top<32&&""!==this.enqueueField.value){const t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.enqueue.bind(this),t)}else this.shake(this.enqueueButton)}dequeueCallback(){this.top>0?this.implementAction(this.dequeue.bind(this)):this.shake(this.dequeueButton)}randomCallback(){const t=Math.floor(6*Math.random())+2,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.enqueue.bind(this),t)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}enqueue(t){this.commands=[],this.arrayData[this.top]=t,this.highlight(0,0,this.enqueueCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.cmd(Ka.step);for(let s=this.top;s>0;s--)this.arrayData[s]=this.arrayData[s-1],this.linkedListElemID[s]=this.linkedListElemID[s-1];this.arrayData[0]=t,this.linkedListElemID[0]=this.nextIndex++;const e=this.nextIndex++,i=this.nextIndex++;return this.highlight(1,0,this.enqueueCodeID),this.cmd(Ka.createLinkedListNode,this.linkedListElemID[0],"",70,30,250,100,.25,0,1),this.cmd(Ka.setNull,this.linkedListElemID[0],1),this.cmd(Ka.createLabel,e,"Enqueuing Value: ",60,30),this.cmd(Ka.createLabel,i,t,130,30),this.cmd(Ka.step),this.cmd(Ka.move,i,250,100),this.cmd(Ka.setText,this.linkedListElemID[0],t),this.cmd(Ka.delete,i),this.cmd(Ka.step),this.unhighlight(1,0,this.enqueueCodeID),0===this.top?(this.highlight(2,0,this.enqueueCodeID),this.highlight(3,0,this.enqueueCodeID),this.cmd(Ka.setNull,this.headID,0),this.cmd(Ka.setNull,this.tailID,0),this.cmd(Ka.connect,this.headID,this.linkedListElemID[this.top]),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[this.top]),this.cmd(Ka.step)):(this.highlight(4,0,this.enqueueCodeID),this.highlight(5,0,this.enqueueCodeID),this.cmd(Ka.setNull,this.linkedListElemID[1],0),this.cmd(Ka.connect,this.linkedListElemID[1],this.linkedListElemID[0]),this.cmd(Ka.step)),this.top=this.top+1,this.resetLinkedListPositions(),this.cmd(Ka.step),this.unhighlight(2,0,this.enqueueCodeID),this.unhighlight(3,0,this.enqueueCodeID),this.unhighlight(4,0,this.enqueueCodeID),this.unhighlight(5,0,this.enqueueCodeID),this.highlight(6,0,this.enqueueCodeID),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[1]),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[0]),this.cmd(Ka.step),this.unhighlight(6,0,this.enqueueCodeID),this.highlight(7,0,this.enqueueCodeID),this.cmd(Ka.step),this.cmd(Ka.delete,e),this.unhighlight(7,0,this.enqueueCodeID),this.unhighlight(0,0,this.enqueueCodeID),this.commands}dequeue(){this.commands=[];const t=this.nextIndex++,e=this.nextIndex++;return this.highlight(0,0,this.dequeueCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.step),this.highlight(1,0,this.dequeueCodeID),this.cmd(Ka.createLabel,t,"Dequeued Value: ",60,30),this.cmd(Ka.createLabel,e,this.arrayData[this.top-1],100,225),this.cmd(Ka.move,e,130,30),this.cmd(Ka.step),this.unhighlight(1,0,this.dequeueCodeID),this.cmd(Ka.disconnect,this.headID,this.linkedListElemID[this.top-1]),1===this.top?(this.highlight(2,0,this.dequeueCodeID),this.highlight(3,0,this.dequeueCodeID),this.highlight(4,0,this.dequeueCodeID),this.cmd(Ka.setNull,this.headID,1),this.cmd(Ka.setNull,this.tailID,1),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[this.top-1])):(this.highlight(5,0,this.dequeueCodeID),this.highlight(6,0,this.dequeueCodeID),this.cmd(Ka.connect,this.headID,this.linkedListElemID[this.top-2])),this.cmd(Ka.step),this.unhighlight(2,0,this.dequeueCodeID),this.unhighlight(3,0,this.dequeueCodeID),this.unhighlight(4,0,this.dequeueCodeID),this.unhighlight(5,0,this.dequeueCodeID),this.unhighlight(6,0,this.dequeueCodeID),this.highlight(7,0,this.dequeueCodeID),this.highlight(8,0,this.dequeueCodeID),this.cmd(Ka.delete,this.linkedListElemID[this.top-1]),this.top=this.top-1,this.resetLinkedListPositions(),this.cmd(Ka.step),this.unhighlight(8,0,this.dequeueCodeID),this.unhighlight(7,0,this.dequeueCodeID),this.unhighlight(0,0,this.dequeueCodeID),this.cmd(Ka.delete,e),this.cmd(Ka.delete,t),this.commands}clearAll(){this.enqueueField.value="",this.commands=[];for(let t=0;t<this.top;t++)this.cmd(Ka.delete,this.linkedListElemID[t]);return this.top=0,this.cmd(Ka.setNull,this.headID,1),this.cmd(Ka.setNull,this.tailID,1),this.commands}},!0],DequeArray:["Deque (Array)",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.addField=Ja("Text",""),this.addField.style.textAlign="center",this.addField.onkeydown=this.returnSubmit(this.addField,null,4,!0),this.controls.push(this.addField),this.addFirstButton=Ja("Button","Add First"),this.addFirstButton.onclick=this.addFirstCallBack.bind(this),this.controls.push(this.addFirstButton),Ga("or"),this.addLastButton=Ja("Button","Add Last"),this.addLastButton.onclick=this.addLastCallback.bind(this),this.controls.push(this.addLastButton),tr(),this.removeFirstButton=Ja("Button","Remove First"),this.removeFirstButton.onclick=this.removeFirstCallback.bind(this),this.controls.push(this.removeFirstButton),Ga("or"),this.removeLastButton=Ja("Button","Remove Last"),this.removeLastButton.onclick=this.removeLastCallback.bind(this),this.controls.push(this.removeLastButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{if(this.addField.value=t.substring(0,4),this.size<this.arraySize&&""!==this.addField.value){const t=this.addField.value;this.addField.value="",this.implementAction(this.addLast.bind(this),t,!0)}else if(this.size===this.arraySize&&""!==this.addField.value&&2*this.size<30){const t=this.addField.value;this.addField.value="",this.implementAction(this.resize.bind(this),t,!0)}else this.shake(this.addLastButton);this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.nextIndex=0,this.pseudocode=or.Y5,this.resetIndex=this.nextIndex,this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(let i=0;i<7;i++)this.arrayID[i]=this.nextIndex++,this.arrayLabelID[i]=this.nextIndex++;this.frontID=this.nextIndex++;const t=this.nextIndex++;this.frontPointerID=this.nextIndex++,this.sizeID=this.nextIndex++;const e=this.nextIndex++;this.arrayData=new Array(7),this.front=0,this.size=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.formulaLabelID=this.nextIndex++,this.arraySize=7;for(let i=0;i<7;i++){const t=i%$o*Mo+No,e=Math.floor(i/$o)*qo+Ho;this.cmd(Ka.createRectangle,this.arrayID[i],"",Mo,Vo,t,e),this.cmd(Ka.createLabel,this.arrayLabelID[i],i,t,e+Vo),this.cmd(Ka.setForegroundColor,this.arrayLabelID[i],tl)}this.cmd(Ka.createLabel,t,"Front",130,120),this.cmd(Ka.createRectangle,this.frontID,0,Mo,Vo,Wo,Uo),this.cmd(Ka.createLabel,e,"Size",230,120),this.cmd(Ka.createRectangle,this.sizeID,0,Mo,Vo,Ko,Xo),this.cmd(Ka.createLabel,this.frontPointerID,"Front",No,205),this.cmd(Ka.createLabel,this.leftoverLabelID,"",Go,Yo,!0),this.cmd(Ka.createLabel,this.leftoverValID,"",Qo,Zo,!0),this.cmd(Ka.createLabel,this.formulaLabelID,"",230,60,!0),this.highlight1ID=this.nextIndex++,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.top=0,this.front=0,this.size=0,this.nextIndex=this.resetIndex,this.arraySize=7,this.arrayData=new Array(7),this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+9}addLastCallback(){if(this.size<this.arraySize&&""!==this.addField.value){const t=this.addField.value;this.addField.value="",this.implementAction(this.addLast.bind(this),t)}else if(this.size===this.arraySize&&""!==this.addField.value&&2*this.size<30){const t=this.addField.value;this.addField.value="",this.implementAction(this.resize.bind(this),t,!1)}else this.shake(this.addLastButton)}removeFirstCallback(){0!==this.size?this.implementAction(this.removeFirst.bind(this)):this.shake(this.removeFirstButton)}removeLastCallback(){0!==this.size?this.implementAction(this.removeLast.bind(this)):this.shake(this.removeLastButton)}addFirstCallBack(){if(this.size<this.arraySize&&""!==this.addField.value){const t=this.addField.value;this.addField.value="",this.implementAction(this.addFirst.bind(this),t)}else if(this.size===this.arraySize&&""!==this.addField.value&&2*this.size<30){const t=this.addField.value;this.addField.value="",this.implementAction(this.resize.bind(this),t,!0)}else this.shake(this.addFirstButton)}randomCallback(){const t=Math.floor(4*Math.random())+3,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0,s=Math.floor(2*Math.random());e.has(t)?i--:(e.add(t),0===s?this.implementAction(this.addFirst.bind(this),t,!0):this.implementAction(this.addLast.bind(this),t,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}addLast(t,e){this.commands=[],e||(this.addLastCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addLast",el,il));const i=this.nextIndex++,s=this.nextIndex++,h=(this.front+this.size)%this.arraySize;this.highlight(0,0,this.addLastCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.arrayData[h]=t,this.cmd(Ka.createLabel,i,"Enqueuing Value: ",Go,Yo),this.cmd(Ka.createLabel,s,t,Qo,Zo),this.cmd(Ka.step),this.highlight(7,0,this.addLastCodeID,"code"),this.highlight(8,0,this.addLastCodeID,"english"),this.cmd(Ka.createHighlightCircle,this.highlight1ID,tl,Ko,Xo),this.cmd(Ka.step),this.cmd(Ka.setText,this.formulaLabelID,`Adding ${t} to back at index (${this.front} + ${this.size}) % ${this.arraySize}`);const n=h%$o*Mo+No,a=Math.floor(h/$o)*qo+Ho;return this.cmd(Ka.move,this.highlight1ID,n,a+Vo),this.cmd(Ka.step),this.cmd(Ka.move,s,n,a),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[h],t),this.cmd(Ka.delete,s),this.cmd(Ka.delete,this.highlight1ID),this.unhighlight(7,0,this.addLastCodeID,"code"),this.unhighlight(8,0,this.addLastCodeID,"english"),this.highlight(8,0,this.addLastCodeID,"code"),this.highlight(9,0,this.addLastCodeID,"english"),this.cmd(Ka.setHighlight,this.sizeID,1),this.cmd(Ka.step),this.size=this.size+1,this.cmd(Ka.setText,this.sizeID,this.size),this.cmd(Ka.step),this.unhighlight(8,0,this.addLastCodeID,"code"),this.unhighlight(9,0,this.addLastCodeID,"english"),this.unhighlight(0,0,this.addLastCodeID),this.cmd(Ka.setHighlight,this.sizeID,0),this.cmd(Ka.delete,i),this.cmd(Ka.setText,this.formulaLabelID,""),this.nextIndex=this.nextIndex-2,e||this.removeCode(this.addLastCodeID),this.commands}addFirst(t,e){this.commands=[],e||(this.addFirstCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFirst",el,il));const i=this.nextIndex++,s=this.nextIndex++;this.highlight(0,0,this.addFirstCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,"");const h=(this.front-1+this.arraySize)%this.arraySize,n=h%$o*Mo+No,a=Math.floor(h/$o)*qo+Ho;this.arrayData[h]=t,this.cmd(Ka.createLabel,i,"Enqueuing Value: ",Go,Yo),this.cmd(Ka.createLabel,s,t,Qo,Zo),this.cmd(Ka.step),this.highlight(7,0,this.addFirstCodeID,"code"),this.highlight(8,0,this.addFirstCodeID),this.highlight(9,0,this.addFirstCodeID,"english"),this.cmd(Ka.createHighlightCircle,this.highlight1ID,tl,Wo,Uo),this.cmd(Ka.setText,this.formulaLabelID,`Adding ${t} to front at index (${this.front} - 1) % ${this.arraySize}`),this.cmd(Ka.step),this.cmd(Ka.move,this.highlight1ID,this.front*Mo+No,a+Vo),this.front=h;const r=h%$o*Mo+No,o=Math.floor(h/$o)*qo+Ho+Jo;return this.cmd(Ka.setHighlight,this.frontID,1),this.cmd(Ka.setHighlight,this.frontPointerID,1),this.cmd(Ka.step),this.cmd(Ka.move,this.frontPointerID,r,o),this.cmd(Ka.move,this.highlight1ID,n,a+Vo),this.cmd(Ka.setText,this.frontID,this.front),this.cmd(Ka.step),this.unhighlight(7,0,this.addFirstCodeID,"code"),this.unhighlight(8,0,this.addFirstCodeID),this.unhighlight(9,0,this.addFirstCodeID,"english"),this.highlight(9,0,this.addFirstCodeID,"code"),this.highlight(10,0,this.addFirstCodeID,"english"),this.cmd(Ka.setHighlight,this.frontID,0),this.cmd(Ka.setHighlight,this.frontPointerID,0),this.cmd(Ka.move,s,n,a),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[h],t),this.cmd(Ka.delete,s),this.cmd(Ka.step),this.unhighlight(9,0,this.addFirstCodeID,"code"),this.unhighlight(10,0,this.addFirstCodeID,"english"),this.highlight(10,0,this.addFirstCodeID,"code"),this.highlight(11,0,this.addFirstCodeID,"english"),this.cmd(Ka.setHighlight,this.sizeID,1),this.cmd(Ka.step),this.cmd(Ka.setText,this.sizeID,this.size+1),this.cmd(Ka.step),this.unhighlight(10,0,this.addFirstCodeID,"code"),this.unhighlight(11,0,this.addFirstCodeID,"english"),this.cmd(Ka.setHighlight,this.sizeID,0),this.cmd(Ka.step),this.unhighlight(0,0,this.addFirstCodeID),this.cmd(Ka.delete,this.highlight1ID),this.cmd(Ka.delete,i),this.cmd(Ka.setText,this.formulaLabelID,""),this.size++,this.nextIndex=this.nextIndex-2,e||this.removeCode(this.addFirstCodeID),this.commands}removeFirst(){this.commands=[],this.removeFirstCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFirst",410,40);const t=this.nextIndex++,e=this.nextIndex++;this.highlight(0,0,this.removeFirstCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.cmd(Ka.step),this.cmd(Ka.createLabel,t,"Removed Value: ",Go,Yo),this.highlight(1,0,this.removeFirstCodeID),this.cmd(Ka.createHighlightCircle,this.highlight1ID,tl,Wo,Uo),this.cmd(Ka.step);const i=this.front%$o*Mo+No,s=Math.floor(this.front/$o)*qo+Ho;this.cmd(Ka.move,this.highlight1ID,i,s+Vo),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlight1ID);const h=this.arrayData[this.front];this.cmd(Ka.createLabel,e,h,i,s),this.cmd(Ka.move,e,Qo,Zo),this.cmd(Ka.step),this.unhighlight(1,0,this.removeFirstCodeID),this.highlight(2,0,this.removeFirstCodeID),this.cmd(Ka.setText,this.arrayID[this.front],""),this.cmd(Ka.step),this.unhighlight(2,0,this.removeFirstCodeID),this.highlight(3,0,this.removeFirstCodeID),this.cmd(Ka.setHighlight,this.frontID,1),this.cmd(Ka.setHighlight,this.frontPointerID,1),this.cmd(Ka.step),this.front=(this.front+1)%this.arraySize;const n=this.front%$o*Mo+No,a=Math.floor(this.front/$o)*qo+Ho+Jo;return this.cmd(Ka.setText,this.frontID,this.front),this.cmd(Ka.move,this.frontPointerID,n,a),this.cmd(Ka.step),this.unhighlight(3,0,this.removeFirstCodeID),this.cmd(Ka.setHighlight,this.frontID,0),this.cmd(Ka.setHighlight,this.frontPointerID,0),this.cmd(Ka.setText,this.leftoverLabelID,"Removed Value: "),this.cmd(Ka.setText,this.leftoverValID,h),this.cmd(Ka.setText,this.formulaLabelID,""),this.cmd(Ka.delete,t),this.cmd(Ka.delete,e),this.cmd(Ka.step),this.highlight(4,0,this.removeFirstCodeID),this.highlight(5,0,this.removeFirstCodeID),this.cmd(Ka.setHighlight,this.sizeID,1),this.cmd(Ka.step),this.size--,this.cmd(Ka.setText,this.sizeID,this.size),this.cmd(Ka.step),this.unhighlight(4,0,this.removeFirstCodeID),this.unhighlight(5,0,this.removeFirstCodeID),this.cmd(Ka.setHighlight,this.sizeID,0),this.cmd(Ka.step),this.unhighlight(0,0,this.removeFirstCodeID),this.nextIndex=this.nextIndex-2,this.removeCode(this.removeFirstCodeID),this.commands}removeLast(){this.commands=[],this.removeLastCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeLast",410,40);const t=this.nextIndex++,e=this.nextIndex++,i=(this.front+this.size-1+this.arraySize)%this.arraySize;this.highlight(0,0,this.removeLastCodeID),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.cmd(Ka.step),this.cmd(Ka.createLabel,t,"Removed Value: ",Go,Yo),this.cmd(Ka.createHighlightCircle,this.highlight1ID,tl,Wo,Uo),this.cmd(Ka.createHighlightCircle,this.highlight2ID,tl,Ko,Xo),this.cmd(Ka.step);const s=i%$o*Mo+No,h=Math.floor(i/$o)*qo+Ho;this.highlight(1,0,this.removeLastCodeID),this.highlight(2,0,this.removeLastCodeID,"code"),this.cmd(Ka.move,this.highlight1ID,s,h+Vo),this.cmd(Ka.move,this.highlight2ID,s,h+Vo),this.cmd(Ka.step),this.unhighlight(1,0,this.removeLastCodeID),this.unhighlight(2,0,this.removeLastCodeID,"code"),this.highlight(2,0,this.removeLastCodeID,"english"),this.highlight(3,0,this.removeLastCodeID,"code"),this.cmd(Ka.delete,this.highlight1ID),this.cmd(Ka.delete,this.highlight2ID);const n=this.arrayData[i];return this.cmd(Ka.createLabel,e,n,s,h),this.cmd(Ka.move,e,Qo,Zo),this.cmd(Ka.step),this.unhighlight(2,0,this.removeLastCodeID,"english"),this.unhighlight(3,0,this.removeLastCodeID,"code"),this.highlight(3,0,this.removeLastCodeID,"english"),this.highlight(4,0,this.removeLastCodeID,"code"),this.cmd(Ka.setText,this.leftoverLabelID,"Removed Value: "),this.cmd(Ka.setText,this.leftoverValID,n),this.cmd(Ka.setText,this.formulaLabelID,""),this.cmd(Ka.setText,this.arrayID[i],""),this.cmd(Ka.delete,t),this.cmd(Ka.delete,e),this.cmd(Ka.step),this.highlight(4,0,this.removeLastCodeID,"english"),this.highlight(5,0,this.removeLastCodeID,"code"),this.cmd(Ka.setHighlight,this.sizeID,1),this.cmd(Ka.step),this.cmd(Ka.setText,this.sizeID,this.size-1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.sizeID,0),this.cmd(Ka.step),this.unhighlight(3,0,this.removeLastCodeID),this.unhighlight(4,0,this.removeLastCodeID),this.unhighlight(5,0,this.removeLastCodeID,"code"),this.unhighlight(0,0,this.removeLastCodeID),this.size--,this.nextIndex=this.nextIndex-2,this.removeCode(this.removeLastCodeID),this.commands}resize(t,e){this.commands=[],e?this.addFirstCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFirst",el,il):this.addLastCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addLast",el,il);const i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++;this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size);const n=e?1:0;for(let c=0;c<2*this.size;c++)this.arrayIDNew[c]=this.nextIndex++,this.arrayLabelIDNew[c]=this.nextIndex++,c<this.size&&(this.arrayDataNew[c+n]=this.arrayData[(this.front+c)%this.arraySize]);const a=e?": elements shifted by 1":"";e?(this.highlight(0,0,this.addFirstCodeID),this.highlight(1,0,this.addFirstCodeID)):(this.highlight(0,0,this.addLastCodeID),this.highlight(1,0,this.addLastCodeID)),this.cmd(Ka.createLabel,i,"Enqueuing Value:",Go,Yo),this.cmd(Ka.createLabel,s,t,Qo,Zo),this.cmd(Ka.createLabel,h,`(Resize Required${a})`,e?160:60,60),this.cmd(Ka.step),e?this.highlight(2,0,this.addFirstCodeID):this.highlight(2,0,this.addLastCodeID);for(let c=0;c<2*this.size;c++){const t=c%$o*Mo+100,e=Math.floor(c/$o)*qo+340;this.cmd(Ka.createRectangle,this.arrayIDNew[c],"",Mo,Vo,t,e),this.cmd(Ka.createLabel,this.arrayLabelIDNew[c],c,t,e+Vo),this.cmd(Ka.setForegroundColor,this.arrayLabelIDNew[c],"#0000FF")}this.cmd(Ka.step),this.highlight1ID=this.nextIndex++,this.arrayMoveID=new Array(this.size),e?(this.unhighlight(2,0,this.addFirstCodeID),this.highlight(3,0,this.addFirstCodeID),this.highlight(4,0,this.addFirstCodeID)):(this.unhighlight(2,0,this.addLastCodeID),this.highlight(3,0,this.addLastCodeID),this.highlight(4,0,this.addLastCodeID));for(let c=0;c<this.size;c++){const t=(this.front+c)%this.arraySize%$o*Mo+No,e=Math.floor((this.front+c)%this.arraySize/$o)*qo+Ho,i=(c+n)%$o*Mo+100,s=Math.floor((c+n)/$o)*qo+340;this.arrayMoveID[c]=this.nextIndex++,this.cmd(Ka.createLabel,this.arrayMoveID[c],this.arrayData[(this.front+c)%this.arraySize],t,e),this.cmd(Ka.move,this.arrayMoveID[c],i,s),this.cmd(Ka.step)}for(let c=0;c<this.size;c++)this.cmd(Ka.delete,this.arrayMoveID[c]),this.cmd(Ka.setText,this.arrayIDNew[c+n],this.arrayDataNew[c+n]);this.cmd(Ka.step),e?(this.unhighlight(3,0,this.addFirstCodeID),this.unhighlight(4,0,this.addFirstCodeID),this.highlight(5,0,this.addFirstCodeID)):(this.unhighlight(3,0,this.addLastCodeID),this.unhighlight(4,0,this.addLastCodeID),this.highlight(5,0,this.addLastCodeID));for(let c=0;c<this.size;c++)this.cmd(Ka.delete,this.arrayID[c]),this.cmd(Ka.delete,this.arrayLabelID[c]);for(let c=0;c<2*this.size;c++){const t=c%$o*Mo+No,e=Math.floor(c/$o)*qo+Ho;this.cmd(Ka.move,this.arrayIDNew[c],t,e),this.cmd(Ka.move,this.arrayLabelIDNew[c],t,e+Vo)}this.cmd(Ka.step),this.front=0,this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,e?(this.unhighlight(5,0,this.addFirstCodeID),this.highlight(6,0,this.addFirstCodeID)):(this.unhighlight(5,0,this.addLastCodeID),this.highlight(6,0,this.addLastCodeID)),this.cmd(Ka.setHighlight,this.frontID,1),this.cmd(Ka.setHighlight,this.frontPointerID,1),this.cmd(Ka.step),this.cmd(Ka.setText,this.frontID,this.front),this.cmd(Ka.move,this.frontPointerID,No,205),this.cmd(Ka.step),e?(this.unhighlight(1,0,this.addFirstCodeID),this.unhighlight(6,0,this.addFirstCodeID),this.highlight(9,0,this.addFirstCodeID)):(this.unhighlight(1,0,this.addLastCodeID),this.unhighlight(6,0,this.addLastCodeID),this.highlight(7,0,this.addLastCodeID)),this.cmd(Ka.setHighlight,this.frontID,0),this.cmd(Ka.setHighlight,this.frontPointerID,0);const r=e?this.front:(this.front+this.size)%this.arrayDataNew.length;this.cmd(Ka.delete,h),this.cmd(Ka.delete,s);const o=this.nextIndex++;this.cmd(Ka.createLabel,o,t,Qo,Zo),this.cmd(Ka.step),e?this.cmd(Ka.createHighlightCircle,this.highlight1ID,tl,Wo,Uo):this.cmd(Ka.createHighlightCircle,this.highlight1ID,tl,Ko,Xo),this.cmd(Ka.step);const l=r%$o*Mo+No,d=Math.floor(r/$o)*qo+Ho;return this.cmd(Ka.move,this.highlight1ID,this.front*Mo+No,d+Vo),this.cmd(Ka.step),this.cmd(Ka.move,this.highlight1ID,l,d+Vo),this.cmd(Ka.step),this.cmd(Ka.move,o,l,d),this.cmd(Ka.step),this.cmd(Ka.delete,o),this.cmd(Ka.delete,this.highlight1ID),this.arrayData[r]=t,this.cmd(Ka.setText,this.arrayID[r],t),this.cmd(Ka.step),e?(this.unhighlight(9,0,this.addFirstCodeID),this.highlight(10,0,this.addFirstCodeID)):(this.unhighlight(7,0,this.addLastCodeID),this.highlight(8,0,this.addLastCodeID)),this.cmd(Ka.setHighlight,this.sizeID,1),this.cmd(Ka.step),this.cmd(Ka.setText,this.sizeID,this.size+1),this.cmd(Ka.step),e?(this.unhighlight(0,0,this.addFirstCodeID),this.unhighlight(10,0,this.addFirstCodeID)):(this.unhighlight(0,0,this.addLastCodeID),this.unhighlight(8,0,this.addLastCodeID)),this.cmd(Ka.setHighlight,this.sizeID,0),this.cmd(Ka.delete,i),this.cmd(Ka.setText,this.leftoverLabelID,""),this.arraySize=2*this.size,this.size++,this.nextIndex=this.nextIndex-this.size,e?this.removeCode(this.addFirstCodeID):this.removeCode(this.addLastCodeID),this.commands}clearAll(){this.addField.value="",this.commands=[],this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,"");for(let t=0;t<this.arraySize;t++)this.cmd(Ka.setText,this.arrayID[t],"");this.front=0,this.size=0,this.cmd(Ka.setText,this.frontID,"0"),this.cmd(Ka.setText,this.sizeID,"0"),this.cmd(Ka.setPosition,this.frontPointerID,No,205);for(let t=7;t<this.arraySize;t++)this.cmd(Ka.delete,this.arrayID[t]),this.cmd(Ka.delete,this.arrayLabelID[t]);return this.arraySize=7,this.commands}},!0],DequeLL:["Deque (LinkedList)",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.tail_pos_y=i-30,this.tail_label_y=this.tail_pos_y,this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.addField=Ja("Text",""),this.addField.style.textAlign="center",this.addField.onkeydown=this.returnSubmit(this.addField,null,4,!0),this.controls.push(this.addField),this.addFirstButton=Ja("Button","Add First"),this.addFirstButton.onclick=this.addFirstCallback.bind(this),this.controls.push(this.addFirstButton),Ga("or"),this.addLastButton=Ja("Button","Add Last"),this.addLastButton.onclick=this.addLastCallback.bind(this),this.controls.push(this.addLastButton),tr(),this.removeFirstButton=Ja("Button","Remove First"),this.removeFirstButton.onclick=this.removeFirstCallback.bind(this),this.controls.push(this.removeFirstButton),Ga("or"),this.removeLastButton=Ja("Button","Remove Last"),this.removeLastButton.onclick=this.removeLastCallback.bind(this),this.controls.push(this.removeLastButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));const e=t.get("data").split(",").filter((t=>""!==t.trim()));e.reverse(),e.forEach((t=>{this.implementAction(this.add.bind(this),t.substring(0,4),0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(32),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.cmd(Ka.createLabel,this.headLabelID,"Head",130,100),this.cmd(Ka.createRectangle,this.headID,"",30,30,180,100),this.cmd(Ka.createLabel,this.tailLabelID,"Tail",130,this.tail_label_y),this.cmd(Ka.createRectangle,this.tailID,"",30,30,180,this.tail_pos_y),this.cmd(Ka.setNull,this.headID,1),this.cmd(Ka.setNull,this.tailID,1),this.cmd(Ka.createLabel,this.leftoverLabelID,"",60,30),this.cmd(Ka.createLabel,this.leftoverValID,"",130,30),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.size=0,this.nextIndex=this.initialIndex}addFirstCallback(){if(""!==this.addField.value){const t=parseInt(this.addField.value);this.addField.value="",this.implementAction(this.add.bind(this),t,0)}else this.shake(this.addFirstButton)}addLastCallback(){if(""!==this.addField.value){const t=parseInt(this.addField.value);this.addField.value="",this.implementAction(this.add.bind(this),t,this.size)}else this.shake(this.addLastButton)}removeFirstCallback(){this.size>0?this.implementAction(this.remove.bind(this),0):this.shake(this.removeFirstButton)}removeLastCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1):this.shake(this.removeLastButton)}randomCallback(){const t=Math.floor(4*Math.random())+2,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.add.bind(this),t,0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}add(t,e){this.commands=[];const i=this.nextIndex++,s=this.nextIndex++;for(let h=this.size-1;h>=e;h--)this.arrayData[h+1]=this.arrayData[h],this.linkedListElemID[h+1]=this.linkedListElemID[h];return this.arrayData[e]=t,this.linkedListElemID[e]=this.nextIndex++,this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.cmd(Ka.createDoublyLinkedListNode,this.linkedListElemID[e],"",100,30,200,50,.25),this.cmd(Ka.createLabel,i,"Enqueuing Value: ",60,30),this.cmd(Ka.createLabel,s,t,130,30),this.cmd(Ka.step),this.cmd(Ka.move,s,200,50),this.cmd(Ka.step),this.cmd(Ka.setText,this.linkedListElemID[e],t),this.cmd(Ka.delete,s),0===e&&(this.cmd(Ka.setPrevNull,this.linkedListElemID[e],1),this.cmd(Ka.connect,this.headID,this.linkedListElemID[e])),e===this.size&&(this.cmd(Ka.setNextNull,this.linkedListElemID[e],1),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[e])),0!==this.size&&(0===e?(this.cmd(Ka.setPrevNull,this.linkedListElemID[e+1],0),this.cmd(Ka.connectNext,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.cmd(Ka.connectPrev,this.linkedListElemID[e+1],this.linkedListElemID[e]),this.cmd(Ka.disconnect,this.headID,this.linkedListElemID[e+1])):e===this.size?(this.cmd(Ka.setNextNull,this.linkedListElemID[e-1],0),this.cmd(Ka.connectNext,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Ka.connectPrev,this.linkedListElemID[e],this.linkedListElemID[e-1]),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[e-1])):(this.cmd(Ka.disconnect,this.linkedListElemID[e-1],this.linkedListElemID[e+1]),this.cmd(Ka.disconnect,this.linkedListElemID[e+1],this.linkedListElemID[e-1]),this.cmd(Ka.connectNext,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Ka.connectPrev,this.linkedListElemID[e],this.linkedListElemID[e-1]),this.cmd(Ka.connectNext,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.cmd(Ka.connectPrev,this.linkedListElemID[e+1],this.linkedListElemID[e]))),this.cmd(Ka.step),this.size=this.size+1,this.resetNodePositions(),this.cmd(Ka.delete,i),this.cmd(Ka.step),this.commands}remove(t){this.commands=[],t=parseInt(t);const e=this.nextIndex++,i=this.nextIndex++;this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,"");const s=100+150*t;if(this.cmd(Ka.createLabel,e,"Removed Value: ",60,30),this.cmd(Ka.createLabel,i,this.arrayData[t],s,200),this.cmd(Ka.move,i,130,30),this.cmd(Ka.step),1!==this.size)if(0===t)this.cmd(Ka.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(Ka.setPrevNull,this.linkedListElemID[t+1],1),this.cmd(Ka.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(Ka.connect,this.headID,this.linkedListElemID[t+1]);else if(t===this.size-1)this.cmd(Ka.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Ka.setNextNull,this.linkedListElemID[t-1],1),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[t]),this.cmd(Ka.connect,this.tailID,this.linkedListElemID[t-1]);else{const e=t%8*150+100,i=140;this.cmd(Ka.move,this.linkedListElemID[t],e,i),this.cmd(Ka.step),this.cmd(Ka.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Ka.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(Ka.connectNext,this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd(Ka.connectPrev,this.linkedListElemID[t+1],this.linkedListElemID[t-1])}else this.cmd(Ka.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(Ka.disconnect,this.tailID,this.linkedListElemID[t]);this.cmd(Ka.setText,this.leftoverLabelID,"Removed Value: "),this.cmd(Ka.setText,this.leftoverValID,this.arrayData[t]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,e),this.cmd(Ka.step),this.cmd(Ka.delete,this.linkedListElemID[t]);for(let h=t;h<this.size;h++)this.arrayData[h]=this.arrayData[h+1],this.linkedListElemID[h]=this.linkedListElemID[h+1];return this.size=this.size-1,this.resetNodePositions(),this.commands}resetNodePositions(){for(let t=0;t<this.size;t++){const e=t%8*150+100,i=100*Math.floor(t/8)+200;this.cmd(Ka.move,this.linkedListElemID[t],e,i)}}clearAll(){this.addField.value="",this.commands=[];for(let t=0;t<this.size;t++)this.cmd(Ka.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(Ka.setNull,this.headID,1),this.cmd(Ka.setNull,this.tailID,1),this.cmd(Ka.setText,this.leftoverLabelID,""),this.cmd(Ka.setText,this.leftoverValID,""),this.commands}}],BST:["Binary Search Tree",jr,!0],Heap:["Heap (PriorityQueue)",class extends hr{constructor(t){super(t),this.addControls(),this.nextIndex=0,this.array_size=8,this.order="smaller",this.setup()}addControls(){this.controls=[],this.insertField=Ja("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Ja("Button","Enqueue"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),tr(),this.removeButton=Ja("Button","Dequeue"),this.removeButton.onclick=this.removeCallback.bind(this),this.controls.push(this.removeButton),tr();const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 31 elements & no elements > 999',t);const e=er(!0,t);this.buildHeapField=Ja("Text","",e),this.buildHeapField.onkeydown=this.returnSubmit(this.buildHeapField,this.buildHeapCallback.bind(this),50,!1),this.controls.push(this.buildHeapField),this.buildHeapButton=Ja("Button","BuildHeap",e),this.buildHeapButton.onclick=this.buildHeapCallback.bind(this),this.controls.push(this.buildHeapButton),this.randomButton=Ja("Button","Random",e),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr();const i=Za(["MinHeap","MaxHeap"],"MinHeap/MaxHeap");this.minHeapButton=i[0],this.minHeapButton.onclick=this.minHeapCallback.bind(this),this.minHeapButton.checked=!0,this.maxHeapButton=i[1],this.maxHeapButton.onclick=this.maxHeapCallback.bind(this),this.isMinHeap=!0,this.controls.push(this.minHeapButton),this.controls.push(this.maxHeapButton)}createArray(){this.commands=[],this.arrayData=new Array(this.array_size),this.arrayLabels=new Array(this.array_size),this.arrayRects=new Array(this.array_size),this.circleObjs=new Array(this.array_size),this.arrayXPositions=new Array(this.array_size),this.currentHeapSize=0;for(let t=0;t<this.array_size;t++)this.arrayXPositions[t]=30+t*dl,this.arrayLabels[t]=this.nextIndex++,this.arrayRects[t]=this.nextIndex++,this.circleObjs[t]=this.nextIndex++,this.cmd(Ka.createRectangle,this.arrayRects[t],"",dl,25,this.arrayXPositions[t],cl),this.cmd(Ka.createLabel,this.arrayLabels[t],t,this.arrayXPositions[t],75),this.cmd(Ka.setForegroundColor,this.arrayLabels[t],"#0000FF");return this.cmd(Ka.setText,this.arrayRects[0],"null"),this.commands}setURLData(t){if(t.has("type")){const e=t.get("type");"min"===e?(this.isMinHeap=!0,this.minHeapButton.checked=!0,this.maxHeapButton.checked=!1):"max"===e&&(this.isMinHeap=!1,this.maxHeapButton.checked=!0,this.minHeapButton.checked=!1)}if(t.has("data")){const e=t.get("data");this.buildHeapField.value=e,this.buildHeapCallback()}}setup(){this.swapLabel1=this.nextIndex++,this.swapLabel2=this.nextIndex++,this.swapLabel3=this.nextIndex++,this.swapLabel4=this.nextIndex++,this.descriptLabel1=this.nextIndex++,this.descriptLabel2=this.nextIndex++,this.descriptLabel3=this.nextIndex++,this.resetIndex=this.nextIndex,this.infoLabelID=this.nextIndex++,this.createArray(),this.cmd(Ka.createLabel,this.descriptLabel1,"",20,10,0),this.cmd(Ka.createLabel,this.descriptLabel3,"",300,10,0),this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}insertCallback(){const t=this.normalizeNumber(this.insertField.value,4);""!==t?(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t))):this.shake(this.insertButton)}removeCallback(){this.implementAction(this.remove.bind(this))}clearCallback(){this.implementAction(this.clear.bind(this)),this.implementAction(this.resize.bind(this),8,!1)}buildHeapCallback(){const t=this.buildHeapField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.buildHeap.bind(this),t)}randomCallback(){const t=Math.floor(14*Math.random())+5;let e="";for(let i=0;i<t;i++)e+=(Math.floor(13*Math.random())+1).toString(),i<t-1&&(e+=",");this.buildHeapField.value=e}minHeapCallback(){this.isMinHeap||(this.clearCallback(),this.isMinHeap=!0,this.order="smaller")}maxHeapCallback(){this.isMinHeap&&(this.clearCallback(),this.isMinHeap=!1,this.order="larger")}clear(t){for(t||(this.buildHeapField.value=""),this.insertField.value="",this.commands=[];this.currentHeapSize>0;)this.cmd(Ka.delete,this.circleObjs[this.currentHeapSize]),this.cmd(Ka.setText,this.arrayRects[this.currentHeapSize],""),this.currentHeapSize--;return this.cmd(Ka.setText,this.descriptLabel1,""),this.cmd(Ka.setText,this.infoLabelID,""),this.commands}reset(){this.currentHeapSize=0,this.array_size=8,this.nextIndex=this.resetIndex,this.infoLabelID=this.nextIndex++,this.arrayData=new Array(this.array_size),this.arrayLabels=new Array(this.array_size),this.arrayRects=new Array(this.array_size),this.circleObjs=new Array(this.array_size),this.arrayXPositions=new Array(this.array_size);for(let t=0;t<this.array_size;t++)this.arrayXPositions[t]=30+t*dl,this.arrayLabels[t]=this.nextIndex++,this.arrayRects[t]=this.nextIndex++,this.circleObjs[t]=this.nextIndex++}swap(t,e){this.cmd(Ka.setText,this.arrayRects[t],""),this.cmd(Ka.setText,this.arrayRects[e],""),this.cmd(Ka.setText,this.circleObjs[t],""),this.cmd(Ka.setText,this.circleObjs[e],""),this.cmd(Ka.createLabel,this.swapLabel1,this.arrayData[t],this.arrayXPositions[t],cl),this.cmd(Ka.createLabel,this.swapLabel2,this.arrayData[e],this.arrayXPositions[e],cl),this.cmd(Ka.createLabel,this.swapLabel3,this.arrayData[t],ul[t],ml[t]),this.cmd(Ka.createLabel,this.swapLabel4,this.arrayData[e],ul[e],ml[e]),this.cmd(Ka.move,this.swapLabel1,this.arrayXPositions[e],cl),this.cmd(Ka.move,this.swapLabel2,this.arrayXPositions[t],cl),this.cmd(Ka.move,this.swapLabel3,ul[e],ml[e]),this.cmd(Ka.move,this.swapLabel4,ul[t],ml[t]);const i=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=i,this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayRects[t],this.arrayData[t]),this.cmd(Ka.setText,this.arrayRects[e],this.arrayData[e]),this.cmd(Ka.setText,this.circleObjs[t],this.arrayData[t]),this.cmd(Ka.setText,this.circleObjs[e],this.arrayData[e]),this.cmd(Ka.delete,this.swapLabel1),this.cmd(Ka.delete,this.swapLabel2),this.cmd(Ka.delete,this.swapLabel3),this.cmd(Ka.delete,this.swapLabel4)}setIndexHighlight(t,e){this.cmd(Ka.setHighlight,this.circleObjs[t],e),this.cmd(Ka.setHighlight,this.arrayRects[t],e)}pushDown(t){let e;for(;2*t<=this.currentHeapSize;){if(e=2*t,2*t+1<=this.currentHeapSize&&(this.cmd(Ka.setText,this.descriptLabel3,`Finding ${this.order} of two children`),this.setIndexHighlight(2*t,1),this.setIndexHighlight(2*t+1,1),this.cmd(Ka.step),this.setIndexHighlight(2*t,0),this.setIndexHighlight(2*t+1,0),this.downheapCheckRightChild(t)&&(e=2*t+1)),this.cmd(Ka.setText,this.descriptLabel3,"Comparing child to parent"),this.setIndexHighlight(t,1),this.setIndexHighlight(e,1),this.cmd(Ka.step),this.setIndexHighlight(t,0),this.setIndexHighlight(e,0),this.cmd(Ka.setText,this.descriptLabel3,""),!this.downheapCompare(e,t))return;this.swap(e,t),t=e}}downheapCheckRightChild(t){if(this.isMinHeap){if(this.arrayData[2*t+1]<this.arrayData[2*t])return!0}else if(this.arrayData[2*t+1]>this.arrayData[2*t])return!0}downheapCompare(t,e){if(this.isMinHeap){if(this.arrayData[t]<this.arrayData[e])return!0}else if(this.arrayData[t]>this.arrayData[e])return!0}remove(){return this.commands=[],this.cmd(Ka.setText,this.descriptLabel1,""),0===this.currentHeapSize?(this.shake(this.removeButton),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.descriptLabel1,"Heap is empty, cannot dequeue"),this.commands):(this.cmd(Ka.setText,this.descriptLabel1,"Removing element:"),this.cmd(Ka.createLabel,this.descriptLabel2,this.arrayData[1],ul[1],ml[1],0),this.cmd(Ka.setText,this.circleObjs[1],""),this.cmd(Ka.move,this.descriptLabel2,120,40),this.cmd(Ka.step),this.cmd(Ka.delete,this.descriptLabel2),this.cmd(Ka.setText,this.descriptLabel1,"Removing element: "+this.arrayData[1]),this.arrayData[1]="",this.currentHeapSize>1?(this.cmd(Ka.setText,this.arrayRects[1],""),this.cmd(Ka.setText,this.arrayRects[this.currentHeapSize],""),this.swap(1,this.currentHeapSize),this.cmd(Ka.delete,this.circleObjs[this.currentHeapSize]),this.currentHeapSize--,this.pushDown(1)):(this.cmd(Ka.setText,this.arrayRects[1],""),this.cmd(Ka.delete,this.circleObjs[this.currentHeapSize]),this.currentHeapSize--),this.commands)}buildHeap(t){if(this.commands=[],!t.length)return this.shake(this.buildHeapButton),this.cmd(Ka.setText,this.infoLabelID,'BuildHeap list must contain integers such as "3,1,2"'),this.commands;if(t.length>31)return this.cmd(Ka.setText,this.infoLabelID,`BuildHeap list cannot contain more than 31 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.cmd(Ka.setText,this.infoLabelID,"BuildHeap list cannot contain non-numeric values or numbers > 999"),this.commands;this.buildHeapField.value="",this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,31),this.arrayData=[...new Set(this.arrayData)],this.arrayData.unshift(0),this.currentHeapSize=this.arrayData.length-1;const e=Math.min(32,2*this.currentHeapSize+1);this.array_size!==e&&(this.commands=this.resize(e,!1)),this.cmd(Ka.setText,this.descriptLabel1,"Adding data to array"),this.cmd(Ka.step);for(let s=1;s<=this.currentHeapSize;s++)this.cmd(Ka.createCircle,this.circleObjs[s],this.arrayData[s],ul[s],ml[s]),this.cmd(Ka.setText,this.arrayRects[s],this.arrayData[s]),s>1&&this.cmd(Ka.connect,this.circleObjs[Math.floor(s/2)],this.circleObjs[s]);this.cmd(Ka.step),this.cmd(Ka.setText,this.descriptLabel1,"Enforcing order property using downheap");let i=this.currentHeapSize;for(;i>0;)this.pushDown(i),i-=1;return this.cmd(Ka.step),this.cmd(Ka.setText,this.descriptLabel1,"BuildHeap complete!"),this.commands}insertElement(t){if(this.commands=[],this.cmd(Ka.setText,this.descriptLabel1,""),this.currentHeapSize===this.array_size-1){if(this.currentHeapSize>=31)return this.cmd(Ka.setText,this.descriptLabel1,"Array would normally resize here, but there's not enough space on the screen for a larger heap. So here's a cute emoji of jack instead: V\u2022\u1d25\u2022V"),this.commands;{const t=Math.min(32,2*this.array_size);this.commands=this.resize(t,!0)}}this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.descriptLabel1,"Enqueueing Element: "+t),this.cmd(Ka.step),this.cmd(Ka.setText,this.descriptLabel1,"Enqueueing Element: "),this.currentHeapSize++,this.arrayData[this.currentHeapSize]=t,this.cmd(Ka.createCircle,this.circleObjs[this.currentHeapSize],"",ul[this.currentHeapSize],ml[this.currentHeapSize]),this.cmd(Ka.createLabel,this.descriptLabel2,t,120,45,1),this.currentHeapSize>1&&this.cmd(Ka.connect,this.circleObjs[Math.floor(this.currentHeapSize/2)],this.circleObjs[this.currentHeapSize]),this.cmd(Ka.move,this.descriptLabel2,ul[this.currentHeapSize],ml[this.currentHeapSize]),this.cmd(Ka.step),this.cmd(Ka.setText,this.circleObjs[this.currentHeapSize],t),this.cmd(Ka.delete,this.descriptLabel2),this.cmd(Ka.setText,this.arrayRects[this.currentHeapSize],t);let e=this.currentHeapSize,i=Math.floor(e/2);for(e>1&&(this.setIndexHighlight(e,1),this.setIndexHighlight(i,1),this.cmd(Ka.setText,this.descriptLabel3,"Comparing child to parent"),this.cmd(Ka.step),this.setIndexHighlight(e,0),this.setIndexHighlight(i,0));e>1&&this.upheapCompare(e,i);)this.swap(e,i),e=i,i=Math.floor(i/2),e>1&&(this.setIndexHighlight(e,1),this.setIndexHighlight(i,1),this.cmd(Ka.setText,this.descriptLabel3,"Comparing child to parent"),this.cmd(Ka.step),this.setIndexHighlight(e,0),this.setIndexHighlight(i,0));return this.cmd(Ka.setText,this.descriptLabel1,""),this.cmd(Ka.setText,this.descriptLabel3,""),this.commands}resize(t,e){this.commands=[];const i=this.nextIndex++;e&&(this.cmd(Ka.createLabel,i,"Resize Required: size == array.length - 1",400,20),this.cmd(Ka.step),32===t?this.cmd(Ka.setText,i,"Resizing to 32 (Max array size)"):this.cmd(Ka.setText,i,"Resizing to 2 * array.length"));const s=this.array_size;this.array_size=t,this.newArrayData=new Array(this.array_size),this.newArrayLabels=new Array(this.array_size),this.newArrayRects=new Array(this.array_size),this.newCircleObjs=new Array(this.array_size),this.newArrayXPositions=new Array(this.array_size);for(let h=0;h<this.array_size;h++)this.newArrayLabels[h]=this.nextIndex++,this.newArrayRects[h]=this.nextIndex++,this.newArrayXPositions[h]=30+h*dl,this.newCircleObjs[h]=h<s?this.circleObjs[h]:this.nextIndex++,this.newArrayData[h]=this.arrayData[h];if(e){for(let t=0;t<this.array_size;t++)this.cmd(Ka.createRectangle,this.newArrayRects[t],"",dl,25,this.newArrayXPositions[t],100),this.cmd(Ka.createLabel,this.newArrayLabels[t],t,this.newArrayXPositions[t],125),this.cmd(Ka.setForegroundColor,this.newArrayLabels[t],"#0000FF");this.cmd(Ka.step),this.arrayMoveID=new Array(this.oldSize);for(let t=0;t<=this.currentHeapSize;t++)this.arrayMoveID[t]=this.nextIndex++,0===t?this.cmd(Ka.createLabel,this.arrayMoveID[t],"null",this.arrayXPositions[t],cl):this.cmd(Ka.createLabel,this.arrayMoveID[t],this.arrayData[t],this.arrayXPositions[t],cl),this.cmd(Ka.move,this.arrayMoveID[t],this.newArrayXPositions[t],100);this.cmd(Ka.step);for(let t=0;t<s;t++)this.cmd(Ka.delete,this.arrayMoveID[t]),this.cmd(Ka.setText,this.newArrayRects[t],this.newArrayData[t]);this.cmd(Ka.setText,this.newArrayRects[0],"null"),this.cmd(Ka.step)}for(let h=0;h<s;h++)this.cmd(Ka.delete,this.arrayLabels[h]),this.cmd(Ka.delete,this.arrayRects[h]);if(this.cmd(Ka.step),this.arrayData=this.newArrayData,this.arrayLabels=this.newArrayLabels,this.arrayXPositions=this.newArrayXPositions,this.arrayRects=this.newArrayRects,this.circleObjs=this.newCircleObjs,e){for(let t=0;t<this.array_size;t++)this.cmd(Ka.move,this.arrayRects[t],this.arrayXPositions[t],cl),this.cmd(Ka.move,this.arrayLabels[t],this.arrayXPositions[t],75);this.cmd(Ka.delete,i)}else{for(let t=0;t<this.array_size;t++)this.cmd(Ka.createRectangle,this.arrayRects[t],"",dl,25,this.arrayXPositions[t],cl),this.cmd(Ka.createLabel,this.arrayLabels[t],t,this.arrayXPositions[t],75),this.cmd(Ka.setForegroundColor,this.newArrayLabels[t],"#0000FF");this.cmd(Ka.setText,this.arrayRects[0],"null")}return this.commands}upheapCompare(t,e){if(this.isMinHeap){if(this.arrayData[t]<this.arrayData[e])return!0}else if(this.arrayData[t]>this.arrayData[e])return!0}disableUI(){this.controls.forEach((t=>t.disabled=!0))}enableUI(){this.controls.forEach((t=>t.disabled=!1))}}],SkipList:["SkipList",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1),e=er(!0,t),i=er(!0,t);tr();const s=er(!1),h=er(!0,s),n=er(!0,s);Ga("Add",e),this.addValueField=Ja("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.setAttribute("placeholder","Value"),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,this.addWithHeadsCallback.bind(this),4,!0),this.controls.push(this.addValueField),Ga("with",e),this.headsField=Ja("Text","",e),this.headsField.style.textAlign="center",this.headsField.setAttribute("placeholder","#"),this.headsField.onkeydown=this.returnSubmit(this.headsField,this.addWithHeadsCallback.bind(this),4,!0),this.controls.push(this.headsField),Ga("heads (Max 4)",e),this.addWithHeadsButton=Ja("Button","Add",i),this.addWithHeadsButton.onclick=this.addWithHeadsCallback.bind(this),this.controls.push(this.addWithHeadsButton),Ga("Add",h),this.addValueFieldRandom=Ja("Text","",h),this.addValueFieldRandom.style.textAlign="center",this.addValueFieldRandom.setAttribute("placeholder","Value"),this.addValueFieldRandom.onkeydown=this.returnSubmit(this.addValueFieldRandom,this.addRandomlyCallback.bind(this),4,!0),this.controls.push(this.addValueFieldRandom),Ga("with random coin flip",h),this.addRandomlyButton=Ja("Button","Add",n),this.addRandomlyButton.onclick=this.addRandomlyCallback.bind(this),this.controls.push(this.addRandomlyButton),tr(),this.removeField=Ja("Text",""),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,this.removeCallback.bind(this),4,!0),this.controls.push(this.removeField),this.removeButton=Ja("Button","Remove"),this.removeButton.onclick=this.removeCallback.bind(this),this.controls.push(this.removeButton),tr(),this.getField=Ja("Text",""),this.getField.style.textAlign="center",this.getField.onkeydown=this.returnSubmit(this.getField,this.getCallback.bind(this),4,!0),this.controls.push(this.getField),this.getButton=Ja("Button","Get"),this.getButton.onclick=this.getCallback.bind(this),this.controls.push(this.getButton),tr();const a=er(!1);this.randomButton=Ja("Button","Random",a),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=Ja("Button","Clear",a),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.addValueFieldRandom.value=t,this.addRandomlyCallback(),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.commands=[],this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.seed=Math.floor(100*Math.random())%Td.length,this.seedStart=this.seed,this.cmd(Ka.createSkipListNode,this.nodeID[0][0],_d,Fd,Fd,Ld,Sd),this.cmd(Ka.createSkipListNode,this.nodeID[1][0],"\u221e",Fd,Fd,180,Sd),this.cmd(Ka.connectSkipList,this.nodeID[0][0],this.nodeID[1][0],3),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.seed=this.seedStart}addRandomlyCallback(){if(""!==this.addValueFieldRandom.value){const t=parseInt(this.addValueFieldRandom.value);this.addValueFieldRandom.value="",this.headsField.value="",this.implementAction(this.add.bind(this),t)}else this.shake(this.addRandomlyButton)}addWithHeadsCallback(){if(""!==this.addValueField.value&&""!==this.headsField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="";const e=parseInt(this.headsField.value);this.headsField.value="",this.implementAction(this.add.bind(this),t,e)}else this.shake(this.addWithHeadsButton)}removeCallback(){if(""!==this.removeField.value){const t=parseInt(this.removeField.value);this.removeField.value="",this.implementAction(this.remove.bind(this),t)}else this.shake(this.removeButton)}getCallback(){if(""!==this.getField.value){const t=parseInt(this.getField.value);this.getField.value="",this.implementAction(this.get.bind(this),t)}else this.shake(this.getButton)}randomCallback(){const t=Math.floor(7*Math.random())+2;this.implementAction(this.clearAll.bind(this));for(let e=0;e<t;e++){const t=Math.floor(5*Math.random())+0;this.implementAction(this.add.bind(this),Math.floor(51*Math.random())+0,t),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}add(t,e){this.commands=[],void 0===e&&(e=Td[this.seed++%Td.length]),e=Math.min(e,4);const i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,n=this.nextIndex++,a=this.nextIndex++;let r="";for(let m=0;m<e;m++)r+="H";r+="T",this.cmd(Ka.createLabel,i,"Value to add:",50,23),this.cmd(Ka.createLabel,s,t,120,23),this.cmd(Ka.createLabel,h,"Coin Flipper:",50,37),this.cmd(Ka.createLabel,n,r,120,37),this.cmd(Ka.createLabel,a,"",250,30),this.cmd(Ka.step);for(let m=this.nodeID[0].length;m<=e;m++){const t=this.nodeID.length-1;this.data[0][m]=Number.NEGATIVE_INFINITY,this.nodeID[0][m]=this.nextIndex++,this.cmd(Ka.createSkipListNode,this.nodeID[0][m],_d,Fd,Fd,Ld,Sd-Ad*m),this.data[t][m]=Number.POSITIVE_INFINITY,this.nodeID[t][m]=this.nextIndex++,this.cmd(Ka.createSkipListNode,this.nodeID[t][m],"\u221e",Fd,Fd,Ld+Ad*t,Sd-Ad*m),this.cmd(Ka.connectSkipList,this.nodeID[0][m],this.nodeID[t][m],3),this.cmd(Ka.connectSkipList,this.nodeID[0][m-1],this.nodeID[0][m],0),this.cmd(Ka.connectSkipList,this.nodeID[t][m-1],this.nodeID[t][m],0),this.cmd(Ka.step)}let o=1;for(;t>this.data[o][0];)o++;if(t!==this.data[o][0]){for(let t=this.nodeID.length-1;t>=o;t--)this.nodeID[t+1]=this.nodeID[t],this.data[t+1]=this.data[t];this.nodeID[o]=[],this.data[o]=[]}let l=0,d=this.nodeID[0].length-1;const c=this.nextIndex++;this.cmd(Ka.createHighlightCircle,c,"#FF0000",Ld,Sd-Ad*d),this.cmd(Ka.setHighlight,c,1),this.cmd(Ka.step);let u=!1;for(;d>=0;){let e=this.getNextCol(l,d);if(t===this.data[e][d]){l=e,u=!0;break}for(;t>this.data[e][d];)this.cmd(Ka.move,c,Ld+Ad*e,Sd-Ad*d),this.cmd(Ka.step),l=e,e=this.getNextCol(l,d);if(t===this.data[e][d]){l=e,u=!0;break}d--,d>=0&&(this.cmd(Ka.move,c,Ld+Ad*l,Sd-Ad*d),this.cmd(Ka.step))}for(u?(this.cmd(Ka.move,c,Ld+Ad*l,Sd-Ad*d),this.cmd(Ka.step),this.cmd(Ka.setText,a,"Duplicate found!"),this.cmd(Ka.step)):this.shiftColumns(o),d++,this.cmd(Ka.createCircle,this.nextIndex++,"",-100,-100,0);d<=e;){this.cmd(Ka.setText,a,"Adding data"),this.cmd(Ka.step),this.data[o][d]=t,this.nodeID[o][d]=this.nextIndex++,this.cmd(Ka.createSkipListNode,this.nodeID[o][d],t,Fd,Fd,Ld+Ad*o,Sd-Ad*d);const e=this.getPrevCol(o,d),i=this.getNextCol(o,d);this.cmd(Ka.disconnect,this.nodeID[e][d],this.nodeID[i][d]),this.cmd(Ka.connectSkipList,this.nodeID[e][d],this.nodeID[o][d],3),this.cmd(Ka.connectSkipList,this.nodeID[o][d],this.nodeID[i][d],3),0!==d&&this.cmd(Ka.connectSkipList,this.nodeID[o][d-1],this.nodeID[o][d],0),this.cmd(Ka.step),this.cmd(Ka.move,c,Ld+Ad*o,Sd-Ad*d),this.cmd(Ka.step),d++}return this.cmd(Ka.delete,i),this.cmd(Ka.delete,s),this.cmd(Ka.delete,h),this.cmd(Ka.delete,n),this.cmd(Ka.delete,c),this.cmd(Ka.delete,a),this.size++,this.commands}remove(t){this.commands=[];const e=parseInt(t),i=this.nextIndex++,s=this.nextIndex++;this.cmd(Ka.createLabel,i,"Value to remove:",50,23),this.cmd(Ka.createLabel,s,e,120,23),this.cmd(Ka.step);let h=0,n=this.nodeID[0].length-1,a=-1;const r=this.nextIndex++;for(this.cmd(Ka.createHighlightCircle,r,"#FF0000",Ld,Sd-Ad*n),this.cmd(Ka.step);n>=0;){let t=this.getNextCol(h,n);for(;e>this.data[t][n];)this.cmd(Ka.move,r,Ld+Ad*t,Sd-Ad*n),this.cmd(Ka.step),h=t,t=this.getNextCol(h,n);if(e===this.data[t][n])for(a=t,h=t,this.cmd(Ka.move,r,Ld+Ad*h,Sd-Ad*n),this.cmd(Ka.step);n>=0;){t=this.getNextCol(h,n);const e=this.getPrevCol(h,n);this.cmd(Ka.disconnect,this.nodeID[e][n],this.nodeID[h][n]),this.cmd(Ka.disconnect,this.nodeID[h][n],this.nodeID[t][n]),null!=this.nodeID[h][n+1]&&this.cmd(Ka.disconnect,this.nodeID[h][n+1],this.nodeID[h][n]),this.cmd(Ka.connectSkipList,this.nodeID[e][n],this.nodeID[t][n],3),this.cmd(Ka.delete,this.nodeID[h][n]),this.cmd(Ka.step),n--,-1!==n&&(this.cmd(Ka.move,r,Ld+Ad*h,Sd-Ad*n),this.cmd(Ka.step))}else n--,-1!==n&&(this.cmd(Ka.move,r,Ld+Ad*h,Sd-Ad*n),this.cmd(Ka.step))}if(this.cmd(Ka.delete,i),this.cmd(Ka.delete,s),this.cmd(Ka.delete,r),-1!==a){for(let t=a;t<this.nodeID.length-1;t++)this.nodeID[t]=this.nodeID[t+1],this.data[t]=this.data[t+1];this.nodeID.pop(),this.data.pop(),this.shiftColumns(a)}let o=1;for(let l=1;l<this.nodeID.length-1;l++)o=Math.max(o,this.nodeID[l].length);for(let l=this.nodeID[0].length-1;l>=o;l--){this.data[0].pop();const t=this.nodeID[0].pop();this.cmd(Ka.delete,t);const e=this.nodeID.length-1;this.data[e].pop();const i=this.nodeID[e].pop();this.cmd(Ka.delete,i)}return this.cmd(Ka.step),this.size--,this.commands}get(t){this.commands=[];const e=parseInt(t);let i=0,s=this.nodeID[0].length-1;const h=this.nextIndex++;for(this.cmd(Ka.createHighlightCircle,h,"#FF0000",Ld,Sd-Ad*s),this.cmd(Ka.setHighlight,h,1),this.cmd(Ka.step);s>=0&&e!==this.data[i][s];){let t=this.getNextCol(i,s);for(;e>=this.data[t][s];)this.cmd(Ka.move,h,Ld+Ad*t,Sd-Ad*s),this.cmd(Ka.step),i=t,t=this.getNextCol(i,s);e!==this.data[i][s]&&(s--,this.cmd(Ka.move,h,Ld+Ad*i,Sd-Ad*s),this.cmd(Ka.step))}return this.cmd(Ka.delete,h),this.commands}shiftColumns(t){for(;t<this.nodeID.length;t++)for(let e=0;e<this.nodeID[t].length;e++)null!=this.nodeID[t][e]&&this.cmd(Ka.move,this.nodeID[t][e],Ld+Ad*t,Sd-Ad*e);this.cmd(Ka.step)}getNextCol(t,e){for(t++;null==this.data[t][e];)t++;return t}getPrevCol(t,e){for(t--;null==this.data[t][e];)t--;return t}clearAll(){this.addValueField.value="",this.removeField.value="",this.getField.value="",this.headsField.value="",this.addValueFieldRandom.value="",this.commands=[];for(let t=0;t<this.nodeID.length;t++)for(let e=0;e<this.nodeID[t].length;e++)this.cmd(Ka.delete,this.nodeID[t][e]);return this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.cmd(Ka.createSkipListNode,this.nodeID[0][0],_d,Fd,Fd,Ld,Sd),this.cmd(Ka.createSkipListNode,this.nodeID[1][0],"\u221e",Fd,Fd,180,Sd),this.cmd(Ka.connectSkipList,this.nodeID[0][0],this.nodeID[1][0],3),this.cmd(Ka.step),this.commands}}],OpenHash:["HashMap (Probing)",class extends fo{constructor(t,e,i){super(t,e,i),this.elements_per_row=14,this.setup()}addControls(){super.addControls(),this.probeTypeLabel=Ga("Probe Type:",this.dropDownLabelGroup),this.probeTypeDropDown=Qa([["linear","Linear Probing: i = i_0 + probe_count"],["quadratic","Quadratic Probing: i = i_0 + probe_count^2"],["double","Double Hashing: i = i_0  + (probe_count * hash2(elem))"]],"Probing Type",this.dropDownGroup),this.probeTypeDropDown.style.width="132px",this.probeTypeDropDown.onchange=this.checkProbeType.bind(this),tr(),this.hashTypeParentGroup=er(!1),this.hashTypeLabelGroup=er(!0,this.hashTypeParentGroup),this.hashTypedropDownGroup=er(!0,this.hashTypeParentGroup),this.hashTypeLabel=Ga("Hash Type:",this.hashTypeLabelGroup),this.hashTypeDropDown=Qa([["Integers","Hash Integers"],["Strings","Hash Strings"],["True","True Hash Function"]],"Hash Type",this.hashTypedropDownGroup),this.hashTypeDropDown.onchange=this.checkHashType.bind(this),tr(),this.randomButton=Ja("Button","Random",this.randomGroup),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.currentProbeType="linear",this.initialCapacityField.value=7}checkProbeType(){"linear"===this.probeTypeDropDown.value?this.implementAction(this.changeProbeType.bind(this),"linear"):"quadratic"===this.probeTypeDropDown.value?this.implementAction(this.changeProbeType.bind(this),"quadratic"):"double"===this.probeTypeDropDown.value&&this.implementAction(this.changeProbeType.bind(this),"double")}changeProbeType(t){if("linear"===t){this.currentProbeType="linear";for(let t=0;t<this.table_size;t++)this.skipDist[t]=t+1}else if("quadratic"===t){this.currentProbeType="quadratic";for(let t=0;t<this.table_size;t++)this.skipDist[t]=(t+1)*(t+1)}else"double"===t&&(this.currentProbeType="double");return this.commands=this.resetAll(),this.commands}randomCallback(){const t=this.table_size*this.load_factor-1,e=Math.floor(Math.random()*(t-2+1))+2;this.implementAction(this.resetAll.bind(this));for(let i=0;i<e;i++){let t,e;if("integers"===this.hashType)t=Math.floor(17*Math.random())+0,e=Math.floor(17*Math.random())+0;else if("strings"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}else if("true"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ;:/?=+=_-*&^%$#@!";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}this.implementAction(this.insertElement.bind(this),t.toString(),e),this.animationManager.skipForward(),this.animationManager.clearHistory()}}insertElement(t,e){const i=new ko(t,e),s=i.elem;this.commands=[],(this.size+1)/this.table_size>this.load_factor&&2*this.table_size+1<yo&&this.resize(!1),this.cmd(Ka.setText,this.ExplainLabel,"Inserting element: "+s),this.cmd(Ka.step);let h=this.doHash(t);if(h=this.getEmptyIndex(h,t),-2===h&&2*this.table_size<yo)this.resize(!0),h=this.doHash(t),h=this.getEmptyIndex(h,t);else if(-2===h)return this.cmd(Ka.setText,this.ExplainLabel,"Array would normally resize after length number of probes,\n\t\t\t\thowever there just isn't enough space on the screen to resize. \n\t\t\t\tSo here's a cute emoji of jack instead: V\u2022\u1d25\u2022V"),this.commands;this.hashTableValues[h]&&this.hashTableValues[h].key===t&&!this.deleted[h]&&(this.cmd(Ka.setText,this.ExplainLabel,"Key "+t+" is already in HashMap, updating value.",""),this.size--);const n=this.nextIndex++;return this.cmd(Ka.createLabel,n,s,20,25),this.cmd(Ka.move,n,this.indexXPos[h],this.indexYPos[h]-bo),this.cmd(Ka.step),this.cmd(Ka.delete,n),this.cmd(Ka.setText,this.hashTableVisual[h],s),this.cmd(Ka.setHighlight,this.hashTableVisual[h],0),this.hashTableValues[h]=i,this.empty[h]=!1,this.deleted[h]=!1,this.size++,this.cmd(Ka.setText,this.ExplainLabel,""),this.cmd(Ka.setText,this.DelIndexLabel,""),this.commands}resetSkipDist(t,e){const i=this.nextLowestPrime-this.currHash%this.nextLowestPrime;this.cmd(Ka.createLabel,e,`hash2(${String(t)}) = ${this.nextLowestPrime} - ${String(this.currHash)} % ${this.nextLowestPrime} = ${String(i)}`,270,70,0),this.skipDist[0]=i;for(let s=1;s<this.table_size;s++)this.skipDist[s]=this.skipDist[s-1]+i;return i}getEmptyIndex(t,e){let i=-1,s=1;"double"===this.currentProbeType&&(i=this.nextIndex++,s=this.resetSkipDist(e,i));let h=0,n=-1;const a=t;for(this.cmd(Ka.setHighlight,this.hashTableVisual[t],1);h<this.table_size&&!this.empty[t]&&this.hashTableValues[t].key!==e;)this.cmd(Ka.setText,this.ExplainLabel,"Index occupied, so probe forward"),this.cmd(Ka.step),-1===n&&this.deleted[t]&&(this.cmd(Ka.setText,this.ExplainLabel,"Storing index of first deleted element"),this.cmd(Ka.setText,this.DelIndexLabel,"First Deleted Index: "+t),n=t,this.cmd(Ka.step)),this.cmd(Ka.setHighlight,this.hashTableVisual[t],0),this.cmd(Ka.setText,this.ExplainLabel,""),t=(a+this.skipDist[h])%this.table_size,"quadratic"===this.currentProbeType&&(s=h+1),this.cmd(Ka.setText,this.HashIndexID,`Index to probe: (${a} + ${h+1}*${s}) % ${this.table_size} = `+(a+this.skipDist[h])%this.table_size),this.cmd(Ka.setHighlight,this.hashTableVisual[t],1),this.empty[t]?this.cmd(Ka.setText,this.ExplainLabel,"Encountered null spot, so terminate loop"):this.hashTableValues[t].key===e&&this.cmd(Ka.setText,this.ExplainLabel,"Encountered matching key, so terminate loop"),h++,this.cmd(Ka.step);return this.cmd(Ka.setText,this.HashIndexID,""),-1!==i&&(this.cmd(Ka.delete,i),this.nextIndex--),this.empty[t]||this.hashTableValues[t].key!==e||this.deleted[t]?h===this.table_size&&-1===n?(this.cmd(Ka.setHighlight,this.hashTableVisual[t],0),-2):(-1!==n?(this.cmd(Ka.setHighlight,this.hashTableVisual[t],0),this.cmd(Ka.setText,this.ExplainLabel,"Inserting at earliest DEL spot"),t=n):null==this.hashTableValues[t]?this.cmd(Ka.setText,this.ExplainLabel,"Inserting at null spot"):this.hashTableValues[t].key===e&&this.cmd(Ka.setText,this.ExplainLabel,"Inserting at DEL spot with same key"),this.cmd(Ka.setHighlight,this.hashTableVisual[t],1),this.cmd(Ka.step),-1!==n?n:t):(this.cmd(Ka.setHighlight,this.hashTableVisual[t],0),t)}getElemIndex(t,e){let i=-1,s=1;"double"===this.currentProbeType&&(i=this.nextIndex++,s=this.resetSkipDist(e,i));const h=t;let n=-1,a=t;for(let r=0;r<this.table_size;r++){if(this.cmd(Ka.setHighlight,this.hashTableVisual[a],1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.hashTableVisual[a],0),!this.empty[a]&&!this.deleted[a]&&this.hashTableValues[a].key===e){n=a;break}if(this.empty[a]||this.deleted[a]&&this.hashTableValues[a].key===e)break;"quadratic"===this.currentProbeType&&(s=r+1),this.cmd(Ka.setText,this.HashIndexID,`Index to probe: (${h} + ${r+1}*${s}) % ${this.table_size} = `+(h+this.skipDist[r])%this.table_size),a=(t+this.skipDist[r])%this.table_size}return this.cmd(Ka.setText,this.HashIndexID,""),-1!==i&&(this.cmd(Ka.delete,i),this.nextIndex--),n}deleteElement(t){this.commands=[],this.cmd(Ka.setText,this.ExplainLabel,"Deleting element with key: "+t);let e=this.doHash(t);if(e=this.getElemIndex(e,t),e>=0){const t=this.hashTableValues[e].elem;this.cmd(Ka.setText,this.ExplainLabel,"Deleting element: "+t+"  Element deleted"),this.cmd(Ka.setText,this.hashTableVisual[e],`DEL ${t}`),this.deleted[e]=!0,this.size--}else this.cmd(Ka.setText,this.ExplainLabel,"Deleting element with key: "+t+"  Key not in table");return this.commands}findElement(t){this.commands=[],this.cmd(Ka.setText,this.ExplainLabel,"Finding Key: "+t);const e=this.doHash(t),i=this.getElemIndex(e,t);return-1!==i?this.cmd(Ka.setText,this.ExplainLabel,"Found Key: "+t+"  Value: "+this.hashTableValues[i].val):this.cmd(Ka.setText,this.ExplainLabel,"Finding Key: "+t+"  Not Found!"),this.commands}resize(t){this.cmd(Ka.setText,this.ExplainLabel,""),this.cmd(Ka.setText,this.DelIndexLabel,"");const e=this.nextIndex++;if(t?this.cmd(Ka.createLabel,e,`(Resize Required): ${this.table_size} elements probed`,400,20):this.cmd(Ka.createLabel,e,`(Resize Required): (Size + 1.0 / length) > Load Factor --\x3e (${this.size} + 1 / ${this.table_size}) > ${this.load_factor}`,400,20),this.table_size=2*this.table_size+1,2*this.table_size+1>yo&&(this.load_factor=.99,this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`)),this.cmd(Ka.step),this.oldHashTableVisual=this.hashTableVisual,this.oldHashTableValues=this.hashTableValues,this.oldskipDist=this.skipDist,this.oldempty=this.empty,this.olddeleted=this.deleted,this.oldIndexXPos=this.indexXPos,this.oldIndexYPos=this.indexYPos,this.oldindexLabelID=this.indexLabelID,this.hashTableValues=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.skipDist=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.indexLabelID=new Array(this.table_size),"linear"===this.currentProbeType)for(let s=0;s<this.table_size;s++)this.skipDist[s]=s+1;else if("quadratic"===this.currentProbeType)for(let s=0;s<this.table_size;s++)this.skipDist[s]=(s+1)*(s+1);for(let s=0;s<this.table_size;s++){this.hashTableVisual[s]=this.nextIndex++,this.empty[s]=!0,this.deleted[s]=!1;const t=xo+s%this.elements_per_row*Io,e=240+70*Math.floor(s/this.elements_per_row);this.cmd(Ka.createRectangle,this.hashTableVisual[s],"",Io,bo,t,e),this.indexLabelID[s]=this.nextIndex++,this.indexXPos[s]=t,this.indexYPos[s]=e+bo,this.cmd(Ka.createLabel,this.indexLabelID[s],s,this.indexXPos[s],this.indexYPos[s]),this.cmd(Ka.setForegroundColor,this.indexLabelID[s],vo)}this.cmd(Ka.step);let i=0;for(let s=0;s<this.table_size/2&&i<this.size;s++){if(this.cmd(Ka.setHighlight,this.oldHashTableVisual[s],1),this.cmd(Ka.step),!this.oldempty[s]&&!this.olddeleted[s]){const t=this.oldHashTableValues[s];let e=this.doHash(t.key);if(e=this.getEmptyIndex(e,t.key),-1!==e){const h=this.nextIndex++;this.cmd(Ka.createLabel,h,t.elem,this.oldIndexXPos[s],this.oldIndexYPos[s]-bo),this.cmd(Ka.move,h,this.indexXPos[e],this.indexYPos[e]-bo),this.cmd(Ka.step),this.cmd(Ka.delete,h),this.cmd(Ka.setText,this.hashTableVisual[e],t.elem),this.cmd(Ka.setHighlight,this.hashTableVisual[e],0),this.hashTableValues[e]=t,this.empty[e]=!1,this.deleted[e]=!1,i++}}this.cmd(Ka.setHighlight,this.oldHashTableVisual[s],0)}this.cmd(Ka.delete,e);for(let s=0;s<this.table_size;s++){const t=xo+s%this.elements_per_row*Io,e=110+70*Math.floor(s/this.elements_per_row);s<(this.table_size-1)/2&&(this.cmd(Ka.delete,this.oldHashTableVisual[s]),this.cmd(Ka.delete,this.oldindexLabelID[s])),this.cmd(Ka.move,this.hashTableVisual[s],t,e),this.cmd(Ka.move,this.indexLabelID[s],t,e+bo),this.indexYPos[s]=e+bo}return this.commands}changeLoadFactor(t){return this.commands=[],2*this.table_size+1<=yo?(this.load_factor=t,this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`)):this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}\n(Array length too large for resize)`),this.cmd(Ka.step),this.commands}resizeInitialTableCall(){this.clearCallback()}setup(){this.resetIndex=this.nextIndex,this.table_size=7,this.nextLowestPrime=11,this.load_factor=Do,this.skipDist=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.size=0,this.indexLabelID=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++,this.commands=[];for(let t=0;t<this.table_size;t++){this.skipDist[t]=t+1,this.hashTableVisual[t]=this.nextIndex++,this.empty[t]=!0,this.deleted[t]=!1;const e=xo+t%this.elements_per_row*Io,i=110+70*Math.floor(t/this.elements_per_row);this.cmd(Ka.createRectangle,this.hashTableVisual[t],"",Io,bo,e,i),this.indexLabelID[t]=this.nextIndex++,this.indexXPos[t]=e,this.indexYPos[t]=i+bo,this.cmd(Ka.createLabel,this.indexLabelID[t],t,this.indexXPos[t],this.indexYPos[t]),this.cmd(Ka.setForegroundColor,this.indexLabelID[t],vo)}this.cmd(Ka.createLabel,this.ExplainLabel,"",10,40,0),this.cmd(Ka.createLabel,this.HashIndexID,"",570,75),this.cmd(Ka.createLabel,this.DelIndexLabel,"",10,60,0),this.cmd(Ka.createLabel,this.loadFactorID,`Load Factor: ${this.load_factor}`,15,15,!1),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}resetAll(){this.commands=super.resetAll(),this.size=0;for(let t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableValues[t]=void 0,this.cmd(Ka.setText,this.hashTableVisual[t],"");return this.commands}reset(){this.nextIndex=this.resetIndex,this.table_size=7,this.load_factor=Do,this.size=0,this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.indexLabelID=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++;for(let t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableVisual[t]=this.nextIndex++,this.indexLabelID[t]=this.nextIndex++;super.reset()}clear(){this.commands=[],this.resetAll();for(let i=0;i<this.table_size;i++)this.cmd(Ka.delete,this.hashTableVisual[i]),this.cmd(Ka.delete,this.indexLabelID[i]);this.table_size=parseInt(this.initialCapacityField.value)?Math.min(Math.max(0,parseInt(this.initialCapacityField.value)),yo):7,2*this.table_size+1>yo?(this.load_factor=.99,this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}\n(Array length too large for resize)`),this.cmd(Ka.step)):(this.load_factor=Do,this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`),this.cmd(Ka.step)),this.empty=Array(this.table_size),this.deleted=Array(this.table_size);const t=Array(this.table_size),e=Array(this.table_size);this.hashTableValues=Array(this.table_size);for(let i=0;i<this.table_size;i++){t[i]=this.nextIndex++;const s=xo+i%this.elements_per_row*Io,h=110+70*Math.floor(i/this.elements_per_row);this.cmd(Ka.createRectangle,t[i],"",Io,bo,s,h),e[i]=this.nextIndex++,this.indexXPos[i]=s,this.indexYPos[i]=h+bo,this.cmd(Ka.createLabel,e[i],i,this.indexXPos[i],this.indexYPos[i]),this.cmd(Ka.setForegroundColor,e[i],vo),this.empty[i]=!0,this.deleted[i]=!1,this.hashTableValues[i]=void 0}return this.size=0,this.hashTableVisual=t,this.indexLabelID=e,this.commands}resetCallback(){}disableUI(){super.disableUI()}enableUI(){super.enableUI()}}],ClosedHash:["HashMap (Chaining)",class extends fo{constructor(t,e,i){super(t,e,i),this.nextIndex=0,this.POINTER_ARRAY_ELEM_Y=i-Ul,this.setup()}addControls(){super.addControls(),this.restartButton.onclick=this.resizeInitialTableCall.bind(this),this.hashTypeLabel=Ga("Hash Type:",this.dropDownLabelGroup),this.hashTypeDropDown=Qa([["Integers","Hash Integers"],["Strings","Hash Strings"],["True","True Hash Function"]],"Hash Type",this.dropDownParentGroup),this.hashTypeDropDown.onchange=this.checkHashType.bind(this),this.hashType="integers",tr(),this.randomGroup=er(!1),this.randomButton=Ja("Button","Random",this.randomGroup),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton)}setup(){this.initialCapacityField.value=7,this.hashTableVisual=new Array(7),this.hashTableIndices=new Array(7),this.hashTableValues=new Array(7),this.indexXPos=new Array(7),this.indexYPos=new Array(7),this.ExplainLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++,this.size=0,this.table_size=7,this.load_factor=Yl,this.resetIndex=this.nextIndex,this.commands=[];for(let t=0;t<7;t++){let e=this.nextIndex++;this.cmd(Ka.createRectangle,e,"",Ul,Kl,Xl,Gl+t*Kl),this.hashTableVisual[t]=e,this.cmd(Ka.setNull,this.hashTableVisual[t],1),e=this.nextIndex++,this.hashTableIndices[t]=e,this.hashTableValues[t]=null,this.indexXPos[t]=20,this.indexYPos[t]=Gl+t*Kl,this.cmd(Ka.createLabel,e,t,this.indexXPos[t],this.indexYPos[t]),this.cmd(Ka.setForegroundColor,e,Ql)}this.cmd(Ka.createLabel,this.loadFactorID,`Load Factor: ${this.load_factor}`,15,15,!1),this.cmd(Ka.createLabel,this.ExplainLabel,"",550,15,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}randomCallback(){const t=this.table_size*this.load_factor-1,e=Math.floor(Math.random()*(t-2+1))+2;this.implementAction(this.resetAll.bind(this));for(let i=0;i<e;i++){let t,e;if("integers"===this.hashType)t=Math.floor(17*Math.random())+0,e=Math.floor(17*Math.random())+0;else if("strings"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}else if("true"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ[];',./{}|:<>?=+=_-)(*&^%$#@!";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}this.implementAction(this.insertElement.bind(this),t.toString(),e),this.animationManager.skipForward(),this.animationManager.clearHistory()}}resizeInitialTableCall(){this.implementAction(this.resizeInitialTable.bind(this))}resizeInitialTable(){this.commands=[],this.resetAll(),this.oldHashTableVisual=this.hashTableVisual,this.oldHashTableIndices=this.hashTableIndices;for(let t=0;t<this.table_size;t++)this.cmd(Ka.setNull,this.oldHashTableVisual[t],1),this.cmd(Ka.delete,this.oldHashTableVisual[t]),this.cmd(Ka.delete,this.oldHashTableIndices[t]);""!==this.initialCapacityField&&(this.table_size=parseInt(this.initialCapacityField.value)?Math.min(Math.max(0,parseInt(this.initialCapacityField.value)),30):7),2*this.table_size+1>30?(this.load_factor=.99,this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}\n(Array length too large for resize)`),this.cmd(Ka.step)):(this.load_factor=Yl,this.cmd(Ka.step)),this.hashTableVisual=new Array(this.table_size),this.hashTableIndices=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size);for(let t=0;t<this.table_size;t++){let e=this.nextIndex++;this.cmd(Ka.createRectangle,e,"",Ul,Kl,Xl,Gl+t*Kl),this.hashTableVisual[t]=e,this.cmd(Ka.setNull,this.hashTableVisual[t],1),e=this.nextIndex++,this.hashTableIndices[t]=e,this.indexXPos[t]=20,this.indexYPos[t]=Gl+t*Kl,this.cmd(Ka.createLabel,e,t,this.indexXPos[t],this.indexYPos[t]),this.cmd(Ka.setForegroundColor,e,Ql)}if(0!==this.size){for(let t=0;t<this.hashTableValues.length;t++){let e=this.hashTableValues[t];if(null!=e)for(this.cmd(Ka.delete,e.graphicID);null!=e.next;)e=e.next,this.cmd(Ka.delete,e.graphicID)}this.hashTableValues=new Array(7),this.size=0}return this.commands}insertElement(t,e){const i=`<${t}, ${e}>`;this.commands=[],this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`),(this.size+1)/this.table_size>this.load_factor&&2*this.table_size+1<30&&this.resize(),this.cmd(Ka.setText,this.ExplainLabel,"Inserting element "+i);const s=new Zl(t,e,this.nextIndex++,60,40);this.cmd(Ka.createLinkedListNode,s.graphicID,i,110,20,60,40,.25,0,1);const h=this.doHash(t);let n,a=!1,r=null;if(null!=this.hashTableValues[h]){this.cmd(Ka.setText,this.ExplainLabel,"Searching for duplicates of "+t);const e=this.nextIndex++;let i=this.hashTableValues[h];for(this.cmd(Ka.createLabel,e,"",550,45,0);null!=i&&!a;){if(this.cmd(Ka.setHighlight,i.graphicID,1),i.key===t){this.cmd(Ka.setText,e,i.key+" == "+t),n=i,a=!0,this.cmd(Ka.step),this.cmd(Ka.setHighlight,i.graphicID,0);break}this.cmd(Ka.setText,e,i.key+" != "+t),this.cmd(Ka.step),this.cmd(Ka.setHighlight,i.graphicID,0),r=i,i=i.next}this.cmd(Ka.delete,e),this.nextIndex--}else this.cmd(Ka.setNull,s.graphicID,1),this.cmd(Ka.setNull,this.hashTableVisual[h],0);return a?(this.cmd(Ka.setText,this.ExplainLabel,"Key "+t+" is already in HashMap, updating value."),this.cmd(Ka.delete,n.graphicID),s.next=n.next,null!=r?(r.next=s,this.cmd(Ka.connect,r.graphicID,s.graphicID)):(this.cmd(Ka.disconnect,this.hashTableVisual[h],this.hashTableValues[h].graphicID),this.cmd(Ka.connect,this.hashTableVisual[h],s.graphicID),this.hashTableValues[h]=s),null!=s.next?this.cmd(Ka.connect,s.graphicID,s.next.graphicID):this.cmd(Ka.setNull,s.graphicID,1),this.repositionList(h,this.hashTableValues[h]),this.cmd(Ka.step)):(this.cmd(Ka.setText,this.ExplainLabel,"Duplicate of "+t+" not found!"),this.cmd(Ka.step),null!=this.hashTableValues[h]&&(this.cmd(Ka.connect,s.graphicID,this.hashTableValues[h].graphicID),this.cmd(Ka.disconnect,this.hashTableVisual[h],this.hashTableValues[h].graphicID)),this.cmd(Ka.connect,this.hashTableVisual[h],s.graphicID),s.next=this.hashTableValues[h],this.hashTableValues[h]=s,this.repositionList(h,this.hashTableValues[h]),this.size++),this.cmd(Ka.setText,this.ExplainLabel,""),this.commands}repositionList(t,e){let i=155;const s=Gl+t*Kl;for(;null!=e;)e.x=i,e.y=s,this.cmd(Ka.move,e.graphicID,e.x,e.y),i+=130,e=e.next}repositionResizeList(t){let e=755;const i=50+t*Kl;let s=this.hashTableValues[t];for(;null!=s;)s.x=e,s.y=i,this.cmd(Ka.move,s.graphicID,s.x,s.y),e+=130,s=s.next}deleteElement(t){this.commands=[],this.cmd(Ka.setText,this.ExplainLabel,"Deleting entry with key: "+t);const e=this.doHash(t);if(null==this.hashTableValues[e])return this.cmd(Ka.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Key not in table"),this.commands;if(this.cmd(Ka.setHighlight,this.hashTableValues[e].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.hashTableValues[e].graphicID,0),this.hashTableValues[e].key===t)return null!=this.hashTableValues[e].next?this.cmd(Ka.connect,this.hashTableVisual[e],this.hashTableValues[e].next.graphicID):this.cmd(Ka.setNull,this.hashTableVisual[e],1),this.cmd(Ka.delete,this.hashTableValues[e].graphicID),this.hashTableValues[e]=this.hashTableValues[e].next,this.repositionList(e,this.hashTableValues[e]),this.size--,this.commands;let i=this.hashTableValues[e],s=this.hashTableValues[e].next,h=!1;for(;null!=s&&!h;)this.cmd(Ka.setHighlight,s.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,s.graphicID,0),s.key===t?(h=!0,this.cmd(Ka.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Entry deleted"),null!=s.next?this.cmd(Ka.connect,i.graphicID,s.next.graphicID):this.cmd(Ka.setNull,i.graphicID,1),i.next=i.next.next,this.cmd(Ka.delete,s.graphicID),this.repositionList(e,this.hashTableValues[e]),this.size--):(i=s,s=s.next);return h||this.cmd(Ka.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Key not in table"),this.commands}findElement(t){this.commands=[],this.cmd(Ka.setText,this.ExplainLabel,"Finding entry with key: "+t);const e=this.doHash(t),i=this.nextIndex++;let s=!1,h=this.hashTableValues[e],n=null;for(this.cmd(Ka.createLabel,i,"",10,40,0);null!=h&&!s;)this.cmd(Ka.setHighlight,h.graphicID,1),h.key===t?(this.cmd(Ka.setText,i,h.key+"=="+t),s=!0,n=h.val):this.cmd(Ka.setText,i,h.key+"!="+t),this.cmd(Ka.step),this.cmd(Ka.setHighlight,h.graphicID,0),h=h.next;return s?this.cmd(Ka.setText,this.ExplainLabel,"Found entry with key: "+t+"  Value: "+n):this.cmd(Ka.setText,this.ExplainLabel,"Finding entry with key: "+t+"  Not Found!"),this.cmd(Ka.delete,i),this.nextIndex--,this.commands}resize(){this.commands=[],this.cmd(Ka.setText,this.ExplainLabel,"");const t=this.nextIndex++;this.cmd(Ka.createLabel,t,`(Resize Required): (Size + 1.0 / length) > Load Factor --\x3e (${this.size} + 1.0 / ${this.table_size}) > ${this.load_factor}`,800,20),this.table_size=2*this.table_size+1,2*this.table_size+1>30&&(this.load_factor=.99,this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`)),this.cmd(Ka.step),this.oldHashTableVisual=this.hashTableVisual,this.oldHashTableValues=this.hashTableValues,this.oldHashTableIndices=this.hashTableIndices,this.oldIndexXPos=this.indexXPos,this.oldIndexYPos=this.indexYPos,this.hashTableValues=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableIndices=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size);for(let e=0;e<this.table_size;e++){let t=this.nextIndex++;this.cmd(Ka.createRectangle,t,"",Ul,Kl,670,50+e*Kl),this.hashTableVisual[e]=t,this.cmd(Ka.setNull,this.hashTableVisual[e],1),t=this.nextIndex++,this.hashTableIndices[e]=t,this.hashTableValues[e]=null,this.indexXPos[e]=620,this.indexYPos[e]=50+e*Kl,this.cmd(Ka.createLabel,t,e,this.indexXPos[e],this.indexYPos[e]),this.cmd(Ka.setForegroundColor,t,Ql)}for(let e=0;e<(this.table_size-1)/2;e++){for(this.cmd(Ka.setHighlight,this.oldHashTableVisual[e],1),this.cmd(Ka.step);null!=this.oldHashTableValues[e];){this.cmd(Ka.setHighlight,this.oldHashTableVisual[e],0);const t=this.oldHashTableValues[e];this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.move,t.graphicID,60,40),this.oldHashTableValues[e]=this.oldHashTableValues[e].next,this.cmd(Ka.disconnect,this.oldHashTableVisual[e],t.graphicID),null!=this.oldHashTableValues[e]?(this.cmd(Ka.connect,this.oldHashTableVisual[e],this.oldHashTableValues[e].graphicID),this.cmd(Ka.disconnect,t.graphicID,this.oldHashTableValues[e].graphicID),this.repositionList(e,this.oldHashTableValues[e])):this.cmd(Ka.setNull,this.oldHashTableVisual[e],1),this.cmd(Ka.step);const i=this.doHash(t.key);t.next=this.hashTableValues[i],this.cmd(Ka.setNull,t.graphicID,1),this.cmd(Ka.setNull,this.hashTableVisual[i],0),null!=t.next&&(this.cmd(Ka.disconnect,this.hashTableVisual[i],t.next.graphicID),this.cmd(Ka.connect,t.graphicID,t.next.graphicID)),this.cmd(Ka.connect,this.hashTableVisual[i],t.graphicID),this.hashTableValues[i]=t,this.repositionResizeList(i),this.cmd(Ka.setHighlight,t.graphicID,0)}this.cmd(Ka.setHighlight,this.oldHashTableVisual[e],0)}this.cmd(Ka.step);for(let e=0;e<(this.table_size-1)/2;e++)this.cmd(Ka.setNull,this.oldHashTableVisual[e],1),this.cmd(Ka.delete,this.oldHashTableVisual[e]),this.cmd(Ka.delete,this.oldHashTableIndices[e]);for(let e=0;e<this.table_size;e++){const t=Xl,i=Gl+e*Kl;this.indexXPos[e]=20,this.indexYPos[e]=Gl+e*Kl,this.cmd(Ka.move,this.hashTableVisual[e],t,i),this.cmd(Ka.move,this.hashTableIndices[e],t-Ul,i);let s=0,h=this.hashTableValues[e];for(;null!=h;)this.cmd(Ka.move,h.graphicID,t+85+130*s,i),s++,h=h.next}this.cmd(Ka.delete,t),this.cmd(Ka.step)}changeLoadFactor(t){return this.commands=[],2*this.table_size+1<=30?(this.load_factor=t,this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`)):this.cmd(Ka.setText,this.loadFactorID,`Load Factor: ${this.load_factor}\n(Array length too large for resize)`),this.cmd(Ka.step),this.commands}resetAll(){let t;this.commands=super.resetAll(),this.size=0;for(let e=0;e<this.hashTableValues.length;e++)if(t=this.hashTableValues[e],null!=t){for(;null!=t;)this.cmd(Ka.delete,t.graphicID),t=t.next;this.hashTableValues[e]=null,this.cmd(Ka.setNull,this.hashTableVisual[e],1)}return this.commands}reset(){this.nextIndex=this.resetIndex,this.table_size=7,this.load_factor=Yl,this.size=0,this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.hashTableIndices=new Array(7),this.indexXPos=new Array(7),this.indexYPos=new Array(7);for(let t=0;t<this.table_size;t++)this.hashTableValues[t]=null,this.hashTableVisual[t]=this.nextIndex++,this.hashTableIndices[t]=this.nextIndex++;super.reset()}clear(){this.commands=[];for(let t=0;t<this.hashTableValues.length;t++){const e=this.hashTableValues[t];null!=e&&this.cmd(Ka.delete,e.graphicID),t>=7?(this.cmd(Ka.delete,this.hashTableVisual[t],1),this.cmd(Ka.delete,this.hashTableIndices[t])):this.cmd(Ka.setNull,this.hashTableVisual[t],1)}return this.hashTableValues=new Array(7),this.size=0,this.commands}disableUI(){super.disableUI()}enableUI(){super.enableUI()}}],SplayTree:["SplayTree",class extends hr{constructor(t,e,i){super(t,e,i),this.startingX=e/2,this.first_print_pos_y=i-40,this.print_max=e-10,this.addControls(),this.nextIndex=0,this.commands=[],this.cmd(Ka.createLabel,0,"",20,10,0),this.nextIndex=1,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}addControls(){this.controls=[],this.insertField=Ja("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Ja("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),tr(),this.deleteField=Ja("Text",""),this.deleteField.style.textAlign="center",this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Ja("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),tr(),this.findField=Ja("Text",""),this.findField.style.textAlign="center",this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),tr(),this.printButton=Ja("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.insertElement.bind(this),parseInt(t),!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}reset(){this.nextIndex=1,this.treeRoot=null}insertCallback(){let t=this.insertField.value;t=this.normalizeNumber(t,4),""!==t?(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t))):this.shake(this.insertButton)}deleteCallback(){let t=this.deleteField.value;""!==t?(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),parseInt(t))):this.shake(this.deleteButton)}randomCallback(){const t=Math.floor(11*Math.random())+2;this.implementAction(this.clear.bind(this));for(let e=0;e<t;e++)this.implementAction(this.insertElement.bind(this),Math.floor(17*Math.random())+0),this.animationManager.skipForward(),this.animationManager.clearHistory()}splay(t){return null!=this.treeRoot&&(this.treeRoot.data===t||(t<this.treeRoot.data?null!=this.treeRoot.left&&(this.treeRoot.left.data===t?(this.singleRotateRight(this.treeRoot),!0):t<this.treeRoot.left.data?null==this.treeRoot.left.left?(this.singleRotateRight(this.treeRoot),this.splay(t)):(this.zigZigRight(this.treeRoot),this.splay(t)):null==this.treeRoot.left.right?(this.singleRotateRight(this.treeRoot),this.splay(t)):(this.doubleRotateRight(this.treeRoot),this.splay(t))):null!=this.treeRoot.right&&(this.treeRoot.right.data===t?(this.singleRotateLeft(this.treeRoot),!0):t>this.treeRoot.right.data?null==this.treeRoot.right.right?(this.singleRotateLeft(this.treeRoot),this.splay(t)):(this.zigZigLeft(this.treeRoot),this.splay(t)):null==this.treeRoot.right.left?(this.singleRotateLeft(this.treeRoot),this.splay(t)):(this.doubleRotateLeft(this.treeRot),this.splay(t)))))}printCallback(){this.implementAction(this.printTree.bind(this))}printTree(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Ka.createHighlightCircle,this.highlightID,zd,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Ka.delete,this.highlightID),this.cmd(Ka.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Ka.delete,e);this.nextIndex=this.highlightID}return this.commands}printTreeRec(t){this.cmd(Ka.step),null!=t.left&&(this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step));const e=this.nextIndex++;this.cmd(Ka.createLabel,e,t.data,t.x,t.y),this.cmd(Ka.setForegroundColor,e,"#007700"),this.cmd(Ka.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Ka.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=20),null!=t.right&&(this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd(Ka.move,this.highlightID,t.x,t.y),this.cmd(Ka.step))}clearCallback(){this.implementAction(this.clear.bind(this))}clear(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}recClear(t){null!=t&&(this.cmd(Ka.delete,t.graphicID),this.recClear(t.left),this.recClear(t.right))}findCallback(){const t=this.normalizeNumber(this.findField.value,4);""!==t?(this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))):this.shake(this.findButton)}findElement(t){this.commands=[],this.highlightID=this.nextIndex++;return this.doFind(this.treeRoot,t)?this.cmd(Ka.setText,0,"Element "+t+" found."):this.cmd(Ka.setText,0,"Element "+t+" not found."),this.commands}doFind(t,e){return this.cmd(Ka.setText,0,"Searching for "+e),null!=t?(this.cmd(Ka.setHighlight,t.graphicID,1),t.data===e?(this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(Ka.step),this.cmd(Ka.setText,0,"Splaying found node to root of tree"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.splayUp(t),!0):t.data>e?(this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),null!=t.left?(this.cmd(Ka.createHighlightCircle,this.highlightID,zd,t.x,t.y),this.cmd(Ka.move,this.highlightID,t.left.x,t.left.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID),this.doFind(t.left,e)):(this.splayUp(t),!1)):(this.cmd(Ka.setText,0,"Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),null!=t.right?(this.cmd(Ka.createHighlightCircle,this.highlightID,zd,t.x,t.y),this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID),this.doFind(t.right,e)):(this.splayUp(t),!1))):(this.cmd(Ka.setText,0,"Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd(Ka.step),this.cmd(Ka.setText,0,"Searching for "+e+" :  (Element not found)"),!1)}insertElement(t){if(this.commands=[],this.cmd(Ka.setText,0,"Inserting "+t),this.highlightID=this.nextIndex++,null==this.treeRoot)this.cmd(Ka.createCircle,this.nextIndex,t,this.startingX,50),this.cmd(Ka.setForegroundColor,this.nextIndex,Pd),this.cmd(Ka.setBackgroundColor,this.nextIndex,Ed),this.cmd(Ka.step),this.treeRoot=new Od(t,this.nextIndex,this.startingX,50),this.nextIndex+=1;else{this.cmd(Ka.createCircle,this.nextIndex,t,100,100),this.cmd(Ka.setForegroundColor,this.nextIndex,Pd),this.cmd(Ka.setBackgroundColor,this.nextIndex,Ed),this.cmd(Ka.step);const e=new Od(t,this.nextIndex,100,100);this.nextIndex+=1,this.cmd(Ka.setHighlight,e.graphicID,1),this.insert(e,this.treeRoot),this.resizeTree(),this.cmd(Ka.setText,0,"Splay inserted element to root of tree"),this.cmd(Ka.step),this.splayUp(e)}return this.cmd(Ka.setText,0,""),this.commands}insert(t,e){let i=!1;this.cmd(Ka.setHighlight,e.graphicID,1),this.cmd(Ka.setHighlight,t.graphicID,1),t.data<e.data?this.cmd(Ka.setText,0,t.data+" < "+e.data+".  Looking at left subtree"):t.data>e.data?this.cmd(Ka.setText,0,t.data+" >= "+e.data+".  Looking at right subtree"):(this.cmd(Ka.setText,0,t.data+" = "+e.data+". Ignoring duplicate"),i=!0),this.cmd(Ka.step),this.cmd(Ka.setHighlight,e.graphicID,0),this.cmd(Ka.setHighlight,t.graphicID,0),i?this.cmd(Ka.delete,t.graphicID,0):t.data<e.data?null==e.left?(this.cmd(Ka.setText,0,"Found null tree, inserting element"),this.cmd(Ka.setHighlight,t.graphicID,0),e.left=t,t.parent=e,this.cmd(Ka.connect,e.graphicID,t.graphicID,Bd)):(this.cmd(Ka.createHighlightCircle,this.highlightID,zd,e.x,e.y),this.cmd(Ka.move,this.highlightID,e.left.x,e.left.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID),this.insert(t,e.left)):null==e.right?(this.cmd(Ka.setText,0,"Found null tree, inserting element"),this.cmd(Ka.setHighlight,t.graphicID,0),e.right=t,t.parent=e,this.cmd(Ka.connect,e.graphicID,t.graphicID,Bd),t.x=e.x+25,t.y=e.y+50,this.cmd(Ka.move,t.graphicID,t.x,t.y)):(this.cmd(Ka.createHighlightCircle,this.highlightID,zd,e.x,e.y),this.cmd(Ka.move,this.highlightID,e.right.x,e.right.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.highlightID),this.insert(t,e.right))}deleteElement(t){return this.commands=[],this.cmd(Ka.setText,0,"Deleting "+t),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),this.highlightID=this.nextIndex++,this.treeDelete(this.treeRoot,t),this.cmd(Ka.setText,0,""),this.commands}treeDelete(t,e){this.cmd(Ka.setText,0,"Finding "+e+" and splaying to rooot"),this.cmd(Ka.step);const i=this.doFind(this.treeRoot,e);if(this.cmd(Ka.setText,0,"Removing root, leaving left and right trees"),this.cmd(Ka.step),i)if(null==this.treeRoot.right)this.cmd(Ka.delete,this.treeRoot.graphicID),this.cmd(Ka.setText,0,"No right tree, make left tree the root."),this.cmd(Ka.step),this.treeRoot=this.treeRoot.left,this.treeRoot.parent=null,this.resizeTree();else if(null==this.treeRoot.left)this.cmd(Ka.delete,this.treeRoot.graphicID),this.cmd(Ka.setText,0,"No left tree, make right tree the root."),this.cmd(Ka.step),this.treeRoot=this.treeRoot.right,this.treeRoot.parent=null,this.resizeTree();else{const t=this.treeRoot.right,e=this.treeRoot.left,i=this.treeRoot.graphicID;this.cmd(Ka.disconnect,this.treeRoot.graphicID,e.graphicID),this.cmd(Ka.disconnect,this.treeRoot.graphicID,t.graphicID),this.cmd(Ka.setAlpha,this.treeRoot.graphicID,0),this.cmd(Ka.setText,0,"Splay largest element in left tree to root"),this.cmd(Ka.step),e.parent=null;const s=this.findMax(e);this.splayUp(s),this.cmd(Ka.setText,0,"Left tree now has no right subtree, connect left and right trees"),this.cmd(Ka.step),this.cmd(Ka.connect,s.graphicID,t.graphicID,Bd),s.parent=null,s.right=t,t.parent=s,this.treeRoot=s,this.cmd(Ka.delete,i),this.resizeTree()}}singleRotateRight(t){const e=t,i=t.left,s=i.right;this.cmd(Ka.setText,0,"Zig Right"),this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.step),null!=s&&(this.cmd(Ka.disconnect,i.graphicID,s.graphicID),this.cmd(Ka.connect,e.graphicID,s.graphicID,Bd),s.parent=e),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,Bd),i.parent=e.parent,null==e.parent?this.treeRoot=i:(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID,Bd),this.cmd(Ka.connect,e.parent.graphicID,i.graphicID,Bd),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.right=e,e.parent=i,e.left=s,this.resizeTree()}zigZigRight(t){const e=t,i=t.left,s=t.left.left,h=s.right,n=i.right;this.cmd(Ka.setText,0,"Zig-Zig Right"),this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.setEdgeHighlight,i.graphicID,s.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,0),this.cmd(Ka.setEdgeHighlight,i.graphicID,s.graphicID,0),null!=e.parent?(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID),this.cmd(Ka.connect,e.parent.graphicID,s.graphicID,Bd),e.isLeftChild()?e.parent.left=s:e.parent.right=s):this.treeRoot=s,null!=h&&(this.cmd(Ka.disconnect,s.graphicID,h.graphicID),this.cmd(Ka.connect,i.graphicID,h.graphicID,Bd),h.parent=i),null!=n&&(this.cmd(Ka.disconnect,i.graphicID,n.graphicID),this.cmd(Ka.connect,e.graphicID,n.graphicID,Bd),n.parent=e),this.cmd(Ka.disconnect,i.graphicID,s.graphicID),this.cmd(Ka.connect,s.graphicID,i.graphicID,Bd),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,Bd),s.right=i,s.parent=e.parent,i.parent=s,i.left=h,i.right=e,e.parent=i,e.left=n,this.resizeTree()}zigZigLeft(t){const e=t,i=t.right,s=t.right.right,h=i.left,n=s.left;this.cmd(Ka.setText,0,"Zig-Zig Left"),this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.setEdgeHighlight,i.graphicID,s.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,0),this.cmd(Ka.setEdgeHighlight,i.graphicID,s.graphicID,0),null!=e.parent?(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID),this.cmd(Ka.connect,e.parent.graphicID,s.graphicID,Bd),e.isLeftChild()?e.parent.left=s:e.parent.right=s):this.treeRoot=s,null!=h&&(this.cmd(Ka.disconnect,i.graphicID,h.graphicID),this.cmd(Ka.connect,e.graphicID,h.graphicID,Bd),h.parent=e),null!=n&&(this.cmd(Ka.disconnect,s.graphicID,n.graphicID),this.cmd(Ka.connect,i.graphicID,n.graphicID,Bd),n.parent=i),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.disconnect,i.graphicID,s.graphicID),this.cmd(Ka.connect,s.graphicID,i.graphicID,Bd),this.cmd(Ka.connect,i.graphicID,e.graphicID,Bd),s.parent=e.parent,e.right=h,i.left=e,e.parent=i,i.right=n,s.left=i,i.parent=s,this.resizeTree()}singleRotateLeft(t){const e=t,i=t.right,s=i.left;this.cmd(Ka.setText,0,"Zig Left"),this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.step),null!=s&&(this.cmd(Ka.disconnect,i.graphicID,s.graphicID),this.cmd(Ka.connect,e.graphicID,s.graphicID,Bd),s.parent=e),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,Bd),i.parent=e.parent,null==e.parent?this.treeRoot=i:(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID,Bd),this.cmd(Ka.connect,e.parent.graphicID,i.graphicID,Bd),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.left=e,e.parent=i,e.right=s,this.resizeTree()}splayUp(t){null!=t.parent&&(null==t.parent.parent?t.isLeftChild()?this.singleRotateRight(t.parent):this.singleRotateLeft(t.parent):t.isLeftChild()&&!t.parent.isLeftChild()?(this.doubleRotateLeft(t.parent.parent),this.splayUp(t)):!t.isLeftChild()&&t.parent.isLeftChild()?(this.doubleRotateRight(t.parent.parent),this.splayUp(t)):t.isLeftChild()?(this.zigZigRight(t.parent.parent),this.splayUp(t)):(this.zigZigLeft(t.parent.parent),this.splayUp(t)))}findMax(t){if(null!=t.right){for(this.highlightID=this.nextIndex++,this.cmd(Ka.createHighlightCircle,this.highlightID,zd,t.x,t.y),this.cmd(Ka.step);null!=t.right;)this.cmd(Ka.move,this.highlightID,t.right.x,t.right.y),this.cmd(Ka.step),t=t.right;return this.cmd(Ka.delete,this.highlightID),t}return t}doubleRotateRight(t){this.cmd(Ka.setText,0,"Zig-Zag Right");const e=t.left,i=t.left.right,s=t,h=i.left,n=i.right;this.cmd(Ka.setEdgeHighlight,s.graphicID,e.graphicID,1),this.cmd(Ka.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Ka.step),null!=h&&(this.cmd(Ka.disconnect,i.graphicID,h.graphicID),h.parent=e,e.right=h,this.cmd(Ka.connect,e.graphicID,h.graphicID,Bd)),null!=n&&(this.cmd(Ka.disconnect,i.graphicID,n.graphicID),n.parent=s,s.left=h,this.cmd(Ka.connect,s.graphicID,n.graphicID,Bd)),null==s.parent?(i.parent=null,this.treeRoot=i):(this.cmd(Ka.disconnect,s.parent.graphicID,s.graphicID),this.cmd(Ka.connect,s.parent.graphicID,i.graphicID,Bd),s.isLeftChild()?s.parent.left=i:s.parent.right=i,i.parent=s.parent,s.parent=i),this.cmd(Ka.disconnect,s.graphicID,e.graphicID),this.cmd(Ka.disconnect,e.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,Bd),this.cmd(Ka.connect,i.graphicID,s.graphicID,Bd),i.left=e,e.parent=i,i.right=s,s.parent=i,e.right=h,s.left=n,this.resizeTree()}doubleRotateLeft(t){this.cmd(Ka.setText,0,"Zig-Zag Left");const e=t,i=t.right.left,s=t.right,h=i.left,n=i.right;this.cmd(Ka.setEdgeHighlight,e.graphicID,s.graphicID,1),this.cmd(Ka.setEdgeHighlight,s.graphicID,i.graphicID,1),this.cmd(Ka.step),null!=h&&(this.cmd(Ka.disconnect,i.graphicID,h.graphicID),h.parent=e,e.right=h,this.cmd(Ka.connect,e.graphicID,h.graphicID,Bd)),null!=n&&(this.cmd(Ka.disconnect,i.graphicID,n.graphicID),n.parent=s,s.left=h,this.cmd(Ka.connect,s.graphicID,n.graphicID,Bd)),null==e.parent?(i.parent=null,this.treeRoot=i):(this.cmd(Ka.disconnect,e.parent.graphicID,e.graphicID),this.cmd(Ka.connect,e.parent.graphicID,i.graphicID,Bd),e.isLeftChild()?e.parent.left=i:e.parent.right=i,i.parent=e.parent,e.parent=i),this.cmd(Ka.disconnect,e.graphicID,s.graphicID),this.cmd(Ka.disconnect,s.graphicID,i.graphicID),this.cmd(Ka.connect,i.graphicID,e.graphicID,Bd),this.cmd(Ka.connect,i.graphicID,s.graphicID,Bd),i.left=e,e.parent=i,i.right=s,s.parent=i,e.right=h,s.left=n,this.resizeTree()}resizeTree(){let t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,50,0),this.animateNewPositions(this.treeRoot),this.cmd(Ka.step))}setNewPositions(t,e,i,s){null!=t&&(t.y=i,-1===s?e-=t.rightWidth:1===s&&(e+=t.leftWidth),t.x=e,this.setNewPositions(t.left,e,i+50,-1),this.setNewPositions(t.right,e,i+50,1))}animateNewPositions(t){null!=t&&(this.cmd(Ka.move,t.graphicID,t.x,t.y),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}resizeWidths(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),25),t.rightWidth=Math.max(this.resizeWidths(t.right),25),t.leftWidth+t.rightWidth)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}],AVL:["AVL",ar],BTree:["2-4 Tree",class extends hr{constructor(t,e,i){super(t,e,i),this.nextIndex=0,this.starting_x=e/2,this.preemptiveSplit=!1,this.addControls(),this.max_keys=3,this.min_keys=1,this.split_index=1,this.max_degree=4,this.messageID=this.nextIndex++,this.cmd(Ka.createLabel,this.messageID,"",5,10,0),this.moveLabel1ID=this.nextIndex++,this.moveLabel2ID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.commands=[],this.resetIndex=4,this.first_print_pos_y=i-60,this.xPosOfNextLabel=100,this.yPosOfNextLabel=200}addControls(){this.controls=[],this.insertField=Ja("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=Ja("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),tr(),this.deleteField=Ja("Text",""),this.deleteField.style.textAlign="center",this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=Ja("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),tr(),this.findField=Ja("Text",""),this.findField.style.textAlign="center",this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),tr();const t=er(!1);this.randomButton=Ja("Button","Random",t),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=Ja("Button","Clear",t),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton),tr(),Ga("Promote");const e=Za(["second","third"],"Split Index");this.splitSecondSelect=e[0],this.splitThirdSelect=e[1],this.splitSecondSelect.onclick=()=>this.split_index=1,this.splitThirdSelect.onclick=()=>this.split_index=2,this.splitSecondSelect.checked=!0,this.split_index=1,tr();const i=Za(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=i[0],this.succButton=i[1],this.predButton.onclick=this.predCallback.bind(this),this.succButton.onclick=this.succCallback.bind(this),this.succButton.checked=!0,this.predSucc="succ",tr();const s=er(!1);Ga('| separated list of nodes with comma separated keys (e.g. "1,3|0|2|4")',s);const h=er(!0,s);this.buildTreeField=Ja("Text","",h),this.buildTreeField.onkeydown=this.returnSubmit(this.buildTreeField,this.buildTreeCallback.bind(this),30,!1,!0),this.controls.push(this.buildTreeField),this.buildTreeButton=Ja("Button","Build Tree",h),this.buildTreeButton.onclick=this.buildTreeCallback.bind(this),this.controls.push(this.buildTreeButton)}setURLData(t){if(t.has("promote")){const e=t.get("promote");"second"===e?(this.split_index=1,this.splitSecondSelect.checked=!0,this.splitThirdSelect.checked=!1):"third"===e&&(this.split_index=2,this.splitSecondSelect.checked=!1,this.splitThirdSelect.checked=!0)}if(t.has("predSucc")){const e=t.get("predSucc");"pred"===e?(this.predSucc="pred",this.predButton.checked=!0):"succ"===e&&(this.predSucc="succ",this.succButton.checked=!0)}if(t.has("data")){const e=t.get("data");this.buildTreeField.value=e,this.buildTreeCallback()}}buildTreeCallback(){const t=this.buildTreeField.value;this.implementAction(this.clearTree.bind(this)),this.insertField.value="",this.implementAction(this.buildTree.bind(this),t)}buildTree(t){this.commands=[],this.cmd(Ka.setText,this.infoLabelID,"");const e=t.split("|").map((t=>t.split(",").map((t=>parseInt(t)))));this.treeRoot=new Wr(this.nextIndex++,this.starting_x,Hr),this.cmd(Ka.createBTreeNode,this.treeRoot.graphicID,Mr,20,1,this.starting_x,Hr,$r,Vr),this.treeRoot.keys=e[0],this.treeRoot.numKeys=e[0].length,this.treeRoot.children=[],this.cmd(Ka.setText,this.treeRoot.graphicID,e[0].join("   "),0),this.cmd(Ka.setNumElements,this.treeRoot.graphicID,e[0].length),this.resizeTree();for(let s=0;s<e[0].length;s++)this.cmd(Ka.setText,this.treeRoot.graphicID,e[0][s],s),this.treeRoot.numKeys=e[0].length;for(let s=1;s<e.length;s++){const t=new Wr(this.nextIndex++,this.starting_x,Hr);t.keys=e[s],t.numKeys=e[s].length,t.children=[],this.buildTreeRecurse(this.treeRoot,e[s][0],t)}const i=this.treeHasProblem(this.treeRoot);return i?(this.commands=[],this.cmd(Ka.setText,this.infoLabelID,i),this.reset(),this.shake(this.buildTreeButton),this.commands):(this.cmd(Ka.setText,this.messageID,""),this.commands)}treeHasProblem(t){if(null==t)return"";if(t.numKeys>this.max_keys)return`Nodes can have at most ${this.max_keys} keys`;for(let e=0;e<t.numKeys-1;e++)if(t.keys[e]>=t.keys[e+1])return`Tree must respect order property within nodes. ${t.keys[e]} >= ${t.keys[e+1]}`;if(t.isLeaf)return"";if(t.numKeys!==t.children.length-1)return`Node with ${t.numKeys} keys must have ${t.numKeys+1} children if not a leaf`;for(let e=0;e<t.numKeys;e++){const i=t.keys[e],s=t.children[e],h=t.children[e+1];for(const t of s.keys)if(t>=i)return`Tree must respect order property. ${t} >= ${i}`;for(const t of h.keys)if(t<=i)return`Tree must respect order property. ${t} <= ${i}`}for(const e of t.children){const t=this.treeHasProblem(e);if(t)return t}return""}buildTreeRecurse(t,e,i){let s=0;for(;s<t.numKeys&&t.keys[s]<e;)s++;const h=t.children[s];if(null==h){t.isLeaf=!1,t.children.push(i),i.y=t.y+100,i.x=t.x+150*(s-1.5),i.parent=t,this.cmd(Ka.createBTreeNode,i.graphicID,Mr,20,1,i.x,i.y,$r,Vr),this.cmd(Ka.setNumElements,i.graphicID,i.keys.length),this.resizeTree();for(let t=0;t<i.keys.length;t++)this.cmd(Ka.setText,i.graphicID,i.keys[t],t);this.cmd(Ka.connect,t.graphicID,i.graphicID,Vr,0,0,"",s)}else this.buildTreeRecurse(h,e,i)}reset(){this.nextIndex=this.resetIndex,this.max_degree=4,this.max_keys=3,this.min_keys=1,this.split_index=1,this.treeRoot=null,this.ignoreInputs=!0,this.ignoreInputs=!1}enableUI(){let t;for(t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}maxDegreeChangedHandler(t){this.max_degree!==t&&(this.implementAction(this.changeDegree.bind(this),t),this.animationManager.skipForward(),this.animationManager.clearHistory())}predCallback(){"pred"!==this.predSucc&&(this.predSucc="pred")}succCallback(){"succ"!==this.predSucc&&(this.predSucc="succ")}insertCallback(){const t=this.normalizeNumber(this.insertField.value,4);""!==t?(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t))):this.shake(this.insertButton)}deleteCallback(){let t=this.deleteField.value;""!==t&&this.treeRoot?(t=this.normalizeNumber(this.deleteField.value,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),parseInt(t))):this.shake(this.deleteButton)}randomCallback(){const t=Math.floor(17*Math.random())+4;this.implementAction(this.clearTree.bind(this));for(let e=0;e<t;e++)this.implementAction(this.insertElement.bind(this),Math.floor(17*Math.random())+0),this.animationManager.skipForward(),this.animationManager.clearHistory()}clearCallback(){this.implementAction(this.clearTree.bind(this))}premtiveSplitCallback(){this.preemptiveSplit!==this.premptiveSplitBox.checked&&this.implementAction(this.changePreemtiveSplit.bind(this),this.premptiveSplitBox.checked)}changePreemtiveSplit(t){return this.commands=[],this.cmd(Ka.step),this.preemptiveSplit=t,this.premptiveSplitBox.checked!==this.preemptiveSplit&&(this.premptiveSplitBox.checked=this.preemptiveSplit),this.commands}printCallback(){this.treeRoot?this.implementAction(this.printTree.bind(this)):this.shake(this.printButton)}printTree(){this.commands=[],this.cmd(Ka.setText,this.messageID,"Printing tree");const t=this.nextIndex;this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Ka.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Ka.delete,e);return this.nextIndex=t,this.cmd(Ka.setText,this.messageID,""),this.commands}printTreeRec(t){let e;if(this.cmd(Ka.setHighlight,t.graphicID,1),t.isLeaf){for(let i=0;i<t.numKeys;i++)e=this.nextIndex++,this.cmd(Ka.createLabel,e,t.keys[i],this.getLabelX(t,i),t.y),this.cmd(Ka.setForegroundColor,e,qr),this.cmd(Ka.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Ka.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>990&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=20);this.cmd(Ka.setHighlight,t.graphicID,0)}else{this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[0].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[0].graphicID,0),this.printTreeRec(t.children[0]);for(let i=0;i<t.numKeys;i++)this.cmd(Ka.setHighlight,t.graphicID,1),e=this.nextIndex++,this.cmd(Ka.createLabel,e,t.keys[i],this.getLabelX(t,i),t.y),this.cmd(Ka.setForegroundColor,e,qr),this.cmd(Ka.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Ka.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>990&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=20),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i+1].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i+1].graphicID,0),this.printTreeRec(t.children[i+1]);this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0)}}clearTree(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",this.commands=[],this.deleteTree(this.treeRoot),this.treeRoot=null,this.nextIndex=this.resetIndex,this.commands}deleteTree(t){if(null!=t){if(!t.isLeaf)for(let e=0;e<=t.numKeys;e++)t.children[e]&&(this.cmd(Ka.disconnect,t.graphicID,t.children[e].graphicID),this.deleteTree(t.children[e]));this.cmd(Ka.delete,t.graphicID)}}changeDegree(t){this.commands=[],this.deleteTree(this.treeRoot),this.treeRoot=null,this.nextIndex=this.resetIndex;const e=t;return this.ignoreInputs=!0,this.maxDegreeRadioButtons[e-4].checked=!0,this.ignoreInputs=!1,this.max_degree=e,this.max_keys=e-1,this.min_keys=Math.floor((e+1)/2)-1,this.split_index=Math.floor((e-1)/2),0===this.commands.length&&this.cmd(Ka.step),e%2!==0&&this.preemptiveSplit&&(this.preemptiveSplit=!1,this.premptiveSplitBox.checked=!1),this.commands}findCallback(){const t=this.normalizeNumber(this.findField.value,4);""!==t?(this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))):this.shake(this.findButton)}findElement(t){return this.commands=[],this.cmd(Ka.setText,this.messageID,"Finding "+t),this.findInTree(this.treeRoot,t),this.commands}findInTree(t,e){if(null!=t){let i;for(this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.step),i=0;i<t.numKeys&&t.keys[i]<e;i++);i===t.numKeys?t.isLeaf?(this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setText,this.messageID,"Element "+e+" is not in the tree")):(this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),this.findInTree(t.children[t.numKeys],e)):t.keys[i]>e?t.isLeaf?(this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setText,this.messageID,"Element "+e+" is not in the tree")):(this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i].graphicID,0),this.findInTree(t.children[i],e)):(this.cmd(Ka.setTextColor,t.graphicID,"#FF0000",i),this.cmd(Ka.setText,this.messageID,"Element "+e+" found"),this.cmd(Ka.step),this.cmd(Ka.setTextColor,t.graphicID,Vr,i),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.step))}else this.cmd(Ka.setText,this.messageID,"Element "+e+" is not in the tree")}insertElement(t){return this.commands=[],this.cmd(Ka.setText,this.messageID,"Inserting "+t),this.cmd(Ka.step),null==this.treeRoot?(this.treeRoot=new Wr(this.nextIndex++,this.starting_x,Hr),this.cmd(Ka.createBTreeNode,this.treeRoot.graphicID,Mr,20,1,this.starting_x,Hr,$r,Vr),this.treeRoot.keys[0]=t,this.cmd(Ka.setText,this.treeRoot.graphicID,t,0)):(this.preemptiveSplit?(this.treeRoot.numKeys===this.max_keys&&(this.split(this.treeRoot),this.resizeTree(),this.cmd(Ka.step)),this.insertNotFull(this.treeRoot,t)):this.insert(this.treeRoot,t),this.treeRoot.isLeaf||this.resizeTree()),this.cmd(Ka.setText,this.messageID,""),this.commands}insertNotFull(t,e){if(t.keys.includes(e)&&t.keys.findIndex((t=>t===e))<t.numKeys)return this.cmd(Ka.setText,0,`${e} == ${e}. Ignoring duplicate!`),this.cmd(Ka.step),void this.cmd(Ka.setHighlight,t.graphicID,0);if(this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.step),t.isLeaf){this.cmd(Ka.setText,this.messageID,"Inserting "+e+".  Inserting into a leaf"),t.numKeys++,this.cmd(Ka.setNumElements,t.graphicID,t.numKeys);let i=t.numKeys-1;for(;i>0&&t.keys[i-1]>e;)t.keys[i]=t.keys[i-1],this.cmd(Ka.setText,t.graphicID,t.keys[i],i),i--;t.keys[i]=e,this.cmd(Ka.setText,t.graphicID,t.keys[i],i),this.cmd(Ka.setHighlight,t.graphicID,0),this.resizeTree()}else{let i=0;for(;i<t.numKeys&&t.keys[i]<e;)i++;if(this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i].graphicID,0),this.cmd(Ka.setHighlight,t.graphicID,0),t.children[i].numKeys===this.max_keys){const s=this.split(t.children[i]);this.resizeTree(),this.cmd(Ka.step),this.insertNotFull(s,e)}else this.insertNotFull(t.children[i],e)}}insert(t,e){if(this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.step),t.keys.includes(e)&&t.keys.findIndex((t=>t===e))<t.numKeys)return this.cmd(Ka.setText,0,`${e} == ${e}. Ignoring duplicate!`),this.cmd(Ka.step),void this.cmd(Ka.setHighlight,t.graphicID,0);if(t.isLeaf){this.cmd(Ka.setText,this.messageID,"Inserting "+e+".  Inserting into a leaf"),t.numKeys++,this.cmd(Ka.setNumElements,t.graphicID,t.numKeys);let i=t.numKeys-1;for(;i>0&&t.keys[i-1]>e;)t.keys[i]=t.keys[i-1],this.cmd(Ka.setText,t.graphicID,t.keys[i],i),i--;t.keys[i]=e,this.cmd(Ka.setText,t.graphicID,t.keys[i],i),this.cmd(Ka.setHighlight,t.graphicID,0),this.resizeTree(),this.insertRepair(t)}else{let i=0;for(;i<t.numKeys&&t.keys[i]<e;)i++;this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i].graphicID,0),this.cmd(Ka.setHighlight,t.graphicID,0),this.insert(t.children[i],e)}}insertRepair(t){if(!(t.numKeys<=this.max_keys))if(null!=t.parent){const e=this.split(t);this.insertRepair(e)}else this.treeRoot=this.split(t)}split(t){this.cmd(Ka.setText,this.messageID,"Node now contains too many elements.  Splitting ..."),this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0);const e=new Wr(this.nextIndex++,t.x+100,t.y);e.numKeys=t.numKeys-this.split_index-1;const i=t.keys[this.split_index];let s,h;if(null!=t.parent){for(s=t.parent,h=0;h<s.numKeys+1&&s.children[h]!==t;h++);if(h===s.numKeys+1)throw new Error("Couldn't find which child we were!");this.cmd(Ka.setNumElements,s.graphicID,s.numKeys+1);for(let t=s.numKeys;t>h;t--)s.children[t+1]=s.children[t],this.cmd(Ka.disconnect,s.graphicID,s.children[t].graphicID),this.cmd(Ka.connect,s.graphicID,s.children[t].graphicID,Vr,0,0,"",t+1),s.keys[t]=s.keys[t-1],this.cmd(Ka.setText,s.graphicID,s.keys[t],t);s.numKeys++,s.keys[h]=i,this.cmd(Ka.setText,s.graphicID,"",h),this.moveLabel1ID=this.nextIndex++,this.cmd(Ka.createLabel,this.moveLabel1ID,i,this.getLabelX(t,this.split_index),t.y),this.cmd(Ka.setForegroundColor,this.moveLabel1ID,Vr),this.cmd(Ka.move,this.moveLabel1ID,this.getLabelX(s,h),s.y),s.children[h+1]=e,e.parent=s}this.cmd(Ka.createBTreeNode,e.graphicID,Mr,20,t.numKeys-this.split_index-1,t.x,t.y,$r,Vr);for(let a=this.split_index+1;a<t.numKeys+1;a++)e.children[a-this.split_index-1]=t.children[a],null!=t.children[a]&&(e.isLeaf=!1,this.cmd(Ka.disconnect,t.graphicID,t.children[a].graphicID),this.cmd(Ka.connect,e.graphicID,e.children[a-this.split_index-1].graphicID,Vr,0,0,"",a-this.split_index-1),null!=t.children[a]&&(t.children[a].parent=e),t.children[a]=null);for(let a=this.split_index+1;a<t.numKeys;a++)e.keys[a-this.split_index-1]=t.keys[a],this.cmd(Ka.setText,e.graphicID,e.keys[a-this.split_index-1],a-this.split_index-1);const n=t;n.numKeys=this.split_index;for(let a=this.split_index;a<t.numKeys;a++)this.cmd(Ka.setText,t.graphicID,"",a);return this.cmd(Ka.setNumElements,t.graphicID,this.split_index),null!=t.parent?(this.cmd(Ka.connect,s.graphicID,e.graphicID,Vr,0,0,"",h+1),this.resizeTree(),this.cmd(Ka.step),this.cmd(Ka.delete,this.moveLabel1ID),this.cmd(Ka.setText,s.graphicID,i,h),t.parent):(this.treeRoot=new Wr(this.nextIndex++,this.starting_x,Hr),this.cmd(Ka.createBTreeNode,this.treeRoot.graphicID,Mr,20,1,this.starting_x,Hr,$r,Vr),this.treeRoot.keys[0]=i,this.cmd(Ka.setText,this.treeRoot.graphicID,i,0),this.treeRoot.children[0]=n,this.treeRoot.children[1]=e,n.parent=this.treeRoot,e.parent=this.treeRoot,this.cmd(Ka.connect,this.treeRoot.graphicID,n.graphicID,Vr,0,0,"",0),this.cmd(Ka.connect,this.treeRoot.graphicID,e.graphicID,Vr,0,0,"",1),this.treeRoot.isLeaf=!1,this.treeRoot)}deleteElement(t){return this.commands=[],this.cmd(Ka.setText,0,"Deleting "+t),this.cmd(Ka.step),this.cmd(Ka.setText,0,""),this.highlightID=this.nextIndex++,this.cmd(Ka.setText,0,""),this.preemptiveSplit?this.doDeleteNotEmpty(this.treeRoot,t):this.doDelete(this.treeRoot,t),this.treeRoot&&0===this.treeRoot.numKeys&&(this.cmd(Ka.step),this.cmd(Ka.delete,this.treeRoot.graphicID),this.treeRoot=this.treeRoot.children[0],this.treeRoot.parent=null,this.resizeTree()),this.commands}doDeleteNotEmpty(t,e){if(null!=t){let i,s;for(this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.step),s=0;s<t.numKeys&&t.keys[s]<e;s++);if(s===t.numKeys)t.isLeaf?this.cmd(Ka.setHighlight,t.graphicID,0):(this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),t.children[t.numKeys].numKeys===this.min_keys?t.children[t.numKeys-1].numKeys>this.min_keys?(i=this.stealFromLeft(t.children[t.numKeys],t.numKeys),this.doDeleteNotEmpty(i,e)):(i=this.mergeRight(t.children[t.numKeys-1]),this.doDeleteNotEmpty(i,e)):this.doDeleteNotEmpty(t.children[t.numKeys],e));else if(t.keys[s]>e)t.isLeaf?this.cmd(Ka.setHighlight,t.graphicID,0):(this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[s].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[s].graphicID,0),t.children[s].numKeys>this.min_keys?this.doDeleteNotEmpty(t.children[s],e):t.children[s+1].numKeys>this.min_keys?(i=this.stealFromRight(t.children[s],s),this.doDeleteNotEmpty(i,e)):(i=this.mergeRight(t.children[s]),this.doDeleteNotEmpty(i,e)));else if(this.cmd(Ka.setTextColor,t.graphicID,"FF0000",s),this.cmd(Ka.step),t.isLeaf){this.cmd(Ka.setTextColor,t.graphicID,Vr,s);for(let e=s;e<t.numKeys-1;e++)t.keys[e]=t.keys[e+1],this.cmd(Ka.setText,t.graphicID,t.keys[e],e);t.numKeys--,this.cmd(Ka.setText,t.graphicID,"",t.numKeys),this.cmd(Ka.setNumElements,t.graphicID,t.numKeys),this.cmd(Ka.setHighlight,t.graphicID,0),this.resizeTree(),this.cmd(Ka.setText,this.messageID,"")}else{this.cmd(Ka.setText,this.messageID,"Checking to see if tree to left of element to delete \nhas an extra key"),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[s].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[s].graphicID,0);let h=t.children[s];if(t.children[s].numKeys===this.min_keys){if(this.cmd(Ka.setText,this.messageID,"Tree to left of element to delete does not have an extra key.  \nLooking to the right ..."),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[s+1].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[s+1].graphicID,0),t.children[s+1].numKeys===this.min_keys)return this.cmd(Ka.setText,this.messageID,"Neither subtree has extra nodes.  Mergeing around the key to delete, \nand recursively deleting ..."),this.cmd(Ka.step),this.cmd(Ka.setTextColor,t.graphicID,Vr,s),i=this.mergeRight(t.children[s]),void this.doDeleteNotEmpty(i,e);{this.cmd(Ka.setText,this.messageID,"Tree to right of element to delete does have an extra key. \nFinding the smallest key in that subtree ..."),this.cmd(Ka.step);let e=t.children[s+1];for(;!e.isLeaf;)this.cmd(Ka.setHighlight,e.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,e.graphicID,0),e=e.children[0].numKeys===this.min_keys?e.children[1].numKeys===this.min_keys?this.mergeRight(e.children[0]):this.stealFromRight(e.children[0],0):e.children[0];for(this.cmd(Ka.setHighlight,e.graphicID,1),t.keys[s]=e.keys[0],this.cmd(Ka.setTextColor,t.graphicID,Vr,s),this.cmd(Ka.setText,t.graphicID,"",s),this.cmd(Ka.setText,e.graphicID,"",0),this.cmd(Ka.createLabel,this.moveLabel1ID,e.keys[0],this.getLabelX(e,0),e.y),this.cmd(Ka.move,this.moveLabel1ID,this.getLabelX(t,s),t.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.moveLabel1ID),this.cmd(Ka.setText,t.graphicID,t.keys[s],s),s=1;s<e.numKeys;s++)e.keys[s-1]=e.keys[s],this.cmd(Ka.setText,e.graphicID,e.keys[s-1],s-1);this.cmd(Ka.setText,e.graphicID,"",e.numKeys-1),e.numKeys--,this.cmd(Ka.setHighlight,e.graphicID,0),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setNumElements,e.graphicID,e.numKeys),this.resizeTree(),this.cmd(Ka.setText,this.messageID,"")}}else{for(this.cmd(Ka.setText,this.messageID,"Tree to left of element to delete does have \nan extra key. Finding the largest key in that subtree ..."),this.cmd(Ka.step);!h.isLeaf;)this.cmd(Ka.setHighlight,h.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,h.graphicID,0),h.children[h.numKeys].numKeys===this.min_keys?(h.children[h.numKeys-1]>this.min_keys&&(h=this.stealFromLeft(h.children[h.numKeys],h.numKeys)),h=this.mergeRight(h.children[h.numKeys-1])):h=h.children[h.numKeys];this.cmd(Ka.setHighlight,h.graphicID,1),t.keys[s]=h.keys[h.numKeys-1],this.cmd(Ka.setTextColor,t.graphicID,Vr,s),this.cmd(Ka.setText,t.graphicID,"",s),this.cmd(Ka.setText,h.graphicID,"",h.numKeys-1),this.cmd(Ka.createLabel,this.moveLabel1ID,t.keys[s],this.getLabelX(h,h.numKeys-1),h.y),this.cmd(Ka.move,this.moveLabel1ID,this.getLabelX(t,s),t.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.moveLabel1ID),this.cmd(Ka.setText,t.graphicID,t.keys[s],s),h.numKeys--,this.cmd(Ka.setHighlight,h.graphicID,0),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setNumElements,h.graphicID,h.numKeys),this.resizeTree(),this.cmd(Ka.setText,this.messageID,"")}}}}doDelete(t,e){if(null!=t){let i;for(this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.step),i=0;i<t.numKeys&&t.keys[i]<e;i++);if(i===t.numKeys)t.isLeaf?this.cmd(Ka.setHighlight,t.graphicID,0):(this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),this.doDelete(t.children[t.numKeys],e));else if(t.keys[i]>e)t.isLeaf?this.cmd(Ka.setHighlight,t.graphicID,0):(this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i].graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setEdgeHighlight,t.graphicID,t.children[i].graphicID,0),this.doDelete(t.children[i],e));else if(this.cmd(Ka.setTextColor,t.graphicID,"#FF0000",i),this.cmd(Ka.step),t.isLeaf){this.cmd(Ka.setTextColor,t.graphicID,Vr,i);for(let e=i;e<t.numKeys-1;e++)t.keys[e]=t.keys[e+1],this.cmd(Ka.setText,t.graphicID,t.keys[e],e);t.numKeys--,this.cmd(Ka.setText,t.graphicID,"",t.numKeys),this.cmd(Ka.setNumElements,t.graphicID,t.numKeys),this.cmd(Ka.setHighlight,t.graphicID,0),this.repairAfterDelete(t)}else{let e;if("pred"===this.predSucc){for(e=t.children[i];!e.isLeaf;)this.cmd(Ka.setHighlight,e.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,e.graphicID,0),e=e.children[e.numKeys];this.cmd(Ka.setHighlight,e.graphicID,1),t.keys[i]=e.keys[e.numKeys-1],this.cmd(Ka.setTextColor,t.graphicID,Vr,i),this.cmd(Ka.setText,t.graphicID,"",i),this.cmd(Ka.setText,e.graphicID,"",e.numKeys-1),this.cmd(Ka.createLabel,this.moveLabel1ID,t.keys[i],this.getLabelX(e,e.numKeys-1),e.y)}else{for(e=t.children[i+1];!e.isLeaf;)this.cmd(Ka.setHighlight,e.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,e.graphicID,0),e=e.children[0];this.cmd(Ka.setHighlight,e.graphicID,1),t.keys[i]=e.keys[0],this.cmd(Ka.setTextColor,t.graphicID,Vr,i),this.cmd(Ka.setText,t.graphicID,"",i),this.cmd(Ka.setText,e.graphicID,"",0),this.cmd(Ka.createLabel,this.moveLabel1ID,t.keys[i],this.getLabelX(e,0),e.y)}if(this.cmd(Ka.move,this.moveLabel1ID,this.getLabelX(t,i),t.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.moveLabel1ID),this.cmd(Ka.setText,t.graphicID,t.keys[i],i),e.numKeys--,this.cmd(Ka.setHighlight,e.graphicID,0),this.cmd(Ka.setHighlight,t.graphicID,0),"succ"===this.predSucc)for(let t=0;t<e.numKeys;t++)e.keys[t]=e.keys[t+1],this.cmd(Ka.setText,e.graphicID,e.keys[t],t);this.cmd(Ka.setNumElements,e.graphicID,e.numKeys),this.repairAfterDelete(e)}}}mergeRight(t){this.cmd(Ka.setText,this.messageID,"Merging node");const e=t.parent;let i=0;for(i=0;e.children[i]!==t;i++);const s=e.children[i+1];this.cmd(Ka.setHighlight,t.graphicID,1),this.cmd(Ka.setHighlight,e.graphicID,1),this.cmd(Ka.setHighlight,s.graphicID,1),this.cmd(Ka.step),this.cmd(Ka.setNumElements,t.graphicID,t.numKeys+s.numKeys+1),t.x=(t.x+s.x)/2,this.cmd(Ka.setPosition,t.graphicID,t.x,t.y),t.keys[t.numKeys]=e.keys[i];const h=t.numKeys;this.cmd(Ka.setText,t.graphicID,"",t.numKeys),this.cmd(Ka.createLabel,this.moveLabel1ID,e.keys[i],this.getLabelX(e,i),e.y);for(let n=0;n<s.numKeys;n++)t.keys[t.numKeys+1+n]=s.keys[n],this.cmd(Ka.setText,t.graphicID,t.keys[t.numKeys+1+n],t.numKeys+1+n),this.cmd(Ka.setText,s.graphicID,"",n);if(!t.isLeaf)for(let n=0;n<=s.numKeys;n++)this.cmd(Ka.disconnect,s.graphicID,s.children[n].graphicID),t.children[t.numKeys+1+n]=s.children[n],t.children[t.numKeys+1+n].parent=t,this.cmd(Ka.connect,t.graphicID,t.children[t.numKeys+1+n].graphicID,Vr,0,0,"",t.numKeys+1+n);this.cmd(Ka.disconnect,e.graphicID,s.graphicID);for(let n=i+1;n<e.numKeys;n++)this.cmd(Ka.disconnect,e.graphicID,e.children[n+1].graphicID),e.children[n]=e.children[n+1],this.cmd(Ka.connect,e.graphicID,e.children[n].graphicID,Vr,0,0,"",n),e.keys[n-1]=e.keys[n],this.cmd(Ka.setText,e.graphicID,e.keys[n-1],n-1);return this.cmd(Ka.setText,e.graphicID,"",e.numKeys-1),e.numKeys--,this.cmd(Ka.setNumElements,e.graphicID,e.numKeys),this.cmd(Ka.setHighlight,t.graphicID,0),this.cmd(Ka.setHighlight,e.graphicID,0),this.cmd(Ka.delete,s.graphicID),t.numKeys=t.numKeys+s.numKeys+1,this.cmd(Ka.move,this.moveLabel1ID,this.getLabelX(t,h),t.y),this.cmd(Ka.step),this.cmd(Ka.delete,this.moveLabel1ID),this.cmd(Ka.setText,t.graphicID,t.keys[h],h),this.cmd(Ka.setText,this.messageID,""),t}stealFromRight(t,e){const i=t.parent;this.cmd(Ka.setNumElements,t.graphicID,t.numKeys+1),this.cmd(Ka.setText,this.messageID,"Stealing from right sibling");const s=i.children[e+1];t.numKeys++,this.cmd(Ka.setNumElements,t.graphicID,t.numKeys),this.cmd(Ka.setText,t.graphicID,"",t.numKeys-1),this.cmd(Ka.setText,i.graphicID,"",e),this.cmd(Ka.setText,s.graphicID,"",0);const h=this.nextIndex++,n=this.nextIndex++;if(this.cmd(Ka.createLabel,h,s.keys[0],this.getLabelX(s,0),s.y),this.cmd(Ka.createLabel,n,i.keys[e],this.getLabelX(i,e),i.y),this.cmd(Ka.setForegroundColor,h,Vr),this.cmd(Ka.setForegroundColor,n,Vr),this.cmd(Ka.move,h,this.getLabelX(i,e),i.y),this.cmd(Ka.move,n,this.getLabelX(t,t.numKeys-1),t.y),this.cmd(Ka.step),this.cmd(Ka.delete,h),this.cmd(Ka.delete,n),t.keys[t.numKeys-1]=i.keys[e],i.keys[e]=s.keys[0],this.cmd(Ka.setText,t.graphicID,t.keys[t.numKeys-1],t.numKeys-1),this.cmd(Ka.setText,i.graphicID,i.keys[e],e),!t.isLeaf){t.children[t.numKeys]=s.children[0],t.children[t.numKeys].parent=t,this.cmd(Ka.disconnect,s.graphicID,s.children[0].graphicID),this.cmd(Ka.connect,t.graphicID,t.children[t.numKeys].graphicID,Vr,0,0,"",t.numKeys);for(let t=1;t<s.numKeys+1;t++)this.cmd(Ka.disconnect,s.graphicID,s.children[t].graphicID),s.children[t-1]=s.children[t],this.cmd(Ka.connect,s.graphicID,s.children[t-1].graphicID,Vr,0,0,"",t-1)}for(let a=1;a<s.numKeys;a++)s.keys[a-1]=s.keys[a],this.cmd(Ka.setText,s.graphicID,s.keys[a-1],a-1);return this.cmd(Ka.setText,s.graphicID,"",s.numKeys-1),s.numKeys--,this.cmd(Ka.setNumElements,s.graphicID,s.numKeys),this.resizeTree(),this.cmd(Ka.setText,this.messageID,""),t}stealFromLeft(t,e){const i=t.parent;t.numKeys++,this.cmd(Ka.setNumElements,t.graphicID,t.numKeys),this.cmd(Ka.setText,this.messageID,"Node has too few keys.  Stealing from left sibling.");for(let a=t.numKeys-1;a>0;a--)t.keys[a]=t.keys[a-1],this.cmd(Ka.setText,t.graphicID,t.keys[a],a);const s=i.children[e-1];this.cmd(Ka.setText,t.graphicID,"",0),this.cmd(Ka.setText,i.graphicID,"",e-1),this.cmd(Ka.setText,s.graphicID,"",s.numKeys-1);const h=this.nextIndex++,n=this.nextIndex++;if(this.cmd(Ka.createLabel,h,s.keys[s.numKeys-1],this.getLabelX(s,s.numKeys-1),s.y),this.cmd(Ka.createLabel,n,i.keys[e-1],this.getLabelX(i,e-1),i.y),this.cmd(Ka.setForegroundColor,h,Vr),this.cmd(Ka.setForegroundColor,n,Vr),this.cmd(Ka.move,h,this.getLabelX(i,e-1),i.y),this.cmd(Ka.move,n,this.getLabelX(t,0),t.y),this.cmd(Ka.step),this.cmd(Ka.delete,h),this.cmd(Ka.delete,n),!t.isLeaf){for(let e=t.numKeys;e>0;e--)this.cmd(Ka.disconnect,t.graphicID,t.children[e-1].graphicID),t.children[e]=t.children[e-1],this.cmd(Ka.connect,t.graphicID,t.children[e].graphicID,Vr,0,0,"",e);t.children[0]=s.children[s.numKeys],this.cmd(Ka.disconnect,s.graphicID,s.children[s.numKeys].graphicID),this.cmd(Ka.connect,t.graphicID,t.children[0].graphicID,Vr,0,0,"",0),s.children[s.numKeys]=null,t.children[0].parent=t}return t.keys[0]=i.keys[e-1],this.cmd(Ka.setText,t.graphicID,t.keys[0],0),i.keys[e-1]=s.keys[s.numKeys-1],this.cmd(Ka.setText,i.graphicID,i.keys[e-1],e-1),this.cmd(Ka.setText,s.graphicID,"",s.numKeys-1),s.numKeys--,this.cmd(Ka.setNumElements,s.graphicID,s.numKeys),this.resizeTree(),this.cmd(Ka.setText,this.messageID,""),t}repairAfterDelete(t){if(t.numKeys<this.min_keys)if(null==t.parent)0===t.numKeys&&(this.cmd(Ka.step),this.cmd(Ka.delete,t.graphicID),this.treeRoot=t.children[0],null!=this.treeRoot&&(this.treeRoot.parent=null),this.resizeTree());else{const e=t.parent;let i,s;for(i=0;e.children[i]!==t;i++);i>0&&e.children[i-1].numKeys>this.min_keys?this.stealFromLeft(t,i):i<e.numKeys&&e.children[i+1].numKeys>this.min_keys?this.stealFromRight(t,i):0===i?(s=this.mergeRight(t),this.repairAfterDelete(s.parent)):(s=this.mergeRight(e.children[i-1]),this.repairAfterDelete(s.parent))}}getLabelX(t,e){return t.x-Mr*t.numKeys/2+20+e*Mr}resizeTree(){this.resizeWidths(this.treeRoot),this.setNewPositions(this.treeRoot,this.starting_x,Hr),this.animateNewPositions(this.treeRoot)}setNewPositions(t,e,i){if(null!=t&&(t.y=i,t.x=e,!t.isLeaf)){const s=e-t.width/2;let h=0;for(let e=0;e<t.numKeys+1;e++)this.setNewPositions(t.children[e],s+h+t.widths[e]/2,i+50),h+=t.widths[e]}}animateNewPositions(t){if(null==t)return;let e;for(e=0;e<t.numKeys+1;e++)this.animateNewPositions(t.children[e]);this.cmd(Ka.move,t.graphicID,t.x,t.y)}resizeWidths(t){if(null==t)return 0;if(t.isLeaf){for(let e=0;e<t.numKeys+1;e++)t.widths[e]=0;return t.width=t.numKeys*Mr+15,t.width}{let e=0;for(let i=0;i<t.numKeys+1;i++)t.widths[i]=this.resizeWidths(t.children[i]),e+=t.widths[i];return e=Math.max(e,t.numKeys*Mr+15),t.width=e,e}}}],BubbleSort:["Bubble Sort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr(),this.lastSwapCheckbox=Ya("Enable last swap optimization",!0),this.lastSwapCheckbox.onclick=this.toggleLastSwap.bind(this),this.controls.push(this.lastSwapCheckbox)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Ka.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=or.XM,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,200),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.compCount=0,this.swapCount=0,this.arrayData=[],this.arrayID=[],this.displayData=[]}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}toggleLastSwap(){this.implementAction(this.clear.bind(this)),eo?(this.cmd(Ka.setText,this.codeID.code[3][0],"  while start < end and sorted is false"),this.cmd(Ka.setText,this.codeID.code[4][0],"    sorted \u2190 true"),this.cmd(Ka.setText,this.codeID.code[8][0],"        sorted \u2190 false"),this.cmd(Ka.setText,this.codeID.code[11][0],"    end \u2190 end - 1"),this.cmd(Ka.setText,this.codeID.english[3][0],"  while (start < end and not sorted):"),this.cmd(Ka.setText,this.codeID.english[4][0],"    mark sorted as true"),this.cmd(Ka.setText,this.codeID.english[8][0],"        mark sorted as false"),this.cmd(Ka.setText,this.codeID.english[11][0],"    decrement end")):(this.cmd(Ka.setText,this.codeID.code[3][0],"  while start < end"),this.cmd(Ka.setText,this.codeID.code[4][0],"    swapped \u2190 start"),this.cmd(Ka.setText,this.codeID.code[8][0],"        swapped \u2190 j"),this.cmd(Ka.setText,this.codeID.code[11][0],"    end \u2190 swapped"),this.cmd(Ka.setText,this.codeID.english[3][0],"  while (start < end):"),this.cmd(Ka.setText,this.codeID.english[4][0],"    lastSwapped points to start"),this.cmd(Ka.setText,this.codeID.english[8][0],"        lastSwapped points to j"),this.cmd(Ka.setText,this.codeID.english[11][0],"    end points to lastSwapped")),eo=!eo}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.swapCount=0,this.displayData=[],t||(this.listField.value=""),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers "),this.commands;this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18);const e=this.arrayData.length,i=new Map,s=new Map;for(let r=0;r<e;r++){const t=i.has(this.arrayData[r])?i.get(this.arrayData[r]):0;t>0&&s.set(this.arrayData[r],"a"),i.set(this.arrayData[r],t+1)}for(let r=0;r<e;r++){this.arrayID[r]=this.nextIndex++;const t=r*to+Zr,e=Jr;let i=this.arrayData[r].toString();if(s.has(this.arrayData[r])){const t=s.get(this.arrayData[r]);i+=t,s.set(this.arrayData[r],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[r]=i,this.cmd(Ka.createRectangle,this.arrayID[r],i,to,50,t,e)}this.cmd(Ka.createHighlightCircle,this.iPointerID,"#0000FF",Zr,Jr),this.cmd(Ka.setHighlight,this.iPointerID,1),this.cmd(Ka.createHighlightCircle,this.jPointerID,"#0000FF",150,Jr),this.cmd(Ka.setHighlight,this.jPointerID,1),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID);let h=!0,n=this.arrayData.length-1,a=0;this.highlight(3,0,this.codeID),this.cmd(Ka.step);do{this.highlight(4,0,this.codeID),this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),h=!0,this.highlight(5,0,this.codeID);for(let t=0;t<n;t++)this.movePointers(t,t+1),this.highlight(6,0,this.codeID),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.step),this.unhighlight(6,0,this.codeID),this.arrayData[t]>this.arrayData[t+1]&&(this.swap(t,t+1),h=!1,a=t);if(this.unhighlight(5,0,this.codeID),this.highlight(11,0,this.codeID),eo?n=a:n--,!h)for(let t=n+1;t<this.arrayData.length;t++)this.cmd(Ka.setBackgroundColor,this.arrayID[t],"#2ECC71");this.cmd(Ka.step),this.unhighlight(11,0,this.codeID)}while(!h);this.cmd(Ka.delete,this.iPointerID),this.cmd(Ka.delete,this.jPointerID),this.unhighlight(3,0,this.codeID),this.cmd(Ka.step);for(let r=0;r<this.arrayData.length;r++)this.cmd(Ka.setBackgroundColor,this.arrayID[r],"#2ECC71");return this.cmd(Ka.step),this.commands}movePointers(t,e){const i=t*to+Zr;this.cmd(Ka.move,this.iPointerID,i,Jr);const s=e*to+Zr;this.cmd(Ka.move,this.jPointerID,s,Jr),this.cmd(Ka.step)}swap(t,e){this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Ka.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Ka.setForegroundColor,this.jPointerID,"#FF0000");const i=this.nextIndex++,s=t*to+Zr;this.cmd(Ka.createLabel,i,this.displayData[t],s,Jr);const h=this.nextIndex++,n=e*to+Zr;this.cmd(Ka.createLabel,h,this.displayData[e],n,Jr),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.move,i,n,Jr),this.cmd(Ka.move,h,s,Jr),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,h);let a=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=a,a=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=a,this.cmd(Ka.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Ka.setForegroundColor,this.jPointerID,"#0000FF"),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID),this.cmd(Ka.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],CocktailSort:["Cocktail Shaker Sort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr(),this.lastSwapCheckbox=Ya("Enable last swap optimization",!0),this.lastSwapCheckbox.onclick=this.toggleLastSwap.bind(this),this.controls.push(this.lastSwapCheckbox)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Ka.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=or.hV,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,180),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.compCount=0,this.swapCount=0,this.arrayData=[],this.arrayID=[],this.displayData=[]}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}toggleLastSwap(){Lo?(this.implementAction(this.clear.bind(this)),this.cmd(Ka.setText,this.codeID.code[2][0],"  sorted \u2190 false"),this.cmd(Ka.setText,this.codeID.code[3][0],"  while start < end and sorted is false"),this.cmd(Ka.setText,this.codeID.code[4][0],"    sorted \u2190 true"),this.cmd(Ka.setText,this.codeID.code[8][0],"        sorted \u2190 false"),this.cmd(Ka.setText,this.codeID.code[11][0],"    end \u2190 end - 1"),this.cmd(Ka.setText,this.codeID.code[15][0],"        sorted \u2190 false"),this.cmd(Ka.setText,this.codeID.code[18][0],"    start \u2190 start + 1"),this.cmd(Ka.setText,this.codeID.english[2][0],"  mark sorted as false"),this.cmd(Ka.setText,this.codeID.english[3][0],"  while (start < end and not sorted):"),this.cmd(Ka.setText,this.codeID.english[4][0],"    mark sorted as true"),this.cmd(Ka.setText,this.codeID.english[8][0],"        mark sorted as false"),this.cmd(Ka.setText,this.codeID.english[11][0],"    decrement end"),this.cmd(Ka.setText,this.codeID.english[15][0],"        mark sorted as false"),this.cmd(Ka.setText,this.codeID.english[18][0],"    increment start")):(this.implementAction(this.clear.bind(this)),this.cmd(Ka.setText,this.codeID.code[2][0],"  swapped \u2190 start"),this.cmd(Ka.setText,this.codeID.code[3][0],"  while start < end"),this.cmd(Ka.setText,this.codeID.code[4][0],"    swapped \u2190 start"),this.cmd(Ka.setText,this.codeID.code[8][0],"        swapped \u2190 i"),this.cmd(Ka.setText,this.codeID.code[11][0],"    end \u2190 swapped"),this.cmd(Ka.setText,this.codeID.code[15][0],"        swapped \u2190 i"),this.cmd(Ka.setText,this.codeID.code[18][0],"    start \u2190 swapped"),this.cmd(Ka.setText,this.codeID.english[2][0],"  lastSwapped points to start"),this.cmd(Ka.setText,this.codeID.english[3][0],"  while (start < end):"),this.cmd(Ka.setText,this.codeID.english[4][0],"    lastSwapped points to start"),this.cmd(Ka.setText,this.codeID.english[8][0],"        lastSwapped points to i"),this.cmd(Ka.setText,this.codeID.english[11][0],"    end points to lastSwapped"),this.cmd(Ka.setText,this.codeID.english[15][0],"        lastSwapped points to i"),this.cmd(Ka.setText,this.codeID.english[18][0],"    starts points to lastSwapped")),Lo=!Lo}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.swapCount=0,this.displayData=[],t||(this.listField.value=""),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=this.arrayData.length,i=new Map,s=new Map;for(let o=0;o<e;o++){const t=i.has(this.arrayData[o])?i.get(this.arrayData[o]):0;t>0&&s.set(this.arrayData[o],"a"),i.set(this.arrayData[o],t+1)}for(let o=0;o<e;o++){this.arrayID[o]=this.nextIndex++;const t=o*To+Co,e=wo;let i=this.arrayData[o].toString();if(s.has(this.arrayData[o])){const t=s.get(this.arrayData[o]);i+=t,s.set(this.arrayData[o],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[o]=i,this.cmd(Ka.createRectangle,this.arrayID[o],i,To,50,t,e)}this.cmd(Ka.createHighlightCircle,this.iPointerID,"#0000FF",Co,wo),this.cmd(Ka.setHighlight,this.iPointerID,1),this.cmd(Ka.createHighlightCircle,this.jPointerID,"#0000FF",150,wo),this.cmd(Ka.setHighlight,this.jPointerID,1),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID);let h=!0,n=0,a=this.arrayData.length-1,r=0;this.highlight(3,0,this.codeID),this.cmd(Ka.step);do{this.highlight(4,0,this.codeID),this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),h=!0;for(let t=n;t<a;t++)this.movePointers(t,t+1),this.highlight(6,0,this.codeID),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.step),this.unhighlight(6,0,this.codeID),this.arrayData[t]>this.arrayData[t+1]&&(this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.swap(t,t+1),h=!1,r=t),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID),this.cmd(Ka.step);if(this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.highlight(11,0,this.codeID),Lo?a=r:a--,this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),!h){for(let t=a+1;t<this.arrayData.length;t++)this.cmd(Ka.setBackgroundColor,this.arrayID[t],"#2ECC71");this.cmd(Ka.step)}if(this.highlight(12,0,this.codeID),this.cmd(Ka.step),!h){h=!0;for(let t=a;t>n;t--)this.movePointers(t-1,t),this.highlight(13,0,this.codeID),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.step),this.unhighlight(13,0,this.codeID),+this.arrayData[t]<+this.arrayData[t-1]&&(this.highlight(14,0,this.codeID),this.highlight(15,0,this.codeID),this.swap(t,t-1),h=!1,r=t),this.unhighlight(14,0,this.codeID),this.unhighlight(15,0,this.codeID),this.cmd(Ka.step);if(this.highlight(18,0,this.codeID),Lo?n=r:n++,this.cmd(Ka.step),this.unhighlight(18,0,this.codeID),!h){for(let t=n-1;t>=0;t--)this.cmd(Ka.setBackgroundColor,this.arrayID[t],"#2ECC71");this.cmd(Ka.step)}}this.unhighlight(12,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step)}while(!h);this.unhighlight(3,0,this.codeID),this.cmd(Ka.delete,this.iPointerID),this.cmd(Ka.delete,this.jPointerID),this.cmd(Ka.step);for(let o=0;o<this.arrayData.length;o++)this.cmd(Ka.setBackgroundColor,this.arrayID[o],"#2ECC71");return this.cmd(Ka.step),this.commands}movePointers(t,e){const i=t*To+Co;this.cmd(Ka.move,this.iPointerID,i,120);const s=e*To+Co;this.cmd(Ka.move,this.jPointerID,s,120),this.cmd(Ka.step)}swap(t,e){this.cmd(Ka.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Ka.setForegroundColor,this.jPointerID,"#FF0000");const i=this.nextIndex++,s=t*To+Co;this.cmd(Ka.createLabel,i,this.displayData[t],s,120);const h=this.nextIndex++,n=e*To+Co;this.cmd(Ka.createLabel,h,this.displayData[e],n,120),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.move,i,n,120),this.cmd(Ka.move,h,s,120),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,h);let a=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=a,a=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=a,this.cmd(Ka.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Ka.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Ka.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],InsertionSort:["Insertion Sort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Ka.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=or.Kz,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,200),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0,t||(this.listField.value=""),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=this.arrayData.length,i=new Map,s=new Map;for(let h=0;h<e;h++){const t=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;t>0&&s.set(this.arrayData[h],"a"),i.set(this.arrayData[h],t+1)}for(let h=0;h<e;h++){this.arrayID[h]=this.nextIndex++;const t=h*fl+gl,e=pl;let i=this.arrayData[h].toString();if(s.has(this.arrayData[h])){const t=s.get(this.arrayData[h]);i+=t,s.set(this.arrayData[h],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[h]=i,this.cmd(Ka.createRectangle,this.arrayID[h],i,fl,50,t,e)}this.cmd(Ka.createHighlightCircle,this.iPointerID,"#0000FF",gl,pl),this.cmd(Ka.setHighlight,this.iPointerID,1),this.cmd(Ka.createHighlightCircle,this.jPointerID,"#0000FF",150,pl),this.cmd(Ka.setHighlight,this.jPointerID,1),this.highlight(0,0,this.codeID),this.cmd(Ka.step),this.unhighlight(0,0,this.codeID),this.highlight(2,0,this.codeID);for(let h=1;h<this.arrayData.length;h++){this.cmd(Ka.step),this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);for(let t=h;t>=1&&(this.movePointers(t-1,t),this.unhighlight(3,0,this.codeID),this.unhighlight(6,0,this.codeID),this.highlight(4,2,this.codeID),this.cmd(Ka.step),this.unhighlight(4,2,this.codeID),this.highlight(4,4,this.codeID),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.step),this.unhighlight(4,4,this.codeID),this.arrayData[t]<this.arrayData[t-1]);t--)this.highlight(5,0,this.codeID),this.swap(t,t-1),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Ka.step);this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID),this.unhighlight(6,0,this.codeID),1===h&&this.cmd(Ka.setBackgroundColor,this.arrayID[0],"#2ECC71"),this.cmd(Ka.setBackgroundColor,this.arrayID[h],"#2ECC71"),this.cmd(Ka.step)}return this.unhighlight(2,0,this.codeID),this.cmd(Ka.delete,this.iPointerID),this.cmd(Ka.delete,this.jPointerID),this.cmd(Ka.step),this.commands}movePointers(t,e){const i=t*fl+gl;this.cmd(Ka.move,this.iPointerID,i,130);const s=e*fl+gl;this.cmd(Ka.move,this.jPointerID,s,130),this.cmd(Ka.step)}swap(t,e){this.cmd(Ka.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Ka.setForegroundColor,this.jPointerID,"#FF0000");const i=this.nextIndex++,s=t*fl+gl;this.cmd(Ka.createLabel,i,this.displayData[t],s,130);const h=this.nextIndex++,n=e*fl+gl;this.cmd(Ka.createLabel,h,this.displayData[e],n,130),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.move,i,n,130),this.cmd(Ka.move,h,s,130),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,h);let a=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=a,a=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=a,this.cmd(Ka.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Ka.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Ka.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],SelectionSort:["Selection Sort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr();const i=Za(["Maximum","Minimum"],"Max/Min");this.minButton=i[1],this.minButton.onclick=this.minCallback.bind(this),this.controls.push(this.minButton),this.maxButton=i[0],this.maxButton.onclick=this.maxCallback.bind(this),this.controls.push(this.maxButton),this.maxButton.checked=!0,this.isMin=!1}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Ka.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=or.X7,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,200),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}minCallback(){this.isMin||(this.implementAction(this.clear.bind(this)),this.cmd(Ka.setText,this.codeID.code[2][0],"  for i \u2190 0, length:"),this.cmd(Ka.setText,this.codeID.code[3][0],"    min \u2190 i"),this.cmd(Ka.setText,this.codeID.code[4][0],"    for j \u2190 i + 1, length:"),this.cmd(Ka.setText,this.codeID.code[5][0],"      if array[j] < array[min]:"),this.cmd(Ka.setText,this.codeID.code[6][0],"        min \u2190 j"),this.cmd(Ka.setText,this.codeID.code[9][0],"    swap array[min], array[i]"),this.cmd(Ka.setText,this.codeID.english[2][0],"  for (i from start to end):"),this.cmd(Ka.setText,this.codeID.english[3][0],"    initialize min value"),this.cmd(Ka.setText,this.codeID.english[4][0],"    for (j from i to end):"),this.cmd(Ka.setText,this.codeID.english[5][0],"      if (array[j] < min value):"),this.cmd(Ka.setText,this.codeID.english[6][0],"        min value is array[j]"),this.cmd(Ka.setText,this.codeID.english[9][0],"    swap min value with array[i]"),this.isMin=!0)}maxCallback(){this.isMin&&(this.implementAction(this.clear.bind(this)),this.cmd(Ka.setText,this.codeID.code[2][0],"  for i \u2190 length - 1, 0:"),this.cmd(Ka.setText,this.codeID.code[3][0],"    max \u2190 i"),this.cmd(Ka.setText,this.codeID.code[4][0],"    for j \u2190 i - 1, 0:"),this.cmd(Ka.setText,this.codeID.code[5][0],"      if array[j] > array[max]:"),this.cmd(Ka.setText,this.codeID.code[6][0],"        max \u2190 j"),this.cmd(Ka.setText,this.codeID.code[9][0],"    swap array[max], array[i]"),this.cmd(Ka.setText,this.codeID.english[2][0],"  for (i from end to start):"),this.cmd(Ka.setText,this.codeID.english[3][0],"    initialize max value"),this.cmd(Ka.setText,this.codeID.english[4][0],"    for (j from start to i):"),this.cmd(Ka.setText,this.codeID.english[5][0],"      if (array[j] > max value):"),this.cmd(Ka.setText,this.codeID.english[6][0],"        max value is array[j]"),this.cmd(Ka.setText,this.codeID.english[9][0],"    swap max value with array[i]"),this.isMin=!1)}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.swapCount=0,this.displayData=[],t||(this.listField.value=""),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(1,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18);const e=this.arrayData.length;this.displayData=new Array(e);const i=new Map,s=new Map;for(let a=0;a<e;a++){const t=i.has(this.arrayData[a])?i.get(this.arrayData[a]):0;t>0&&s.set(this.arrayData[a],"a"),i.set(this.arrayData[a],t+1)}for(let a=0;a<e;a++){this.arrayID[a]=this.nextIndex++;const t=a*wd+kd,e=Cd;let i=this.arrayData[a].toString();if(s.has(this.arrayData[a])){const t=s.get(this.arrayData[a]);i+=t,s.set(this.arrayData[a],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[a]=i,this.cmd(Ka.createRectangle,this.arrayID[a],i,wd,50,t,e)}let h=0;this.isMin||(h=wd*(this.arrayData.length-1)),this.cmd(Ka.createHighlightCircle,this.iPointerID,"#FF0000",kd+h,Cd),h=wd,this.isMin||(h=wd*(this.arrayData.length-2)),this.cmd(Ka.setHighlight,this.iPointerID,1),this.cmd(Ka.createHighlightCircle,this.jPointerID,"#0000FF",kd+h,Cd),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.cmd(Ka.setHighlight,this.jPointerID,1),this.highlight(2,0,this.codeID),this.cmd(Ka.step);for(let a=0;a<this.arrayData.length-1;a++){this.highlight(3,0,this.codeID);let t=a;this.isMin||(t=this.arrayData.length-1-a);let e=t;this.cmd(Ka.setBackgroundColor,this.arrayID[e],"#FFFF00"),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.step);for(let i=a+1;i<this.arrayData.length;i++){let t=i;this.isMin||(t=this.arrayData.length-1-i),this.movePointers(e,t),this.compare(this.arrayData[t],this.arrayData[e])&&(this.cmd(Ka.setBackgroundColor,this.arrayID[e],"#FFFFFF"),this.highlight(6,0,this.codeID),this.cmd(Ka.step),e=t,this.movePointers(e,t),this.cmd(Ka.setBackgroundColor,this.arrayID[e],"#FFFF00"),this.cmd(Ka.step),this.unhighlight(6,0,this.codeID))}this.unhighlight(4,0,this.codeID),this.swap(t,e),this.cmd(Ka.setBackgroundColor,this.arrayID[e],"#FFFFFF"),this.cmd(Ka.step),this.cmd(Ka.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.cmd(Ka.step)}this.unhighlight(2,0,this.codeID),this.cmd(Ka.delete,this.iPointerID),this.cmd(Ka.delete,this.jPointerID),this.cmd(Ka.step);let n=this.arrayID.length-1;return this.isMin||(n=0),this.cmd(Ka.setBackgroundColor,this.arrayID[n],"#2ECC71"),this.commands}compare(t,e){return this.highlight(5,0,this.codeID),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.isMin?t<e:t>e}movePointers(t,e){const i=t*wd+kd;this.cmd(Ka.move,this.iPointerID,i,130);const s=e*wd+kd;this.cmd(Ka.move,this.jPointerID,s,130),this.cmd(Ka.step)}swap(t,e){this.highlight(9,0,this.codeID);const i=this.nextIndex++,s=t*wd+kd;this.cmd(Ka.createLabel,i,this.displayData[t],s,130);const h=this.nextIndex++,n=e*wd+kd;this.cmd(Ka.createLabel,h,this.displayData[e],n,130),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.move,i,n,130),this.cmd(Ka.move,h,s,130),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,h);let a=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=a,a=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=a,this.unhighlight(9,0,this.codeID)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],Quicksort:["Quicksort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr();const i=Za(["Random pivot","Perfect pivot","Min element","Set index"],"Traversals");xd=er(!1),this.loadFieldLabel=Ga("Pivot Index",xd);const s=er(!0,xd),h=er(!0,s);this.setPivotField=Ja("Text","",h),this.setPivotField.setAttribute("value","0"),this.setPivotField.size=1,xd.setAttribute("style","display:none"),this.setPivotField.addEventListener("input",(function(){let t=parseInt(this.value.trim());t=isNaN(t)?0:Math.min(Math.max(t,0),17),this.value=t,Dd=t})),this.randomPivotSelect=i[0],this.perfectPivotSelect=i[1],this.minPivotSelect=i[2],this.setPivotSelect=i[3],this.randomPivotSelect.onclick=()=>this.setPivotType("random"),this.perfectPivotSelect.onclick=()=>this.setPivotType("perfect"),this.minPivotSelect.onclick=()=>this.setPivotType("min"),this.setPivotSelect.onclick=()=>this.setPivotType("set"),this.randomPivotSelect.checked=!0,this.setPivotType("random"),this.controls.push(this.randomPivotSelect),this.controls.push(this.perfectPivotSelect),this.controls.push(this.minPivotSelect),this.controls.push(this.setPivotSelect),tr()}setPivotType(t){this.pivotType=t,xd.setAttribute("style","display:none"),"set"===this.pivotType&&xd.setAttribute("style","display:block")}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.iLabel=0,this.jLabel=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Ka.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=or.KM,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,180),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.iLabel=0,this.jLabel=0,this.pPointerID=0,this.compCount=0,this.swapCount=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0,t||(this.listField.value=""),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=new Map,i=new Map;for(let s=0;s<this.arrayData.length;s++){const t=e.has(this.arrayData[s])?e.get(this.arrayData[s]):0;t>0&&i.set(this.arrayData[s],"a"),e.set(this.arrayData[s],t+1)}for(let s=0;s<this.arrayData.length;s++){this.arrayData[s]=parseInt(this.arrayData[s]),this.arrayID[s]=this.nextIndex++;const t=s*bd+fd,e=Id;let h=this.arrayData[s].toString();if(i.has(this.arrayData[s])){const t=i.get(this.arrayData[s]);h+=t,i.set(this.arrayData[s],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[s]=h,this.cmd(Ka.createRectangle,this.arrayID[s],h,bd,50,t,e)}return this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.pPointerID=this.nextIndex++,this.iLabel=this.nextIndex++,this.jLabel=this.nextIndex++,this.helper(0,this.arrayData.length-1),this.commands}helper(t,e){if(t>e)return;this.highlight(0,0,this.codeID);for(let o=t;o<=e;o++)this.cmd(Ka.setBackgroundColor,this.arrayID[o],"#99CCFF");if(this.cmd(Ka.step),this.unhighlight(0,0),t===e)return this.cmd(Ka.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.cmd(Ka.step),void this.unhighlight(0,0,this.codeID);let i;if(this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),"min"===this.pivotType){let s=t;for(let i=t+1;i<=e;i++)this.arrayData[i]<this.arrayData[s]&&(s=i);i=s}else if("set"===this.pivotType)i=Math.min(t+Dd,e);else if("perfect"===this.pivotType){const s=this.arrayData.slice(t,e+1);s.sort(((t,e)=>t-e));const h=Math.floor(s.length/2);i=this.arrayData.indexOf(s[h])}else"random"===this.pivotType&&(i=Math.floor(Math.random()*(e-t))+t+1);const s=i*bd+fd;this.cmd(Ka.createHighlightCircle,this.pPointerID,"#FFFF00",s,Id),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.swapPivot(i,t),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);let h=t+1,n=e;const a=h*bd+fd,r=n*bd+fd;for(this.cmd(Ka.createHighlightCircle,this.iPointerID,"#0000FF",a,Id),this.cmd(Ka.createHighlightCircle,this.jPointerID,"#0000FF",r,Id),this.cmd(Ka.createLabel,this.iLabel,"i",a,80,void 0,!1,!0),this.cmd(Ka.createLabel,this.jLabel,"j",r,80,void 0,!1,!0),h===n?(this.cmd(Ka.setText,this.iLabel,""),this.cmd(Ka.setText,this.jLabel,"i, j")):(this.cmd(Ka.setText,this.iLabel,"i"),this.cmd(Ka.setText,this.jLabel,"j")),this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID);h<=n;){for(this.cmd(Ka.step),this.highlight(6,0,this.codeID),this.highlight(6,2,this.codeID),this.cmd(Ka.step),this.unhighlight(6,2,this.codeID),this.highlight(6,4,this.codeID),this.cmd(Ka.step);h<=n&&this.arrayData[t]>=this.arrayData[h];)this.unhighlight(6,4,this.codeID),this.highlight(7,0,this.codeID),h++,this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(h,n),this.unhighlight(7,0,this.codeID),this.highlight(6,2,this.codeID),h<=n&&(this.cmd(Ka.step),this.unhighlight(6,2,this.codeID),this.highlight(6,4,this.codeID)),this.cmd(Ka.step);for(this.unhighlight(6,0,this.codeID),this.unhighlight(6,2,this.codeID),this.unhighlight(6,4,this.codeID),h<=n&&(this.cmd(Ka.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount)),this.highlight(9,0,this.codeID),this.cmd(Ka.step),this.highlight(9,2,this.codeID),h<=n&&(this.cmd(Ka.step),this.unhighlight(9,2,this.codeID),this.highlight(9,4,this.codeID)),this.cmd(Ka.step);h<=n&&this.arrayData[t]<=this.arrayData[n];)this.unhighlight(9,4,this.codeID),this.highlight(10,0,this.codeID),n--,this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(h,n),this.unhighlight(10,0,this.codeID),this.highlight(9,2,this.codeID),h<=n&&(this.cmd(Ka.step),this.unhighlight(9,2,this.codeID),this.highlight(9,4,this.codeID)),this.cmd(Ka.step);this.unhighlight(9,0,this.codeID),this.unhighlight(9,2,this.codeID),this.unhighlight(9,4,this.codeID),h<=n&&(this.cmd(Ka.setForegroundColor,this.jPointerID,"#FF0000"),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.step)),h<=n&&(this.highlight(13,0,this.codeID),this.swap(h,n),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),h++,n--,this.movePointers(h,n),this.unhighlight(14,0,this.codeID))}this.unhighlight(5,0,this.codeID),this.highlight(17,0,this.codeID),this.swapPivot(t,n,!0),this.unhighlight(17,0,this.codeID),this.cmd(Ka.delete,this.iPointerID),this.cmd(Ka.delete,this.jPointerID),this.cmd(Ka.delete,this.pPointerID),this.cmd(Ka.delete,this.iLabel),this.cmd(Ka.delete,this.jLabel),this.cmd(Ka.step);for(let o=t;o<=e;o++)this.cmd(Ka.setBackgroundColor,this.arrayID[o],"#FFFFFF");this.cmd(Ka.setBackgroundColor,this.arrayID[n],"#2ECC71"),this.cmd(Ka.step),this.highlight(18,0,this.codeID),this.cmd(Ka.step),this.unhighlight(18,0,this.codeID),this.helper(t,n-1),this.highlight(19,0,this.codeID),this.cmd(Ka.step),this.unhighlight(19,0,this.codeID),this.helper(n+1,e)}movePointers(t,e){const i=t*bd+fd;this.cmd(Ka.move,this.iPointerID,i,Id),this.cmd(Ka.move,this.iLabel,i,80);const s=e*bd+fd;this.cmd(Ka.move,this.jPointerID,s,Id),this.cmd(Ka.move,this.jLabel,s,80),t===e?(this.cmd(Ka.setText,this.iLabel,""),this.cmd(Ka.setText,this.jLabel,"i, j")):(this.cmd(Ka.setText,this.iLabel,"i"),this.cmd(Ka.setText,this.jLabel,"j")),this.cmd(Ka.step)}swapPivot(t,e,i){if(t===e)return;const s=this.nextIndex++,h=e*bd+fd;this.cmd(Ka.createLabel,s,this.displayData[e],h,Id);const n=this.nextIndex++,a=t*bd+fd;this.cmd(Ka.createLabel,n,this.displayData[t],a,Id),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.move,n,h,Id),this.cmd(Ka.move,this.pPointerID,h,Id),this.cmd(Ka.move,s,a,Id),i&&this.cmd(Ka.move,this.jPointerID,a,Id),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.delete,n),this.cmd(Ka.delete,s);let r=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=r,r=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=r}swap(t,e){const i=this.nextIndex++,s=t*bd+fd;this.cmd(Ka.createLabel,i,this.displayData[t],s,Id);const h=this.nextIndex++,n=e*bd+fd;this.cmd(Ka.createLabel,h,this.displayData[e],n,Id),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.move,i,n,Id),this.cmd(Ka.move,h,s,Id),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,h);let a=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=a,a=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=a,this.cmd(Ka.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Ka.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Ka.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],Quickselect:["Quick Select (k\u1d57\u02b0 Select)",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.runCallback.bind(this),60,!1),this.controls.push(this.listField),Ga("k\u1d57\u02b0 element (1 indexed)",e),this.kField=Ja("Text","",e),this.kField.style.textAlign="center",this.kField.onkeydown=this.returnSubmit(this.kField,this.runCallback.bind(this),2,!0),this.controls.push(this.kField),this.findButton=Ja("Button","Run",e),this.findButton.onclick=this.runCallback.bind(this),this.controls.push(this.findButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["1,2,3,4,5,6,7,8,9;k=4","Sorted"],["9,8,7,6,5,4,3,2,1;k=4","Reverse Sorted"],["2,3,4,5,6,7,8,9,1;k=4","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr();const i=Za(["Random pivot","Perfect pivot","Min element","Set index"],"Traversals");gd=er(!1),this.loadFieldLabel=Ga("Pivot Index",gd);const s=er(!0,gd),h=er(!0,s);this.setPivotField=Ja("Text","",h),this.setPivotField.setAttribute("value","0"),this.setPivotField.size=1,gd.setAttribute("style","display:none"),this.setPivotField.addEventListener("input",(function(){let t=parseInt(this.value.trim());t=isNaN(t)?0:Math.min(Math.max(t,0),17),this.value=t,pd=t})),this.randomPivotSelect=i[0],this.perfectPivotSelect=i[1],this.minPivotSelect=i[2],this.setPivotSelect=i[3],this.randomPivotSelect.onclick=()=>this.setPivotType("random"),this.perfectPivotSelect.onclick=()=>this.setPivotType("perfect"),this.minPivotSelect.onclick=()=>this.setPivotType("min"),this.setPivotSelect.onclick=()=>this.setPivotType("set"),this.randomPivotSelect.checked=!0,this.setPivotType("random"),this.controls.push(this.randomPivotSelect),this.controls.push(this.perfectPivotSelect),this.controls.push(this.minPivotSelect),this.controls.push(this.setPivotSelect),tr()}setPivotType(t){this.pivotType=t,gd.setAttribute("style","display:none"),"set"===this.pivotType&&gd.setAttribute("style","display:block")}setURLData(t){this.listField.value=t.get("data"),this.kField.value=t.get("k"),this.runCallback()}setup(){this.commands=[],this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Ka.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=or.CG,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,100),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.compCount=0,this.swapCount=0}runCallback(){const t=this.listField.value.split(",").filter((t=>""!==t)),e=this.kField.value;this.implementAction(this.clear.bind(this),!0),this.implementAction(this.run.bind(this),t,e)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",");this.listField.value=e,this.kField.value=Math.floor(Math.random()*t+1)}else e=t.substring(0,t.indexOf(";")),this.kField.value=parseInt(t.substring(t.indexOf("=")+1));this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0,t||(this.listField.value="",this.kField.value=""),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}run(t,e){if(this.commands=[],!t.length)return this.shake(this.findButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.findButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.findButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;if(e<1||e>t.length)return this.shake(this.findButton),this.cmd(Ka.setText,this.infoLabelID,"k\u1d57\u02b0 element to select must be an integer between 1 and "+t.length),this.commands;this.k=Number(e),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const i=new Map,s=new Map;for(let h=0;h<this.arrayData.length;h++){const t=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;t>0&&s.set(this.arrayData[h],"a"),i.set(this.arrayData[h],t+1)}for(let h=0;h<this.arrayData.length;h++){this.arrayData[h]=parseInt(this.arrayData[h]),this.arrayID[h]=this.nextIndex++;const t=h*md+cd,e=ud;let i=this.arrayData[h].toString();if(s.has(this.arrayData[h])){const t=s.get(this.arrayData[h]);i+=t,s.set(this.arrayData[h],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[h]=i,this.cmd(Ka.createRectangle,this.arrayID[h],i,md,50,t,e)}return this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.pPointerID=this.nextIndex++,this.helper(0,this.arrayData.length-1),this.commands}helper(t,e){if(t>e)return;this.highlight(0,0,this.codeID);for(let o=t;o<=e;o++)this.cmd(Ka.setBackgroundColor,this.arrayID[o],"#99CCFF");if(this.cmd(Ka.step),t===e)return this.cmd(Ka.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.cmd(Ka.step),void this.unhighlight(0,0,this.codeID);let i;if(this.unhighlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),"min"===this.pivotType){let s=t;for(let i=t+1;i<=e;i++)this.arrayData[i]<this.arrayData[s]&&(s=i);i=s}else if("set"===this.pivotType)i=Math.min(t+pd,e);else if("perfect"===this.pivotType){const s=this.arrayData.slice(t,e+1);s.sort(((t,e)=>t-e));const h=Math.floor(s.length/2);i=this.arrayData.indexOf(s[h])}else"random"===this.pivotType&&(i=Math.floor(Math.random()*(e-t))+t+1);const s=i*md+cd;this.cmd(Ka.createHighlightCircle,this.pPointerID,"#FFFF00",s,ud),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.swapPivot(i,t),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);let h=t+1,n=e;const a=h*md+cd,r=n*md+cd;for(this.cmd(Ka.createHighlightCircle,this.iPointerID,"#0000FF",a,ud),this.cmd(Ka.createHighlightCircle,this.jPointerID,"#0000FF",r,ud),this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID);h<=n;){for(this.cmd(Ka.step),this.highlight(6,0,this.codeID),this.highlight(6,2,this.codeID),this.cmd(Ka.step),this.unhighlight(6,2,this.codeID),this.highlight(6,4,this.codeID),this.cmd(Ka.step);h<=n&&this.arrayData[t]>=this.arrayData[h];)this.unhighlight(6,4,this.codeID),this.highlight(7,0,this.codeID),h++,this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(h,n),this.unhighlight(7,0,this.codeID),this.highlight(6,2,this.codeID),h<=n&&(this.cmd(Ka.step),this.unhighlight(6,2,this.codeID),this.highlight(6,4,this.codeID)),this.cmd(Ka.step);for(this.unhighlight(6,0,this.codeID),this.unhighlight(6,2,this.codeID),this.unhighlight(6,4,this.codeID),h<=n&&(this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Ka.step)),this.highlight(9,0,this.codeID),this.cmd(Ka.step),this.highlight(9,2,this.codeID),h<=n&&(this.cmd(Ka.step),this.unhighlight(9,2,this.codeID),this.highlight(9,4,this.codeID)),this.cmd(Ka.step);h<=n&&this.arrayData[t]<=this.arrayData[n];)this.unhighlight(9,4,this.codeID),this.highlight(10,0,this.codeID),n--,this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(h,n),this.unhighlight(10,0,this.codeID),this.highlight(9,2,this.codeID),h<=n&&(this.cmd(Ka.step),this.unhighlight(9,2,this.codeID),this.highlight(9,4,this.codeID)),this.cmd(Ka.step);this.unhighlight(9,0,this.codeID),this.unhighlight(9,2,this.codeID),this.unhighlight(9,4,this.codeID),h<=n&&(this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.setForegroundColor,this.jPointerID,"#FF0000"),this.cmd(Ka.step)),h<=n&&(this.highlight(13,0,this.codeID),this.swap(h,n),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),h++,n--,this.movePointers(h,n),this.unhighlight(14,0,this.codeID))}this.unhighlight(5,0,this.codeID),this.highlight(17,0,this.codeID),this.swapPivot(t,n,!0),this.unhighlight(17,0,this.codeID),this.cmd(Ka.delete,this.iPointerID),this.cmd(Ka.delete,this.jPointerID),this.cmd(Ka.delete,this.pPointerID),this.cmd(Ka.step);for(let o=t;o<=e;o++)this.cmd(Ka.setBackgroundColor,this.arrayID[o],"#FFFFFF");this.highlight(18,0,this.codeID),this.cmd(Ka.step),this.k-1===n?(this.unhighlight(18,0,this.codeID),this.highlight(19,0,this.codeID),this.cmd(Ka.setBackgroundColor,this.arrayID[n],"#2ECC71"),this.cmd(Ka.step),this.unhighlight(19,0,this.codeID)):(this.unhighlight(18,0,this.codeID),this.highlight(20,0,this.codeID),this.cmd(Ka.setBackgroundColor,this.arrayID[n],"#4DA6ff"),this.cmd(Ka.step),this.k-1<n?(this.unhighlight(20,0,this.codeID),this.highlight(21,0,this.codeID),this.cmd(Ka.step),this.unhighlight(21,0,this.codeID),this.helper(t,n-1)):(this.unhighlight(20,0,this.codeID),this.highlight(23,0,this.codeID),this.cmd(Ka.step),this.unhighlight(23,0,this.codeID),this.helper(n+1,e)))}movePointers(t,e){const i=t*md+cd;this.cmd(Ka.move,this.iPointerID,i,ud);const s=e*md+cd;this.cmd(Ka.move,this.jPointerID,s,ud),this.cmd(Ka.step)}swapPivot(t,e,i){if(t===e)return;const s=this.nextIndex++,h=e*md+cd;this.cmd(Ka.createLabel,s,this.displayData[e],h,ud);const n=this.nextIndex++,a=t*md+cd;this.cmd(Ka.createLabel,n,this.displayData[t],a,ud),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.move,n,h,ud),this.cmd(Ka.move,this.pPointerID,h,ud),this.cmd(Ka.move,s,a,ud),i&&this.cmd(Ka.move,this.jPointerID,a,ud),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.delete,n),this.cmd(Ka.delete,s);let r=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=r,r=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=r}swap(t,e){const i=this.nextIndex++,s=t*md+cd;this.cmd(Ka.createLabel,i,this.displayData[t],s,ud);const h=this.nextIndex++,n=e*md+cd;this.cmd(Ka.createLabel,h,this.displayData[e],n,ud),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.move,i,n,ud),this.cmd(Ka.move,h,s,ud),this.cmd(Ka.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,h);let a=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=a,a=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=a,this.cmd(Ka.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Ka.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Ka.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],MergeSort:["MergeSort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=or.$K,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,80),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.compCount=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);return this.arrayData=[],this.displayData=[],this.arrayID=[],this.compCount=0,t||(this.listField.value=""),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>15)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 15 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(0,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,15),this.displayData=new Array(this.arrayData.length);const e=new Map,i=new Map;for(let s=0;s<this.arrayData.length;s++){const t=e.has(this.arrayData[s])?e.get(this.arrayData[s]):0;t>0&&i.set(this.arrayData[s],"a"),e.set(this.arrayData[s],t+1)}for(let s=0;s<this.arrayData.length;s++){const t=s*ql+Ml,e=Vl;this.arrayID.push(this.nextIndex);let h=this.arrayData[s].toString();if(i.has(this.arrayData[s])){const t=i.get(this.arrayData[s]);h+=t,i.set(this.arrayData[s],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[s]=h,this.cmd(Ka.createRectangle,this.nextIndex++,h,ql,50,t,e)}if(this.cmd(Ka.step),this.unhighlight(0,0,this.codeID),1!==this.arrayData.length){this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID);const t=Math.ceil((this.arrayData.length-1)/2);this.highlight(4,0,this.codeID),this.leftHelper(0,t-1,-15,0,1),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.rightHelper(t,this.arrayData.length-1,Wl,0,1),this.unhighlight(5,0,this.codeID),this.merge(0,this.arrayData.length-1,t,0,0,-15,Wl,this.arrayID)}else this.cmd(Ka.setBackgroundColor,this.arrayID[0],"#2ECC71"),this.cmd(Ka.step);return this.commands}leftHelper(t,e,i,s,h){if(this.cmd(Ka.step),t>e)return;this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.highlight(0,0,this.codeID);const n=this.drawArrayAndCopy(t,e,i,s,h);if(this.unhighlight(0,0,this.codeID),t!==e){this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID);const s=Math.ceil((t+e)/2),a=h<2?30:14;this.highlight(4,0,this.codeID),this.leftHelper(t,s-1,i-a,i,h+1),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.leftHelper(s,e,i,i,h+1),this.unhighlight(5,0,this.codeID),this.merge(t,e,s,h,i,i-a,i,n)}else this.cmd(Ka.setBackgroundColor,n[t],"#2ECC71"),this.cmd(Ka.step)}rightHelper(t,e,i,s,h){if(this.cmd(Ka.step),t>e)return;this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.highlight(0,0,this.codeID);const n=this.drawArrayAndCopy(t,e,i,s,h);if(this.unhighlight(0,0,this.codeID),t!==e){this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID);const s=Math.ceil((t+e)/2),a=h<2?30:14;this.highlight(4,0,this.codeID),this.rightHelper(t,s-1,i,i,h+1),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.rightHelper(s,e,i+a,i,h+1),this.unhighlight(5,0,this.codeID),this.merge(t,e,s,h,i,i,i+a,n)}else this.cmd(Ka.setBackgroundColor,n[t],"#2ECC71"),this.cmd(Ka.step)}drawArrayAndCopy(t,e,i,s,h){const n=[];for(let a=t;a<=e;a++){const t=a*ql+Ml+i,e=Vl+h*$l;n[a]=this.nextIndex,this.arrayID.push(this.nextIndex),this.cmd(Ka.createRectangle,this.nextIndex++,"",ql,50,t,e)}this.cmd(Ka.step);for(let a=t;a<=e;a++)this.copyData(a,a,s,i,h-1,h,this.displayData[a],n[a],-1);return n}merge(t,e,i,s,h,n,a,r){const o=new Array(this.arrayData.length),l=new Array(this.arrayData.length);for(let y=t;y<=e;y++)o[y]=this.arrayData[y],l[y]=this.displayData[y];this.highlight(6,0,this.codeID);const d=Vl+(s+1)*$l,c=this.nextIndex++,u=t*ql+Ml+n;this.cmd(Ka.createHighlightCircle,c,"#0000FF",u,d);const m=this.nextIndex++,g=i*ql+Ml+a;this.cmd(Ka.createHighlightCircle,m,"#0000FF",g,d);const p=this.nextIndex++,f=t*ql+Ml+h,I=Vl+s*$l;this.cmd(Ka.createHighlightCircle,p,"#0000FF",f,I),this.cmd(Ka.step),this.unhighlight(6,0,this.codeID),this.highlight(7,0,this.codeID),this.cmd(Ka.step);let b=t,x=i,D=t;for(;b<i&&x<=e;)this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(8,0,this.codeID),this.cmd(Ka.step),this.unhighlight(8,0,this.codeID),o[b]<=o[x]?(this.highlight(9,0,this.codeID),this.copyData(b,D,n,h,s+1,s,l[b],r[D],c),this.unhighlight(9,0,this.codeID),this.arrayData[D]=o[b],this.displayData[D]=l[b],b++,this.highlight(10,0,this.codeID),b<i&&this.movePointer(b,s+1,n,c),this.cmd(Ka.step),this.unhighlight(10,0,this.codeID)):(this.highlight(11,0,this.codeID),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.copyData(x,D,a,h,s+1,s,l[x],r[D],m),this.unhighlight(12,0,this.codeID),this.arrayData[D]=o[x],this.displayData[D]=l[x],x++,this.highlight(13,0,this.codeID),x<=e&&this.movePointer(x,s+1,a,m),this.cmd(Ka.step),this.unhighlight(13,0,this.codeID)),D++,this.highlight(15,0,this.codeID),this.movePointer(D,s,h,p),this.cmd(Ka.step),this.unhighlight(15,0,this.codeID);for(this.unhighlight(7,0,this.codeID),this.highlight(17,0,this.codeID),this.cmd(Ka.step);b<i;)this.highlight(18,0,this.codeID),this.copyData(b,D,n,h,s+1,s,l[b],r[D],c),this.unhighlight(18,0,this.codeID),this.highlight(19,0,this.codeID),this.highlight(20,0,this.codeID),this.arrayData[D]=o[b],this.displayData[D]=l[b],D++,b++,D<=e&&(this.movePointer(b,s+1,n,c),this.movePointer(D,s,h,p)),this.cmd(Ka.step),this.unhighlight(19,0,this.codeID),this.unhighlight(20,0,this.codeID);for(this.unhighlight(17,0,this.codeID),this.highlight(22,0,this.codeID),this.cmd(Ka.step);x<=e;)this.highlight(23,0,this.codeID),this.copyData(x,D,a,h,s+1,s,l[x],r[D],m),this.unhighlight(23,0,this.codeID),this.highlight(24,0,this.codeID),this.highlight(25,0,this.codeID),this.arrayData[D]=o[x],this.displayData[D]=l[x],x++,D++,D<=e&&(this.movePointer(x,s+1,a,m),this.movePointer(D,s,h,p)),this.cmd(Ka.step),this.unhighlight(24,0,this.codeID),this.unhighlight(25,0,this.codeID);this.unhighlight(22,0,this.codeID),this.cmd(Ka.delete,c),this.cmd(Ka.delete,m),this.cmd(Ka.delete,p),this.cmd(Ka.step)}copyData(t,e,i,s,h,n,a,r,o){-1!==o&&(this.cmd(Ka.setForegroundColor,o,"#FF0000"),this.cmd(Ka.step));const l=t*ql+Ml+i,d=Vl+h*$l,c=this.nextIndex++;this.cmd(Ka.createLabel,c,a,l,d);const u=e*ql+Ml+s,m=Vl+n*$l;this.cmd(Ka.move,c,u,m),this.cmd(Ka.step),this.cmd(Ka.setText,r,a),this.cmd(Ka.delete,c),-1!==o&&(this.cmd(Ka.setBackgroundColor,r,"#2ECC71"),this.cmd(Ka.setForegroundColor,o,"#0000FF"),this.cmd(Ka.step))}movePointer(t,e,i,s){const h=t*ql+Ml+i,n=Vl+e*$l;this.cmd(Ka.move,s,h,n)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],LSDRadix:["LSD Radix Sort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 6 digits.',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["603,509,701,404,307,909,102,800,401","Zero in 10's Place"],["362980,46,99,76,69,80,35,28,11","One Long Number"],["191,225,326,421,537,676,760,845,924","Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr(),this.negativeNumbersCheckbox=Ya("Sort negative numbers",!1),this.negativeNumbersCheckbox.onclick=this.toggleNegativeNumbers.bind(this),this.controls.push(this.negativeNumbersCheckbox)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=or.iF,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",15,100),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[]}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5;let i=1;jl&&(i=-500);const s=500;e="";for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}toggleNegativeNumbers(){jl=!jl,this.implementAction(this.clear.bind(this)),jl?(this.cmd(Ka.setText,this.codeID.code[1][0],"  buckets \u2190 array of 19 lists"),this.cmd(Ka.setText,this.codeID.code[7][0],"      b \u2190 array[j] / div % 10 + 9"),this.cmd(Ka.setText,this.codeID.code[11][0],"    for bucket \u2190 0, 18:"),this.cmd(Ka.setText,this.codeID.english[1][0],"  buckets is an array containing 19 lists"),this.cmd(Ka.setText,this.codeID.english[7][0],"      b is (num at array[j] / base % 10 + 9)")):(this.cmd(Ka.setText,this.codeID.code[1][0],"  buckets \u2190 array of 10 lists"),this.cmd(Ka.setText,this.codeID.code[7][0],"      b \u2190 array[j] / div % 10"),this.cmd(Ka.setText,this.codeID.code[11][0],"    for bucket \u2190 0, 9:"),this.cmd(Ka.setText,this.codeID.english[1][0],"  buckets is an array containing 10 lists"),this.cmd(Ka.setText,this.codeID.english[7][0],"      b is (num at array[j] / base % 10)"))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);for(let e=0;e<this.bucketsID.length;e++)for(let t=0;t<this.bucketsID[e].length;t++)this.cmd(Ka.delete,this.bucketsID[e][t]);return t||(this.listField.value=""),this.cmd(Ka.setText,this.infoLabelID,""),this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.commands}sort(t){if(this.highlight(0,0,this.codeID),this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values"),this.commands;if(t.filter((t=>Math.abs(t)>999999)).length>0)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain numbers with more than 6 digits"),this.commands;if(!jl&&t.filter((t=>t<0)).length>0)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data cannot contain negative numbers unless "Sort negative numbers" is enabled'),this.commands;this.arrayID=[],this.arrayData=t.map((t=>parseInt(t,10))).filter((t=>!Number.isNaN(t))).slice(0,18);const e=this.arrayData.length,i=new Map,s=new Map;for(let r=0;r<e;r++){const t=i.has(this.arrayData[r])?i.get(this.arrayData[r]):0;t>0&&s.set(this.arrayData[r],"a"),i.set(this.arrayData[r],t+1)}for(let r=0;r<e;r++){this.arrayID[r]=this.nextIndex++;const t=r*_l+Fl,e=Al;let i=this.arrayData[r].toString();if(s.has(this.arrayData[r])){const t=s.get(this.arrayData[r]);i+=t,s.set(this.arrayData[r],String.fromCharCode(t.charCodeAt(0)+1))}this.arrayDisplay[r]=i,this.cmd(Ka.createRectangle,this.arrayID[r],i,_l,50,t,e)}if(this.bucketsData=[],this.bucketsID=[],this.cmd(Ka.step),this.unhighlight(0,0,this.codeID),this.highlight(1,0,this.codeID),jl)for(let r=0;r<19;r++){this.bucketsData[r]=[],this.bucketsID[r]=[],this.bucketsDisplay[r]=[],this.bucketsID[r].push(this.nextIndex++);const t=(r-9)*_l+zl,e=Pl;this.cmd(Ka.createRectangle,this.bucketsID[r][0],r-9,El,Ol,t,e),this.cmd(Ka.setBackgroundColor,this.bucketsID[r],"#D3D3D3")}else for(let r=0;r<10;r++){this.bucketsData[r]=[],this.bucketsID[r]=[],this.bucketsDisplay[r]=[],this.bucketsID[r].push(this.nextIndex++);const t=r*_l+Bl,e=Pl;this.cmd(Ka.createRectangle,this.bucketsID[r][0],r,El,Ol,t,e),this.cmd(Ka.setBackgroundColor,this.bucketsID[r],"#D3D3D3")}this.cmd(Ka.setText,this.infoLabelID,"Searching for number with greatest magnitude"),this.cmd(Ka.createHighlightCircle,this.iPointerID,"#FF0000",Fl,Al,21.5),this.cmd(Ka.setHighlight,this.iPointerID,1),this.cmd(Ka.createHighlightCircle,this.jPointerID,"#0000FF",535,Al,21.5),this.cmd(Ka.setHighlight,this.jPointerID,1),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.highlight(2,0,this.codeID);let h=0;for(let r=1;r<this.arrayData.length;r++)this.movePointers(h,r),Math.abs(this.arrayData[r])>Math.abs(this.arrayData[h])&&(h=r,this.movePointers(h,r));this.cmd(Ka.delete,this.iPointerID),this.cmd(Ka.delete,this.jPointerID),this.cmd(Ka.setBackgroundColor,this.arrayID[h],"#FFFF00");let n=Math.floor(Math.log10(Math.abs(this.arrayData[h])))+1;n=n||1;const a=this.arrayData[h];this.cmd(Ka.setText,this.infoLabelID,a+" the has largest magnitude with a number of digits k = "+n),this.cmd(Ka.step),this.unhighlight(2,0,this.codeID),this.cmd(Ka.setBackgroundColor,this.arrayID[h],"#FFFFFF"),this.highlight(5,0,this.codeID);for(let r=0;r<n;r++){this.cmd(Ka.setText,this.infoLabelID,"Getting digits at index "+r+" (0-aligned)"),this.cmd(Ka.createHighlightCircle,this.iPointerID,"#0000FF",Fl,Al,21.5),this.cmd(Ka.setHighlight,this.iPointerID,1),this.cmd(Ka.step),this.highlight(6,0,this.codeID);for(let e=0;e<this.arrayData.length;e++){this.cmd(Ka.move,this.iPointerID,Fl+e*_l,Al),this.cmd(Ka.step),this.highlight(7,0,this.codeID),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID);const t=this.nextIndex++,i=this.arrayData[e],s=this.arrayDisplay[e],h=this.nthDigit(i,r),n=jl?9:0;this.bucketsID[h+n].push(t),this.bucketsData[h+n].push(i),this.bucketsDisplay[h+n].push(s);const a=this.bucketsData[h+n].length;jl?this.cmd(Ka.createRectangle,t,s,El,Ol,zl+h*El,Pl+a*Ol+a*Rl):this.cmd(Ka.createRectangle,t,s,El,Ol,Bl+h*El,Pl+a*Ol+a*Rl),this.cmd(Ka.connect,this.bucketsID[h+n][this.bucketsID[h+n].length-2],t,0,0,1,"",2),this.cmd(Ka.step),this.unhighlight(8,0,this.codeID)}this.unhighlight(6,0,this.codeID),this.cmd(Ka.delete,this.iPointerID),this.highlight(10,0,this.codeID),this.cmd(Ka.step),this.unhighlight(10,0,this.codeID),this.highlight(11,0,this.codeID);let t=0;if(this.cmd(Ka.step),jl){for(let e=0;e<19;e++){const i=this.bucketsID[e],s=this.bucketsData[e],h=this.bucketsDisplay[e];for(this.highlight(12,0,this.codeID);s.length;){this.cmd(Ka.step),this.highlight(13,0,this.codeID);const n=this.nextIndex++,a=i.splice(1,1)[0],r=s.shift(),o=h.shift();if(this.cmd(Ka.createLabel,n,o,zl+(e-9)*El,175),this.cmd(Ka.move,n,Fl+t*_l,Al),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],o),this.cmd(Ka.delete,n),this.cmd(Ka.delete,a),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),s.length){this.cmd(Ka.connect,i[0],i[1]);for(let t=1;t<i.length;t++)this.cmd(Ka.move,i[t],zl+(e-9)*El,Pl+t*Ol+t*Rl)}this.cmd(Ka.step),this.arrayData[t]=r,this.arrayDisplay[t]=o,t++,this.unhighlight(14,0,this.codeID)}this.unhighlight(12,0,this.codeID)}this.unhighlight(11,0,this.codeID)}else{for(let e=0;e<10;e++){const i=this.bucketsID[e],s=this.bucketsData[e],h=this.bucketsDisplay[e];for(this.highlight(12,0,this.codeID);s.length;){this.cmd(Ka.step),this.highlight(13,0,this.codeID);const n=this.nextIndex++,a=i.splice(1,1)[0],r=s.shift(),o=h.shift();if(this.cmd(Ka.createLabel,n,o,Bl+e*El,175),this.cmd(Ka.move,n,Fl+t*_l,Al),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],o),this.cmd(Ka.delete,n),this.cmd(Ka.delete,a),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),s.length){this.cmd(Ka.connect,i[0],i[1]);for(let t=1;t<i.length;t++)this.cmd(Ka.move,i[t],Bl+e*El,Pl+t*Ol+t*Rl)}this.cmd(Ka.step),this.arrayData[t]=r,this.arrayDisplay[t]=o,t++,this.unhighlight(14,0,this.codeID)}this.unhighlight(12,0,this.codeID)}this.unhighlight(11,0,this.codeID),this.highlight(17,0,this.codeID),this.cmd(Ka.step),this.unhighlight(17,0,this.codeID)}}return this.unhighlight(5,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,""),this.commands}movePointers(t,e){const i=t*_l+Fl;this.cmd(Ka.move,this.iPointerID,i,70);const s=e*_l+Fl;this.cmd(Ka.move,this.jPointerID,s,70),this.cmd(Ka.step)}swap(t,e){const i=this.nextIndex++,s=t*_l+Fl;this.cmd(Ka.createLabel,i,this.displayData[t],s,70);const h=this.nextIndex++,n=e*_l+Fl;this.cmd(Ka.createLabel,h,this.displayData[e],n,70),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.setText,this.arrayID[e],""),this.cmd(Ka.move,i,n,70),this.cmd(Ka.move,h,s,70),this.cmd(Ka.step),this.cmd(Ka.setText,this.arrayID[t],this.displayData[e]),this.cmd(Ka.setText,this.arrayID[e],this.displayData[t]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,h);let a=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=a,a=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=a}nthDigit(t,e){const i=Math.sign(t);return t=Math.abs(t),t=Math.floor(t/Math.pow(10,e)),t%=10,-1===i&&(t*=-1),t}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],HeapSort:["HeapSort",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=er(!1);Ga('Comma separated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);const e=er(!0,t);this.listField=Ja("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=Ja("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["0,2,4,7,3,6,11,10,9,8","Valid MinHeap"],["11,10,6,9,8,0,4,7,2,3","Valid MaxHeap"],["1,2,3,4,5,6,7,8,9","Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.heapArrayData=[],this.heapArrayID=[],this.heapArrayLabelID=[],this.heapTreeObj=[],this.infoLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=or.TK,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",15,100),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>15)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,`Data cannot contain more than 15 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Ka.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(0,0,this.codeID),this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,15);const e=this.arrayData.length,i=new Array(e),s=new Map,h=new Map;for(let a=0;a<e;a++){const t=s.has(this.arrayData[a])?s.get(this.arrayData[a]):0;t>0&&h.set(this.arrayData[a],"a"),s.set(this.arrayData[a],t+1)}for(let a=0;a<e;a++){this.arrayID[a]=this.nextIndex++;const t=50*a+400,e=50;let s=this.arrayData[a].toString();if(h.has(this.arrayData[a])){const t=h.get(this.arrayData[a]);s+=t,h.set(this.arrayData[a],String.fromCharCode(t.charCodeAt(0)+1))}i[a]=s,this.cmd(Ka.createRectangle,this.arrayID[a],s,50,50,t,e)}this.arrayData=i,this.cmd(Ka.step),this.unhighlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.createHeap(this.arrayData),this.cmd(Ka.step),this.cmd(Ka.setText,this.infoLabelID,"BuildHeap the new array");let n=Math.floor(this.currentHeapSize/2);for(;n>0;)this.pushDown(n),n-=1;for(this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,""),this.highlight(2,0,this.codeID);this.currentHeapSize>0;)this.highlight(3,0,this.codeID),this.remove(),this.unhighlight(3,0,this.codeID),this.cmd(Ka.step);this.unhighlight(2,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.step);for(let a=0;a<e+1;a++)this.cmd(Ka.delete,this.heapArrayID[a]),this.cmd(Ka.delete,this.heapArrayLabelID[a]);return this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.commands}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}createHeap(t){const e=t.length+1;this.cmd(Ka.setText,this.infoLabelID,"Array-backed heap created"),this.heapArrayXPositions=new Array(e),this.heapArrayData=t.slice(),this.heapArrayData.unshift(null),this.currentHeapSize=e-1;for(let i=0;i<e;i++)this.heapArrayXPositions[i]=400+40*i,this.heapArrayID[i]=this.nextIndex++,this.heapArrayLabelID[i]=this.nextIndex++,this.heapTreeObj[i]=this.nextIndex++,this.cmd(Ka.createRectangle,this.heapArrayID[i],this.heapArrayData[i],40,30,this.heapArrayXPositions[i],qd),this.cmd(Ka.createLabel,this.heapArrayLabelID[i],i,this.heapArrayXPositions[i],180),this.cmd(Ka.setForegroundColor,this.heapArrayLabelID[i],"#0000FF"),i>0&&(this.cmd(Ka.createCircle,this.heapTreeObj[i],this.heapArrayData[i],Wd[i],Ud[i]),this.cmd(Ka.setText,this.heapArrayID[i],this.heapArrayData[i]),i>1&&this.cmd(Ka.connect,this.heapTreeObj[Math.floor(i/2)],this.heapTreeObj[i]));return this.commands}remove(){const t=this.arrayData.length-this.currentHeapSize,e=this.heapArrayData[1],i=this.nextIndex;return this.cmd(Ka.setText,this.infoLabelID,""),this.highlight(3,0),this.highlight(3,1),this.highlight(3,2),this.cmd(Ka.setText,this.heapArrayID[1],""),this.cmd(Ka.createLabel,i,e,Wd[1],Ud[1],0),this.cmd(Ka.setText,this.heapTreeObj[1],""),this.cmd(Ka.setText,this.arrayID[t],""),this.cmd(Ka.move,i,50*t+400-5,45),this.cmd(Ka.step),this.cmd(Ka.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.arrayData[t]=e,this.cmd(Ka.setText,this.arrayID[t],e),this.cmd(Ka.delete,i),this.cmd(Ka.step),this.heapArrayData[1]="",this.unhighlight(3,0),this.unhighlight(3,2),this.cmd(Ka.setText,this.infoLabelID,"Downheap to maintain order"),this.currentHeapSize>1?(this.cmd(Ka.setHighlight,this.heapArrayID[1],1),this.cmd(Ka.setHighlight,this.heapArrayID[this.currentHeapSize],1),this.cmd(Ka.setHighlight,this.heapTreeObj[1],1),this.cmd(Ka.setHighlight,this.heapTreeObj[this.currentHeapSize],1),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.heapArrayID[1],0),this.cmd(Ka.setHighlight,this.heapArrayID[this.currentHeapSize],0),this.cmd(Ka.setHighlight,this.heapTreeObj[1],0),this.cmd(Ka.setHighlight,this.heapTreeObj[this.currentHeapSize],0),this.swap(1,this.currentHeapSize),this.cmd(Ka.delete,this.heapTreeObj[this.currentHeapSize]),this.cmd(Ka.step),this.currentHeapSize--,this.currentHeapSize>0&&this.pushDown(1)):(this.cmd(Ka.setText,this.heapArrayID[1],""),this.cmd(Ka.delete,this.heapTreeObj[this.currentHeapSize]),this.cmd(Ka.step),this.currentHeapSize--),this.unhighlight(3,1),this.cmd(Ka.step),this.commands}pushDown(t){let e;for(;2*t<=this.currentHeapSize;){if(e=2*t,2*t+1<=this.currentHeapSize&&(this.setIndexHighlight(2*t,1),this.setIndexHighlight(2*t+1,1),this.cmd(Ka.step),this.setIndexHighlight(2*t,0),this.setIndexHighlight(2*t+1,0),this.downheapCheckRightChild(t)&&(e=2*t+1)),this.setIndexHighlight(t,1),this.setIndexHighlight(e,1),this.cmd(Ka.step),this.setIndexHighlight(t,0),this.setIndexHighlight(e,0),!this.downheapCompare(e,t))return;this.swap(e,t),t=e}}downheapCheckRightChild(t){return this.compareWithLetters(this.heapArrayData[2*t+1],this.heapArrayData[2*t])}downheapCompare(t,e){return this.compareWithLetters(this.heapArrayData[t],this.heapArrayData[e])}compareWithLetters(t,e){return parseInt(t)<parseInt(e)}swap(t,e){const i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,n=this.nextIndex++;this.cmd(Ka.setText,this.heapArrayID[t],""),this.cmd(Ka.setText,this.heapArrayID[e],""),this.cmd(Ka.setText,this.heapTreeObj[t],""),this.cmd(Ka.setText,this.heapTreeObj[e],""),this.cmd(Ka.createLabel,i,this.heapArrayData[t],this.heapArrayXPositions[t],qd),this.cmd(Ka.createLabel,s,this.heapArrayData[e],this.heapArrayXPositions[e],qd),this.cmd(Ka.createLabel,h,this.heapArrayData[t],Wd[t],Ud[t]),this.cmd(Ka.createLabel,n,this.heapArrayData[e],Wd[e],Ud[e]),this.cmd(Ka.move,i,this.heapArrayXPositions[e],qd),this.cmd(Ka.move,s,this.heapArrayXPositions[t],qd),this.cmd(Ka.move,h,Wd[e],Ud[e]),this.cmd(Ka.move,n,Wd[t],Ud[t]);const a=this.heapArrayData[t];this.heapArrayData[t]=this.heapArrayData[e],this.heapArrayData[e]=a,this.cmd(Ka.step),this.cmd(Ka.setText,this.heapArrayID[t],this.heapArrayData[t]),this.cmd(Ka.setText,this.heapArrayID[e],this.heapArrayData[e]),this.cmd(Ka.setText,this.heapTreeObj[t],this.heapArrayData[t]),this.cmd(Ka.setText,this.heapTreeObj[e],this.heapArrayData[e]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,s),this.cmd(Ka.delete,h),this.cmd(Ka.delete,n),this.nextIndex-=4}setIndexHighlight(t,e){this.cmd(Ka.setHighlight,this.heapTreeObj[t],e),this.cmd(Ka.setHighlight,this.heapArrayID[t],e)}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Ka.delete,this.arrayID[e]);return t||(this.listField.value=""),this.arrayData=[],this.arrayID=[],this.heapArrayData=[],this.heapArrayID=[],this.heapArrayLabelID=[],this.cmd(Ka.setText,this.infoLabelID,""),this.commands}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.heapArrayData=[],this.heapArrayID=[],this.heapArrayLabelID=[],this.heapTreeObj=[],this.currentHeapSize=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],BruteForce:["Brute Force",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Ga("Text:"),this.textField=Ja("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),26,!1),this.controls.push(this.textField),Ga("Pattern:"),this.patternField=Ja("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),26,!1),this.controls.push(this.patternField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["Random","Random"],["aaaa in aaaaaaaaaaaaa","aaaa in aaaaaaaaaaaaa"],["aaab in aaaaaaaaaaaaa","aaab in aaaaaaaaaaaaa"],["baaa in aaaaaaaaaaaaa","baaa in aaaaaaaaaaaaa"],["aaaa in aaabaaabaaaba","aaaa in aaabaaabaaaba"],["aaab in aaabaaabaaaba","aaab in aaabaaabaaaba"],["baaa in aaabaaabaaaba","baaa in aaabaaabaaaba"],["abab in abacabacababa","abab in abacabacababa"],["lack in sphinxofblackquartz","lack in sphinxofblackquartz"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){this.textField.value=t.get("text"),this.patternField.value=t.get("pattern"),this.findCallback()}setup(){this.commands=[],this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0,0),this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"",575,30,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.comparisonCountID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.compCount=0,this.codeID=[]}findCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.textField.value,e=this.patternField.value;this.implementAction(this.find.bind(this),t,e)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e,i;if("Random"===t)i=this.generateRandomString(3,"abc"),e=this.generateRandomString(15,"abc",i);else{const s=t.split(" in ");e=s[1],i=s[0]}this.textField.value=e,this.patternField.value=i,this.exampleDropdown.value=""}generateRandomString(t,e,i){let s="";if(i){const h=Math.floor(Math.random()*(t-i.length+1));for(let n=0;n<t;n++)if(n>=h&&n<h+i.length)s+=i[n-h];else{s+=e[Math.floor(Math.random()*e.length)]}}else for(let h=0;h<t;h++){s+=e[Math.floor(Math.random()*e.length)]}return s}clearCallback(){this.implementAction(this.clear.bind(this))}find(t,e){if(this.commands=[],!t||!e)return this.shake(this.findButton),this.cmd(Ka.setText,this.infoLabelID,"Text and pattern must not be empty"),this.commands;if(t.length<e.length)return this.cmd(Ka.setText,this.infoLabelID,"Pattern is longer than text, no matches exist"),this.commands;const i=t.length-e.length+1;this.cellSize=i<=14?30:i<=17?25:20;const s=Yr+t.length*this.cellSize+10;this.pseudocode=or.c,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",s,120),this.cmd(Ka.move,this.comparisonCountID,s,30),this.textRowID=new Array(t.length),this.comparisonMatrixID=new Array(i);for(let c=0;c<i;c++)this.comparisonMatrixID[c]=new Array(t.length);let h,n;for(let c=0;c<t.length;c++)h=c*this.cellSize+Yr,n=35,this.textRowID[c]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,c,h,n);for(let c=1;c<=i;c++)h=50,n=c*this.cellSize+Qr,this.rowCountID[c]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,`Row ${c}`,h,n);for(let c=0;c<t.length;c++)h=c*this.cellSize+Yr,n=Qr,this.textRowID[c+t.length]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex,t.charAt(c),this.cellSize,this.cellSize,h,n),this.cmd(Ka.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(let c=0;c<i;c++)for(let e=0;e<t.length;e++)h=e*this.cellSize+Yr,n=(c+1)*this.cellSize+Qr,this.comparisonMatrixID[c][e]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,h,n);const a=this.nextIndex++,r=this.nextIndex++;this.cmd(Ka.createHighlightCircle,a,"#0000FF",Yr,Qr,this.cellSize/2),this.cmd(Ka.createHighlightCircle,r,"#0000FF",Yr,Qr+this.cellSize,this.cellSize/2);let o=0,l=0,d=0;for(this.highlight(2,0,this.codeID),this.cmd(Ka.step);o<=t.length-e.length;){for(let t=o;t<o+e.length;t++)this.cmd(Ka.setText,this.comparisonMatrixID[d][t],e.charAt(t-o),h,n);for(this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.step);l<e.length&&e.charAt(l)===t.charAt(o+l);){if(this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[d][o+l],"#2ECC71"),l++,this.highlight(5,0,this.codeID),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),l!==e.length){const t=(o+l)*this.cellSize+Yr;this.cmd(Ka.move,a,t,Qr);const e=(d+1)*this.cellSize+Qr;this.cmd(Ka.move,r,t,e)}this.cmd(Ka.step)}if(this.unhighlight(4,0,this.codeID),l<e.length&&this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(7,0,this.codeID),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),l!==e.length?this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[d][o+l],"#E74C3C"):(this.highlight(8,0,this.codeID),this.cmd(Ka.step),this.unhighlight(8,0,this.codeID)),o++,l=0,d++,o<=t.length-e.length){const t=(o+l)*this.cellSize+Yr;this.cmd(Ka.move,a,t,Qr);const e=(d+1)*this.cellSize+Qr;this.cmd(Ka.move,r,t,e),this.cmd(Ka.step)}}return this.unhighlight(2,0,this.codeID),this.cmd(Ka.delete,a),this.cmd(Ka.delete,r),this.commands}clear(t){this.commands=[];for(let e=0;e<this.textRowID.length;e++)this.cmd(Ka.delete,this.textRowID[e]);this.textRowID=[];for(let e=0;e<this.comparisonMatrixID.length;e++)for(let t=0;t<this.comparisonMatrixID[e].length;t++)this.cmd(Ka.delete,this.comparisonMatrixID[e][t]);for(let e=1;e<this.rowCountID.length;e++)this.cmd(Ka.delete,this.rowCountID[e]);return this.rowCountID=[],t||(this.textField.value="",this.patternField.value=""),this.comparisonMatrixID=[],this.removeCode(this.codeID),this.codeID=[],this.compCount=0,this.cmd(Ka.setText,this.comparisonCountID,""),this.cmd(Ka.setText,this.infoLabelID,""),this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],BoyerMoore:["Boyer-Moore",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Ga("Text:"),this.textField=Ja("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),26,!1),this.controls.push(this.textField),Ga("Pattern:"),this.patternField=Ja("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),26,!1),this.controls.push(this.patternField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Ga("or"),this.blotButton=Ja("Button","Build Last Occurrence Table"),this.blotButton.onclick=this.buildLastOccurrenceTableCallback.bind(this),this.controls.push(this.blotButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["Random","Random"],["aaaa in aaaaaaaaaaaaa","aaaa in aaaaaaaaaaaaa"],["aaab in aaaaaaaaaaaaa","aaab in aaaaaaaaaaaaa"],["baaa in aaaaaaaaaaaaa","baaa in aaaaaaaaaaaaa"],["aaaa in aaabaaabaaaba","aaaa in aaabaaabaaaba"],["aaab in aaabaaabaaaba","aaab in aaabaaabaaaba"],["baaa in aaabaaabaaaba","baaa in aaabaaabaaaba"],["abab in abacabacababa","abab in abacabacababa"],["lack in sphinxofblackquartz","lack in sphinxofblackquartz"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),tr(),this.galilButton=Ya("Galil Rule Optimization",!1),this.galilButton.onclick=this.toggleGalilRule.bind(this),this.controls.push(this.galilButton)}setURLData(t){this.textField.value=t.get("text"),this.patternField.value=t.get("pattern"),this.findCallback()}setup(){this.commands=[],this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.patternTableLabelID=this.nextIndex++,this.patternTableCharacterID=[],this.patternTableIndexID=[],this.lastTableLabelID=this.nextIndex++,this.lastTableCharacterID=[],this.lastTableValueID=[],this.codeID=[],this.galilRuleEnabled=!1,this.comparisonCountID=this.nextIndex++,this.periodLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"",575,15,0),this.period=1,this.cmd(Ka.createLabel,this.periodLabelID,"",575,35,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.patternTableLabelID=this.nextIndex++,this.patternTableCharacterID=[],this.patternTableIndexID=[],this.lastTableLabelID=this.nextIndex++,this.lastTableCharacterID=[],this.lastTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.periodLabelID=this.nextIndex++,this.compCount=0,this.period=1}findCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.textField.value,e=this.patternField.value;this.implementAction(this.find.bind(this),t,e)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e,i;if("Random"===t)i=this.generateRandomString(3,"abc"),e=this.generateRandomString(15,"abc",i);else{const s=t.split(" in ");e=s[1],i=s[0]}this.textField.value=e,this.patternField.value=i,this.exampleDropdown.value=""}generateRandomString(t,e,i){let s="";if(i){const h=Math.floor(Math.random()*(t-i.length+1));for(let n=0;n<t;n++)if(n>=h&&n<h+i.length)s+=i[n-h];else{s+=e[Math.floor(Math.random()*e.length)]}}else for(let h=0;h<t;h++){s+=e[Math.floor(Math.random()*e.length)]}return s}buildLastOccurrenceTableCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.patternField.value;this.implementAction(this.onlyBuildLastOccurrenceTable.bind(this),0,t)}clearCallback(){this.implementAction(this.clear.bind(this))}toggleGalilRule(){this.galilRuleEnabled=!this.galilRuleEnabled}find(t,e){if(this.codeID&&this.removeCode(this.codeID),this.commands=[],!t||!e)return this.shake(this.findButton),this.cmd(Ka.setText,this.infoLabelID,"Text and pattern must not be empty"),this.commands;if(t.length<e.length)return this.cmd(Ka.setText,this.infoLabelID,"Pattern is longer than text, no matches exist"),this.commands;const i=this.getMaxRows(t,e);this.cellSize=i<=14?30:i<=17?25:20,this.textRowID=new Array(t.length),this.rowCountID=new Array(i),this.comparisonMatrixID=new Array(i);for(let m=0;m<i;m++)this.comparisonMatrixID[m]=new Array(t.length);let s,h;for(let m=0;m<t.length;m++)s=m*this.cellSize+Ur,h=35,this.textRowID[m]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,m,s,h);for(let m=1;m<=i;m++)s=50,h=m*this.cellSize+Kr,this.rowCountID[m]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,`Row ${m}`,s,h);for(let m=0;m<t.length;m++)s=m*this.cellSize+Ur,h=Kr,this.textRowID[m+t.length]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex,t.charAt(m),this.cellSize,this.cellSize,s,h),this.cmd(Ka.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(let m=0;m<i;m++)for(let e=0;e<t.length;e++)s=e*this.cellSize+Ur,h=(m+1)*this.cellSize+Kr,this.comparisonMatrixID[m][e]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,s,h);const n=this.buildLastTable(t.length,e);this.removeCode(this.codeID),this.galilRuleEnabled?(this.buildFailureTable(t.length,e),this.codeID=this.addCodeToCanvasBaseAll(or.OV,"galil",Ur+t.length*this.cellSize+10,205,14)):this.codeID=this.addCodeToCanvasBaseAll(or.OV,"find",Ur+t.length*this.cellSize+10,205);const a=this.nextIndex++,r=this.nextIndex++;this.cmd(Ka.createHighlightCircle,a,"#0000FF",Ur+(e.length-1)*this.cellSize,Kr,this.cellSize/2),this.cmd(Ka.createHighlightCircle,r,"#0000FF",Ur+(e.length-1)*this.cellSize,Kr+this.cellSize,this.cellSize/2);let o=0,l=e.length-1,d=0,c=0,u=this.galilRuleEnabled?1:0;for(this.highlight(u+4,0,this.codeID);o<=t.length-e.length;){u=this.galilRuleEnabled?1:0;for(let t=o;t<o+e.length;t++)this.cmd(Ka.setText,this.comparisonMatrixID[d][t],e.charAt(t-o),s,h),t-o<c&&this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[d][t],"#FFFF4D");for(this.highlight(u+5,0,this.codeID),this.cmd(Ka.step),this.unhighlight(u+5,0,this.codeID),this.highlight(u+6,0,this.codeID);l>=c&&e.charAt(l)===t.charAt(o+l);)if(this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[d][o+l],"#2ECC71"),l--,this.highlight(u+7,0,this.codeID),this.cmd(Ka.step),this.unhighlight(u+7,0,this.codeID),l>=0){const t=(o+l)*this.cellSize+Ur;this.cmd(Ka.move,a,t,Kr);const e=(d+1)*this.cellSize+Kr;this.cmd(Ka.move,r,t,e),this.cmd(Ka.step)}if(this.unhighlight(u+6,0,this.codeID),this.highlight(u+9,0,this.codeID),this.cmd(Ka.step),this.unhighlight(u+9,0,this.codeID),l<c)this.highlight(u+10,0,this.codeID),this.highlight(u+11,0,this.codeID),this.galilRuleEnabled?(this.highlight(u+12,0,this.codeID),o+=this.period,c=e.length-this.period):o++,this.cmd(Ka.step),this.unhighlight(u+10,0,this.codeID),this.unhighlight(u+11,0,this.codeID),this.unhighlight(u+12,0,this.codeID);else{let e;this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),0!==c&&(c=0),u=this.galilRuleEnabled?2:0,this.highlight(12+u,0,this.codeID),this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[d][o+l],"#E74C3C"),this.cmd(Ka.step),this.unhighlight(12+u,0,this.codeID),this.highlight(13+u,0,this.codeID),e=t.charAt(o+l)in n?n[t.charAt(o+l)]:-1,this.cmd(Ka.step),this.unhighlight(13+u,0,this.codeID),this.highlight(14+u,0,this.codeID),this.cmd(Ka.step),this.unhighlight(14+u,0,this.codeID),e<l?(this.highlight(15+u,0,this.codeID),o+=l-e):(this.highlight(16+u,0,this.codeID),this.cmd(Ka.step),this.unhighlight(16+u,0,this.codeID),this.highlight(17+u,0,this.codeID),o++),this.cmd(Ka.step),this.unhighlight(15+u,0,this.codeID),this.unhighlight(17+u,0,this.codeID),this.highlight(19+u,0,this.codeID),this.cmd(Ka.step),this.unhighlight(19+u,0,this.codeID)}if(l=e.length-1,d++,o<=t.length-e.length){const t=(o+l)*this.cellSize+Ur;this.cmd(Ka.move,a,t,Kr);const e=(d+1)*this.cellSize+Kr;this.cmd(Ka.move,r,t,e)}}return u=this.galilRuleEnabled?1:0,this.unhighlight(u+4,0,this.codeID),this.cmd(Ka.step),this.cmd(Ka.delete,a),this.cmd(Ka.delete,r),this.commands}getMaxRows(t,e){if(this.galilRuleEnabled){const t=[];t[0]=0;let i=0,s=1;for(;s<e.length;)e.charAt(i)===e.charAt(s)?(i++,t[s]=i,s++):0===i?(t[s]=i,s++):i=t[i-1];this.period=e.length-t[e.length-1]}const i={};for(let r=0;r<e.length;r++)i[e.charAt(r)]=r;let s=0,h=e.length-1,n=0,a=0;for(;s<=t.length-e.length;){for(;h>=a&&e.charAt(h)===t.charAt(s+h);)h--;if(h<a)this.galilRuleEnabled?(s+=this.period,a=e.length-this.period):s++;else{let e;0!==a&&(a=0),e=t.charAt(s+h)in i?i[t.charAt(s+h)]:-1,e<h?s+=h-e:s++}h=e.length-1,n++}return n}onlyBuildLastOccurrenceTable(t,e){return this.commands=[],e?(this.cellSize=30,this.buildLastTable(t,e),this.commands):(this.shake(this.blotButton),this.cmd(Ka.setText,this.infoLabelID,"Pattern must not be empty"),this.commands)}buildLastTable(t,e){const i=Ur+t*this.cellSize+10;this.cmd(Ka.createLabel,this.patternTableLabelID,"Pattern:",i,75,0),this.cmd(Ka.createLabel,this.lastTableLabelID,"Last occurence table:",i,150,0),this.cmd(Ka.move,this.comparisonCountID,i,15),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.codeID=this.addCodeToCanvasBaseAll(or.OV,"lastTable",i,205);const s=Ur+t*this.cellSize+80;this.patternTableCharacterID=new Array(e.length),this.patternTableIndexID=new Array(e.length);for(let l=0;l<e.length;l++){const t=s+l*this.cellSize;this.patternTableCharacterID[l]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex++,e.charAt(l),this.cellSize,this.cellSize,t,80),this.patternTableIndexID[l]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,l,t,80+this.cellSize)}const h={},n=Ur+t*this.cellSize+155;this.lastTableCharacterID=[],this.lastTableValueID=[];let a=0;const r=this.nextIndex++;this.cmd(Ka.createHighlightCircle,r,"#0000FF",s,80,this.cellSize/2),this.cmd(Ka.setHighlight,r,1),this.highlight(2,0,this.codeID);for(let l=0;l<e.length;l++){this.cmd(Ka.step);let t=s+l*this.cellSize;this.cmd(Ka.move,r,t,80),this.highlight(3,0,this.codeID),h[e.charAt(l)]?(this.cmd(Ka.setText,h[e.charAt(l)][1],l),this.cmd(Ka.setHighlight,h[e.charAt(l)][1],1),h[e.charAt(l)][0]=l):(t=n+a*this.cellSize,this.lastTableCharacterID.push(this.nextIndex),this.cmd(Ka.createRectangle,this.nextIndex,e.charAt(l),this.cellSize,this.cellSize,t,Gr),this.cmd(Ka.setBackgroundColor,this.nextIndex++,"#D3D3D3"),this.lastTableValueID.push(this.nextIndex),this.cmd(Ka.createRectangle,this.nextIndex,l,this.cellSize,this.cellSize,t,Gr+this.cellSize),this.cmd(Ka.setHighlight,this.nextIndex,1),a++,h[e.charAt(l)]=[l,this.nextIndex++]),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.cmd(Ka.setHighlight,h[e.charAt(l)][1],0)}this.unhighlight(2,0,this.codeID),this.cmd(Ka.delete,r);const o=n+a*this.cellSize;return this.lastTableCharacterID.push(this.nextIndex),this.cmd(Ka.createRectangle,this.nextIndex,"*",this.cellSize,this.cellSize,o,Gr),this.cmd(Ka.setBackgroundColor,this.nextIndex++,"#D3D3D3"),this.lastTableValueID.push(this.nextIndex),this.cmd(Ka.createRectangle,this.nextIndex++,"-1",this.cellSize,this.cellSize,o,Gr+this.cellSize),this.highlight(5,0,this.codeID),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),Object.keys(h).map((t=>h[t]=h[t][0])),h}buildFailureTable(t,e){const i=this.nextIndex;this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[];const s=Ur+t*this.cellSize+10;this.cmd(Ka.createLabel,this.failureTableLabelID,"Failure table:",s,225,0),this.cmd(Ka.move,this.periodLabelID,s,35),this.cmd(Ka.setText,this.periodLabelID,"Period = pattern.length - FT[pattern.length - 1]"),this.codeID=this.addCodeToCanvasBaseAll(or.z_,"failureTable",s,275,14);const h=Ur+t*this.cellSize+110;this.failureTableCharacterID=new Array(e.length),this.failureTableValueID=new Array(e.length);for(let c=0;c<e.length;c++){const t=h+c*this.cellSize;this.failureTableCharacterID[c]=this.nextIndex++,this.cmd(Ka.createRectangle,this.failureTableCharacterID[c],e.charAt(c),this.cellSize,this.cellSize,t,Xr),this.cmd(Ka.setBackgroundColor,this.failureTableCharacterID[c],"#D3D3D3"),this.failureTableValueID[c]=this.nextIndex++,this.cmd(Ka.createRectangle,this.failureTableValueID[c],"",this.cellSize,this.cellSize,t,Xr+this.cellSize)}this.cmd(Ka.step);const n=this.nextIndex++,a=this.nextIndex++;this.cmd(Ka.createHighlightCircle,n,"#0000FF",h,Xr,this.cellSize/2),this.cmd(Ka.createHighlightCircle,a,"#FF0000",h+this.cellSize,Xr,this.cellSize/2),this.cmd(Ka.setText,this.failureTableValueID[0],0),this.highlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID);const r=[];r[0]=0;let o=0,l=1;for(this.highlight(5,0,this.codeID);l<e.length;)this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(6,0,this.codeID),this.cmd(Ka.step),this.unhighlight(6,0,this.codeID),e.charAt(o)===e.charAt(l)?(this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),o++,r[l]=o,this.cmd(Ka.setText,this.failureTableValueID[l],o),l++,l<e.length&&(this.cmd(Ka.move,n,h+o*this.cellSize,Xr),this.cmd(Ka.move,a,h+l*this.cellSize,Xr)),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID)):(this.highlight(9,0,this.codeID),this.cmd(Ka.step),this.unhighlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Ka.step),this.unhighlight(10,0,this.codeID),0===o?(this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),r[l]=o,this.cmd(Ka.setText,this.failureTableValueID[l],o),l++,l<e.length&&this.cmd(Ka.move,a,h+l*this.cellSize,Xr),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID)):(this.highlight(14,0,this.codeID),this.cmd(Ka.step),this.unhighlight(14,0,this.codeID),this.highlight(15,0,this.codeID),o=r[o-1],this.cmd(Ka.move,n,h+o*this.cellSize,Xr),this.cmd(Ka.step),this.unhighlight(15,0,this.codeID)));this.unhighlight(5,0,this.codeID),this.highlight(18,0,this.codeID),this.cmd(Ka.step),this.unhighlight(18,0,this.codeID),this.cmd(Ka.setText,this.periodLabelID,"Period = "+e.length+" - "+r[e.length-1]);const d=this.nextIndex++;this.cmd(Ka.createHighlightCircle,d,"#FF0000",h+this.cellSize*(e.length-1),Xr+this.cellSize,this.cellSize/2),this.cmd(Ka.step),this.period=e.length-r[e.length-1],this.cmd(Ka.setText,this.periodLabelID,"Period = "+this.period),this.cmd(Ka.delete,d),0!==this.failureTableValueID.length&&this.cmd(Ka.delete,this.failureTableLabelID);for(let c=0;c<this.failureTableCharacterID.length;c++)this.cmd(Ka.delete,this.failureTableCharacterID[c]),this.cmd(Ka.delete,this.failureTableValueID[c]);return this.cmd(Ka.delete,n),this.cmd(Ka.delete,a),this.removeCode(this.codeID),this.nextIndex=i,r}clear(t){this.commands=[];for(let e=0;e<this.textRowID.length;e++)this.cmd(Ka.delete,this.textRowID[e]);this.textRowID=[];for(let e=1;e<this.rowCountID.length;e++)this.cmd(Ka.delete,this.rowCountID[e]);this.rowCountID=[];for(let e=0;e<this.comparisonMatrixID.length;e++)for(let t=0;t<this.comparisonMatrixID[e].length;t++)this.cmd(Ka.delete,this.comparisonMatrixID[e][t]);this.comparisonMatrixID=[],0!==this.patternTableCharacterID.length&&this.cmd(Ka.delete,this.patternTableLabelID);for(let e=0;e<this.patternTableCharacterID.length;e++)this.cmd(Ka.delete,this.patternTableCharacterID[e]),this.cmd(Ka.delete,this.patternTableIndexID[e]);this.patternTableCharacterID=[],this.patternTableIndexID=[],0!==this.lastTableCharacterID.length&&this.cmd(Ka.delete,this.lastTableLabelID);for(let e=0;e<this.lastTableCharacterID.length;e++)this.cmd(Ka.delete,this.lastTableCharacterID[e]),this.cmd(Ka.delete,this.lastTableValueID[e]);return this.removeCode(this.codeID),t||(this.textField.value="",this.patternField.value=""),this.compCount=0,this.cmd(Ka.setText,this.comparisonCountID,""),this.cmd(Ka.setText,this.periodLabelID,""),this.cmd(Ka.setText,this.infoLabelID,""),this.lastTableCharacterID=[],this.lastTableValueID=[],this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.period=1,this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],KMP:["KMP",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Ga("Text:"),this.textField=Ja("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),26,!1),this.controls.push(this.textField),Ga("Pattern:"),this.patternField=Ja("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),26,!1),this.controls.push(this.patternField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Ga("or"),this.bftButton=Ja("Button","Build Failure Table"),this.bftButton.onclick=this.buildFailureTableCallback.bind(this),this.controls.push(this.bftButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["Random","Random"],["aaaa in aaaaaaaaaaaaa","aaaa in aaaaaaaaaaaaa"],["aaab in aaaaaaaaaaaaa","aaab in aaaaaaaaaaaaa"],["baaa in aaaaaaaaaaaaa","baaa in aaaaaaaaaaaaa"],["aaaa in aaabaaabaaaba","aaaa in aaabaaabaaaba"],["aaab in aaabaaabaaaba","aaab in aaabaaabaaaba"],["baaa in aaabaaabaaaba","baaa in aaabaaabaaaba"],["abab in abacabacababa","abab in abacabacababa"],["lack in sphinxofblackquartz","lack in sphinxofblackquartz"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){this.textField.value=t.get("text"),this.patternField.value=t.get("pattern"),this.findCallback()}setup(){this.commands=[],this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"",575,30,0),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=or.z_,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.compCount=0}findCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.textField.value,e=this.patternField.value;this.implementAction(this.find.bind(this),t,e)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e,i;if("Random"===t)i=this.generateRandomString(3,"abc"),e=this.generateRandomString(15,"abc",i);else{const s=t.split(" in ");e=s[1],i=s[0]}this.textField.value=e,this.patternField.value=i,this.exampleDropdown.value=""}generateRandomString(t,e,i){let s="";if(i){const h=Math.floor(Math.random()*(t-i.length+1));for(let n=0;n<t;n++)if(n>=h&&n<h+i.length)s+=i[n-h];else{s+=e[Math.floor(Math.random()*e.length)]}}else for(let h=0;h<t;h++){s+=e[Math.floor(Math.random()*e.length)]}return s}buildFailureTableCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.patternField.value;this.implementAction(this.onlyBuildFailureTable.bind(this),0,t)}clearCallback(){this.implementAction(this.clear.bind(this))}find(t,e){if(this.commands=[],!t||!e)return this.shake(this.findButton),this.cmd(Ka.setText,this.infoLabelID,"Text and pattern must not be empty"),this.commands;if(t.length<e.length)return this.cmd(Ka.setText,this.infoLabelID,"Pattern is longer than text, no matches exist"),this.commands;const i=this.getMaxRows(t,e);this.cellSize=i<=14?30:i<=17?25:20,this.textRowID=new Array(t.length),this.comparisonMatrixID=new Array(i);for(let p=0;p<i;p++)this.comparisonMatrixID[p]=new Array(t.length);let s,h;for(let p=0;p<t.length;p++)s=p*this.cellSize+Il,h=35,this.textRowID[p]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,p,s,h);for(let p=1;p<=i;p++)s=50,h=p*this.cellSize+bl,this.rowCountID[p]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,`Row ${p}`,s,h);for(let p=0;p<t.length;p++)s=p*this.cellSize+Il,h=bl,this.textRowID[p+t.length]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex,t.charAt(p),this.cellSize,this.cellSize,s,h),this.cmd(Ka.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(let p=0;p<i;p++)for(let e=0;e<t.length;e++)s=e*this.cellSize+Il,h=(p+1)*this.cellSize+bl,this.comparisonMatrixID[p][e]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,s,h);const n=this.buildFailureTable(t.length,e);this.removeCode(this.codeID);const a=Il+t.length*this.cellSize+110;this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",Il+t.length*this.cellSize+10,195);const r=this.nextIndex++,o=this.nextIndex++,l=this.nextIndex++,d=this.nextIndex++,c=this.nextIndex++;this.cmd(Ka.createHighlightCircle,r,"#0000FF",Il,bl,this.cellSize/2),this.cmd(Ka.createHighlightCircle,o,"#0000FF",Il,bl+this.cellSize,this.cellSize/2),this.cmd(Ka.createHighlightCircle,l,"#FF0000",Il,bl+this.cellSize,this.cellSize/2),this.cmd(Ka.createHighlightCircle,d,"#FF0000",a,xl,this.cellSize/2),this.cmd(Ka.createHighlightCircle,c,"#FF0000",a,xl+this.cellSize,this.cellSize/2),this.cmd(Ka.setAlpha,l,0),this.cmd(Ka.setAlpha,d,0),this.cmd(Ka.setAlpha,c,0);let u=0,m=0,g=0;for(this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);u<=t.length-e.length;){for(let t=u;t<u+e.length;t++)this.cmd(Ka.setText,this.comparisonMatrixID[g][t],e.charAt(t-u),s,h),t-u<m&&this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[g][t],"#FFFF4D");for(this.cmd(Ka.step),this.highlight(5,0,this.codeID),this.cmd(Ka.setAlpha,l,0),this.cmd(Ka.setAlpha,d,0),this.cmd(Ka.setAlpha,c,0);m<e.length&&e.charAt(m)===t.charAt(u+m);)this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[g][u+m],"#2ECC71"),m++,this.highlight(6,0,this.codeID),this.cmd(Ka.step),this.unhighlight(6,0,this.codeID),m<e.length&&(s=(u+m)*this.cellSize+Il,this.cmd(Ka.move,r,s,bl),h=(g+1)*this.cellSize+bl,this.cmd(Ka.move,o,s,h),this.cmd(Ka.step));if(this.unhighlight(5,0,this.codeID),m<e.length&&this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(8,0,this.codeID),this.cmd(Ka.step),0===m)this.unhighlight(8,0,this.codeID),this.highlight(9,0,this.codeID),this.cmd(Ka.step),this.unhighlight(9,0,this.codeID),this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[g][u],"#E74C3C"),u++;else{this.unhighlight(8,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Ka.step),this.unhighlight(10,0,this.codeID),this.highlight(11,0,this.codeID),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),m!==e.length?this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[g][u+m],"#E74C3C"):(this.highlight(12,0,this.codeID),this.cmd(Ka.step),this.unhighlight(12,0,this.codeID)),this.highlight(14,0,this.codeID);const t=n[m-1];this.cmd(Ka.setPosition,l,(u+m-1)*this.cellSize+Il,(g+1)*this.cellSize+bl),this.cmd(Ka.setPosition,d,a+(m-1)*this.cellSize,xl),this.cmd(Ka.setPosition,c,a+(m-1)*this.cellSize,xl+this.cellSize),this.cmd(Ka.setAlpha,l,1),this.cmd(Ka.setAlpha,d,1),this.cmd(Ka.setAlpha,c,1),this.cmd(Ka.step),this.unhighlight(14,0,this.codeID),this.highlight(15,0,this.codeID),this.highlight(16,0,this.codeID),u+=m-t,m=t}g++,u<=t.length-e.length&&(s=(u+m)*this.cellSize+Il,this.cmd(Ka.move,r,s,bl),h=(g+1)*this.cellSize+bl,this.cmd(Ka.move,o,s,h)),this.cmd(Ka.step),this.unhighlight(15,0,this.codeID),this.unhighlight(16,0,this.codeID)}return this.unhighlight(4,0,this.codeID),this.cmd(Ka.delete,r),this.cmd(Ka.delete,o),this.cmd(Ka.delete,l),this.cmd(Ka.delete,d),this.cmd(Ka.delete,c),this.commands}getMaxRows(t,e){const i=[];i[0]=0;let s=0,h=1;for(;h<e.length;)e.charAt(s)===e.charAt(h)?(s++,i[h]=s,h++):0===s?(i[h]=s,h++):s=i[s-1];s=0,h=0;let n=0;for(;s<=t.length-e.length;){for(;h<e.length&&e.charAt(h)===t.charAt(s+h);)h++;if(0===h)s++;else{const t=i[h-1];s+=h-t,h=t}n++}return n}onlyBuildFailureTable(t,e){return this.commands=[],e?(this.cellSize=30,this.buildFailureTable(t,e),this.commands):(this.shake(this.bftButton),this.cmd(Ka.setText,this.infoLabelID,"Pattern must not be empty"),this.commands)}buildFailureTable(t,e){const i=Il+t*this.cellSize+10;this.cmd(Ka.createLabel,this.failureTableLabelID,"Failure table:",i,110,0),this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"failureTable",i,195),this.cmd(Ka.move,this.comparisonCountID,i,30),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount);const s=Il+t*this.cellSize+110;this.failureTableCharacterID=new Array(e.length),this.failureTableValueID=new Array(e.length);for(let l=0;l<e.length;l++){const t=s+l*this.cellSize;this.failureTableCharacterID[l]=this.nextIndex++,this.cmd(Ka.createRectangle,this.failureTableCharacterID[l],e.charAt(l),this.cellSize,this.cellSize,t,xl),this.cmd(Ka.setBackgroundColor,this.failureTableCharacterID[l],"#D3D3D3"),this.failureTableValueID[l]=this.nextIndex++,this.cmd(Ka.createRectangle,this.failureTableValueID[l],"",this.cellSize,this.cellSize,t,xl+this.cellSize)}this.cmd(Ka.step);const h=this.nextIndex++,n=this.nextIndex++;this.cmd(Ka.createHighlightCircle,h,"#0000FF",s,xl,this.cellSize/2),this.cmd(Ka.createHighlightCircle,n,"#FF0000",s+this.cellSize,xl,this.cellSize/2),this.cmd(Ka.setText,this.failureTableValueID[0],0),this.highlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID);const a=[];a[0]=0;let r=0,o=1;for(this.highlight(5,0,this.codeID);o<e.length;)this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(6,0,this.codeID),this.cmd(Ka.step),this.unhighlight(6,0,this.codeID),e.charAt(r)===e.charAt(o)?(this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),r++,a[o]=r,this.cmd(Ka.setText,this.failureTableValueID[o],r),o++,o<e.length&&(this.cmd(Ka.move,h,s+r*this.cellSize,xl),this.cmd(Ka.move,n,s+o*this.cellSize,xl)),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID)):(this.highlight(9,0,this.codeID),this.cmd(Ka.step),this.unhighlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Ka.step),this.unhighlight(10,0,this.codeID),0===r?(this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),a[o]=r,this.cmd(Ka.setText,this.failureTableValueID[o],r),o++,o<e.length&&this.cmd(Ka.move,n,s+o*this.cellSize,xl),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID)):(this.highlight(13,0,this.codeID),this.cmd(Ka.step),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),r=a[r-1],this.cmd(Ka.move,h,s+r*this.cellSize,xl),this.cmd(Ka.step),this.unhighlight(14,0,this.codeID)));return this.unhighlight(5,0,this.codeID),this.highlight(18,0,this.codeID),this.cmd(Ka.step),this.unhighlight(18,0,this.codeID),this.cmd(Ka.delete,h),this.cmd(Ka.delete,n),a}clear(t){this.commands=[];for(let e=0;e<this.textRowID.length;e++)this.cmd(Ka.delete,this.textRowID[e]);this.textRowID=[];for(let e=1;e<this.rowCountID.length;e++)this.cmd(Ka.delete,this.rowCountID[e]);this.rowCountID=[];for(let e=0;e<this.comparisonMatrixID.length;e++)for(let t=0;t<this.comparisonMatrixID[e].length;t++)this.cmd(Ka.delete,this.comparisonMatrixID[e][t]);this.comparisonMatrixID=[],0!==this.failureTableValueID.length&&this.cmd(Ka.delete,this.failureTableLabelID);for(let e=0;e<this.failureTableCharacterID.length;e++)this.cmd(Ka.delete,this.failureTableCharacterID[e]),this.cmd(Ka.delete,this.failureTableValueID[e]);return this.removeCode(this.codeID),this.codeID=[],t||(this.textField.value="",this.patternField.value=""),this.compCount=0,this.cmd(Ka.setText,this.comparisonCountID,""),this.cmd(Ka.setText,this.infoLabelID,""),this.failureTableCharacterID=[],this.failureTableValueID=[],this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],RabinKarp:["Rabin-Karp",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Ga("Text:"),this.textField=Ja("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),26,!1),this.controls.push(this.textField),Ga("Pattern"),this.patternField=Ja("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),26,!1),this.controls.push(this.patternField),this.findButton=Ja("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.baseField=Ja("Text",""),this.baseField.style.textAlign="center",this.baseField.onkeydown=this.returnSubmit(this.baseField,this.findCallback.bind(this),4,!0),this.controls.push(this.baseField),this.baseButton=Ja("Button","Change Base"),this.baseButton.onclick=this.baseCallback.bind(this),this.controls.push(this.baseButton),tr(),this.exampleDropdown=Qa([["","Select Example"],["Random","Random"],["aaaa in aaaaaaaaaaaaa","aaaa in aaaaaaaaaaaaa"],["aaab in aaaaaaaaaaaaa","aaab in aaaaaaaaaaaaa"],["baaa in aaaaaaaaaaaaa","baaa in aaaaaaaaaaaaa"],["aaaa in aaabaaabaaaba","aaaa in aaabaaabaaaba"],["aaab in aaabaaabaaaba","aaab in aaabaaabaaaba"],["baaa in aaabaaabaaaba","baaa in aaabaaabaaaba"],["abab in abacabacababa","abab in abacabacababa"],["lack in sphinxofblackquartz","lack in sphinxofblackquartz"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){this.textField.value=t.get("text"),this.patternField.value=t.get("pattern"),this.findCallback()}setup(){this.commands=[],this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.baseLabelID=this.nextIndex++,this.characterValuesLabelID=this.nextIndex++,this.textHashLabelID=this.nextIndex++,this.textHashCalculationID=this.nextIndex++,this.patternHashLabelID=this.nextIndex++,this.patternHashCalculationID=this.nextIndex++,this.baseValue=1,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Ka.createLabel,this.comparisonCountID,"",575,30,0),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=or.no,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.baseLabelID=this.nextIndex++,this.characterValuesLabelID=this.nextIndex++,this.textHashLabelID=this.nextIndex++,this.textHashCalculationID=this.nextIndex++,this.patternHashLabelID=this.nextIndex++,this.patternHashCalculationID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.compCount=0,this.codeID=[]}findCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.textField.value,e=this.patternField.value;this.implementAction(this.find.bind(this),t,e)}baseCallback(){const t=parseInt(this.baseField.value);this.implementAction(this.changeBase.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e,i;if("Random"===t)i=this.generateRandomString(3,"abc"),e=this.generateRandomString(15,"abc",i);else{const s=t.split(" in ");e=s[1],i=s[0]}this.textField.value=e,this.patternField.value=i,this.exampleDropdown.value=""}generateRandomString(t,e,i){let s="";if(i){const h=Math.floor(Math.random()*(t-i.length+1));for(let n=0;n<t;n++)if(n>=h&&n<h+i.length)s+=i[n-h];else{s+=e[Math.floor(Math.random()*e.length)]}}else for(let h=0;h<t;h++){s+=e[Math.floor(Math.random()*e.length)]}return s}changeBase(t){return this.commands=[],t&&0!==t?(this.cmd(Ka.setText,this.infoLabelID,"Base set to "+t),this.baseValue=t):(this.shake(this.baseButton),this.cmd(Ka.setText,this.infoLabelID,"Base must be a non-zero integer")),this.commands}clearCallback(){this.implementAction(this.clear.bind(this))}find(t,e){if(this.commands=[],t=t.replace(/[^a-zA-Z]/g,"").toLowerCase(),e=e.replace(/[^a-zA-Z]/g,"").toLowerCase(),!t||!e)return this.shake(this.findButton),this.cmd(Ka.setText,this.infoLabelID,"Text and pattern must be lowercase letters"),this.commands;if(t.length<e.length)return this.cmd(Ka.setText,this.infoLabelID,"Pattern is longer than text, no matches exist"),this.commands;const i=t.length-e.length+1;this.cellSize=i<=14?30:i<=17?25:20,this.textRowID=new Array(t.length),this.rowCountID=new Array(i),this.comparisonMatrixID=new Array(i);for(let f=0;f<i;f++)this.comparisonMatrixID[f]=new Array(t.length);let s,h;for(let f=0;f<t.length;f++)s=f*this.cellSize+yd,h=35,this.textRowID[f]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,f,s,h);for(let f=1;f<=i;f++)s=50,h=f*this.cellSize+vd,this.rowCountID[f]=this.nextIndex,this.cmd(Ka.createLabel,this.nextIndex++,`Row ${f}`,s,h);for(let f=0;f<t.length;f++)s=f*this.cellSize+yd,h=vd,this.textRowID[f+t.length]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex,t.charAt(f),this.cellSize,this.cellSize,s,h),this.cmd(Ka.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(let f=0;f<i;f++)for(let e=0;e<t.length;e++)s=e*this.cellSize+yd,h=(f+1)*this.cellSize+vd,this.comparisonMatrixID[f][e]=this.nextIndex,this.cmd(Ka.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,s,h);const n=yd+t.length*this.cellSize+10;this.cmd(Ka.createLabel,this.baseLabelID,`Base constant = ${this.baseValue}`,n,45,0),this.cmd(Ka.createLabel,this.characterValuesLabelID,"Character values: a = 0, b = 1, ..., z = 25",n,60,0),this.cmd(Ka.createLabel,this.textHashLabelID,"Text hash:",n,100,0),this.cmd(Ka.createLabel,this.patternHashLabelID,"Pattern hash:",n,115,0),this.cmd(Ka.move,this.comparisonCountID,n,30),this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",n,180);let a="",r=0,o="",l=0;const d=Math.pow(this.baseValue,e.length-1);let c=d;for(let f=0;f<e.length;f++)r+=(t.charCodeAt(f)-97)*c,a+=`(${t.charAt(f)} * ${c}) + `,l+=(e.charCodeAt(f)-97)*c,o+=`(${e.charAt(f)} * ${c}) + `,c/=this.baseValue;a=a.substring(0,a.length-2)+" = "+r,o=o.substring(0,o.length-2)+" = "+l;const u=yd+t.length*this.cellSize+100;this.cmd(Ka.createLabel,this.textHashCalculationID,a,u,100,0),this.cmd(Ka.createLabel,this.patternHashCalculationID,o,u,115,0);const m=this.nextIndex++,g=this.nextIndex++;this.highlight(1,0,this.codeID),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID);let p=0;for(let f=0;f<=t.length-e.length;f++){for(let t=f;t<f+e.length;t++)this.cmd(Ka.setText,this.comparisonMatrixID[p][t],e.charAt(t-f),s,h);if(this.cmd(Ka.step),this.highlight(6,0,this.codeID),this.cmd(Ka.step),l===r){this.unhighlight(6,0,this.codeID),this.highlight(7,0,this.codeID),s=f*this.cellSize+yd,this.cmd(Ka.createHighlightCircle,m,"#0000FF",s,vd,this.cellSize/2),h=(p+1)*this.cellSize+vd,this.cmd(Ka.createHighlightCircle,g,"#0000FF",s,h,this.cellSize/2),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Ka.step);let i=0;for(;i<e.length&&e.charAt(i)===t.charAt(f+i);)this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[p][f+i],"#2ECC71"),i++,this.highlight(9,0,this.codeID),i!==e.length&&(s=(f+i)*this.cellSize+yd,this.cmd(Ka.move,m,s,vd),h=(p+1)*this.cellSize+vd,this.cmd(Ka.move,g,s,h)),this.cmd(Ka.step),this.unhighlight(9,0,this.codeID);this.unhighlight(8,0,this.codeID),this.highlight(11,0,this.codeID),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),i!==e.length?(this.cmd(Ka.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[p][f+i],"#E74C3C")):(this.highlight(12,0,this.codeID),this.cmd(Ka.step),this.unhighlight(12,0,this.codeID)),this.cmd(Ka.delete,m),this.cmd(Ka.delete,g),this.cmd(Ka.step)}else{for(let t=f;t<f+e.length;t++)this.cmd(Ka.setBackgroundColor,this.comparisonMatrixID[p][t],"#FFFF4D");this.cmd(Ka.step),this.unhighlight(6,0,this.codeID)}if(this.highlight(15,0,this.codeID),this.cmd(Ka.step),f<t.length-e.length){this.unhighlight(15,0,this.codeID),this.highlight(16,0,this.codeID),r=this.baseValue*(r-d*(t.charCodeAt(f)-97))+(t.charCodeAt(f+e.length)-97),a="",c=d;for(let i=0;i<e.length;i++)a+=`(${t.charAt(i+f+1)} * ${c}) + `,c/=this.baseValue;a=a.substring(0,a.length-2)+" = "+r,this.cmd(Ka.setText,this.textHashCalculationID,a),this.cmd(Ka.step),this.unhighlight(16,0,this.codeID)}this.unhighlight(15,0,this.codeID),this.highlight(18,0,this.codeID),this.cmd(Ka.step),this.unhighlight(18,0,this.codeID),p++}return this.unhighlight(5,0,this.codeID),this.commands}clear(t){this.commands=[],0!==this.textRowID.length&&(this.cmd(Ka.delete,this.baseLabelID),this.cmd(Ka.delete,this.characterValuesLabelID),this.cmd(Ka.delete,this.textHashLabelID),this.cmd(Ka.delete,this.textHashCalculationID),this.cmd(Ka.delete,this.patternHashLabelID),this.cmd(Ka.delete,this.patternHashCalculationID));for(let e=0;e<this.textRowID.length;e++)this.cmd(Ka.delete,this.textRowID[e]);this.textRowID=[];for(let e=1;e<this.rowCountID.length;e++)this.cmd(Ka.delete,this.rowCountID[e]);this.rowCountID=[];for(let e=0;e<this.comparisonMatrixID.length;e++)for(let t=0;t<this.comparisonMatrixID[e].length;t++)this.cmd(Ka.delete,this.comparisonMatrixID[e][t]);return t||(this.textField.value="",this.patternField.value="",this.baseField.value=""),this.comparisonMatrixID=[],this.compCount=0,this.cmd(Ka.setText,this.comparisonCountID,""),this.cmd(Ka.setText,this.infoLabelID,""),this.removeCode(this.codeID),this.codeID=[],this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],CreateGraph:["Graph Representations",class extends Pr{constructor(t,e,i){super(t,e,i,Tr),this.addControls(),this.nextIndex=0}addControls(){Ga("Adjacency List: ");const t=er(!1),e=er(!0,t);this.listField=document.createElement("textarea"),this.listField.classList.add("scrollable-textbox"),this.listField.style.width="200px",this.listField.style.height="100px",this.listField.value="A->B,C,D,E\nB->A,G\nC->A\nD->A,F\nE->A,G\nF->D,G\nG->B,E,F,H\nH->G",this.listField.addEventListener("input",(function(t){if(!/^[A-H->,\n]*$/.test(this.value)){const t=this.selectionStart-1;this.value=this.value.replace(/[^A-H->,\n]/g,""),this.setSelectionRange(t,t)}})),e.appendChild(this.listField),tr(),this.runButton=Ja("Button","Run"),this.runButton.onclick=this.startCallback.bind(this),tr();const i=Za(["Logical Representation","Adjacency List Representation","Adjacency Matrix Representation"],"GraphRepresentation");this.logicalButton=i[0],this.logicalButton.onclick=this.graphRepChangedCallback.bind(this,1),this.adjacencyListButton=i[1],this.adjacencyListButton.onclick=this.graphRepChangedCallback.bind(this,2),this.adjacencyMatrixButton=i[2],this.adjacencyMatrixButton.onclick=this.graphRepChangedCallback.bind(this,3),this.logicalButton.checked=!0}startCallback(){if(""!==this.listField.value){const t=this.listField.value.split("\n").map((t=>{let[e,i]=t.split("->");return e=e.trim(),i=i?i.split(","):[],{node:e.trim(),neighbors:i.map((t=>t.trim()))}}));this.updateAdjMatrix(t),this.smallGraphCallback(Kd)}else this.shake(this.runButton)}updateAdjMatrix(t){Kd=Kd.map((t=>t.map((()=>-1)))),t.forEach((t=>{let{node:e,neighbors:i}=t;const s=e.charCodeAt(0)-"A".charCodeAt(0);i.forEach((t=>{const e=t.charCodeAt(0)-"A".charCodeAt(0);Kd[s][e]=1,Kd[e][s]=1})),Kd[s][s]=1}))}setup(t){super.setup(t),this.commands=[],this.messageID=[],this.visited=[],this.stackID=[],this.listID=[],this.visitedID=[],this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.listID=[],this.visitedID=[],this.messageID=[]}clear(){for(let t=0;t<this.size;t++)this.cmd(Ka.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(let t=0;t<this.listID.length;t++)this.cmd(Ka.delete,this.listID[t]);this.listID=[];for(let t=0;t<this.visitedID.length;t++)this.cmd(Ka.delete,this.visitedID[t]);if(this.visitedID=[],null!=this.messageID)for(let t=0;t<this.messageID.length;t++)this.cmd(Ka.delete,this.messageID[t]);this.messageID=[],this.cmd(Ka.setText,this.infoLabelID,"")}smallGraphCallback(t){this.animationManager.resetAll(),this.setup_small(t)}},!0],BFS:["Breadth-First Search",class extends Pr{constructor(t,e,i){super(t,e,i,Tr),this.addControls()}addControls(){Ga("Start vertex: "),this.startField=Ja("Text",""),this.startField.style.textAlign="center",this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=Ja("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),tr(),super.addControls()}setup(t){super.setup(t),this.commands=[],this.messageID=[],this.visited=[],this.queueID=[],this.listID=[],this.visitedID=[],this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=or.wE,this.cmd(Ka.createLabel,this.nextIndex++,"Visited Set:",25,90,0),this.cmd(Ka.createLabel,this.nextIndex++,"List:",25,40,0),this.cmd(Ka.createLabel,this.nextIndex++,"Current vertex:",25,140,0),this.cmd(Ka.createLabel,this.nextIndex++,"Queue:",25,165,0),this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"run",25,250),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.listID=[],this.messageID=[],this.visitedID=[]}startCallback(){if(""!==this.startField.value){let t=this.startField.value;this.startField.value="",t=t.toUpperCase(),this.implementAction(this.doBFS.bind(this),t)}else this.shake(this.startButton)}doBFS(t){this.commands=[];let e=t.charCodeAt(0)-65;if(e<0||e>=this.size)return this.shake(this.startButton),this.cmd(Ka.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands;for(this.clear(),this.queue=[],this.queueID=[],this.listID=[],this.visitedID=[],this.rebuildEdges(),this.cmd(Ka.setText,this.infoLabelID,"Enqueueing "+this.toStr(e)+" and adding to visited set"),this.visited[e]=!0,this.visitedID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(e),30,115),this.cmd(Ka.setBackgroundColor,this.circleID[e],Er),this.queue.push(e),this.queueID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(e),30,Or),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID);this.queue.length>0&&this.listID.length<this.size;){e=this.queue.shift(),this.highlight(6,0,this.codeID),this.highlight(7,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,"Dequeueing "+this.toStr(e)+" and adding to list"),this.cmd(Ka.setTextColor,this.queueID[0],"#0000FF"),this.cmd(Ka.move,this.queueID[0],115,146);for(let t=1;t<this.queueID.length;t++)this.cmd(Ka.move,this.queueID[t],30+20*(t-1),Or);this.listID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(e),30+20*(this.listID.length-1),65),this.visitVertex(e),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Ka.step),this.unhighlight(8,0,this.codeID);for(let t=0;t<this.size;t++)this.adj_matrix[e][t]>0&&(this.highlightEdge(e,t,1),this.highlight(9,0,this.codeID),this.cmd(Ka.step),this.highlight(10,0,this.codeID),this.cmd(Ka.step),this.visited[t]?this.cmd(Ka.setText,this.infoLabelID,this.toStr(t)+" has already been visited, skipping"):(this.unhighlight(10,0,this.codeID),this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.visited[t]=!0,this.visitedID.push(this.nextIndex),this.cmd(Ka.setText,this.infoLabelID,this.toStr(t)+" has not yet been visited, enqueueing and adding to visited set"),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.visitedID.length-1),115),this.cmd(Ka.setBackgroundColor,this.circleID[t],Er),this.queue.push(t),this.queueID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.queue.length-1),Or)),this.unhighlight(10,0,this.codeID),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID),this.highlightEdge(e,t,0)),this.unhighlight(9,0,this.codeID);this.unhighlight(8,0,this.codeID),this.cmd(Ka.delete,this.queueID.shift()),this.leaveVertex()}return this.unhighlight(6,0,this.codeID),this.queue.length>0?this.cmd(Ka.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(Ka.setText,this.infoLabelID,"Queue is empty, done"),this.commands}clear(){for(let t=0;t<this.size;t++)this.cmd(Ka.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(let t=0;t<this.listID.length;t++)this.cmd(Ka.delete,this.listID[t]);for(let t=0;t<this.visitedID.length;t++)this.cmd(Ka.delete,this.visitedID[t]);if(null!=this.messageID)for(let t=0;t<this.messageID.length;t++)this.cmd(Ka.delete,this.messageID[t]);this.messageID=[]}},!0],DFS:["Depth-First Search",class extends Pr{constructor(t,e,i){super(t,e,i,Tr),this.addControls(),this.physicalStack=!1}addControls(){Ga("Start vertex: "),this.startField=Ja("Text",""),this.startField.style.textAlign="center",this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.controls.push(this.startField),this.startButton=Ja("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),tr();const t=Za(["Recursion","Stack"],"StackType");this.recursiveStackButton=t[0],this.recursiveStackButton.onclick=this.stackCallback.bind(this,!1),this.recursiveStackButton.checked=!0,this.controls.push(this.recursiveStackButton),this.physicalStackButton=t[1],this.physicalStackButton.onclick=this.stackCallback.bind(this,!0),this.controls.push(this.physicalStackButton),tr(),super.addControls()}setup(t){super.setup(t),this.commands=[],this.messageID=[],this.visited=[],this.stackID=[],this.listID=[],this.visitedID=[],this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.cmd(Ka.createLabel,this.nextIndex++,"Visited Set:",25,95,0),this.cmd(Ka.createLabel,this.nextIndex++,"List:",25,45,0),this.cmd(Ka.createLabel,this.nextIndex++,"Current vertex:",25,145,0),this.stackLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.stackLabelID,this.physicalStack?"Stack:":"Recursive stack:   Recursive calls:",25,170,0),this.pseudocode=or.M5,this.physicalStack?this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"iterative",1e3,50):this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"recursive",1e3,50),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.listID=[],this.visitedID=[],this.messageID=[]}stackCallback(t){this.physicalStack!==t&&(this.physicalStack=t,this.animationManager.resetAll(),this.setup(this.adj_matrix))}startCallback(){if(""!==this.startField.value){let t=this.startField.value;this.startField.value="",t=t.toUpperCase(),this.physicalStack?this.implementAction(this.doDFSStack.bind(this),t):this.implementAction(this.doDFSRecursive.bind(this),t)}else this.shake(this.startButton)}doDFSStack(t){this.commands=[];let e=t.charCodeAt(0)-65;if(e<0||e>=this.size)return this.shake(this.startButton),this.cmd(Ka.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands;this.clear(),this.visited=new Array(this.size),this.stack=[],this.stackID=[],this.listID=[],this.visitedID=[],this.stackStartY=this.isLarge?465:335,this.stackSpacing=this.isLarge?16:20,this.rebuildEdges(),this.cmd(Ka.setText,this.infoLabelID,"Pushing "+this.toStr(e)+" and adding to visited set"),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID);let i=this.nextIndex++;for(this.visited[e]=!0,this.visitedID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(e),30,Ao),this.cmd(Ka.setBackgroundColor,this.circleID[e],Fo),this.stack.push(e),this.stackID.push(i),this.cmd(Ka.createLabel,i,this.toStr(e),40,this.stackStartY),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID);this.stack.length>0&&this.listID.length<this.size;){e=this.stack.pop(),i=this.stackID.pop(),this.highlight(4,0,this.codeID),this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,"Popping "+this.toStr(e)+" and adding to list"),this.cmd(Ka.setTextColor,i,So),this.cmd(Ka.move,i,115,151),this.listID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(e),30+20*(this.listID.length-1),70),this.visitVertex(e),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.highlight(6,0,this.codeID);for(let t=0;t<this.size;t++)this.adj_matrix[e][t]>0&&(this.highlightEdge(e,t,1),this.highlight(7,0,this.codeID),this.cmd(Ka.step),this.visited[t]?(this.unhighlight(7,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,this.toStr(t)+" has already been visited, skipping")):(this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.visited[t]=!0,this.visitedID.push(this.nextIndex),this.cmd(Ka.setText,this.infoLabelID,this.toStr(t)+" has not yet been visited, pushing and adding to visited set"),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.visitedID.length-1),Ao),this.cmd(Ka.setBackgroundColor,this.circleID[t],Fo),this.stack.push(t),this.stackID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(t),40,this.stackStartY-(this.stack.length-1)*this.stackSpacing)),this.cmd(Ka.step),this.unhighlight(8,0,this.codeID));this.unhighlight(6,0,this.codeID),this.cmd(Ka.delete,i),this.leaveVertex()}return this.unhighlight(3,0,this.codeID),this.stack.length>0?this.cmd(Ka.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(Ka.setText,this.infoLabelID,"Stack is empty, done"),this.commands}doDFSRecursive(t){this.commands=[];const e=t.charCodeAt(0)-65;return e<0||e>=this.size?(this.shake(this.startButton),this.cmd(Ka.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands):(this.clear(),this.visited=new Array(this.size),this.listID=[],this.visitedID=[],this.stackStartY=this.isLarge?465:335,this.stackSpacing=this.isLarge?16:20,this.recursionSpacingX=this.isLarge?10:20,this.recursionSpacingY=this.isLarge?15:20,this.currentID=this.nextIndex++,this.rebuildEdges(),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.createLabel,this.currentID,"",115,151),this.cmd(Ka.setTextColor,this.currentID,So),this.cmd(Ka.setText,this.infoLabelID,"About to recurse to "+this.toStr(t)),this.cmd(Ka.step),this.visitVertex(e),this.dfsVisit(e,125),this.cmd(Ka.setText,this.infoLabelID,"Returned from "+this.toStr(e)+", done"),this.cmd(Ka.delete,this.currentID),this.leaveVertex(),this.commands)}dfsVisit(t,e){this.cmd(Ka.setText,this.infoLabelID,"Visiting "+this.toStr(t)+" and adding to list"),this.cmd(Ka.setText,this.currentID,this.toStr(t)),this.stackID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(t),40,this.stackStartY-(this.stackID.length-1)*this.stackSpacing);const i=this.nextIndex++;this.messageID.push(i),this.cmd(Ka.createLabel,i,"DFS("+this.toStr(t)+")",e,185+(this.messageID.length-1)*this.recursionSpacingY,0),this.listID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.listID.length-1),70),this.visited[t]=!0,this.visitedID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.visitedID.length-1),Ao),this.cmd(Ka.setBackgroundColor,this.circleID[t],Fo),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID);for(let s=0;s<this.size;s++)this.adj_matrix[t][s]>0&&(this.highlight(4,0,this.codeID),this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),this.visited[s]?(this.unhighlight(4,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,"Vertex "+this.toStr(s)+" already visited, skipping"),this.cmd(Ka.step)):(this.highlight(5,0,this.codeID),this.highlightEdge(t,s,1,"red"),this.cmd(Ka.setText,this.infoLabelID,"About to recurse to "+this.toStr(s)),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.unhighlight(3,0,this.codeID),this.leaveVertex(),this.visitVertex(s),this.dfsVisit(s,e+this.recursionSpacingX),this.highlight(3,0,this.codeID),this.leaveVertex(),this.visitVertex(t),this.cmd(Ka.setText,this.infoLabelID,"Returned from "+this.toStr(s)+" to "+this.toStr(t)),this.cmd(Ka.step)));this.unhighlight(3,0,this.codeID),this.cmd(Ka.delete,this.stackID.pop())}clear(){for(let t=0;t<this.size;t++)this.cmd(Ka.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(let t=0;t<this.listID.length;t++)this.cmd(Ka.delete,this.listID[t]);this.listID=[];for(let t=0;t<this.visitedID.length;t++)this.cmd(Ka.delete,this.visitedID[t]);if(this.visitedID=[],null!=this.messageID)for(let t=0;t<this.messageID.length;t++)this.cmd(Ka.delete,this.messageID[t]);this.messageID=[],this.cmd(Ka.setText,this.infoLabelID,"")}},!0],Dijkstra:["Dijkstra's",class extends Pr{constructor(t,e,i){super(t,e,i,Lr,!1,!1,!0),this.addControls()}addControls(){Ga("Start vertex: "),this.startField=Ja("Text",""),this.startField.style.textAlign="center",this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=Ja("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),tr(),super.addControls()}setup(t){super.setup(t),this.commands=[],this.vertexID=new Array(this.size),this.distance=new Array(this.size),this.distanceID=new Array(this.size),this.visited=[],this.visitedID=[],this.pq=new sl,this.pseudocode=or.iu,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"run",1015,70),this.tableEntryHeight=this.isLarge?17:20;for(let e=0;e<this.size;e++)this.vertexID[e]=this.nextIndex++,this.distanceID[e]=this.nextIndex++,this.cmd(Ka.createRectangle,this.vertexID[e],this.toStr(e),al,this.tableEntryHeight,50,rl+e*this.tableEntryHeight),this.cmd(Ka.createRectangle,this.distanceID[e],"",al,this.tableEntryHeight,100,rl+e*this.tableEntryHeight),this.cmd(Ka.setTextColor,this.vertexID[e],_r);this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.cmd(Ka.createLabel,this.nextIndex++,"Visited Set:",25,40,0),this.cmd(Ka.createLabel,this.nextIndex++,"Current vertex:",25,85,0),this.cmd(Ka.createLabel,this.nextIndex++,"Priority Queue:",25,110,0),this.cmd(Ka.createLabel,this.nextIndex++,"Distance Map:",75,160),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.comparisonMessageID=this.nextIndex++,this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.messageID=[],this.visitedID=[],this.pq=new sl}startCallback(){if(""!==this.startField.value){let t=this.startField.value;this.startField.value="",t=t.toUpperCase(),this.implementAction(this.doDijkstra.bind(this),t)}else this.shake(this.startButton)}doDijkstra(t){this.commands=[];let e=t.charCodeAt(0)-65;if(e<0||e>=this.size)return this.shake(this.startButton),this.cmd(Ka.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands;let i=this.nextIndex++;for(this.clear(),this.visitedID=[],this.distance[e]=0,this.cmd(Ka.setText,this.distanceID[e],0),this.pq=new sl,this.pq.enqueue(e,i,0),this.cmd(Ka.createLabel,i,"("+this.toStr(e)+", 0)",hl,nl,0),this.cmd(Ka.setText,this.infoLabelID,"Enqueueing "+this.toStr(e)+" with distance 0 and updating distance map"),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.cmd(Ka.step),this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID);this.visited.includes(!1)&&0!==this.pq.size();){this.unhighlight(15,0,this.codeID),[e,i]=this.pq.dequeue(),this.cmd(Ka.setText,this.infoLabelID,"Dequeueing "+this.toStr(e)),this.cmd(Ka.move,i,110,85),this.cmd(Ka.setText,i,this.toStr(e)),this.cmd(Ka.setTextColor,i,"#0000FF");let t=this.pq.getIDs();for(let e=0;e<this.pq.size();e++)this.cmd(Ka.move,t[e],hl+e%9*42,nl+25*Math.floor(e/9));if(this.visitVertex(e),this.highlight(9,0,this.codeID),this.cmd(Ka.step),this.highlight(10,0,this.codeID),this.cmd(Ka.step),this.unhighlight(10,0,this.codeID),this.highlight(11,0,this.codeID),this.cmd(Ka.step),this.visited[e])this.cmd(Ka.setText,this.infoLabelID,this.toStr(e)+" has already been visited, skipping"),this.cmd(Ka.step);else{this.unhighlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.highlight(13,0,this.codeID),this.visited[e]=!0,this.cmd(Ka.setText,this.infoLabelID,"Adding "+this.toStr(e)+" to visited set"),this.visitedID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(e),30+20*(this.visitedID.length-1),65),this.cmd(Ka.setBackgroundColor,this.circleID[e],"#99CCFF"),this.cmd(Ka.step),this.cmd(Ka.setText,this.infoLabelID,"Updating neighbors of vertex "+this.toStr(e)),this.unhighlight(12,0,this.codeID),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID);for(let i=0;i<this.size;i++)if(this.unhighlight(16,0,this.codeID),this.highlight(15,0,this.codeID),this.adj_matrix[e][i]>=0){if(this.highlightEdge(e,i,1),this.visited[i])this.cmd(Ka.setText,this.infoLabelID,this.toStr(i)+" has already been visited, skipping"),this.cmd(Ka.step);else{this.cmd(Ka.setText,this.infoLabelID,"Comparing distances"),this.cmd(Ka.setHighlight,this.distanceID[e],1),this.cmd(Ka.setHighlight,this.distanceID[i],1);const s=this.distance[e],h=this.adj_matrix[e][i],n=s+h,a=this.distance[i],r=a>=0?String(this.distance[i]):"INF";if(a<0||n<a){this.distance[i]=n,this.cmd(Ka.createLabel,this.comparisonMessageID,"New distance ("+s+" + "+h+" = "+n+") is less than old distance ("+r+"), updating",135,rl+i*this.tableEntryHeight-5,0),this.highlight(16,0,this.codeID),this.cmd(Ka.step),this.unhighlight(15,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,"Updating distance"),this.cmd(Ka.setText,this.distanceID[i],this.distance[i]),this.cmd(Ka.setHighlight,this.distanceID[e],0),this.cmd(Ka.setHighlight,this.distanceID[i],0),this.cmd(Ka.step),this.cmd(Ka.delete,this.comparisonMessageID),this.pq.enqueue(i,this.nextIndex,n),this.cmd(Ka.setText,this.infoLabelID,"Enqueueing "+this.toStr(i)+" with distance "+n),this.cmd(Ka.createLabel,this.nextIndex++,"("+this.toStr(i)+", "+n+")",hl+(this.pq.size()-1)%9*42,nl+25*Math.floor((this.pq.size()-1)/9),0),this.unhighlight(16,0,this.codeID),this.cmd(Ka.step);const a=this.pq.getIDs();if(String(t)!==String(a.slice(0,-1))){for(let t=0;t<this.pq.size();t++)this.cmd(Ka.move,a[t],hl+t%9*42,nl+25*Math.floor(t/9));this.cmd(Ka.step)}t=a}else this.cmd(Ka.createLabel,this.comparisonMessageID,"New distance ("+s+" + "+h+" = "+n+") is greater than or equal to old distance ("+r+"), skipping",135,rl+i*this.tableEntryHeight-5,0),this.cmd(Ka.delete,this.comparisonMessageID),this.cmd(Ka.setHighlight,this.distanceID[e],0),this.cmd(Ka.setHighlight,this.distanceID[i],0)}this.highlightEdge(e,i,0)}this.unhighlight(14,0,this.codeID)}this.leaveVertex(),this.cmd(Ka.delete,i),this.unhighlight(5,0,this.codeID)}return this.unhighlight(9,0,this.codeID),this.unhighlight(15,0,this.codeID),this.highlight(21,0,this.codeID),this.cmd(Ka.step),this.unhighlight(21,0,this.codeID),this.pq.size()>0?this.cmd(Ka.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(Ka.setText,this.infoLabelID,"Priority queue is empty, done"),this.commands}clear(){for(let e=0;e<this.size;e++)this.cmd(Ka.setBackgroundColor,this.circleID[e],"#FFFFFF"),this.cmd(Ka.setText,this.distanceID[e],"INF"),this.visited[e]=!1,this.distance[e]=-1;for(let e=0;e<this.visitedID.length;e++)this.cmd(Ka.delete,this.visitedID[e]);const t=this.pq.getIDs();for(const e of t)this.cmd(Ka.delete,e);if(null!=this.messageID)for(let e=0;e<this.messageID.length;e++)this.cmd(Ka.delete,this.messageID[e]);this.messageID=[]}},!0],Prim:["Prim's",class extends Pr{constructor(t,e,i){super(t,e,i,Sr,!1,!1,!0),this.addControls()}addControls(){Ga("Start vertex: "),this.startField=Ja("Text",""),this.startField.style.textAlign="center",this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=Ja("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),tr(),super.addControls(!1)}setup(t){super.setup(t),this.commands=[],this.messageID=null,this.visited=[],this.visitedID=[],this.pq=new sl,this.pseudocode=or.OL,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"run",50,200),this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.cmd(Ka.createLabel,this.nextIndex++,"Visited Set:",25,40,0),this.cmd(Ka.createLabel,this.nextIndex++,"Current edge:",25,90,0),this.cmd(Ka.createLabel,this.nextIndex++,"Priority Queue:",25,115,0),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.messageID=[],this.visitedID=[],this.pq=new sl}startCallback(){if(""!==this.startField.value){let t=this.startField.value;this.startField.value="",t=t.toUpperCase(),this.implementAction(this.doPrim.bind(this),t)}else this.shake(this.startButton)}doPrim(t){this.commands=[];const e=t.charCodeAt(0)-65;if(e<0||e>=this.size)return this.shake(this.startButton),this.cmd(Ka.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands;this.clear(),this.visitedID=[],this.visitVertex(e),this.visited[e]=!0,this.visitedID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(e),30,65),this.cmd(Ka.setBackgroundColor,this.circleID[e],Jl),this.cmd(Ka.setText,this.infoLabelID,"Adding "+this.toStr(e)+" to visited set"),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(1,0,this.codeID),this.highlight(4,0,this.codeID),this.pq=new sl;let i=[];this.cmd(Ka.setText,this.infoLabelID,"Enqueuing edges of "+this.toStr(e));for(let s=0;s<this.size;s++){const t=this.adj_matrix[e][s];if(t>=0){this.highlightEdge(e,s,1),this.cmd(Ka.createLabel,this.nextIndex,"("+this.toStr(e)+this.toStr(s)+", "+t+")",45+this.pq.size()%8*50,td+25*Math.floor(this.pq.size()/8)),this.pq.enqueue([e,s],this.nextIndex++,t),this.cmd(Ka.step);const h=this.pq.getIDs();if(String(i)!==String(h.slice(0,-1))){for(let t=0;t<this.pq.size();t++)this.cmd(Ka.move,h[t],45+t%8*50,td+25*Math.floor(t/8));this.cmd(Ka.step)}i=h,this.highlightEdge(e,s,0)}}for(this.unhighlight(4,0,this.codeID),this.leaveVertex(),this.highlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.highlight(8,0,this.codeID);this.visited.includes(!1)&&0!==this.pq.size();){const[t,e]=this.pq.dequeue();let s=this.toStr(t[0])+this.toStr(t[1]);this.cmd(Ka.setText,this.infoLabelID,"Dequeued "+s+", with destination "+this.toStr(t[1])),this.cmd(Ka.move,e,110,96),this.cmd(Ka.setText,e,this.toStr(t[0])+this.toStr(t[1])),this.cmd(Ka.setTextColor,e,"#0000FF"),i=this.pq.getIDs();for(let h=0;h<this.pq.size();h++)this.cmd(Ka.move,i[h],45+h%8*50,td+25*Math.floor(h/8));if(this.highlightEdge(t[0],t[1],1),this.visitVertex(t[1]),this.cmd(Ka.step),this.visited[t[1]])this.highlightEdge(t[0],t[1],0),this.cmd(Ka.setText,this.infoLabelID,this.toStr(t[1])+" has already been visited, skipping"),this.cmd(Ka.step);else{this.cmd(Ka.setText,this.infoLabelID,"Adding "+s+" to MST"),this.highlightEdge(t[0],t[1],0),this.setEdgeColor(t[0],t[1],"#3399FF"),this.setEdgeThickness(t[0],t[1],4),this.highlight(9,0,this.codeID),this.cmd(Ka.step),this.unhighlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Ka.step),this.unhighlight(10,0,this.codeID),this.visited[t[1]]=!0,this.cmd(Ka.setText,this.infoLabelID,"Adding "+this.toStr(t[1])+" to visited set"),this.visitedID.push(this.nextIndex),this.cmd(Ka.createLabel,this.nextIndex++,this.toStr(t[1]),30+20*(this.visitedID.length-1),65),this.cmd(Ka.setBackgroundColor,this.circleID[t[1]],Jl),this.highlight(11,0,this.codeID),this.cmd(Ka.step),this.unhighlight(11,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,"Enqueuing edges of "+this.toStr(t[1])),this.highlight(12,0,this.codeID),this.cmd(Ka.step),this.unhighlight(12,0,this.codeID),this.highlight(13,0,this.codeID);for(let e=0;e<this.size;e++)if(this.adj_matrix[t[1]][e]>=0){if(this.highlightEdge(t[1],e,1),this.cmd(Ka.setHighlight,this.circleID[e],1),this.highlight(14,0,this.codeID),this.cmd(Ka.step),this.visited[e])this.unhighlight(14,0,this.codeID),this.highlight(15,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,"Vertex "+this.toStr(e)+" has already been visited, skipping"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.circleID[e],0),this.unhighlight(15,0,this.codeID);else{this.unhighlight(14,0,this.codeID),this.cmd(Ka.setText,this.infoLabelID,"Vertex "+this.toStr(e)+" has not yet been visited"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.circleID[e],0),s=this.toStr(t[1])+this.toStr(e),this.cmd(Ka.setText,this.infoLabelID,"Enqueueing edge "+s+" with weight "+this.adj_matrix[t[1]][e]),this.cmd(Ka.createLabel,this.nextIndex,"("+s+", "+this.adj_matrix[t[1]][e]+")",45+this.pq.size()%8*50,td+25*Math.floor(this.pq.size()/8)),this.pq.enqueue([t[1],e],this.nextIndex++,this.adj_matrix[t[1]][e]),this.cmd(Ka.step);const h=this.pq.getIDs();if(String(i)!==String(h.slice(0,-1))){for(let t=0;t<this.pq.size();t++)this.cmd(Ka.move,h[t],45+t%8*50,td+25*Math.floor(t/8));this.cmd(Ka.step)}i=h}this.highlightEdge(t[1],e,0)}this.unhighlight(13,0,this.codeID)}this.leaveVertex(),this.cmd(Ka.delete,e)}return this.unhighlight(8,0,this.codeID),this.pq.size()>0?this.cmd(Ka.setText,this.infoLabelID,"MST has correct amount of edges / all vertices have been visited, done"):this.cmd(Ka.setText,this.infoLabelID,"Priority queue is empty, done"),this.highlight(20,0,this.codeID),this.cmd(Ka.step),this.unhighlight(20,0,this.codeID),this.commands}clear(){this.recolorGraph();for(let e=0;e<this.size;e++)this.cmd(Ka.setBackgroundColor,this.circleID[e],"#FFFFFF"),this.visited[e]=!1;for(let e=0;e<this.visitedID.length;e++)this.cmd(Ka.delete,this.visitedID[e]);const t=this.pq.getIDs();for(const e of t)this.cmd(Ka.delete,e);if(null!=this.messageID)for(let e=0;e<this.messageID.length;e++)this.cmd(Ka.delete,this.messageID[e]);this.messageID=[]}},!0],Kruskal:["Kruskal's",class extends Pr{constructor(t,e,i){super(t,e,i,Sr,!1,!1,!0),this.addControls()}addControls(){this.startButton=Ja("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),tr(),super.addControls(!1)}setup(t){let e;for(super.setup(t),this.messageID=[],this.commands=[],this.setID=new Array(this.size),this.setIndexID=new Array(this.size),this.setData=new Array(this.size),this.edgesListLeftID=[],this.edgesListRightID=[],e=0;e<this.size;e++)this.setID[e]=this.nextIndex++,this.setIndexID[e]=this.nextIndex++,this.cmd(Ka.createRectangle,this.setIndexID[e],this.toStr(e),yl,vl,kl,Cl+e*vl),this.cmd(Ka.createRectangle,this.setID[e],"",yl,vl,102,Cl+e*vl),this.cmd(Ka.setTextColor,this.setIndexID[e],_r);this.messageLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.messageLabelID,"",30,15,0),this.cmd(Ka.createLabel,this.nextIndex++,"Disjoint Set:",77,73,1),this.cmd(Ka.createLabel,this.nextIndex++,"Vertex",kl,88,1),this.cmd(Ka.createLabel,this.nextIndex++,"Set ID",102,88,1),this.cmd(Ka.createLabel,this.nextIndex++,"Current edge:",Dl,67,0),this.cmd(Ka.createLabel,this.nextIndex++,"Priority Queue:",145,92,0),this.pseudocode=or.XN,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"run",985,30),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.messageID=[],this.edgesListLeft=[],this.edgesListRight=[],this.edgesListLeftID=[],this.edgesListRightID=[]}startCallback(){this.implementAction(this.doKruskal.bind(this))}doKruskal(){this.commands=[];for(let p=0;p<this.edgesListLeftID.length;p++)this.cmd(Ka.delete,this.edgesListLeftID[p]),this.cmd(Ka.delete,this.edgesListRightID[p]);let t,e,i;for(this.edgesListLeftID=[],this.edgesListRightID=[],this.edgesListLeft=[],this.edgesListRight=[],t=0;t<this.size;t++)this.setData[t]=t+1,this.cmd(Ka.setText,this.setID[t],t+1),!this.isLarge&&this.cmd(Ka.setBackgroundColor,this.setID[t],Ar[t]);for(this.recolorGraph(),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Ka.setText,this.messageLabelID,"Enqueueing all edges into Priority Queue"),t=0;t<this.size;t++)for(e=t+1;e<this.size;e++)this.adj_matrix[t][e]>=0&&(this.edgesListLeftID.push(this.nextIndex++),this.edgesListRightID.push(this.nextIndex++),i=this.edgesListLeftID.length-1,this.edgesListLeft.push(t),this.edgesListRight.push(e),this.cmd(Ka.createLabel,this.edgesListLeftID[i],this.toStr(t)+" ",Ll+Math.floor(i/9)*Tl,Sl+i%9*wl),this.cmd(Ka.createLabel,this.edgesListRightID[i]," "+this.toStr(e),190+Math.floor(i/9)*Tl,Sl+i%9*wl),this.cmd(Ka.connect,this.edgesListLeftID[i],this.edgesListRightID[i],Br,0,0,this.adj_matrix[t][e]));this.cmd(Ka.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID);const s=this.edgesListLeftID.length;let h,n,a,r;for(t=1;t<s;t++){for(h=this.edgesListLeftID[t],n=this.edgesListRightID[t],a=this.edgesListLeft[t],r=this.edgesListRight[t],e=t;e>0&&this.adj_matrix[this.edgesListLeft[e-1]][this.edgesListRight[e-1]]>this.adj_matrix[a][r];)this.edgesListLeft[e]=this.edgesListLeft[e-1],this.edgesListRight[e]=this.edgesListRight[e-1],this.edgesListLeftID[e]=this.edgesListLeftID[e-1],this.edgesListRightID[e]=this.edgesListRightID[e-1],e-=1;this.edgesListLeft[e]=a,this.edgesListRight[e]=r,this.edgesListLeftID[e]=h,this.edgesListRightID[e]=n}for(t=0;t<s;t++)this.cmd(Ka.move,this.edgesListLeftID[t],Ll+Math.floor(t/9)*Tl,Sl+t%9*wl),this.cmd(Ka.move,this.edgesListRightID[t],190+Math.floor(t/9)*Tl,Sl+t%9*wl);this.highlight(3,0,this.codeID),this.cmd(Ka.step),this.unhighlight(3,0,this.codeID);const o=this.nextIndex++,l=this.nextIndex++,d=this.nextIndex++,c=this.nextIndex++,u=this.nextIndex++;let m=0,g=0;for(this.cmd(Ka.createLabel,o,"",30,40,0),this.cmd(Ka.createLabel,l,"",100,40,0),this.highlight(4,0,this.codeID);m<this.size-1&&g<s;){for(this.cmd(Ka.setText,this.messageLabelID,"Dequeueing "+this.toStr(this.edgesListLeft[g])+this.toStr(this.edgesListRight[g])),this.cmd(Ka.move,this.edgesListLeftID[g],235,73),this.cmd(Ka.move,this.edgesListRightID[g],275,73),t=g+1;t<s;t++){const e=t-g-1;this.cmd(Ka.move,this.edgesListLeftID[t],Ll+Math.floor(e/9)*Tl,Sl+e%9*wl),this.cmd(Ka.move,this.edgesListRightID[t],190+Math.floor(e/9)*Tl,Sl+e%9*wl)}this.highlightEdge(this.edgesListLeft[g],this.edgesListRight[g],1),this.highlight(5,0,this.codeID),this.cmd(Ka.step),this.unhighlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Ka.setText,this.messageLabelID,"Looking at disjoint set"),this.cmd(Ka.setText,o,"find("+this.toStr(this.edgesListLeft[g])+") = "),this.cmd(Ka.createHighlightCircle,d,"#FF9999",233,73,12),this.cmd(Ka.step);const e=this.edgesListLeft[g],i=this.setData[e];this.cmd(Ka.move,d,kl,Cl+this.edgesListLeft[g]*vl),this.cmd(Ka.setText,o,"find("+this.toStr(this.edgesListLeft[g])+") = "+i),this.cmd(Ka.step),this.cmd(Ka.setText,l,"find("+this.toStr(this.edgesListRight[g])+") = "),this.cmd(Ka.createHighlightCircle,c,"#FF0000",276,73,12),this.cmd(Ka.step);const h=this.edgesListRight[g],n=this.setData[h];if(this.cmd(Ka.move,c,kl,Cl+this.edgesListRight[g]*vl),this.cmd(Ka.setText,l,"find("+this.toStr(this.edgesListRight[g])+") = "+n),this.cmd(Ka.step),this.unhighlight(6,0,this.codeID),i!==n){this.highlight(6,0,this.codeID),this.cmd(Ka.setText,this.messageLabelID,"Vertices in different sets.  Add edge to MST."),this.highlightEdge(this.edgesListLeft[g],this.edgesListRight[g],0),m++,this.setEdgeColor(this.edgesListLeft[g],this.edgesListRight[g],"#3399FF"),this.setEdgeThickness(this.edgesListLeft[g],this.edgesListRight[g],4),this.highlight(7,0,this.codeID),this.cmd(Ka.step),this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Ka.setText,this.messageLabelID,"Union sets "+i+" and "+n),this.cmd(Ka.setText,o,"union("+this.toStr(e)+", "+this.toStr(h)+")"),this.cmd(Ka.setText,l,""),this.cmd(Ka.step);const t=Math.min(i,n),s=Math.max(i,n);let a=!0;for(let e=0;e<this.size;e++)this.setData[e]===s&&(a?(a=!1,this.cmd(Ka.createHighlightCircle,u,"#0000FF",102,Cl+e*vl,12),this.cmd(Ka.setHighlight,u,1)):this.cmd(Ka.move,u,102,Cl+e*vl),this.cmd(Ka.step),this.setData[e]=t,this.cmd(Ka.setText,this.setID[e],t),!this.isLarge&&this.cmd(Ka.setBackgroundColor,this.setID[e],Ar[t-1]),this.cmd(Ka.step));this.unhighlight(8,0,this.codeID),this.cmd(Ka.delete,u),this.unhighlight(6,0,this.codeID)}else this.cmd(Ka.setText,this.messageLabelID,"Vertices in the same set, skip edge"),this.cmd(Ka.step);this.highlightEdge(this.edgesListLeft[g],this.edgesListRight[g],0),this.cmd(Ka.delete,d),this.cmd(Ka.delete,c),this.cmd(Ka.delete,this.edgesListLeftID[g]),this.cmd(Ka.delete,this.edgesListRightID[g]),this.cmd(Ka.setText,o,""),this.cmd(Ka.setText,l,""),g++}return this.unhighlight(4,0,this.codeID),this.cmd(Ka.delete,o),this.cmd(Ka.delete,l),this.edgesListLeftID=this.edgesListLeftID.slice(g),this.edgesListRightID=this.edgesListRightID.slice(g),m===this.size-1?this.cmd(Ka.setText,this.messageLabelID,"MST has correct amount of edges, done"):this.cmd(Ka.setText,this.messageLabelID,"Priority queue is empty, done"),this.commands}},!0],LCS:["LCS",class extends hr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Ga("S1:"),this.S1Field=Ja("Text",""),this.S1Field.onkeydown=this.returnSubmit(this.S1Field,this.runCallback.bind(this),13,!1),this.controls.push(this.S1Field),Ga("S2:"),this.S2Field=Ja("Text",""),this.S2Field.onkeydown=this.returnSubmit(this.S2Field,this.runCallback.bind(this),13,!1),this.controls.push(this.S2Field),this.tableButton=Ja("Button","Run"),this.tableButton.onclick=this.runCallback.bind(this),this.controls.push(this.tableButton),tr(),this.randomButton=Ja("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),tr(),this.clearButton=Ja("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){this.S1Field.value=t.get("s1"),this.S2Field.value=t.get("s2"),this.runCallback()}setup(){this.infoLabelID=this.nextIndex++,this.cmd(Ka.createLabel,this.infoLabelID,"",25,15,0),this.code=[["procedure ","LCS(S1, S2, matrix)"],["  matrix \u2190 create new 2D array of length S1.length by S2.length"],["  for y \u2190 1, to S1.length, loop"],["    for x \u2190 1 to S2.length, loop"],["      if ","(S1[y] == S2[x])"],["        matrix[y][x] = 1 + ","matrix[y - 1][x - 1]"],["      else"],["        matrix[y][x] = max(","matrix[y - 1][x]",","," matrix[y][x - 1]",")"],["    end for"],["  end for"],["  currY \u2190 S1.length"],["  currX \u2190 S2.length"],["  list \u2190 create new List()"],["  while currY > 0 and currX > 0, loop:"],[["   if "],["matrix[currY - 1][currX] == matrix[currY][currX - 1] "]],[["      and "],["matrix[currY][currX] != matrix [currY - 1][currX - 1]"]],["        list.addFront(S1[currY])"],["        currX--"],["        currY--"],["   else"],[["     if "],["matrix[currY - 1][currX] > matrix[currY][currX - 1]"]],["       currX--"],["      else"],["        currY--"],["  end while"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,25,50),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.initialIndex=this.nextIndex,this.oldIDs=[],this.commands=[]}reset(){this.oldIDs=[],this.nextIndex=this.initialIndex}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){return this.commands=[],t||(this.S1Field.value="",this.S2Field.value=""),this.clearOldIDs(),this.commands}runCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.S1Field.value,e=this.S2Field.value;this.implementAction(this.run.bind(this),e,t)}randomCallback(){const t=["ABCBDAB","XMJYAUZ","AGGTAB","ABCDEFG","1234567890","HUMAN","KITTEN","SOFTWARE","COMPUTER","SUPERMAN"],e=Math.floor(Math.random()*t.length);this.S1Field.value=t[e],this.S2Field.value=["BDCAB","MZJAWXU","GXTXAYB","ACDFG","102030405060708090","CHIMPANZEE","SITTING","HARDWARE","COMMUTER","SPIDERMAN"][e]}run(t,e){if(this.commands=[],!t||!e)return this.shake(this.tableButton),this.cmd(Ka.setText,this.infoLabelID,"S1 and S2 must be non-empty strings"),this.commands;this.buildTable(t,e);const i=this.nextIndex++,s=t.length,h=e.length;let n,a;for(n=0;n<=s;n++)this.cmd(Ka.setText,this.tableID[n][0],"0"),this.tableVals[n][0]=0;for(n=0;n<=h;n++)this.cmd(Ka.setText,this.tableID[0][n],"0"),this.tableVals[0][n]=0;for(this.cmd(Ka.step),a=0;a<h;a++)for(n=0;n<s;n++)this.cmd(Ka.setHighlight,this.tableID[n+1][a+1],1),this.cmd(Ka.setHighlight,this.S1TableID[n],1),this.cmd(Ka.setHighlight,this.S2TableID[a],1),this.highlight(4,1),this.cmd(Ka.setText,this.infoLabelID,"Comparing "+t.charAt(n)+" and "+e.charAt(a)),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.S1TableID[n],0),this.cmd(Ka.setHighlight,this.S2TableID[a],0),this.unhighlight(4,1),t.charAt(n)===e.charAt(a)?(this.highlight(5,0),this.highlight(5,1),this.cmd(Ka.setHighlight,this.tableID[n+1-1][a+1-1],1),this.cmd(Ka.setText,this.infoLabelID,"Match, increment from the diagonal"),this.cmd(Ka.step),this.cmd(Ka.createLabel,i,this.tableVals[n][a]+1,this.tableXPos[n][a],this.tableYPos[n][a]),this.cmd(Ka.bringToTop,i,1),this.cmd(Ka.move,i,this.tableXPos[n+1][a+1],this.tableYPos[n+1][a+1]),this.cmd(Ka.step),this.cmd(Ka.delete,i),this.unhighlight(5,0),this.unhighlight(5,1),this.cmd(Ka.setHighlight,this.tableID[n+1-1][a+1-1],0),this.tableVals[n+1][a+1]=this.tableVals[n][a]+1,this.cmd(Ka.setText,this.tableID[n+1][a+1],this.tableVals[n+1][a+1])):(this.highlight(7,0),this.highlight(7,1),this.highlight(7,2),this.highlight(7,3),this.highlight(7,4),this.cmd(Ka.setHighlight,this.tableID[n][a+1],1),this.cmd(Ka.setHighlight,this.tableID[n+1][a],1),this.cmd(Ka.setText,this.infoLabelID,"Mismatch, copy greatest value from left or above"),this.cmd(Ka.step),this.unhighlight(7,0),this.unhighlight(7,2),this.unhighlight(7,4),this.tableVals[n][a+1]>this.tableVals[n+1][a]?(this.cmd(Ka.setHighlight,this.tableID[n+1][a],0),this.unhighlight(7,1),this.tableVals[n+1][a+1]=this.tableVals[n][a+1],this.cmd(Ka.createLabel,i,this.tableVals[n][a+1],this.tableXPos[n][a+1],this.tableYPos[n][a+1])):(this.unhighlight(7,3),this.cmd(Ka.setHighlight,this.tableID[n][a+1],0),this.tableVals[n+1][a+1]=this.tableVals[n+1][a],this.cmd(Ka.createLabel,i,this.tableVals[n+1][a],this.tableXPos[n+1][a],this.tableYPos[n+1][a])),this.cmd(Ka.bringToTop,i,1),this.cmd(Ka.move,i,this.tableXPos[n+1][a+1],this.tableYPos[n+1][a+1]),this.cmd(Ka.step),this.cmd(Ka.setText,this.tableID[n+1][a+1],this.tableVals[n+1][a+1]),this.cmd(Ka.delete,i),this.tableVals[n][a+1]>this.tableVals[n+1][a]?(this.unhighlight(7,3),this.cmd(Ka.setHighlight,this.tableID[n][a+1],0)):(this.unhighlight(7,1),this.cmd(Ka.setHighlight,this.tableID[n+1][a],0))),this.cmd(Ka.setHighlight,this.tableID[n+1][a+1],0);return this.highlight(9,0),this.highlight(10,0),this.highlight(11,0),this.highlight(12,0),this.cmd(Ka.setText,this.infoLabelID,"Finished building table, can now find LCS"),this.cmd(Ka.step),this.buildLCSFromTable(t,e),this.unhighlight(24,0),this.highlight(25,0),this.cmd(Ka.setText,this.infoLabelID,""),this.cmd(Ka.step),this.unhighlight(25,0),this.commands}buildTable(t,e){const i=t.length,s=e.length;let h,n;for(this.tableID=new Array(i+1),this.tableVals=new Array(i+1),this.tableXPos=new Array(i+1),this.tableYPos=new Array(i+1),this.S1TableID=new Array(i),h=0;h<=i;h++){h>0&&(this.S1TableID[h-1]=this.nextIndex++,this.cmd(Ka.createLabel,this.S1TableID[h-1],t.charAt(h-1),Ro+h*Eo,20),this.oldIDs.push(this.S1TableID[h-1]));const e=this.nextIndex++;this.oldIDs.push(e),this.cmd(Ka.createLabel,e,h-1===-1?"\u2205":h-1,Ro+h*Eo,50),this.cmd(Ka.setForegroundColor,e,"#0000FF")}for(this.S2TableID=new Array(s),h=0;h<=s;h++){h>0&&(this.S2TableID[h-1]=this.nextIndex++,this.cmd(Ka.createLabel,this.S2TableID[h-1],e.charAt(h-1),565,80+h*Oo),this.oldIDs.push(this.S2TableID[h-1]));const t=this.nextIndex++;this.oldIDs.push(t),this.cmd(Ka.createLabel,t,h-1===-1?"\u2205":h-1,605,80+h*Oo),this.cmd(Ka.setForegroundColor,t,"#0000FF")}for(h=0;h<=i;h++)for(this.tableID[h]=new Array(s+1),this.tableVals[h]=new Array(s+1),this.tableXPos[h]=new Array(s+1),this.tableYPos[h]=new Array(s+1),n=0;n<=s;n++)this.tableID[h][n]=this.nextIndex++,this.tableVals[h][n]=-1,this.oldIDs.push(this.tableID[h][n]),this.tableXPos[h][n]=Ro+h*Eo,this.tableYPos[h][n]=80+n*Oo,this.cmd(Ka.createRectangle,this.tableID[h][n],"",Eo,Oo,this.tableXPos[h][n],this.tableYPos[h][n])}clearOldIDs(){for(let t=0;t<this.oldIDs.length;t++)this.cmd(Ka.delete,this.oldIDs[t]);this.oldIDs=[],this.nextIndex=this.initialIndex,this.cmd(Ka.setText,this.infoLabelID,"")}buildLCSFromTable(t,e){let i=this.tableVals.length-1,s=this.tableVals[0].length-1;const h=[],n=this.nextIndex++;this.oldIDs.push(n),this.cmd(Ka.createLabel,n,"Longest Common Subsequence:",20,jo,0),this.cmd(Ka.setForegroundColor,n,"#49AB40");const a=this.nextIndex++;this.oldIDs.push(a),this.cmd(Ka.createLabel,a,"Length of LCS:",20,500,0),this.cmd(Ka.setForegroundColor,a,"#49AB40");const r=this.nextIndex++;this.oldIDs.push(r),this.cmd(Ka.createLabel,r,"0",105,500,0),this.cmd(Ka.setForegroundColor,r,"#FF0000");for(let o=1;o<=t.length;o++)for(let t=1;t<=e.length;t++){const e=this.tableVals[o][t]!==this.tableVals[o][t-1],i=this.tableVals[o][t]!==this.tableVals[o-1][t];(e||i)&&this.cmd(Ka.setRectangleEdgeThickness,this.tableID[o][t],[e,!1,!1,i])}for(this.cmd(Ka.step),this.unhighlight(9,0),this.unhighlight(10,0),this.unhighlight(11,0),this.unhighlight(12,0);i>0&&s>0;){this.cmd(Ka.setBackgroundColor,this.tableID[i][s],"#99CCFF"),this.cmd(Ka.step),this.unhighlight(14,1),this.unhighlight(15,1);for(let t=16;t<24;t++)this.unhighlight(t,0);if(this.highlight(14,1),this.cmd(Ka.setHighlight,this.tableID[i-1][s],1),this.cmd(Ka.setHighlight,this.tableID[i][s-1],1),this.cmd(Ka.step),this.unhighlight(14,1),this.cmd(Ka.setHighlight,this.tableID[i-1][s],0),this.cmd(Ka.setHighlight,this.tableID[i][s-1],0),this.tableVals[i-1][s]===this.tableVals[i][s-1]&&(this.highlight(15,1),this.cmd(Ka.setHighlight,this.tableID[i][s],1),this.cmd(Ka.setHighlight,this.tableID[i-1][s-1],1),this.cmd(Ka.step),this.unhighlight(15,1),this.cmd(Ka.setHighlight,this.tableID[i][s],0),this.cmd(Ka.setHighlight,this.tableID[i-1][s-1],0)),this.tableVals[i-1][s]===this.tableVals[i][s-1]&&this.tableVals[i-1][s]!==this.tableVals[i][s]?(this.cmd(Ka.setHighlight,this.S1TableID[i-1],1),this.cmd(Ka.setHighlight,this.S2TableID[s-1],1),this.cmd(Ka.setText,this.infoLabelID,"Hit a corner, move diagonally and add current character to LCS"),this.cmd(Ka.step),this.cmd(Ka.setHighlight,this.S1TableID[i-1],0),this.cmd(Ka.setHighlight,this.S2TableID[s-1],0)):this.tableVals[i-1][s]>this.tableVals[i][s-1]?(this.highlight(20,1),this.cmd(Ka.setHighlight,this.tableID[i-1][s],1),this.cmd(Ka.setHighlight,this.tableID[i][s-1],1),this.cmd(Ka.step),this.unhighlight(20,1),this.cmd(Ka.setHighlight,this.tableID[i-1][s],0),this.cmd(Ka.setHighlight,this.tableID[i][s-1],0),this.highlight(21,0),this.cmd(Ka.setText,this.infoLabelID,"Move left")):(this.highlight(23,0),this.cmd(Ka.setText,this.infoLabelID,"Move up")),this.tableVals[i-1][s]===this.tableVals[i][s-1]&&this.tableVals[i-1][s]!==this.tableVals[i][s]){const e=this.nextIndex++;this.oldIDs.push(e),h.push(e),this.cmd(Ka.createLabel,e,t.charAt(i-1),20+10*(h.length-1)+184,481),this.cmd(Ka.setForegroundColor,e,"#0000FF"),this.cmd(Ka.setText,r,h.length);for(let t=h.length-1;t>=0;t--)this.cmd(Ka.move,h[t],20+10*(h.length-1-t)+184,481);this.highlight(16,0),this.highlight(17,0),this.highlight(18,0),i-=1,s-=1}else this.tableVals[i-1][s]>this.tableVals[i][s-1]?(i-=1,this.highlight(21,0)):(s-=1,this.highlight(23,0))}for(let o=16;o<24;o++)this.unhighlight(o,0);this.highlight(24,0),this.cmd(Ka.step)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},!0,"Longest Common Subsequence"],Floyd:["Floyd-Warshall",class extends Pr{constructor(t,e,i){super(t,e,i,[],!1,!1,!0),this.addControls()}addControls(){this.startButton=Ja("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),tr(),super.addControls(),this.smallGraphButton.onclick=this.smallGraphCallback.bind(this),this.largeGraphButton.onclick=this.largeGraphCallback.bind(this)}reset(){for(let t=0;t<this.size;t++)for(let e=0;e<this.size;e++)this.costTable[t][e]=this.adj_matrix[t][e],this.costTable[t][e]>=0?this.pathTable[t][e]=t:this.pathTable[t][e]=-1}smallGraphCallback(){8!==this.size&&(this.animationManager.resetAll(),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.logicalButton.disabled=!1,this.adjacencyListButton.disabled=!1,this.adjacencyMatrixButton.disabled=!1,this.setup_small())}largeGraphCallback(){18!==this.size&&(this.animationManager.resetAll(),this.logicalButton.disabled=!0,this.adjacencyListButton.disabled=!0,this.adjacencyMatrixButton.disabled=!0,this.setup_large())}getCostLabel(t,e){return e=void 0!==e&&e,t>=0?String(t):8===this.size||e?"INF":""}setup_small(){this.cost_table_width=30,this.cost_table_height=30,this.cost_table_start_x=40,this.cost_table_start_y=70,this.path_table_width=30,this.path_table_height=30,this.path_table_start_x=330,this.path_table_start_y=70,this.node_1_x_pos=50,this.node_1_y_pos=400,this.node_2_x_pos=150,this.node_2_y_pos=350,this.node_3_x_pos=250,this.node_3_y_pos=400,this.message_x=400,this.message_y=350,super.setup_small()}setup_large(){this.cost_table_width=20,this.cost_table_height=20,this.cost_table_start_x=40,this.cost_table_start_y=50,this.path_table_width=20,this.path_table_height=20,this.path_table_start_x=500,this.path_table_start_y=50,this.node_1_x_pos=50,this.node_1_y_pos=500,this.node_2_x_pos=150,this.node_2_y_pos=450,this.node_3_x_pos=250,this.node_3_y_pos=500,this.message_x=300,this.message_y=450,super.setup_large()}setup(){let t;for(super.setup(),this.commands=[],this.costTable=new Array(this.size),this.pathTable=new Array(this.size),this.costTableID=new Array(this.size),this.pathTableID=new Array(this.size),this.pathIndexXID=new Array(this.size),this.pathIndexYID=new Array(this.size),this.costIndexXID=new Array(this.size),this.costIndexYID=new Array(this.size),this.node1ID=this.nextIndex++,this.node2ID=this.nextIndex++,this.node3ID=this.nextIndex++,t=0;t<this.size;t++)this.costTable[t]=new Array(this.size),this.pathTable[t]=new Array(this.size),this.costTableID[t]=new Array(this.size),this.pathTableID[t]=new Array(this.size);const e=this.nextIndex++,i=this.nextIndex++;for(this.cmd(Ka.createLabel,e,"Cost Table",this.cost_table_start_x,this.cost_table_start_y-2*this.cost_table_height,0),this.cmd(Ka.createLabel,i,"Path Table",this.path_table_start_x,this.path_table_start_y-2*this.path_table_height,0),t=0;t<this.size;t++){this.pathIndexXID[t]=this.nextIndex++,this.pathIndexYID[t]=this.nextIndex++,this.costIndexXID[t]=this.nextIndex++,this.costIndexYID[t]=this.nextIndex++,this.cmd(Ka.createLabel,this.pathIndexXID[t],t,this.path_table_start_x+t*this.path_table_width,this.path_table_start_y-this.path_table_height),this.cmd(Ka.setTextColor,this.pathIndexXID[t],"#0000FF"),this.cmd(Ka.createLabel,this.pathIndexYID[t],t,this.path_table_start_x-this.path_table_width,this.path_table_start_y+t*this.path_table_height),this.cmd(Ka.setTextColor,this.pathIndexYID[t],"#0000FF"),this.cmd(Ka.createLabel,this.costIndexXID[t],t,this.cost_table_start_x+t*this.cost_table_width,this.cost_table_start_y-this.cost_table_height),this.cmd(Ka.setTextColor,this.costIndexXID[t],"#0000FF"),this.cmd(Ka.createLabel,this.costIndexYID[t],t,this.cost_table_start_x-this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.cmd(Ka.setTextColor,this.costIndexYID[t],"#0000FF");for(let e=0;e<this.size;e++)this.costTable[t][e]=this.adj_matrix[t][e],this.costTable[t][e]>=0?this.pathTable[t][e]=t:this.pathTable[t][e]=-1,this.costTableID[t][e]=this.nextIndex++,this.pathTableID[t][e]=this.nextIndex++,this.cmd(Ka.createRectangle,this.costTableID[t][e],this.getCostLabel(this.costTable[t][e],!0),this.cost_table_width,this.cost_table_height,this.cost_table_start_x+e*this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.cmd(Ka.createRectangle,this.pathTableID[t][e],this.pathTable[t][e],this.path_table_width,this.path_table_height,this.path_table_start_x+e*this.path_table_width,this.path_table_start_y+t*this.path_table_height)}this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),18===this.size&&this.animationManager.setAllLayers([0])}startCallback(){this.implementAction(this.doFloydWarshall.bind(this))}doFloydWarshall(){this.commands=[];const t=this.nextIndex,e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;this.cmd(Ka.createCircle,this.node1ID,"",this.node_1_x_pos,this.node_1_y_pos),this.cmd(Ka.createCircle,this.node2ID,"",this.node_2_x_pos,this.node_2_y_pos),this.cmd(Ka.createCircle,this.node3ID,"",this.node_3_x_pos,this.node_3_y_pos),this.cmd(Ka.createLabel,e,"",this.message_x,this.message_y,0);for(let h=0;h<this.size;h++)for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++)t!==n&&n!==h&&t!==h&&(this.cmd(Ka.setText,this.node1ID,t),this.cmd(Ka.setText,this.node2ID,h),this.cmd(Ka.setText,this.node3ID,n),this.cmd(Ka.connect,this.node1ID,this.node2ID,"#009999",-.1,1,this.getCostLabel(this.costTable[t][h],!0)),this.cmd(Ka.connect,this.node2ID,this.node3ID,"#9900CC",-.1,1,this.getCostLabel(this.costTable[h][n],!0)),this.cmd(Ka.connect,this.node1ID,this.node3ID,"#CC0000",0,1,this.getCostLabel(this.costTable[t][n],!0)),this.cmd(Ka.setHighlight,this.costTableID[t][h],1),this.cmd(Ka.setHighlight,this.costTableID[h][n],1),this.cmd(Ka.setHighlight,this.costTableID[t][n],1),this.cmd(Ka.setTextColor,this.costTableID[t][h],"#009999"),this.cmd(Ka.setTextColor,this.costTableID[h][n],"#9900CC"),this.cmd(Ka.setTextColor,this.costTableID[t][n],"#CC0000"),this.costTable[t][h]>=0&&this.costTable[h][n]>=0&&(this.costTable[t][n]<0||this.costTable[t][h]+this.costTable[h][n]<this.costTable[t][n])?(this.cmd(Ka.setText,e,this.getCostLabel(this.costTable[t][h],!0)+" + "+this.getCostLabel(this.costTable[h][n],!0)+" < "+this.getCostLabel(this.costTable[t][n],!0)),this.cmd(Ka.step),this.costTable[t][n]=this.costTable[t][h]+this.costTable[h][n],this.cmd(Ka.setText,this.pathTableID[t][n],""),this.cmd(Ka.setText,this.costTableID[t][n],""),this.cmd(Ka.createLabel,i,this.pathTable[h][n],this.path_table_start_x+n*this.path_table_width,this.path_table_start_y+h*this.path_table_height),this.cmd(Ka.move,i,this.path_table_start_x+n*this.path_table_width,this.path_table_start_y+t*this.path_table_height),this.cmd(Ka.createLabel,s,this.costTable[t][n],this.message_x,this.message_y),this.cmd(Ka.setHighlight,s,1),this.cmd(Ka.move,s,this.cost_table_start_x+n*this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.pathTable[t][n]=this.pathTable[h][n],this.cmd(Ka.step),this.cmd(Ka.setText,this.costTableID[t][n],this.costTable[t][n]),this.cmd(Ka.setText,this.pathTableID[t][n],this.pathTable[t][n]),this.cmd(Ka.delete,i),this.cmd(Ka.delete,s)):(this.cmd(Ka.setText,e,"!("+this.getCostLabel(this.costTable[t][h],!0)+" + "+this.getCostLabel(this.costTable[h][n],!0)+" < "+this.getCostLabel(this.costTable[t][n],!0)+")"),this.cmd(Ka.step)),this.cmd(Ka.setTextColor,this.costTableID[t][h],"#000000"),this.cmd(Ka.setTextColor,this.costTableID[h][n],"#000000"),this.cmd(Ka.setTextColor,this.costTableID[t][n],"#000000"),this.cmd(Ka.disconnect,this.node1ID,this.node2ID),this.cmd(Ka.disconnect,this.node2ID,this.node3ID),this.cmd(Ka.disconnect,this.node1ID,this.node3ID),this.cmd(Ka.setHighlight,this.costTableID[t][h],0),this.cmd(Ka.setHighlight,this.costTableID[h][n],0),this.cmd(Ka.setHighlight,this.costTableID[t][n],0));return this.cmd(Ka.delete,this.node1ID),this.cmd(Ka.delete,this.node2ID),this.cmd(Ka.delete,this.node3ID),this.cmd(Ka.delete,e),this.nextIndex=t,this.commands}}]},Gd=["Lists","ArrayList","LinkedList","DoublyLinkedList","CircularlyLinkedList","Stacks, Queues and Deques","StackArray","StackLL","QueueArray","QueueLL","DequeArray","DequeLL","Trees and SkipList","BST","Heap","AVL","BTree","SplayTree","SkipList","HashMaps","ClosedHash","OpenHash","Sorting and Quickselect","BubbleSort","CocktailSort","InsertionSort","SelectionSort","Quicksort","Quickselect","MergeSort","LSDRadix","HeapSort","String Searching","BruteForce","BoyerMoore","KMP","RabinKarp","Graph Algorithms","CreateGraph","BFS","DFS","Dijkstra","Prim","Kruskal","Dynamic Programming","LCS","Floyd"],Yd=[{id:"ArrayList",category:"Lists"},{id:"LinkedList",category:"Lists"},{id:"DoublyLinkedList",category:"Lists"},{id:"CircularlyLinkedList",category:"Lists"},{id:"StackArray",category:"Linear Data Structures"},{id:"StackLL",category:"Linear Data Structures"},{id:"QueueArray",category:"Linear Data Structures"},{id:"QueueLL",category:"Linear Data Structures"},{id:"DequeArray",category:"Linear Data Structures"},{id:"DequeLL",category:"Linear Data Structures"},{id:"BST",category:"Trees and SkipList"},{id:"Heap",category:"Trees and SkipList"},{id:"AVL",category:"Trees and SkipList"},{id:"BTree",category:"Trees and SkipList"},{id:"SplayTree",category:"Trees and SkipList"},{id:"SkipList",category:"Trees and SkipList"},{id:"OpenHash",category:"Hashmaps"},{id:"ClosedHash",category:"Hashmaps"},{id:"BubbleSort",category:"Sorting and Quick Select"},{id:"CocktailSort",category:"Sorting and Quick Select"},{id:"InsertionSort",category:"Sorting and Quick Select"},{id:"Quicksort",category:"Sorting and Quick Select"},{id:"Quickselect",category:"Sorting and Quick Select"},{id:"MergeSort",category:"Sorting and Quick Select"},{id:"LSDRadix",category:"Sorting and Quick Select"},{id:"HeapSort",category:"Sorting and Quick Select"},{id:"BruteForce",category:"Pattern Matching"},{id:"BoyerMoore",category:"Pattern Matching"},{id:"KMP",category:"Pattern Matching"},{id:"RabinKarp",category:"Pattern Matching"},{id:"BFS",category:"Graph Algorithms"},{id:"DFS",category:"Graph Algorithms"},{id:"Dijkstra",category:"Graph Algorithms"},{id:"Prim",category:"Graph Algorithms"},{id:"Kruskal",category:"Graph Algorithms"},{id:"LCS",category:"Dynamic Programming"},{id:"Floyd",category:"Dynamic Programming"}];var Qd=JSON.parse('{"ArrayList":{"Add to Front":{"worst":{"big_o":"O(n)","explanation":"Resizing the array and shifting $n$ elements are each $O(n)$.","example":"[1, 2, 3, 4] add 0"},"average":{"big_o":"O(n)","explanation":"You always have to shift $n$ elements to the right.","example":"[1, 2, 3, null] add 0"},"best":{"big_o":"O(n)","explanation":"You always have to shift $n$ elements to the right.","example":"[null, null, null, null] add 0"}},"Add to Back":{"worst":{"big_o":"O(1)*","explanation":"Typically constant time, except for the rare case where you have to resize."},"worst (unamortized)":{"big_o":"O(n)","explanation":"If the array is full, you have to resize it by making a new array."},"average":{"big_o":"O(1)","explanation":"No shifting is needed except for an occasional array resize."},"best":{"big_o":"O(1)","explanation":"No shifting is needed because the array is not full."}},"Add at Index":{"worst":{"big_o":"O(n)","explanation":"Resizing the array and shifting $n$ elements are each $O(n)$."},"average":{"big_o":"O(n)","explanation":"Some elements will be shifted to the right; on average, $n/2$ will."},"best":{"big_o":"O(1)","explanation":"Adding to the back of the array."}},"Remove from Front":{"all cases":{"big_o":"O(n)","explanation":"You always have to shift $n$ elements to the left."}},"Remove from Back":{"all cases":{"big_o":"O(1)","explanation":"No shifting or resizing is ever needed."}},"Remove at Index":{"worst":{"big_o":"O(n)","explanation":"If you remove the first element, You have to shift $n$ elements to the left."},"average":{"big_o":"O(n)","explanation":"You have to shift all elements after the index to the left."},"best":{"big_o":"O(1)","explanation":"If you remove the last element, you don\'t have to shift any elements."}}},"LinkedList":{"Add to Front (with tail)":{"all cases":{"big_o":"O(1)","explanation":"Create a new node, set its next pointer to the current head, and make the new node the head.","example":"1->2->3->null addToFront(0)"}},"Add to Back (with tail)":{"all cases":{"big_o":"O(1)","explanation":"Create a new node, set the tail\'s next pointer to the new node, and make the new node the tail.","example":"1->2->3->null addToBack(4)"}},"Add at Index (with tail)":{"worst":{"big_o":"O(n)","explanation":"Traversing to the second-to-last index is $O(n)$, and initializing and inserting the new node is $O(1)$.","example":"1->2->3->4->5->null addAtIndex(element: 5, index: 4)"},"average":{"big_o":"O(n)","explanation":"Most elements are in the middle. The runtime to traverse to a middle index increases linearly as the data grows.","example":"1->2->3->4->5->null addAtIndex(element: 6, index: 2)"},"best":{"big_o":"O(1)","explanation":"Adding at the tail or head is an $O(1)$ operation.","example":"1->2->3->4->null addAtIndex(0, 0)"}},"Remove from Front (with tail)":{"all cases":{"big_o":"O(1)","explanation":"Set the head pointer to be at the second node.","example":"1->2->3->4 removeFromFront()"}},"Remove from Back (with tail)":{"worst":{"big_o":"O(n)","explanation":"You have to traverse to the end of the list to make the second-to-last node the tail.","example":"1->2->3->4->null removeFromBack()"},"average":{"big_o":"O(n)","explanation":"You have to traverse to the end of the list to make the second-to-last node the tail.","example":"1->2->3->4->null removeFromBack()"},"best":{"big_o":"O(1)","explanation":"If the list has one element (which is both head and tail), simply clear the list.","example":"1->null removeFromBack()"}},"Remove at Index (with tail)":{"worst":{"big_o":"O(n)","explanation":"Traversing to the index is $O(n)$, while altering the pointers to remove the node is $O(1)$.","example":"1->2->3->4->5->null removeAtIndex(4)"},"average":{"big_o":"O(n)","explanation":"Traversing to the index is $O(n)$, while altering the pointers to remove the node is $O(1)$.","example":"1->2->3->4->null removeAtIndex(2)"},"best":{"big_o":"O(1)","explanation":"If index is 0 or the list has one element, time complexity is the same as removeFromFront().","example":"1->2->3->4->null removeAtIndex(0)"}},"Add to Front (without tail)":{"all cases":{"big_o":"$O(1)$","explanation":"When adding to the front of an SLL, we have direct access to the head node.","example":"head -> [NEW] -> [\'a\'] -> [\'b\'] -> ... -> [$n$]  // addToFront(NEW)"}},"Add to Back (without tail)":{"all cases":{"big_o":"O(n)","explanation":"Without a tail pointer, adding to the back of an SLL requires traversal through the entire list to reach the end.","example":"head -> [\'a\'] -> [\'b\'] -> ... -> [$n$] -> [NEW]  // addToBack(NEW)"}},"Add at Index (without tail)":{"worst":{"big_o":"O(n)","explanation":"To add at the last index, we have to traverse $n$ nodes starting at the head.","example":"head -> [\'a\'] -> [\'b\'] -> [NEW] -> [\'c\'] -> [\'d\']  // addAtIndex(2, NEW)"},"average":{"big_o":"O(n)","explanation":"To add at an index near the middle, we have to traverse $n/2$ nodes starting at the head.","example":"head -> [\'a\'] -> [\'b\'] -> [NEW] -> [\'c\'] -> [\'d\']  // addAtIndex(2, NEW)"},"best":{"big_o":"O(1)","explanation":"If adding at the front, the operation is $O(1)$ due to direct access to the head pointer.","example":"head -> [NEW] -> [\'a\'] -> [\'b\'] -> ..~|| OR ||~.. -> [$n - 1$] -> [$n$] -> [NEW] <- tail  // addAtIndex(0 OR size, NEW)"}},"Remove from Front (without tail)":{"all cases":{"big_o":"O(1)","explanation":"Removing from the front of an SLL is always $O(1)$, as you have direct access to the head pointer.","example":"head -~[DEL]~-> [\'b\'] -> ... -> [$n$]  // removeFromFront()"}},"Remove from Back (without tail)":{"all cases":{"big_o":"O(n)","explanation":"To remove the last node, we have to traverse to the second-to-last node, which is approximately $n$ steps.","example":"head -> [\'a\'] -> [\'b\'] -> ... -> [$n - 1$] -x-> [DEL]  // removeFromBack()"}},"Remove at Index (without tail)":{"worst":{"big_o":"O(n)","explanation":"To remove the last node, we have to traverse to the second-to-last node, which is approximately $n$ steps.","example":"head -> [\'a\'] -> [\'b\'] -~[DEL]~-> [\'d\'] -> [\'e\']  // removeAtIndex(2)"},"average":{"big_o":"O(n)","explanation":"On average, traversing to an index near the middle takes $n/2$ steps.","example":"head -> [\'a\'] -> [\'b\'] -~[DEL]~-> [\'d\'] -> [\'e\']  // removeAtIndex(2)"},"best":{"big_o":"O(1)","explanation":"If removing from the front, the operation is $O(1)$ as it only requires updating the head pointer.","example":"head -~[DEL]~-> [\'b\'] -> ... -> [$n$]  // removeAtIndex(0)"}}},"DoublyLinkedList":{"Add to Front":{"all cases":{"big_o":"O(1)","explanation":"Accessing the head and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] add 0"}},"Add to Back":{"all cases":{"big_o":"O(1)","explanation":"Accessing the tail and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] add 6"}},"Add at Index":{"worst":{"big_o":"O(n)","explanation":"May need to iterate $n/2$ times to reach the node if the index is in the middle.","example":"[1, 2, 3, 4, 5] index = 2"},"average":{"big_o":"O(n)","explanation":"On average, the index is between the head and tail, requiring more iterations as the data grows.","example":"[1, 2, 3, 4, 5] index = 2"},"best":{"big_o":"O(1)","explanation":"Adding at the head and tail is easy with direct access using their pointers.","example":"[1, 2, 3, 4, 5] index = 5"}},"Remove from Front":{"all cases":{"big_o":"O(1)","explanation":"Accessing the head and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] remove 1"}},"Remove from Back":{"all cases":{"big_o":"O(1)","explanation":"Accessing the tail and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] remove 5"}},"Remove at Index":{"worst":{"big_o":"O(n)","explanation":"May need to iterate $n/2$ times to reach the node if the index is in the middle.","example":"[1, 2, 3, 4, 5] index = 2"},"average":{"big_o":"O(n)","explanation":"On average, the index is between the head and tail, requiring more iterations as the data grows.","example":"[1, 2, 3, 4, 5] index = 2"},"best":{"big_o":"O(1)","explanation":"Removing at the head and tail is easy with direct access using their pointers.","example":"[1, 2, 3, 4, 5] index = 0"}}},"CircularlyLinkedList":{"Add to Front":{"all cases":{"big_o":"O(1)","explanation":"Accessing the head and adjusting the head pointer in a circular structure always takes constant time.","example":"[1, 2, 3, 4, 5] add 0"}},"Add to Back":{"all cases":{"big_o":"O(1)","explanation":"By inserting a new node in the 2nd position from the front, copying the head\'s data to this new node, putting the new data in the head node, and then moving the head pointer forward by one, we effectively add to the back in constant time.","example":"[1, 2, 3, 4, 5] add 6"}},"Add at Index":{"worst":{"big_o":"O(n)","explanation":"Traversing to the target index requires visiting all $n$ nodes in the worst case.","example":"[1, 2, 3, 4, 5] index = 2"},"average":{"big_o":"O(n)","explanation":"On average, traversing to an index near the middle is $n/2$ operations, and increases linearly as the data grows.","example":"[1, 2, 3, 4, 5] index = 2"},"best":{"big_o":"O(1)","explanation":"Inserting at the front or back.","example":"[1, 2, 3, 4, 5] index = 0"}},"Remove from Front":{"all cases":{"big_o":"O(1)","explanation":"Removing the head and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] remove 1"}},"Remove from Back":{"all cases":{"big_o":"O(n)","explanation":"Traversing to find the node before the tail requires visiting about $n$ nodes.","example":"[1, 2, 3, 4, 5] remove 5"}},"Remove at Index":{"worst":{"big_o":"O(n)","explanation":"Traversing to the target index requires visiting about $n$ nodes in the worst case.","example":"[1, 2, 3, 4, 5] index = 2"},"average":{"big_o":"O(n)","explanation":"On average, traversing to an index near the middle is $n/2$ operations, and increases linearly as the data grows.","example":"[1, 2, 3, 4, 5] index = 2"},"best":{"big_o":"O(1)","explanation":"Removing the front or back.","example":"[1, 2, 3, 4, 5] index = 0"}}},"StackArray":{"Push":{"worst":{"big_o":"O(n)","explanation":"If a resize is triggered, $n$ elements must be copied to the new backing array.","example":"[1, 2, 3] add 4"},"average":{"big_o":"O(1)","explanation":"No elements need to be shifted when adding to the back. Additionally, the average case doesn\'t involve resizing.","example":"[1, 2, null] add 3"},"best":{"big_o":"O(1)","explanation":"No elements need to be shifted when adding to the back. Additionally, the best case doesn\'t involve resizing.","example":"[1, 2, null] add 3"}},"Pop":{"all cases":{"big_o":"O(1)","explanation":"No elements need to be shifted when removing from back.","example":"[1, 2, 3] remove 3"}}},"StackLL":{"Push":{"all cases":{"big_o":"O(1)","explanation":"Create and link a new node. No shifting occurs.","example":"1 -> 2 -> 3 add 0 at head"}},"Pop":{"all cases":{"big_o":"O(1)","explanation":"Just remove the head node. No shifting occurs.","example":"1 -> 2 -> 3 remove 1"}}},"QueueArray":{"Push":{"worst":{"big_o":"O(n)","explanation":"If a resize is triggered, $n$ elements must be copied to the new backing array.","example":"[1, 2, 3] add 4"},"average":{"big_o":"O(1)","explanation":"No elements need to be shifted when adding to the back. Additionally, the average case doesn\'t involve resizing.","example":"[1, 2, null] add 3"},"best":{"big_o":"O(1)","explanation":"No elements need to be shifted when adding to the back. Additionally, the best case doesn\'t involve resizing.","example":"[1, 2, null] add 3"}},"Pop":{"all cases":{"big_o":"O(1)","explanation":"Due to the circular array implementation, no shifting is needed.","example":"[1, 2, 3] remove 1"}}},"QueueLL":{"Push":{"all cases":{"big_o":"O(1)","explanation":"Create and link a new node using the tail. No traversal or shifting is needed.","example":"1 -> 2 -> 3 add 4 at end"}},"Pop":{"all cases":{"big_o":"O(1)","explanation":"Just remove the head node. No shifting occurs.","example":"1 -> 2 -> 3 remove 1"}}},"DequeArray":{"Add to Front":{"worst":{"big_o":"O(1)*","explanation":"Rarely, the array needs to be resized.","example":"[1, 2, 3, 4] add 0"},"worst (unamortized)":{"big_o":"O(n)","explanation":"In this case, the array is being resized because the array is full.","example":"[1, 2, 3, 4] add 0"},"average":{"big_o":"O(1)","explanation":"Have a front pointer, and usually we don\'t need to resize.","example":"[null, 1, 2, 3] add 0"},"best":{"big_o":"O(1)","explanation":"Circular arrays do not shift elements; the data wraps around and we have a front pointer.","example":"[null, 1, 2, 3] add 0"}},"Add to Back":{"worst":{"big_o":"O(1)*","explanation":"Rarely, the array needs to be resized.","example":"[1, 2, 3, 4] add 5"},"worst (unamortized)":{"big_o":"O(n)","explanation":"In this case, the array is being resized because the array is full.","example":"[1, 2, 3, 4] add 5"},"average":{"big_o":"O(1)","explanation":"Usually we don\'t need to resize.","example":"[1, 2, 3, null] add 4"},"best":{"big_o":"O(1)","explanation":"Do not need to resize because the array is not full.","example":"[1, 2, 3, null] add 4"}},"Remove from Front":{"all cases":{"big_o":"O(1)","explanation":"Never need to resize when removing from an array. Simply move the front pointer forward.","example":"[1, 2, 3, 4] remove 1"}},"Remove from Back":{"all cases":{"big_o":"O(1)","explanation":"Never need to resize when removing from an array.","example":"[1, 2, 3, 4] remove 4"}}},"DequeLL":{"Add to Front":{"all cases":{"big_o":"O(1)","explanation":"Have direct access to the head.","example":"1 <--\x3e 2 <--\x3e 3, add 0"}},"Add to Back":{"all cases":{"big_o":"O(1)","explanation":"Have direct access to the tail.","example":"1 <--\x3e 2 <--\x3e 3, add 4"}},"Remove from Front":{"all cases":{"big_o":"O(1)","explanation":"Have direct access to the head.","example":"1 <--\x3e 2 <--\x3e 3, remove 1"}},"Remove from Back":{"all cases":{"big_o":"O(1)","explanation":"Have direct access to the tail, which has a previous pointer.","example":"1 <--\x3e 2 <--\x3e 3, remove 3"}}},"BST":{"Add":{"worst":{"big_o":"O(n)","explanation":"In a degenerate tree, you have to traverse around $n$ nodes.","example":"[(0 -> 1 -> 2 -> 3 -> 4 -> 5)] add 6"},"average":{"big_o":"O(log n)","explanation":"An average BST is relatively balanced, so you have to traverse around $log n$ nodes.","example":"[(3<-5->9) (2<-3->null) (7<-9->11) (1<-2->null) (null) (6<-7->null) (10<-11->12)] add 8"},"best":{"big_o":"O(log n)","explanation":"In a balanced tree, you have to traverse $log n$ nodes.","example":"[(50<-100->200) (20<-50->80) (150<-200->250) (10<-20->30) (70<-80->90) (120<-150->180) (225<-250->null)] add 500"}},"Remove":{"worst":{"big_o":"O(n)","explanation":"In a degenerate tree, you have to traverse around $n$ nodes to remove a leaf.","example":"[(10 <- 23 <- 37 <- 41 <- 50)] remove 10"},"average":{"big_o":"O(log n)","explanation":"An average BST is relatively balanced, so you have to traverse around $log n$ nodes.","example":"[(-70<--20->10) (-100<--70->-50) (0<-10->null) (-200<--100->-80) (-60<--50->null) (-5<-0->5) (null)] remove -70 using predecessor"},"best":{"big_o":"O(log n)","explanation":"In a balanced tree, you have to traverse $log n$ nodes.","example":"[(-60<-0->10) (-100<--60->-20) (5<-10->53) (-120<--100->-90) (-40<--20->-1) (2<-5->7) (17<-53->54)] remove -90"}},"Find":{"worst":{"big_o":"O(n)","explanation":"In a degenerate tree, you have to traverse around $n$ nodes.","example":"[(8 -> 16 -> 24 -> 32 -> 40 -> 48)] find 48"},"average":{"big_o":"O(log n)","explanation":"An average BST is relatively balanced, so you have to traverse around $log n$ nodes","example":"[(7<-17->31) (3<-7->11) (23<-31->41) (2<-3->null) (null<-11->13) (null<-23->29) (37<-41->null)] find 13"},"best":{"big_o":"O(log n)","explanation":"In a balanced tree, you have to traverse $log n$ nodes.","example":"[(92<-2384->626433) (14<-92->653) (83279<-626433->9399375) (3<-14->15) (589<-653->793) (50288<-83279->419716) (1058209<-9399375->74944592)] find 3"}},"Pre-Order Traversal":{"all cases":{"big_o":"O(n)","explanation":"Traversals visit all $n$ nodes in the tree.","example":"[(8<-10->40) (5<-8->null) (30<-40->80) (1<-5->null) (null<-30->null) (70<-80->90)]"}},"In-Order Traversal":{"all cases":{"big_o":"O(n)","explanation":"Traversals visit all $n$ nodes in the tree.","example":"[(50<-100->200) (null<-50->80) (150<-200->220) (null) (51<-80->null) (120<-150->180) (null<-220->null)]"}},"Post-Order Traversal":{"all cases":{"big_o":"O(n)","explanation":"Traversals visit all $n$ nodes in the tree.","example":"[(2<-9->18) (1<-2->5) (13<-18->21) (null<-1->null) (3<-5->8) (10<-13->15) (null<-21->null)]"}},"Level-Order Traversal":{"all cases":{"big_o":"O(n)","explanation":"Traversals visit all $n$ nodes in the tree.","example":"[(80<-90->100) (70<-80->null) (null<-100->110) (60<-70->null) (null) (null) (null<-110->120) (50<-60->null) (null) (null) (null) (null) (null<-120->130)]"}},"Calculate Height":{"all cases":{"big_o":"O(n)","explanation":"Finding the height requires traversing the whole tree to find the deepest node.","example":"[(30<-40->60) (0<-30->25) (null<-60->80) (null<-0->null) (33<-35->null) (null) (null<-80->null)]"}}},"ClosedHash":{"Add":{"worst":{"big_o":"O(n)","explanation":"If everything hashes to the same index, we have to traverse the entire chain structure to check for duplicates, which is $O(n)$ for an SLL. The resize case is also $O(n)$ for an SLL.","example":"[0,15,30,45,null,null,null] add 60"},"average":{"big_o":"O(1)","explanation":"$O(1)$ access to the hashed index and relatively few collisions.","example":"[0, 1, 2, null, null, null, null] add 4"},"best":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and there are no collisions.","example":"[0, 1, null, 3, null, null, null] add 2"}},"Remove":{"worst":{"big_o":"O(n)","explanation":"If everything hashes to the same index, we have to traverse the entire chain structure to find the entry, which is $O(n)$ for an SLL.","example":"[[0, 7, 14, 21], null, null, null, null, null, null] remove 21"},"average":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and relatively few collisions.","example":"[0, 1, 2, null, null, null, null] remove 1"},"best":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and there are no collisions.","example":"[0, 1, 2, null, null] remove 1"}},"Find":{"worst":{"big_o":"O(n)","explanation":"If everything hashes to the same index, we have to traverse the entire chain structure. This is $O(n)$ for an SLL.","example":"[null, [1, 8, 15], null, null, null, null, null] find 15"},"average":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and relatively few collisions.","example":"[0, 1, 2, null, null] find 0"},"best":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and there are no collisions.","example":"[0, 1, 2, null, null] find 1"}},"Resize":{"all cases":{"big_o":"O(n)","explanation":"Resize by rehashing and adding $n$ elements to the new table, which is $O(1)$ each with an SLL chain. We do not have to check for duplicates when resizing.","example":"[0, 1, 2, 3, null, null, null] add 5"}}},"OpenHash":{"Add":{"worst":{"big_o":"O(n\xb2)","explanation":"To resize, you have to rehash and copy all $n$ entries. For each entry, you may have to probe $n$ times if they all hash to the same index.","example":"A HashMap with hashcode function always returning 1."},"average":{"big_o":"O(1)","explanation":"With a good hash function, there are few or no collisions, so on average you just add the entry to the array at its hashed index.","example":"Adding an entry with a key that has calculated index 7, and index 7 in the array is empty."},"best":{"big_o":"O(1)","explanation":"If there are no collisions, you can add the entry directly to its hashed index.","example":"Adding an entry with a key that has calculated index 7, and index 7 in the array is empty."}},"Remove":{"worst":{"big_o":"O(n)","explanation":"If every entry had the same hashcode, then when you want to remove an entry, you\'d have to probe over every other entry.","example":"A HashMap with hashcode function always returning 1."},"average":{"big_o":"O(1)","explanation":"With a good hash function, there are few or no collisions, so on average you just remove the entry at its calculated index without probing.","example":"Removing an entry with a key that has calculated index 7, and index 7 contains the key you\'re looking for."},"best":{"big_o":"O(1)","explanation":"If there are no collisions, remove the entry from its calculated index in the array.","example":"Removing an entry with a key that has calculated index 7, and index 7 contains the key you\'re looking for."}},"Find":{"worst":{"big_o":"O(n)","explanation":"If every entry had the same hashcode, then when you want to find an entry, you\'d have to probe over every other entry.","example":"A HashMap with hashcode function always returning 1."},"average":{"big_o":"O(1)","explanation":"With a good hash function, there are few or no collisions, so on average you can just find the entry at its calculated index without probing.","example":"Finding an entry with a key that has calculated index 7, and index 7 contains the key you\'re looking for."},"best":{"big_o":"O(1)","explanation":"If there are no collisions, find the entry from its calculated index in the array.","example":"Finding an entry with a key that has calculated index 7, and index 7 contains the key you\'re looking for."}},"Resize":{"worst":{"big_o":"O(n\xb2)","explanation":"When resizing a Probing HashMap, each entry has the chance to probe over once more, causing a potential $n$ probes for each of $n$ entries.","example":"A Probing HashMap at full capacity, with a hash function that only returns 1."},"average":{"big_o":"O(n)","explanation":"There are generally few collisions after a resize. Copy all $n$ entries into their new spot in the resized array.","example":"Each entry is copied over with there only being maybe 1 to 2 collisions."},"best":{"big_o":"O(n)","explanation":"In the best case, there are no collisions when resizing.","example":"Each entry is copied over to the new array without any collisions."}}},"BTree":{"Add":{"worst":{"big_o":"O(log n)","explanation":"Each level requires a promotion, therefore $O(log n)$ promotions in addition to $O(log n)$ add.","example":"20,26,33|12,16|21|27,29,32|36,37 add 31 promote second"},"average":{"big_o":"O(log n)","explanation":"Some promotions may be required after adding the element, but doing a promotion is $O(1)$ in addition to the $O(log n)$ addition.","example":"20,33|12,16|21,26,29|36,37 add 32 promote second"},"best":{"big_o":"O(log n)","explanation":"No promotions required, just adding the element to a node.","example":"20,33|12,16|26,29|36,37 add 21 promote second"}},"Remove":{"worst":{"big_o":"O(log n)","explanation":"A transfer and/or fusion is required at each level, which is $O(log n)$ extra work on top of the $O(log n)$ remove.","example":"26|20|36|12|21|27,29|37 remove 26 with predecessor"},"average":{"big_o":"O(log n)","explanation":"Some transfers and/or fusions may be required, but either is $O(1)$ in addition to the $O(log n)$ remove.","example":"26|20|29,36|12|21|27|32|37 remove 32 with predecessor"},"best":{"big_o":"O(log n)","explanation":"No transfer or fusions required, just removing the element from a node.","example":"26|20|29,33|12,16|21|27|31,32|36,37 remove 31 with predecessor"}},"Find":{"worst":{"big_o":"O(log n)","explanation":"Element doesn\'t exist in tree, so we only traverse to $log n$ nodes before not finding element.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 28"},"average":{"big_o":"O(log n)","explanation":"Most elements will exist at the bottom of the tree.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 21"},"best":{"big_o":"O(log n)","explanation":"Element exists near top of tree.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 29"}},"Calculate Height":{"all cases":{"big_o":"O(log n)","explanation":"All leaf nodes will exist at depth of $log n$.","example":"26|20|29,33|12,16|21|27|31,32|36,37 height=2"}}},"2-4 Tree":{"Add":{"worst":{"big_o":"O(log n)","explanation":"Each level requires a promotion, therefore $O(log n)$ promotions in addition to $O(log n)$ add.","example":"20,26,33|12,16|21|27,29,32|36,37 add 31 promote second"},"average":{"big_o":"O(log n)","explanation":"Some promotions may be required after adding the element, but doing a promotion is $O(1)$ in addition to the $O(log n)$ addition.","example":"20,33|12,16|21,26,29|36,37 add 32 promote second"},"best":{"big_o":"O(log n)","explanation":"No promotions required, just adding the element to a leaf node, which requires traversing $log n$ levels.","example":"20,33|12,16|26,29|36,37 add 21 promote second"}},"Remove":{"worst":{"big_o":"O(log n)","explanation":"A fusion is required at each level and propagates up, which is $O(log n)$ work plus the $O(log n)$ remove.","example":"26|20|36|12|21|27,29|37 remove 26 with predecessor"},"average":{"big_o":"O(log n)","explanation":"Some transfers and/or fusions may be required, but either is $O(1)$ in addition to the $O(log n)$ remove.","example":"26|20|29,36|12|21|27|32|37 remove 32 with predecessor"},"best":{"big_o":"O(log n)","explanation":"No transfer or fusions required. Must always traverse $log n$ levels to the leaf nodes, either to remove a leaf data or find a predecessor or successor.","example":"26|20|29,33|12,16|21|27|31,32|36,37 remove 31 with predecessor"}},"Find":{"worst":{"big_o":"O(log n)","explanation":"Element doesn\'t exist in tree, so we only traverse to $log n$ nodes before not finding element.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 28"},"average":{"big_o":"O(log n)","explanation":"Most elements will exist at the bottom of the tree.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 21"},"best":{"big_o":"O(1)","explanation":"Element exists at the root of tree.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 26"}},"Calculate Height":{"all cases":{"big_o":"O(log n)","explanation":"Because the tree is complete, all leaves are on the same (deepest) level. Traverse to any leaf node to find the height. A range of possible heights can be inferred using the number of data, but an exact answer requires traversal.","example":"26|20|29,33|12,16|21|27|31,32|36,37 height=2"}}},"Heap":{"Add":{"worst":{"big_o":"O(log n)*","explanation":"When adding a new element, in the worst case, it bubbles up to the root through $logn$ levels.","example":"Add 10 to [5,4,3]: becomes [10,5,3,4]"},"worst (unamortized)":{"big_o":"O(n)","explanation":"In the resize case, we must copy all the data to a new larger array.","example":"Add 10 to [5,4,3]: becomes [10,5,3,4]"},"average":{"big_o":"O(log n)","explanation":"New elements typically bubble up through some of the heap\'s levels, logarithmically proportional to the size.","example":"Add 6 to [8,4,3]: becomes [8,6,3,4]"},"best":{"big_o":"O(1)","explanation":"In the best case, the newly added data belongs in the leaf level and does not have to be bubbled up.","example":"???"}},"Remove":{"worst":{"big_o":"O(log n)","explanation":"After removing the root, the last element is put at the room and in the worst case must bubble down $logn$ levels.","example":"Remove 9 from [9,7,8,4,3] -> [8,7,3,4]"},"average":{"big_o":"O(log n)","explanation":"The new root typically needs to bubble down through some of the heap\'s levels, logarithmically proportional to the size.","example":"Remove from [9,6,8,4,5]: becomes [8,6,5,4]"},"best":{"big_o":"O(1)","explanation":"In the best case, we only have to downheap one level after swapping the last element to the root. This case is very rare.","example":"[1,2,3,10,11,4,5,12,13,14,15,6,7,8,9]"}},"BuildHeap":{"all cases":{"big_o":"O(n)","explanation":"Most nodes are near the bottom and require minimal adjustments. More specifically, about half of all data are on the leaf layer, and a quarter are on the second-to-last level, etc.","example":"Build from [3,1,4,5,2]: becomes [5,3,4,1,2]"}}},"AVL":{"Add":{"worst":{"big_o":"O(log n)","explanation":"Search for the insertion point at a leaf position, then perform at most one or two rotations. Since the tree is self-balancing, we never traverse more than $log n$ nodes.","example":"Current tree: [40, 30, 50, 20, null, null, null], Add 25"},"average":{"big_o":"O(log n)","explanation":"Search for the insertion point at a leaf position, then perform at most one or two rotations. Since the tree is self-balancing, we never traverse more than $log n$ nodes.","example":"Current tree: [30, 20, null], Add 10"},"best":{"big_o":"O(log n)","explanation":"Even in an ideal case, we still must traverse down $log n$ nodes to find the correct insertion point and update balance factors back up to root.","example":"Current tree: [20, 10, 30, 5, 15, 25, null], Add 35"}},"Remove":{"worst":{"big_o":"O(log n)","explanation":"Search for the node, remove it, then rebalance up to root. May need to find a predecessor/successor at a leaf node. Each rotation is $O(1)$.","example":"Current tree: [6, 3, 9, null, 4, 7, 16, null, null, null, null, 11, null], Remove 6"},"average":{"big_o":"O(log n)","explanation":"Search for the node, remove it, then rebalance up to root. AVL property ensures we never have more than $log n$ nodes to traverse or fix.","example":"Current tree: [40, 30, 50, 20, null, null, null], Remove 50"},"best":{"big_o":"O(log n)","explanation":"Even when removing a leaf node, we must still traverse down to it ($log n$) and update balance factors on the path back to root. When removing an internal/root node, we must find a predecessor/successor at a leaf node.","example":"Current tree: [50, 30, 70, 20, 40, 60, 80], Remove 20"}},"Find":{"worst":{"big_o":"O(log n)","explanation":"Must traverse from root to leaf in a balanced tree. AVL property guarantees the height is $log n$, so we never check more than $log n$ nodes.","example":"Current tree: [50, 30, 70, 20, 40, 60, 80], Find 40"},"average":{"big_o":"O(log n)","explanation":"This is a binary search through a balanced tree. Each comparison eliminates half of remaining nodes, leading to $log n$ checks. Intuitively, most data is located towards the bottom of the tree, so we still have to traverse close to $log n$ levels.","example":"Current tree: [50, 30, 70, 20, 40, 60, 80], Find 60"},"best":{"big_o":"O(1)","explanation":"Target value is at root node, requiring just one comparison and no traversal","example":"Current tree: [50, 30, 70, 20, 40, 60, 80], Find 50"}},"Calculate Height":{"all cases":{"big_o":"O(1)","explanation":"Height is stored and maintained in each node as a property, requiring just a single field access","example":"node.height or node.getHeight()"}}},"SkipList":{"Add":{"worst":{"big_o":"O(n)","explanation":"With unlucky coin flips, the SkipList can become a multi-layered LinkedList, so you have to traverse it like a LinkedList. There is $O(n)$ data to traverse once, then $O(log n) layers to go straight down, which simplifies to $O(n)$,","example":"3,7,15,22|3,7,15,22|3,7,15,22|3,7,15,22 add 11 with 4 heads."},"average":{"big_o":"O(log n)","explanation":"With random coin probability, SkipList may not be perfectly symmetric, but on average traversing is $O(log n)$.","example":"null,7,null,null|null,7,null,22|null,7,15,22|3,7,15,22 add 10 with random coin flip"},"best":{"big_o":"O(log n)","explanation":"With perfectly distributed coin flips, SkipList is symmetric, so traversing is $O(log n)$.","example":"null,null,10,null,null|3,null,10,null,22|3,7,10,15,22 add 19 with random coin flip"}},"Remove":{"worst":{"big_o":"O(n)","explanation":"With unlucky coin flips, the SkipList can become a multi-layered LinkedList, so you have to traverse it like a LinkedList. There is $O(n)$ data to traverse once, then $O(log n) layers to go straight down, which simplifies to $O(n)$,","example":"3,7,15,22|3,7,15,22|3,7,15,22|3,7,15,22 remove 15"},"average":{"big_o":"O(log n)","explanation":"With random coin probability, SkipList may not be perfectly symmetric, but on average traversing is $O(log n)$.","example":"null,7,null,null|null,7,null,22|null,7,15,22|3,7,15,22 remove 15"},"best":{"big_o":"O(log n)","explanation":"With perfectly distributed coin flips, SkipList is symmetric, so traversing is $O(log n)$. You still need to traverse down $log n$ levels to remove.","example":"null,null,10,null,null|3,null,10,null,22|3,7,10,15,22 remove 15"}},"Find":{"worst":{"big_o":"O(n)","explanation":"With unlucky coin flips, the SkipList can become a multi-layered LinkedList, so you have to traverse it like a LinkedList. There is $O(n)$ data to traverse once, then $O(log n) layers to go straight down, which simplifies to $O(n)$,","example":"3,7,15,22|3,7,15,22|3,7,15,22|3,7,15,22 find 22"},"average":{"big_o":"O(log n)","explanation":"With random coin probability, SkipList may not be perfectly symmetric, but on average traversing takes $O(log n)$.","example":"null,7,null,null|null,7,null,22|null,7,15,22|3,7,15,22 find 22"},"best":{"big_o":"O(1)","explanation":"The data is found immediately.","example":"3,null,10,null,null|3,null,10,null,22|3,7,10,15,22 find 3"}}},"BubbleSort":{"BubbleSort without Last Swap Optimization":{"worst":{"big_o":"O(n\xb2)","explanation":"We compare every element to every other element, which is approximately $n$ times $n$ work.","example":"[5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"On average, it performs more closely to its worst case.","example":"[1, 4, 3, 5, 2]"},"best":{"big_o":"O(n)","explanation":"If we have a separate boolean flag to check if the list is already sorted, we can detect this in one pass. Otherwise, this is $O(n\xb2)$.","example":"[1, 2, 3, 4, 5]"}},"BubbleSort with Last Swap Optimization":{"worst":{"big_o":"O(n\xb2)","explanation":"Optimization has no effect on the worst-case.","example":"[5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"While optimization does increase average runtime efficiency, it does not affect the time complexity.","example":"[1, 4, 3, 5, 2]"},"best":{"big_o":"O(n)","explanation":"The list is already sorted, which we can detect in one pass since the algorithm is adaptive.","example":"[1, 2, 3, 4, 5]"}}},"CocktailSort":{"CocktailSort without Last Swap Optimization":{"worst":{"big_o":"O(n\xb2)","explanation":"We may have to do up to $n$ swaps for each of $n$ items.","example":"[5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"On average, it performs more closely to its worst case.","example":"[1, 4, 3, 5, 2]"},"best":{"big_o":"O(n)","explanation":"If we have a separate boolean flag to check if the list is already sorted, we can detect this in one pass. Otherwise, this is $O(n\xb2)$.","example":"[1, 2, 3, 4, 5]"}},"CocktailSort with Last Swap Optimization":{"worst":{"big_o":"O(n\xb2)","explanation":"Optimization has no effect on the worst case.","example":"[5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"While optimization does increase average runtime efficiency, it does not affect the time complexity.","example":"[1, 4, 3, 5, 2]"},"best":{"big_o":"O(n)","explanation":"The list is already sorted, which we can detect in one pass since the algorithm is adaptive.","example":"[1, 2, 3, 4, 5]"}}},"InsertionSort":{"InsertionSort":{"worst":{"big_o":"O(n\xb2)","explanation":"If the initial array is reverse-sorted, we have to move each element to the beginning of the array one spot at a time, which is approximately $n$ times $n$ work.","example":"[6, 5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"On average, it performs more closely to its worst case.","example":"[6, 1, 4, 2, 5, 3]"},"best":{"big_o":"O(n)","explanation":"If the initial array is already sorted, we check each element once and do not have to move any towards the front.","example":"[1, 2, 3, 4, 5, 6]"}}},"SelectionSort":{"SelectionSort":{"all cases":{"big_o":"O(n\xb2)","explanation":"Finding the largest or smallest element in the unsorted portion of the array requires $n$ comparisons, and we do this $n$ times.","example":"[7, 1, 8, 3, 5]"}}},"Quicksort":{"Quicksort":{"worst":{"big_o":"O(n\xb2)","explanation":"The worst pivot (min or max) is chosen each partition, devolving into a selection sort.","example":"[3, 2, 4, 1, 5] with 5 as the pivot"},"average":{"big_o":"O(n log n)","explanation":"On average, the data is split roughly in half each partition.","example":"[3, 2, 4, 1, 5, 6] with 3 as the pivot"},"best":{"big_o":"O(n log n)","explanation":"The pivot is perfect (the median) in every partition.","example":"[3, 2, 4, 1, 5] with 3 as the pivot"}}},"Quickselect":{"Quickselect":{"worst":{"big_o":"O(n\xb2)","explanation":"The minimum or maximum value of the subarray is always chosen.","example":"[25, 23, 28, 24, 30] with 23 as the pivot"},"average":{"big_o":"O(n)","explanation":"Data is split in half on average during each partition. We can discard the partition which does not contain the target.","example":"[37, 33, 34, 38, 31, 30] with 33 as the pivot"},"best":{"big_o":"O(n)","explanation":"The pivot is always the median value of the subarray.","example":"[25, 23, 28, 24, 30] with 25 as the pivot"}}},"MergeSort":{"MergeSort":{"worst":{"big_o":"O(n log n)","explanation":"Merge sort always recursively divides the array into halves (for a total of $log n$ levels) and merges each level (which is an $O(n)$ operation).","example":"[9, 2, 4, 5, 1, 8, 6, 3] divides into a total of 3 levels (log_2(8) = 3)"},"average":{"big_o":"O(n log n)","explanation":"Merge sort always recursively divides the array into halves (for a total of $log n$ levels) and merges each level (which is an $O(n)$ operation).","example":"[27, 23, 26, 20] divides into 2 levels (log_2(4) = 2)"},"best":{"big_o":"O(n log n)","explanation":"Even in the best case, merge sort still recursively divides the array into halves (for a total of $log n$ levels) and merges each level (which is an $O(n)$ operation).","example":"[1, 2, 3, 4, 5, 6, 7, 8] still divides into 3 levels (log_2(8) = 3)"}}},"LSDRadix":{"LSDRadix":{"worst":{"big_o":"O(kn)","explanation":"One or a few numbers in the array are much longer than the rest. The longest number has $k$ digits.","example":"[28, 33, 92, 91, 1234567891]"},"average":{"big_o":"O(kn)","explanation":"Each number in the array will be added to and removed from a bucket $k$ times, where $k$ is the length of the longest number.","example":"[8, 144, 10, 152, 25, 5]"},"best":{"big_o":"O(kn)","explanation":"All of the numbers in the array have relatively few digits.","example":"[3, 2, 4, 5, 1, 7]"}}},"HeapSort":{"HeapSort":{"all cases":{"big_o":"O(n log n)","explanation":"Removing an element from a heap is $O(log n)$, and we do this $n$ times.","example":"[300, 200, 500, 400, 800, 900]"}}},"BruteForce":{"Single Occurrence":{"worst":{"big_o":"O(mn)","explanation":"A mismatch occurs at the last comparison of the pattern to the text for every alignment.","example":"\'aaab\' in aaaaaaaaaaaa"},"best":{"big_o":"O(m)","explanation":"The pattern is found in the text in the first alignment.","example":"\'cs\' in \'cs1332\'"}},"All Occurrences":{"worst":{"big_o":"O(mn)","explanation":"A mismatch occurs at the last comparison of the pattern to the text for every alignment.","example":"\'aaab\' in \'aaaaaaaaaaaaaaa\'"},"best":{"big_o":"O(n)","explanation":"A mismatch always occurs at the first comparison for every alignment.","example":"\'caa\' in \'aaaaaaaaaaaaaaa\'"}}},"BoyerMoore":{"Last Occurrence Table":{"all cases":{"big_o":"O(m)","explanation":"Building the Last Occurrence Table requires a linear pass through the pattern.","example":{"pattern":"shanghai","table":{"s":0,"h":5,"a":6,"n":3,"g":4,"i":7,"*":-1}}}},"No Occurrences":{"worst":{"big_o":"O(mn)","explanation":"When there is a mismatch on the first character of the pattern with a character of the text that exists in the pattern, shift by 1. If this happens for every alignment, the pattern will shift by 1 each time.","example":{"text":"aaaaaaaaaaaaaaaa","pattern":"baaaa"}},"best":{"big_o":"O(m + n/m)","explanation":"If every character of the text is not in the pattern, the pattern shifts by $m$ for each mismatch.","example":{"text":"bbbbbbbbbbbbbbbb","pattern":"aaaaa"}}},"Single Occurrence":{"worst":{"big_o":"O(mn)","explanation":"The single occurrence is at the end of the text, requiring $n$ shifts","example":{"text":"aaaaaaaaaaaaabaaa","pattern":"baaa"}},"best":{"big_o":"O(m)","explanation":"The pattern perfectly matches on the first alignment.","example":{"text":"abcdefgabc","pattern":"abc"}}},"All Occurrences":{"worst":{"big_o":"O(mn)","explanation":"When there is a mismatch on the first character of the pattern with a character of the text that exists in the pattern, shift by 1. If this happens for every alignment, the pattern will shift by 1 each time.","example":{"text":"aaaaaaaaaaaaaaaaaaaa","pattern":"baaaa"}},"best":{"big_o":"O(m + n/m)","explanation":"There is not a single character of the pattern in the text, causing shifts by $m$ each time.","example":{"text":"bbbbbbbbbbbbbbbb","pattern":"aaaaa"}}}},"KMP":{"Failure Table":{"all cases":{"big_o":"O(m)","explanation":"Building the Failure Table requires a linear pass through the pattern.","example":{"pattern":"abaababac","table":[0,0,1,1,2,3,2,3,0]}}},"No Occurrences":{"all cases":{"big_o":"O(m + n)","explanation":"In cases where no matches occur, the algorithm processes each character in the text and pattern once, plus the preprocessing time.","example":{"text":"abcdefgh","pattern":"xyz"}}},"Single Occurrence":{"worst":{"big_o":"O(m + n)","explanation":"KMP handles repeated pattern occurrences efficiently, scanning through the text in linear time, plus the preprocessing time.","example":{"text":"ababacad","pattern":"abac"}},"best":{"big_o":"O(m)","explanation":"When the pattern matches on the first alignment without any mismatches.","example":{"text":"abcdefgabc","pattern":"abc"}}},"All Occurrences":{"all cases":{"big_o":"O(m + n)","explanation":"KMP handles repeated pattern occurrences efficiently, scanning through the text in linear time, plus the preprocessing time.","example":{"text":"abcabcabcabc","pattern":"abc"}}}},"RabinKarp":{"Calculate Initial Hashes":{"all cases":{"big_o":"O(m)","explanation":"Calculate the hash of the pattern once, and then calculate the first $m$ characters of the text, for $O(2m)$ work.","example":{"text":"abcdefgh","pattern":"abc"}}},"No Occurrences":{"worst":{"big_o":"O(mn)","explanation":"Assume pattern hash and text hash are always equal. Then there will be hash collisions for every substring to be compared, resulting in a brute-force approach. If every character except the last matches, then this is $O(mn)$ work.","example":{"text":"aaaaaa","pattern":"aab"}},"best":{"big_o":"O(m + n)","explanation":"Assume the hash of the pattern does not equal hash of text when strings are not equal. With no hash collisions, Rabin-Karp skips mismatches after rolling the hash.","example":{"text":"abcdefgh","pattern":"xyz"}}},"Single Occurrence":{"worst":{"big_o":"O(mn)","explanation":"When there are many hash collisions due to a bad hash function, Rabin-Karp degenerates to $O(mn)$ as each substring must be compared.","example":{"text":"aaabaa","pattern":"aab","occurrences":"one with collisions"}},"best":{"big_o":"O(m)","explanation":"The pattern matches on the first check after hash comparison, where we compare $m$ characters of the pattern and text.","example":{"text":"abcdefg","pattern":"abc","occurrences":"one"}}},"All Occurrences":{"worst":{"big_o":"O(mn)","explanation":"When hash collisions are frequent due to a bad hash function (i.e. every character hashes to 0), Rabin-Karp reverts to a brute-force comparison for each substring.","example":{"text":"abaaaaab","pattern":"ab"}},"best":{"big_o":"O(m + n)","explanation":"With a good hash function, there will be collisions only when the pattern and text match, thus Rabin-Karp efficiently finds all matches in linear time.","example":{"text":"xyzaaaxyz","pattern":"xyz","occurrences":"all"}}}},"BFS":{"BFS":{"all cases":{"big_o":"O(|V|+|E|)","explanation":"For each vertex, we iterate through all of its adjacent edges. Thus, we visit each vertex once and process each edge once.","example":"A connects to B and C; B connects to D"}}},"DFS":{"DFS Recursive":{"all cases":{"big_o":"O(|V|+|E|)","explanation":"For each vertex, we iterate through all of its adjacent edges. Thus, we visit each vertex once and process each edge once.","example":"A connects to B and C; B connects to D"}},"DFS Iterative":{"all cases":{"big_o":"O(|V|+|E|)","explanation":"For each vertex, we iterate through all of its adjacent edges. Thus, we visit each vertex once and process each edge once.","example":"A connects to B and C; B connects to D"}}},"Dijkstra":{"Dijkstra":{"all cases":{"big_o":"O((|V|+|E|) log|V|)","explanation":"For each vertex, we iterate through all of its adjacent edges like in BFS. We add edges to a priority queue to decide in what order to explore, which is logarithmic for each step (it uses a heap!)","example":"A -(2)-> B; B -(2)-> C; A -(3)-> C: shortest path from A to C"}}},"Prim":{"Prim":{"all cases":{"big_o":"O((|V|+|E|) log|V|)","explanation":"For each vertex, we iterate through all of its adjacent edges like in BFS. We add edges to a priority queue to decide in what order to explore, which is logarithmic for each step (it uses a heap!)","example":"A connects to B; B connects to C; C connects to A"}}},"Kruskal":{"Kruskal":{"all cases":{"big_o":"O(|E|log|E|)","explanation":"We use a priority queue to incrementally add edges to the MST, which is logarithmic for each step (it uses a heap!)","example":"A connects to B; B connects to C; C connects to A"}}},"LCS":{"Longest Common Subsequence":{"all cases":{"big_o":"O(mn)","explanation":"Each letter in the first string is compared to each letter of the second string."}}}}');let Zd=!0;const Jd=(t,e)=>t.split(/\$(.*?)\$/g).map(((t,i)=>i%2===1||e?(0,Ft.jsx)("span",{className:"equation",children:t},i):t)),tc=t=>t?Object.keys(t).map((e=>{const i=t[e];return(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("h4",{children:e}),(0,Ft.jsx)("table",{children:(0,Ft.jsx)("tbody",{children:Object.keys(i).map((t=>(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("td",{style:{width:"13%"},children:t[0].toUpperCase()+t.slice(1)}),(0,Ft.jsx)(ec,{text:i[t].big_o}),(0,Ft.jsx)("td",{children:Jd(i[t].explanation)})]},t)))})})]},e)})):null,ec=t=>{let{text:i}=t;const[s,h]=(0,e.useState)(!0);return(0,Ft.jsx)("td",{style:{width:"16%"},className:s?"blur big_o_cell":"big_o_cell",onMouseEnter:()=>{h(!1)},children:Jd(i,!0)})};function ic(){Zd=!Zd;const t=document.querySelectorAll(".big_o_cell");if(Zd){t.forEach((t=>{t.classList.add("blur")}));document.querySelector(".button-container button").textContent="Reveal All Big-O"}else{t.forEach((t=>{t.classList.remove("blur")}));document.querySelector(".button-container button").textContent="Hide All Big-O"}}var sc=t=>Qd[t]?(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"button-container",children:(0,Ft.jsx)("button",{onClick:ic,children:"Reveal All Big-O"})}),tc(Qd[t])]}):null;var hc={ArrayList:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"ArrayLists must be contiguous so you cannot add at an index greater than size."}),(0,Ft.jsx)("li",{children:"Likewise, you cannot remove at an index greater than or equal to size."})]}),AVL:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"To cause a left rotation, add 1, 2 and 3, in that order"}),(0,Ft.jsx)("li",{children:"To cause a right rotation, add 3, 2 and 1, in that order"}),(0,Ft.jsx)("li",{children:"To cause a left-right rotation, add 3, 1 and 2, in that order"}),(0,Ft.jsx)("li",{children:"To cause a right-left rotation, add 1, 3 and 2, in that order"})]}),BoyerMoore:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:'The worst case is when we have a text with only one letter and a pattern with that same letter, but a different first letter (for example, "aaaaaaaaa" for text and "baaaa" for pattern), since we will only mismatch on the last comparison'}),(0,Ft.jsxs)("li",{children:["When incorporating the Galil Rule, we can use logic similar to that of KMP to optimize our shifts. After finding a full match, instead of shifting by 1 we shift by the period ",(0,Ft.jsx)("i",{children:"k = m - ft[m - 1]"}),". After that shift, we don't need to compare the first ",(0,Ft.jsx)("i",{children:"k"})," characters in the pattern because we've already compared them and know that they match!"]})]}),BruteForce:(0,Ft.jsx)("ul",{children:(0,Ft.jsx)("li",{children:'The worst case is when we have a text with only one letter and a pattern with that same letter, but a different last letter (for example, "aaaaaaaaa" for text and "aaaab" for pattern), since we will only mismatch on the last comparison'})}),BST:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"To get a degenerate BST, you can add ascending data, such as 1, 2, 3, ..."}),(0,Ft.jsx)("li",{children:"To get a full BST, you can add 2, 1, 4, 3, 5, in that order"}),(0,Ft.jsx)("li",{children:"To get a complete BST, you can add 3, 2, 4, 1, in that order"}),(0,Ft.jsx)("li",{children:"To get a full and complete BST, you can add 4, 2, 5, 1, 3, in that order"})]}),BTree:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"When performing a transfer, the left sibling data will be considered before the right sibling data"}),(0,Ft.jsx)("li",{children:"To cause overflow and trigger a promotion, add more than 3 data (for example 1, 2, 3 and 4)"}),(0,Ft.jsx)("li",{children:"To remove from a leaf node, add 1, 2, 3 and 4, in that order, then remove 3 or 4"}),(0,Ft.jsx)("li",{children:"To remove from an inner node and use the predecessor, add 1, 3, 4, 5 and 2, in that order, then remove 3"}),(0,Ft.jsx)("li",{children:"To cause underflow and trigger a rotation/transfer, add 1, 2, 3 and 4, in that order, then remove 1"}),(0,Ft.jsx)("li",{children:"To cause underflow and trigger a fusion, follow the steps above then remove 2"})]}),BubbleSort:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The best case is when we have a sorted array (terminates if no swaps are made)"}),(0,Ft.jsxs)("li",{children:["The worst case is when we have a reverse sorted array (we perform",(0,Ft.jsxs)("span",{className:"equation",children:["n + (n - 1) + (n - 2) + ... = n",(0,Ft.jsx)("suspan",{children:"2"})]}),"comparisons)"]})]}),CircularlyLinkedList:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"This is a singly circular LinkedList with no tail."}),(0,Ft.jsxs)("li",{children:["Adding to the front, adding to the back, and removing from the front can all be done in ",(0,Ft.jsx)("span",{className:"equation",children:"O(1)"})," using data movement tricks and pointer manipulation."]}),(0,Ft.jsxs)("li",{children:["Removing from the back requires a traversal to the node before the last node making it ",(0,Ft.jsx)("span",{className:"equation",children:"O(n)"})]})]}),ClosedHash:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The Hash Integers option uses the integer key itself as a hashcode."}),(0,Ft.jsx)("li",{children:"This Hash Strings option hashes the string key using the sum of the key's ASCII values and the XOR operator."}),(0,Ft.jsx)("li",{children:"The True Hash option generates a Java-like hashcode for both integer and string keys."}),(0,Ft.jsx)("li",{children:"Integer keys must be positive for these visualizations."})]}),CocktailSort:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The best case is when we have a sorted array (terminates if no swaps are made)"}),(0,Ft.jsxs)("li",{children:["The worst case is when we have a reverse sorted array (we perform",(0,Ft.jsxs)("span",{className:"equation",children:["n + (n - 1) + (n - 2) + ... = n",(0,Ft.jsx)("suspan",{children:"2"})]}),"comparisons)"]}),(0,Ft.jsx)("li",{children:"Even though Cocktail Shaker Sort has the same big-O as Bubble Sort, it is still faster; one case where it significantly outperforms Bubble Sort is when we have a sorted array, except for the last element which is the smallest, for example [2, 3, 4, 5, 6, 7, 8, 9, 1]"})]}),DoublyLinkedList:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The visualization may make it appear as if the head and tail are a separate nodes. But keep in mind the head and tail are just references to the first node and last nodes. So the head/tail points to and effectively is the first/last node."}),(0,Ft.jsxs)("li",{children:["Since this is a DLL with a tail, all operations acting at the front and back of the list are ",(0,Ft.jsx)("span",{className:"equation",children:"O(1)"})]})]}),InsertionSort:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The best case is when we have a sorted array (terminates if no swaps are made)"}),(0,Ft.jsxs)("li",{children:["The worst case is when we have a reverse sorted array (we perform",(0,Ft.jsxs)("span",{className:"equation",children:["n + (n - 1) + (n - 2) + ... = n",(0,Ft.jsx)("suspan",{children:"2"})]}),"comparisons)"]})]}),Quickselect:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The worst case occurs when we pick a bad pivot every time, such as the mininum or maximum element. Then, one partition will be empty and the other will have all of the remaining data, causing Quickselect to degenerate into a Selection Sort."}),(0,Ft.jsx)("li",{children:"The best case is with a perfect pivot. This is when the median element is chosen as the pivot, because then each partition will have half of the remaining data."})]}),Quicksort:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The worst case occurs when we pick a bad pivot every time, such as the mininum or maximum element. Then, one partition will be empty and the other will have all of the remaining data, causing Quicksort to degenerate into a Selection Sort."}),(0,Ft.jsx)("li",{children:"The best case is with a perfect pivot. This is when the median element is chosen as the pivot, because then each partition will have half of the remaining data."})]}),LinkedList:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The visualization may make it appear as if the head and tail are a separate nodes. But keep in mind the head and tail are just a references to first and last nodes. So the head points to and effectively is the first node, and the tail points to and effectively is the last node."}),(0,Ft.jsxs)("li",{children:["LinkedLists are designed to operate at the head. So all operations acting at the front are ",(0,Ft.jsx)("span",{className:"equation",children:"O(1)."})]}),(0,Ft.jsxs)("li",{children:["Without the tail, adding to the back is ",(0,Ft.jsx)("span",{className:"equation",children:"O(n)"})," since we must traverse from the head to the last node."]}),(0,Ft.jsxs)("li",{children:["With the tail, adding to the back becomes ",(0,Ft.jsx)("span",{className:"equation",children:"O(1)"})," ","since we can set the next pointer of the tail to the new node and then have the tail point to the new node."]})]}),LSDRadix:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The range of sortable numbers for this visualization is [-99999, 999999]. Any numbers outside this range will not be sorted."}),(0,Ft.jsx)("li",{children:"When sorting negative numbers, a larger buckets array with indices -9 to 9 is needed."})]}),SkipList:(0,Ft.jsx)("ul",{children:(0,Ft.jsx)("li",{children:"You can get a degenerate SkipList by always adding with a constant amount of heads, for example 0 or 4."})}),OpenHash:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The Hash Integers option uses the integer key itself as a hashcode."}),(0,Ft.jsx)("li",{children:"This Hash Strings option hashes the string key using the sum of the key's ASCII values and the XOR operator."}),(0,Ft.jsx)("li",{children:"The True Hash option generates a Java-like hashcode for integer and string keys."}),(0,Ft.jsx)("li",{children:"Integer keys must be positive for these visualizations."})]}),SelectionSort:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The minimum option selects the smallest number to swap with."}),(0,Ft.jsx)("li",{children:"The maximum option selects the largest number to swap with."})]}),SplayTree:(0,Ft.jsx)("ul",{children:(0,Ft.jsx)("li",{children:"SplayTrees are optimized for frequently accessing the same subset of elements. After an operation on an element, the element is moved to the root of the tree. This allows for faster access next time this element is searched for, and frequently- searched elements will tend to be towards the top of the tree."})}),RabinKarp:(0,Ft.jsxs)("ul",{children:[(0,Ft.jsx)("li",{children:"The base value is initially set to 1."}),(0,Ft.jsx)("li",{children:"To reduce to liklihood of pattern/text hash collisions, a large prime number should be used for the base."})]})};var nc=t=>{let{theme:i,toggleTheme:s}=t;const[h]=St(),n=Q().pathname.slice(1),a=Xd[n],r=(0,e.useRef)(null),o=(0,e.useRef)(null),l=(0,e.useRef)(null),[d,c]=(0,e.useState)(!1),[u,m]=(0,e.useState)(!1),[g,p]=(0,e.useState)("english");(0,e.useEffect)((()=>{if(Xa.Ay.send({hitType:"pageview",page:n}),a){const[e,i,s,n]=a;l.current=new Ua(r,o);const d=new i(l.current,r.current.width,r.current.height);if(h.toString())try{d.setURLData(h)}catch(t){console.error(t)}const c=()=>{l.current.changeSize(document.body.clientWidth)};return window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}}}),[n,a,h]),(0,e.useEffect)((()=>{l.current&&(l.current.updateLayer(32,!1),l.current.updateLayer(33,!1),"english"===g?l.current.updateLayer(32,!0):"code"===g&&l.current.updateLayer(33,!0))}),[g]);const f=()=>{const t={none:"english",english:"code",code:"none"};p((e=>t[e]))};if(!a)return(0,Ft.jsx)(se,{});const[I,b,x,D]=a,y="Quickselect / k\u1d57\u02b0 Select"===I,v=D||I;return(0,Ft.jsx)("div",{className:"VisualizationMainPage",children:(0,Ft.jsxs)("div",{id:"container",children:[(0,Ft.jsx)("div",{id:"header",children:(0,Ft.jsxs)("h1",{children:[(0,Ft.jsx)(wt,{to:"/",children:"\u3008"}),"\xa0\xa0",y?(0,Ft.jsxs)(Ft.Fragment,{children:["Quickselect / k",(0,Ft.jsx)("sup",{children:"th"})," Select"]}):(0,Ft.jsx)(Ft.Fragment,{children:v}),(0,Ft.jsx)("div",{id:"toggle",children:"light"===i?(0,Ft.jsx)(Nt,{size:31,onClick:s,color:"#f9c333",className:"rotate-effect"}):(0,Ft.jsx)(Xt,{size:29,onClick:s,color:"#d4f1f1",className:"rotate-effect"})})]})}),(0,Ft.jsxs)("div",{id:"mainContent",children:[(0,Ft.jsxs)("div",{id:"algoControlSection",children:[(0,Ft.jsx)("table",{id:"AlgorithmSpecificControls"}),(0,Ft.jsxs)("div",{id:"toggles",children:[x&&"none"===g&&(0,Ft.jsx)(qt,{className:"pseudocode-toggle",size:32,onClick:f,opacity:"40%",title:"Code: Hidden"}),x&&"english"===g&&(0,Ft.jsx)(Wt,{className:"pseudocode-toggle",size:32,onClick:f,title:"Code: English"}),x&&"code"===g&&(0,Ft.jsx)($t,{className:"pseudocode-toggle",size:32,onClick:f,title:"Code: Pseudo"}),sc(n)&&(0,Ft.jsx)(Mt,{className:"menu-modal",size:30,onClick:()=>{c(!1),m((t=>!t))},opacity:u?"100%":"40%",title:"Time Complexities"}),hc[n]&&(0,Ft.jsx)(Ht,{className:"menu-modal",size:30,onClick:()=>{m(!1),c((t=>!t))},opacity:d?"100%":"40%",title:"More Information"})]})]}),(0,Ft.jsxs)("div",{className:"viewport",children:[(0,Ft.jsx)("canvas",{id:"canvas",width:0,height:"505",ref:r}),d&&(0,Ft.jsx)("div",{className:"modal",children:(0,Ft.jsx)("div",{className:"modal-content",children:hc[n]})}),u&&(0,Ft.jsx)("div",{className:"modal bigo",children:(0,Ft.jsx)("div",{className:"modal-content",children:sc(n)})})]}),(0,Ft.jsx)("div",{id:"generalAnimationControlSection",children:(0,Ft.jsx)("table",{id:"GeneralAnimationControls",ref:o})})]}),(0,Ft.jsx)("div",{id:"footer",children:(0,Ft.jsx)("p",{children:(0,Ft.jsx)(wt,{to:"/",children:"Return to Home Page"})})})]})})};function ac(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)t[s]=i[s]}return t}var rc=function t(e,i){function s(t,s,h){if("undefined"!==typeof document){"number"===typeof(h=ac({},i,h)).expires&&(h.expires=new Date(Date.now()+864e5*h.expires)),h.expires&&(h.expires=h.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var a in h)h[a]&&(n+="; "+a,!0!==h[a]&&(n+="="+h[a].split(";")[0]));return document.cookie=t+"="+e.write(s,t)+n}}return Object.create({set:s,get:function(t){if("undefined"!==typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],s={},h=0;h<i.length;h++){var n=i[h].split("="),a=n.slice(1).join("=");try{var r=decodeURIComponent(n[0]);if(s[r]=e.read(a,r),t===r)break}catch(mc){}}return t?s[t]:s}},remove:function(t,e){s(t,"",ac({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,ac({},this.attributes,e))},withConverter:function(e){return t(ac({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const oc=["All",...new Set(Yd.map((t=>t.category)))];function lc(t){let{button:e,filter:i}=t;return(0,Ft.jsx)("div",{className:"Side-Buttons",children:e.map(((t,e)=>(0,Ft.jsx)("button",{type:"button",onClick:()=>i(t),className:"btn",children:t},e)))})}function dc(t){let{filteredAlgoList:e}=t;return e.length?e.map(((t,e)=>Xd[t]&&(0,Ft.jsx)(wt,{to:`/${t}`,style:{textDecoration:"none"},children:(0,Ft.jsx)("button",{className:"button",style:"Bogo Sort"===Xd[t][0]||"LVA"===Xd[t][0]||"Non-Linear Probing"===Xd[t][0]?{background:"linear-gradient(90deg, rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100%)",color:"white",filter:"none"}:{},children:(0,Ft.jsxs)("div",{className:"algo-container",children:[(0,Ft.jsx)("div",{className:"algo-name",children:Xd[t][0]}),Xd[t][0]&&(0,Ft.jsx)("div",{className:"algo-picture",children:(0,Ft.jsx)("img",{alt:Xd[t][0],src:`./algo_buttons/${Xd[t][0]}.png`,onError:e=>{const i=e.target.src;i.endsWith(".png")?e.target.src=`./algo_buttons/${Xd[t][0]}.gif`:i.endsWith(".gif")&&(e.target.style.display="none")}})})]})})},e))):(0,Ft.jsx)("span",{className:"no-results",children:"No results found. Please try a different search term."})}var cc=t=>{let{theme:i,toggleTheme:s}=t;const[h,n]=(0,e.useState)(""),[a,r]=(0,e.useState)(Gd),o=a.filter((t=>!h||Xd[t]&&(t.toLowerCase().includes(h.toLowerCase())||Xd[t][0].toLowerCase().includes(h.toLowerCase())))),[l]=(0,e.useState)(oc);return(0,Ft.jsxs)("div",{className:"container",children:[(0,Ft.jsx)(ee,{theme:i,toggleTheme:s}),(0,Ft.jsx)("div",{className:"content",children:(0,Ft.jsxs)(pt,{children:[(0,Ft.jsx)(mt,{path:"*",element:(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)("div",{className:"outer-flex",children:[(0,Ft.jsxs)("div",{className:"side-panel",children:[(0,Ft.jsx)("input",{className:"dsa-filter",placeholder:"Search...",type:"search",onChange:t=>n(t.target.value)}),(0,Ft.jsx)(lc,{button:l,filter:t=>{if("All"===t)return void r(Gd);const e=Yd.filter((e=>e.category===t)).map((t=>t.id));r(e)}})]}),(0,Ft.jsx)("div",{className:"inner-flex",children:(0,Ft.jsx)(dc,{filteredAlgoList:o})})]})})}),(0,Ft.jsx)(mt,{path:"/about",element:(0,Ft.jsx)(ie,{})})]})}),(0,Ft.jsx)(At,{})]})};var uc=()=>{Xa.Ay.initialize("G-0ERQ9E89XM"),Xa.Ay.send({hitType:"pageview",page:"home"});const[t,i]=(0,e.useState)(!0),[s,h]=(0,e.useState)("light");(0,e.useEffect)((()=>{const t=rc.get("theme");t&&(h(t),document.body.setAttribute("data-theme",t)),i(!1)}),[]);const n=()=>{const t="light"===s?"dark":"light";h(t),rc.set("theme",t),document.body.setAttribute("data-theme",t)};return t?(0,Ft.jsx)("div",{children:"."}):(0,Ft.jsx)(vt,{basename:"/",children:(0,Ft.jsxs)(pt,{children:[(0,Ft.jsx)(mt,{path:"/about",element:(0,Ft.jsx)(ie,{theme:s,toggleTheme:n})}),(0,Ft.jsx)(mt,{path:"/:algo",element:(0,Ft.jsx)(nc,{theme:s,toggleTheme:n})}),(0,Ft.jsx)(mt,{path:"*",element:(0,Ft.jsx)(cc,{theme:s,toggleTheme:n})})]})})};Qe.createRoot(document.getElementById("root")).render((0,Ft.jsx)(uc,{}))}()}();
//# sourceMappingURL=main.ebe5816c.js.map
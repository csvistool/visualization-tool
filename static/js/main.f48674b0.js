/*! For license information please see main.f48674b0.js.LICENSE.txt */
!function(){"use strict";var t={730:function(t,e,i){var s=i(43),h=i(853);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(r[t]=e,t=0;t<e.length;t++)n.add(e[t])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function p(t,e,i,s,h,a,n){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=n}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){f[t]=new p(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];f[e]=new p(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){f[t]=new p(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){f[t]=new p(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){f[t]=new p(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){f[t]=new p(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){f[t]=new p(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){f[t]=new p(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){f[t]=new p(t,5,!1,t.toLowerCase(),null,!1,!1)}));var I=/[\-:]([a-z])/g;function x(t){return t[1].toUpperCase()}function b(t,e,i,s){var h=f.hasOwnProperty(e)?f[e]:null;(null!==h?0!==h.type:s||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,s){if(null===e||"undefined"===typeof e||function(t,e,i,s){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,s))return!0;if(s)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,h,s)&&(i=null),s||null===h?function(t){return!!c.call(g,t)||!c.call(m,t)&&(u.test(t)?g[t]=!0:(m[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):h.mustUseProperty?t[h.propertyName]=null===i?3!==h.type&&"":i:(e=h.attributeName,s=h.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(h=h.type)||4===h&&!0===i?"":""+i,s?t.setAttributeNS(s,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(I,x);f[e]=new p(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(I,x);f[e]=new p(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(I,x);f[e]=new p(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){f[t]=new p(t,1,!1,t.toLowerCase(),null,!1,!1)})),f.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){f[t]=new p(t,1,!1,t.toLowerCase(),null,!0,!0)}));var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),v=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),T=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function E(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=P&&t[P]||t["@@iterator"])?t:null}var R,N=Object.assign;function j(t){if(void 0===R)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);R=e&&e[1]||""}return"\n"+R+t}var O=!1;function H(t,e){if(!t||O)return"";O=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var s=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){s=l}t.call(e.prototype)}else{try{throw Error()}catch(l){s=l}t()}}catch(l){if(l&&s&&"string"===typeof l.stack){for(var h=l.stack.split("\n"),a=s.stack.split("\n"),n=h.length-1,r=a.length-1;1<=n&&0<=r&&h[n]!==a[r];)r--;for(;1<=n&&0<=r;n--,r--)if(h[n]!==a[r]){if(1!==n||1!==r)do{if(n--,0>--r||h[n]!==a[r]){var o="\n"+h[n].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}}while(1<=n&&0<=r);break}}}finally{O=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?j(t):""}function M(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=H(t.type,!1);case 11:return t=H(t.type.render,!1);case 1:return t=H(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case v:return"Portal";case w:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case A:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case L:return(t._context.displayName||"Context")+".Provider";case S:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case _:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case B:e=t._payload,t=t._init;try{return V(t(e))}catch(i){}}return null}function $(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function q(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function U(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var h=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(t){s=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=W(t)?t.checked?"true":"false":t.value),(t=s)!==i&&(e.setValue(t),!0)}function G(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var i=e.checked;return N({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function Q(t,e){var i=null==e.defaultValue?"":e.defaultValue,s=null!=e.checked?e.checked:e.defaultChecked;i=q(null!=e.value?e.value:i),t._wrapperState={initialChecked:s,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Y(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Z(t,e){Y(t,e);var i=q(e.value),s=e.type;if(null!=i)"number"===s?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===s||"reset"===s)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!("submit"!==s&&"reset"!==s||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&G(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,s){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&s&&(t[i].defaultSelected=!0)}else{for(i=""+q(i),e=null,h=0;h<t.length;h++){if(t[h].value===i)return t[h].selected=!0,void(s&&(t[h].defaultSelected=!0));null!==e||t[h].disabled||(e=t[h])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return N({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ht(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(a(92));if(et(i)){if(1<i.length)throw Error(a(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:q(i)}}function at(t,e){var i=q(e.value),s=q(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=s&&(t.defaultValue=""+s)}function nt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function rt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?rt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,dt,ct=(dt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction((function(){return dt(t,e)}))}:dt);function ut(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function pt(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||mt.hasOwnProperty(t)&&mt[t]?(""+e).trim():e+"px"}function ft(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var s=0===i.indexOf("--"),h=pt(i,e[i],s);"float"===i&&(i="cssFloat"),s?t.setProperty(i,h):t[i]=h}}Object.keys(mt).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mt[e]=mt[t]}))}));var It=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(t,e){if(e){if(It[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=null;function yt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var vt=null,kt=null,Ct=null;function wt(t){if(t=bh(t)){if("function"!==typeof vt)throw Error(a(280));var e=t.stateNode;e&&(e=yh(e),vt(t.stateNode,t.type,e))}}function Lt(t){kt?Ct?Ct.push(t):Ct=[t]:kt=t}function Tt(){if(kt){var t=kt,e=Ct;if(Ct=kt=null,wt(t),e)for(t=0;t<e.length;t++)wt(e[t])}}function St(t,e){return t(e)}function Ft(){}var At=!1;function _t(t,e,i){if(At)return t(e,i);At=!0;try{return St(t,e,i)}finally{At=!1,(null!==kt||null!==Ct)&&(Ft(),Tt())}}function Bt(t,e){var i=t.stateNode;if(null===i)return null;var s=yh(i);if(null===s)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(a(231,e,typeof i));return i}var zt=!1;if(d)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch(dt){zt=!1}function Et(t,e,i,s,h,a,n,r,o){var l=Array.prototype.slice.call(arguments,3);try{e.apply(i,l)}catch(d){this.onError(d)}}var Rt=!1,Nt=null,jt=!1,Ot=null,Ht={onError:function(t){Rt=!0,Nt=t}};function Mt(t,e,i,s,h,a,n,r,o){Rt=!1,Nt=null,Et.apply(Ht,arguments)}function Vt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(Vt(t)!==t)throw Error(a(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(a(188));return e!==t?null:t}for(var i=t,s=e;;){var h=i.return;if(null===h)break;var n=h.alternate;if(null===n){if(null!==(s=h.return)){i=s;continue}break}if(h.child===n.child){for(n=h.child;n;){if(n===i)return qt(h),t;if(n===s)return qt(h),e;n=n.sibling}throw Error(a(188))}if(i.return!==s.return)i=h,s=n;else{for(var r=!1,o=h.child;o;){if(o===i){r=!0,i=h,s=n;break}if(o===s){r=!0,s=h,i=n;break}o=o.sibling}if(!r){for(o=n.child;o;){if(o===i){r=!0,i=n,s=h;break}if(o===s){r=!0,s=n,i=h;break}o=o.sibling}if(!r)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(3!==i.tag)throw Error(a(188));return i.stateNode.current===i?t:e}(t))?Ut(t):null}function Ut(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Ut(t);if(null!==e)return e;t=t.sibling}return null}var Kt=h.unstable_scheduleCallback,Gt=h.unstable_cancelCallback,Xt=h.unstable_shouldYield,Qt=h.unstable_requestPaint,Yt=h.unstable_now,Zt=h.unstable_getCurrentPriorityLevel,Jt=h.unstable_ImmediatePriority,te=h.unstable_UserBlockingPriority,ee=h.unstable_NormalPriority,ie=h.unstable_LowPriority,se=h.unstable_IdlePriority,he=null,ae=null;var ne=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(re(t)/oe|0)|0},re=Math.log,oe=Math.LN2;var le=64,de=4194304;function ce(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ue(t,e){var i=t.pendingLanes;if(0===i)return 0;var s=0,h=t.suspendedLanes,a=t.pingedLanes,n=268435455&i;if(0!==n){var r=n&~h;0!==r?s=ce(r):0!==(a&=n)&&(s=ce(a))}else 0!==(n=i&~h)?s=ce(n):0!==a&&(s=ce(a));if(0===s)return 0;if(0!==e&&e!==s&&0===(e&h)&&((h=s&-s)>=(a=e&-e)||16===h&&0!==(4194240&a)))return e;if(0!==(4&s)&&(s|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=s;0<e;)h=1<<(i=31-ne(e)),s|=t[i],e&=~h;return s}function me(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function pe(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function fe(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Ie(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ne(e)]=i}function xe(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-ne(i),h=1<<s;h&e|t[s]&e&&(t[s]|=e),i&=~h}}var be=0;function De(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var ye,ve,ke,Ce,we,Le=!1,Te=[],Se=null,Fe=null,Ae=null,_e=new Map,Be=new Map,ze=[],Pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ee(t,e){switch(t){case"focusin":case"focusout":Se=null;break;case"dragenter":case"dragleave":Fe=null;break;case"mouseover":case"mouseout":Ae=null;break;case"pointerover":case"pointerout":_e.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Be.delete(e.pointerId)}}function Re(t,e,i,s,h,a){return null===t||t.nativeEvent!==a?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:a,targetContainers:[h]},null!==e&&(null!==(e=bh(e))&&ve(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,null!==h&&-1===e.indexOf(h)&&e.push(h),t)}function Ne(t){var e=xh(t.target);if(null!==e){var i=Vt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=$t(i)))return t.blockedOn=e,void we(t.priority,(function(){ke(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=bh(i))&&ve(e),t.blockedOn=i,!1;var s=new(i=t.nativeEvent).constructor(i.type,i);Dt=s,i.target.dispatchEvent(s),Dt=null,e.shift()}return!0}function Oe(t,e,i){je(t)&&i.delete(e)}function He(){Le=!1,null!==Se&&je(Se)&&(Se=null),null!==Fe&&je(Fe)&&(Fe=null),null!==Ae&&je(Ae)&&(Ae=null),_e.forEach(Oe),Be.forEach(Oe)}function Me(t,e){t.blockedOn===e&&(t.blockedOn=null,Le||(Le=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,He)))}function Ve(t){function e(e){return Me(e,t)}if(0<Te.length){Me(Te[0],t);for(var i=1;i<Te.length;i++){var s=Te[i];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==Se&&Me(Se,t),null!==Fe&&Me(Fe,t),null!==Ae&&Me(Ae,t),_e.forEach(e),Be.forEach(e),i=0;i<ze.length;i++)(s=ze[i]).blockedOn===t&&(s.blockedOn=null);for(;0<ze.length&&null===(i=ze[0]).blockedOn;)Ne(i),null===i.blockedOn&&ze.shift()}var $e=D.ReactCurrentBatchConfig,qe=!0;function We(t,e,i,s){var h=be,a=$e.transition;$e.transition=null;try{be=1,Ke(t,e,i,s)}finally{be=h,$e.transition=a}}function Ue(t,e,i,s){var h=be,a=$e.transition;$e.transition=null;try{be=4,Ke(t,e,i,s)}finally{be=h,$e.transition=a}}function Ke(t,e,i,s){if(qe){var h=Xe(t,e,i,s);if(null===h)qs(t,e,s,Ge,i),Ee(t,s);else if(function(t,e,i,s,h){switch(e){case"focusin":return Se=Re(Se,t,e,i,s,h),!0;case"dragenter":return Fe=Re(Fe,t,e,i,s,h),!0;case"mouseover":return Ae=Re(Ae,t,e,i,s,h),!0;case"pointerover":var a=h.pointerId;return _e.set(a,Re(_e.get(a)||null,t,e,i,s,h)),!0;case"gotpointercapture":return a=h.pointerId,Be.set(a,Re(Be.get(a)||null,t,e,i,s,h)),!0}return!1}(h,t,e,i,s))s.stopPropagation();else if(Ee(t,s),4&e&&-1<Pe.indexOf(t)){for(;null!==h;){var a=bh(h);if(null!==a&&ye(a),null===(a=Xe(t,e,i,s))&&qs(t,e,s,Ge,i),a===h)break;h=a}null!==h&&s.stopPropagation()}else qs(t,e,s,null,i)}}var Ge=null;function Xe(t,e,i,s){if(Ge=null,null!==(t=xh(t=yt(s))))if(null===(e=Vt(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=$t(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ge=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case Jt:return 1;case te:return 4;case ee:case ie:return 16;case se:return 536870912;default:return 16}default:return 16}}var Ye=null,Ze=null,Je=null;function ti(){if(Je)return Je;var t,e,i=Ze,s=i.length,h="value"in Ye?Ye.value:Ye.textContent,a=h.length;for(t=0;t<s&&i[t]===h[t];t++);var n=s-t;for(e=1;e<=n&&i[s-e]===h[a-e];e++);return Je=h.slice(t,1<e?1-e:void 0)}function ii(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function si(){return!0}function hi(){return!1}function ai(t){function e(e,i,s,h,a){for(var n in this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=h,this.target=a,this.currentTarget=null,t)t.hasOwnProperty(n)&&(e=t[n],this[n]=e?e(h):h[n]);return this.isDefaultPrevented=(null!=h.defaultPrevented?h.defaultPrevented:!1===h.returnValue)?si:hi,this.isPropagationStopped=hi,this}return N(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),e}var ni,ri,oi,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ai(li),ci=N({},li,{view:0,detail:0}),ui=ai(ci),mi=N({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&"mousemove"===t.type?(ni=t.screenX-oi.screenX,ri=t.screenY-oi.screenY):ri=ni=0,oi=t),ni)},movementY:function(t){return"movementY"in t?t.movementY:ri}}),gi=ai(mi),pi=ai(N({},mi,{dataTransfer:0})),fi=ai(N({},ci,{relatedTarget:0})),Ii=ai(N({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),xi=N({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bi=ai(xi),Di=ai(N({},li,{data:0})),yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ki={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ci(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=ki[t])&&!!e[t]}function wi(){return Ci}var Li=N({},ci,{key:function(t){if(t.key){var e=yi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ii(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?vi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(t){return"keypress"===t.type?ii(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ii(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ti=ai(Li),Si=ai(N({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fi=ai(N({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi})),Ai=ai(N({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),_i=N({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bi=ai(_i),zi=[9,13,27,32],Pi=d&&"CompositionEvent"in window,Ei=null;d&&"documentMode"in document&&(Ei=document.documentMode);var Ri=d&&"TextEvent"in window&&!Ei,Ni=d&&(!Pi||Ei&&8<Ei&&11>=Ei),ji=String.fromCharCode(32),Oi=!1;function Hi(t,e){switch(t){case"keyup":return-1!==zi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vi=!1;var $i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!$i[t.type]:"textarea"===e}function Wi(t,e,i,s){Lt(s),0<(e=Us(e,"onChange")).length&&(i=new di("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var Ui=null,Ki=null;function Gi(t){js(t,0)}function Xi(t){if(K(Dh(t)))return t}function Qi(t,e){if("change"===t)return e}var Yi=!1;if(d){var Zi;if(d){var Ji="oninput"in document;if(!Ji){var ts=document.createElement("div");ts.setAttribute("oninput","return;"),Ji="function"===typeof ts.oninput}Zi=Ji}else Zi=!1;Yi=Zi&&(!document.documentMode||9<document.documentMode)}function es(){Ui&&(Ui.detachEvent("onpropertychange",is),Ki=Ui=null)}function is(t){if("value"===t.propertyName&&Xi(Ki)){var e=[];Wi(e,Ki,t,yt(t)),_t(Gi,e)}}function ss(t,e,i){"focusin"===t?(es(),Ki=i,(Ui=e).attachEvent("onpropertychange",is)):"focusout"===t&&es()}function hs(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xi(Ki)}function as(t,e){if("click"===t)return Xi(e)}function ns(t,e){if("input"===t||"change"===t)return Xi(e)}var rs="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function os(t,e){if(rs(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var h=i[s];if(!c.call(e,h)||!rs(t[h],e[h]))return!1}return!0}function ls(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ds(t,e){var i,s=ls(t);for(t=0;s;){if(3===s.nodeType){if(i=t+s.textContent.length,t<=e&&i>=e)return{node:s,offset:e-t};t=i}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ls(s)}}function cs(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?cs(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function us(){for(var t=window,e=G();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(s){i=!1}if(!i)break;e=G((t=e.contentWindow).document)}return e}function ms(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function gs(t){var e=us(),i=t.focusedElem,s=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&cs(i.ownerDocument.documentElement,i)){if(null!==s&&ms(i))if(e=s.start,void 0===(t=s.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var h=i.textContent.length,a=Math.min(s.start,h);s=void 0===s.end?a:Math.min(s.end,h),!t.extend&&a>s&&(h=s,s=a,a=h),h=ds(i,a);var n=ds(i,s);h&&n&&(1!==t.rangeCount||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==n.node||t.focusOffset!==n.offset)&&((e=e.createRange()).setStart(h.node,h.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(n.node,n.offset)):(e.setEnd(n.node,n.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ps=d&&"documentMode"in document&&11>=document.documentMode,fs=null,Is=null,xs=null,bs=!1;function Ds(t,e,i){var s=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bs||null==fs||fs!==G(s)||("selectionStart"in(s=fs)&&ms(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},xs&&os(xs,s)||(xs=s,0<(s=Us(Is,"onSelect")).length&&(e=new di("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=fs)))}function ys(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var vs={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},ks={},Cs={};function ws(t){if(ks[t])return ks[t];if(!vs[t])return t;var e,i=vs[t];for(e in i)if(i.hasOwnProperty(e)&&e in Cs)return ks[t]=i[e];return t}d&&(Cs=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);var Ls=ws("animationend"),Ts=ws("animationiteration"),Ss=ws("animationstart"),Fs=ws("transitionend"),As=new Map,_s="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(t,e){As.set(t,e),o(e,[t])}for(var zs=0;zs<_s.length;zs++){var Ps=_s[zs];Bs(Ps.toLowerCase(),"on"+(Ps[0].toUpperCase()+Ps.slice(1)))}Bs(Ls,"onAnimationEnd"),Bs(Ts,"onAnimationIteration"),Bs(Ss,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(Fs,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rs=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function Ns(t,e,i){var s=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,s,h,n,r,o,l){if(Mt.apply(this,arguments),Rt){if(!Rt)throw Error(a(198));var d=Nt;Rt=!1,Nt=null,jt||(jt=!0,Ot=d)}}(s,e,void 0,t),t.currentTarget=null}function js(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var s=t[i],h=s.event;s=s.listeners;t:{var a=void 0;if(e)for(var n=s.length-1;0<=n;n--){var r=s[n],o=r.instance,l=r.currentTarget;if(r=r.listener,o!==a&&h.isPropagationStopped())break t;Ns(h,r,l),a=o}else for(n=0;n<s.length;n++){if(o=(r=s[n]).instance,l=r.currentTarget,r=r.listener,o!==a&&h.isPropagationStopped())break t;Ns(h,r,l),a=o}}}if(jt)throw t=Ot,jt=!1,Ot=null,t}function Os(t,e){var i=e[ph];void 0===i&&(i=e[ph]=new Set);var s=t+"__bubble";i.has(s)||($s(e,t,2,!1),i.add(s))}function Hs(t,e,i){var s=0;e&&(s|=4),$s(i,t,s,e)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function Vs(t){if(!t[Ms]){t[Ms]=!0,n.forEach((function(e){"selectionchange"!==e&&(Rs.has(e)||Hs(e,!1,t),Hs(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ms]||(e[Ms]=!0,Hs("selectionchange",!1,e))}}function $s(t,e,i,s){switch(Qe(e)){case 1:var h=We;break;case 4:h=Ue;break;default:h=Ke}i=h.bind(null,e,i,t),h=void 0,!zt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(h=!0),s?void 0!==h?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):void 0!==h?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function qs(t,e,i,s,h){var a=s;if(0===(1&e)&&0===(2&e)&&null!==s)t:for(;;){if(null===s)return;var n=s.tag;if(3===n||4===n){var r=s.stateNode.containerInfo;if(r===h||8===r.nodeType&&r.parentNode===h)break;if(4===n)for(n=s.return;null!==n;){var o=n.tag;if((3===o||4===o)&&((o=n.stateNode.containerInfo)===h||8===o.nodeType&&o.parentNode===h))return;n=n.return}for(;null!==r;){if(null===(n=xh(r)))return;if(5===(o=n.tag)||6===o){s=a=n;continue t}r=r.parentNode}}s=s.return}_t((function(){var s=a,h=yt(i),n=[];t:{var r=As.get(t);if(void 0!==r){var o=di,l=t;switch(t){case"keypress":if(0===ii(i))break t;case"keydown":case"keyup":o=Ti;break;case"focusin":l="focus",o=fi;break;case"focusout":l="blur",o=fi;break;case"beforeblur":case"afterblur":o=fi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Fi;break;case Ls:case Ts:case Ss:o=Ii;break;case Fs:o=Ai;break;case"scroll":o=ui;break;case"wheel":o=Bi;break;case"copy":case"cut":case"paste":o=bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Si}var d=0!==(4&e),c=!d&&"scroll"===t,u=d?null!==r?r+"Capture":null:r;d=[];for(var m,g=s;null!==g;){var p=(m=g).stateNode;if(5===m.tag&&null!==p&&(m=p,null!==u&&(null!=(p=Bt(g,u))&&d.push(Ws(g,p,m)))),c)break;g=g.return}0<d.length&&(r=new o(r,l,null,i,h),n.push({event:r,listeners:d}))}}if(0===(7&e)){if(o="mouseout"===t||"pointerout"===t,(!(r="mouseover"===t||"pointerover"===t)||i===Dt||!(l=i.relatedTarget||i.fromElement)||!xh(l)&&!l[gh])&&(o||r)&&(r=h.window===h?h:(r=h.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=s,null!==(l=(l=i.relatedTarget||i.toElement)?xh(l):null)&&(l!==(c=Vt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(o=null,l=s),o!==l)){if(d=gi,p="onMouseLeave",u="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(d=Si,p="onPointerLeave",u="onPointerEnter",g="pointer"),c=null==o?r:Dh(o),m=null==l?r:Dh(l),(r=new d(p,g+"leave",o,i,h)).target=c,r.relatedTarget=m,p=null,xh(h)===s&&((d=new d(u,g+"enter",l,i,h)).target=m,d.relatedTarget=c,p=d),c=p,o&&l)t:{for(u=l,g=0,m=d=o;m;m=Ks(m))g++;for(m=0,p=u;p;p=Ks(p))m++;for(;0<g-m;)d=Ks(d),g--;for(;0<m-g;)u=Ks(u),m--;for(;g--;){if(d===u||null!==u&&d===u.alternate)break t;d=Ks(d),u=Ks(u)}d=null}else d=null;null!==o&&Gs(n,r,o,d,!1),null!==l&&null!==c&&Gs(n,c,l,d,!0)}if("select"===(o=(r=s?Dh(s):window).nodeName&&r.nodeName.toLowerCase())||"input"===o&&"file"===r.type)var f=Qi;else if(qi(r))if(Yi)f=ns;else{f=hs;var I=ss}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(f=as);switch(f&&(f=f(t,s))?Wi(n,f,i,h):(I&&I(t,r,s),"focusout"===t&&(I=r._wrapperState)&&I.controlled&&"number"===r.type&&tt(r,"number",r.value)),I=s?Dh(s):window,t){case"focusin":(qi(I)||"true"===I.contentEditable)&&(fs=I,Is=s,xs=null);break;case"focusout":xs=Is=fs=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,Ds(n,i,h);break;case"selectionchange":if(ps)break;case"keydown":case"keyup":Ds(n,i,h)}var x;if(Pi)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vi?Hi(t,i)&&(b="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(b="onCompositionStart");b&&(Ni&&"ko"!==i.locale&&(Vi||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vi&&(x=ti()):(Ze="value"in(Ye=h)?Ye.value:Ye.textContent,Vi=!0)),0<(I=Us(s,b)).length&&(b=new Di(b,t,null,i,h),n.push({event:b,listeners:I}),x?b.data=x:null!==(x=Mi(i))&&(b.data=x))),(x=Ri?function(t,e){switch(t){case"compositionend":return Mi(e);case"keypress":return 32!==e.which?null:(Oi=!0,ji);case"textInput":return(t=e.data)===ji&&Oi?null:t;default:return null}}(t,i):function(t,e){if(Vi)return"compositionend"===t||!Pi&&Hi(t,e)?(t=ti(),Je=Ze=Ye=null,Vi=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ni&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(s=Us(s,"onBeforeInput")).length&&(h=new Di("onBeforeInput","beforeinput",null,i,h),n.push({event:h,listeners:s}),h.data=x))}js(n,e)}))}function Ws(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Us(t,e){for(var i=e+"Capture",s=[];null!==t;){var h=t,a=h.stateNode;5===h.tag&&null!==a&&(h=a,null!=(a=Bt(t,i))&&s.unshift(Ws(t,a,h)),null!=(a=Bt(t,e))&&s.push(Ws(t,a,h))),t=t.return}return s}function Ks(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Gs(t,e,i,s,h){for(var a=e._reactName,n=[];null!==i&&i!==s;){var r=i,o=r.alternate,l=r.stateNode;if(null!==o&&o===s)break;5===r.tag&&null!==l&&(r=l,h?null!=(o=Bt(i,a))&&n.unshift(Ws(i,o,r)):h||null!=(o=Bt(i,a))&&n.push(Ws(i,o,r))),i=i.return}0!==n.length&&t.push({event:e,listeners:n})}var Xs=/\r\n?/g,Qs=/\u0000|\uFFFD/g;function Ys(t){return("string"===typeof t?t:""+t).replace(Xs,"\n").replace(Qs,"")}function Zs(t,e,i){if(e=Ys(e),Ys(t)!==e&&i)throw Error(a(425))}function Js(){}var th=null,eh=null;function ih(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var sh="function"===typeof setTimeout?setTimeout:void 0,hh="function"===typeof clearTimeout?clearTimeout:void 0,ah="function"===typeof Promise?Promise:void 0,nh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ah?function(t){return ah.resolve(null).then(t).catch(rh)}:sh;function rh(t){setTimeout((function(){throw t}))}function oh(t,e){var i=e,s=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&8===h.nodeType)if("/$"===(i=h.data)){if(0===s)return t.removeChild(h),void Ve(e);s--}else"$"!==i&&"$?"!==i&&"$!"!==i||s++;i=h}while(i);Ve(e)}function lh(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function dh(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var ch=Math.random().toString(36).slice(2),uh="__reactFiber$"+ch,mh="__reactProps$"+ch,gh="__reactContainer$"+ch,ph="__reactEvents$"+ch,fh="__reactListeners$"+ch,Ih="__reactHandles$"+ch;function xh(t){var e=t[uh];if(e)return e;for(var i=t.parentNode;i;){if(e=i[gh]||i[uh]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=dh(t);null!==t;){if(i=t[uh])return i;t=dh(t)}return e}i=(t=i).parentNode}return null}function bh(t){return!(t=t[uh]||t[gh])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Dh(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function yh(t){return t[mh]||null}var vh=[],kh=-1;function Ch(t){return{current:t}}function wh(t){0>kh||(t.current=vh[kh],vh[kh]=null,kh--)}function Lh(t,e){kh++,vh[kh]=t.current,t.current=e}var Th={},Sh=Ch(Th),Fh=Ch(!1),Ah=Th;function _h(t,e){var i=t.type.contextTypes;if(!i)return Th;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var h,a={};for(h in i)a[h]=e[h];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Bh(t){return null!==(t=t.childContextTypes)&&void 0!==t}function zh(){wh(Fh),wh(Sh)}function Ph(t,e,i){if(Sh.current!==Th)throw Error(a(168));Lh(Sh,e),Lh(Fh,i)}function Eh(t,e,i){var s=t.stateNode;if(e=e.childContextTypes,"function"!==typeof s.getChildContext)return i;for(var h in s=s.getChildContext())if(!(h in e))throw Error(a(108,$(t)||"Unknown",h));return N({},i,s)}function Rh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Th,Ah=Sh.current,Lh(Sh,t),Lh(Fh,Fh.current),!0}function Nh(t,e,i){var s=t.stateNode;if(!s)throw Error(a(169));i?(t=Eh(t,e,Ah),s.__reactInternalMemoizedMergedChildContext=t,wh(Fh),wh(Sh),Lh(Sh,t)):wh(Fh),Lh(Fh,i)}var jh=null,Oh=!1,Hh=!1;function Mh(t){null===jh?jh=[t]:jh.push(t)}function Vh(){if(!Hh&&null!==jh){Hh=!0;var t=0,e=be;try{var i=jh;for(be=1;t<i.length;t++){var s=i[t];do{s=s(!0)}while(null!==s)}jh=null,Oh=!1}catch(h){throw null!==jh&&(jh=jh.slice(t+1)),Kt(Jt,Vh),h}finally{be=e,Hh=!1}}return null}var $h=[],qh=0,Wh=null,Uh=0,Kh=[],Gh=0,Xh=null,Qh=1,Yh="";function Zh(t,e){$h[qh++]=Uh,$h[qh++]=Wh,Wh=t,Uh=e}function Jh(t,e,i){Kh[Gh++]=Qh,Kh[Gh++]=Yh,Kh[Gh++]=Xh,Xh=t;var s=Qh;t=Yh;var h=32-ne(s)-1;s&=~(1<<h),i+=1;var a=32-ne(e)+h;if(30<a){var n=h-h%5;a=(s&(1<<n)-1).toString(32),s>>=n,h-=n,Qh=1<<32-ne(e)+h|i<<h|s,Yh=a+t}else Qh=1<<a|i<<h|s,Yh=t}function ta(t){null!==t.return&&(Zh(t,1),Jh(t,1,0))}function ea(t){for(;t===Wh;)Wh=$h[--qh],$h[qh]=null,Uh=$h[--qh],$h[qh]=null;for(;t===Xh;)Xh=Kh[--Gh],Kh[Gh]=null,Yh=Kh[--Gh],Kh[Gh]=null,Qh=Kh[--Gh],Kh[Gh]=null}var ia=null,sa=null,ha=!1,aa=null;function na(t,e){var i=zl(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function ra(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ia=t,sa=lh(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ia=t,sa=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==Xh?{id:Qh,overflow:Yh}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=zl(18,null,null,0)).stateNode=e,i.return=t,t.child=i,ia=t,sa=null,!0);default:return!1}}function oa(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function la(t){if(ha){var e=sa;if(e){var i=e;if(!ra(t,e)){if(oa(t))throw Error(a(418));e=lh(i.nextSibling);var s=ia;e&&ra(t,e)?na(s,i):(t.flags=-4097&t.flags|2,ha=!1,ia=t)}}else{if(oa(t))throw Error(a(418));t.flags=-4097&t.flags|2,ha=!1,ia=t}}}function da(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ia=t}function ca(t){if(t!==ia)return!1;if(!ha)return da(t),ha=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ih(t.type,t.memoizedProps)),e&&(e=sa)){if(oa(t))throw ua(),Error(a(418));for(;e;)na(t,e),e=lh(e.nextSibling)}if(da(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){sa=lh(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}sa=null}}else sa=ia?lh(t.stateNode.nextSibling):null;return!0}function ua(){for(var t=sa;t;)t=lh(t.nextSibling)}function ma(){sa=ia=null,ha=!1}function ga(t){null===aa?aa=[t]:aa.push(t)}var pa=D.ReactCurrentBatchConfig;function fa(t,e){if(t&&t.defaultProps){for(var i in e=N({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}var Ia=Ch(null),xa=null,ba=null,Da=null;function ya(){Da=ba=xa=null}function va(t){var e=Ia.current;wh(Ia),t._currentValue=e}function ka(t,e,i){for(;null!==t;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==s&&(s.childLanes|=e)):null!==s&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function Ca(t,e){xa=t,Da=ba=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Dr=!0),t.firstContext=null)}function wa(t){var e=t._currentValue;if(Da!==t)if(t={context:t,memoizedValue:e,next:null},null===ba){if(null===xa)throw Error(a(308));ba=t,xa.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return e}var La=null;function Ta(t){null===La?La=[t]:La.push(t)}function Sa(t,e,i,s){var h=e.interleaved;return null===h?(i.next=i,Ta(e)):(i.next=h.next,h.next=i),e.interleaved=i,Fa(t,s)}function Fa(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var Aa=!1;function _a(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function za(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(t,e,i){var s=t.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Ao)){var h=s.pending;return null===h?e.next=e:(e.next=h.next,h.next=e),s.pending=e,Fa(t,i)}return null===(h=s.interleaved)?(e.next=e,Ta(s)):(e.next=h.next,h.next=e),s.interleaved=e,Fa(t,i)}function Ea(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var s=e.lanes;i|=s&=t.pendingLanes,e.lanes=i,xe(t,i)}}function Ra(t,e){var i=t.updateQueue,s=t.alternate;if(null!==s&&i===(s=s.updateQueue)){var h=null,a=null;if(null!==(i=i.firstBaseUpdate)){do{var n={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===a?h=a=n:a=a.next=n,i=i.next}while(null!==i);null===a?h=a=e:a=a.next=e}else h=a=e;return i={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:a,shared:s.shared,effects:s.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Na(t,e,i,s){var h=t.updateQueue;Aa=!1;var a=h.firstBaseUpdate,n=h.lastBaseUpdate,r=h.shared.pending;if(null!==r){h.shared.pending=null;var o=r,l=o.next;o.next=null,null===n?a=l:n.next=l,n=o;var d=t.alternate;null!==d&&((r=(d=d.updateQueue).lastBaseUpdate)!==n&&(null===r?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=o))}if(null!==a){var c=h.baseState;for(n=0,d=l=o=null,r=a;;){var u=r.lane,m=r.eventTime;if((s&u)===u){null!==d&&(d=d.next={eventTime:m,lane:0,tag:r.tag,payload:r.payload,callback:r.callback,next:null});t:{var g=t,p=r;switch(u=e,m=i,p.tag){case 1:if("function"===typeof(g=p.payload)){c=g.call(m,c,u);break t}c=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(u="function"===typeof(g=p.payload)?g.call(m,c,u):g)||void 0===u)break t;c=N({},c,u);break t;case 2:Aa=!0}}null!==r.callback&&0!==r.lane&&(t.flags|=64,null===(u=h.effects)?h.effects=[r]:u.push(r))}else m={eventTime:m,lane:u,tag:r.tag,payload:r.payload,callback:r.callback,next:null},null===d?(l=d=m,o=c):d=d.next=m,n|=u;if(null===(r=r.next)){if(null===(r=h.shared.pending))break;r=(u=r).next,u.next=null,h.lastBaseUpdate=u,h.shared.pending=null}}if(null===d&&(o=c),h.baseState=o,h.firstBaseUpdate=l,h.lastBaseUpdate=d,null!==(e=h.shared.interleaved)){h=e;do{n|=h.lane,h=h.next}while(h!==e)}else null===a&&(h.shared.lanes=0);jo|=n,t.lanes=n,t.memoizedState=c}}function ja(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var s=t[e],h=s.callback;if(null!==h){if(s.callback=null,s=i,"function"!==typeof h)throw Error(a(191,h));h.call(s)}}}var Oa=(new s.Component).refs;function Ha(t,e,i,s){i=null===(i=i(s,e=t.memoizedState))||void 0===i?e:N({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var Ma={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var s=il(),h=sl(t),a=za(s,h);a.payload=e,void 0!==i&&null!==i&&(a.callback=i),null!==(e=Pa(t,a,h))&&(hl(e,t,h,s),Ea(e,t,h))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=il(),h=sl(t),a=za(s,h);a.tag=1,a.payload=e,void 0!==i&&null!==i&&(a.callback=i),null!==(e=Pa(t,a,h))&&(hl(e,t,h,s),Ea(e,t,h))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=il(),s=sl(t),h=za(i,s);h.tag=2,void 0!==e&&null!==e&&(h.callback=e),null!==(e=Pa(t,h,s))&&(hl(e,t,s,i),Ea(e,t,s))}};function Va(t,e,i,s,h,a,n){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,a,n):!e.prototype||!e.prototype.isPureReactComponent||(!os(i,s)||!os(h,a))}function $a(t,e,i){var s=!1,h=Th,a=e.contextType;return"object"===typeof a&&null!==a?a=wa(a):(h=Bh(e)?Ah:Sh.current,a=(s=null!==(s=e.contextTypes)&&void 0!==s)?_h(t,h):Th),e=new e(i,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Ma,t.stateNode=e,e._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=a),e}function qa(t,e,i,s){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,s),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&Ma.enqueueReplaceState(e,e.state,null)}function Wa(t,e,i,s){var h=t.stateNode;h.props=i,h.state=t.memoizedState,h.refs=Oa,_a(t);var a=e.contextType;"object"===typeof a&&null!==a?h.context=wa(a):(a=Bh(e)?Ah:Sh.current,h.context=_h(t,a)),h.state=t.memoizedState,"function"===typeof(a=e.getDerivedStateFromProps)&&(Ha(t,e,a,i),h.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof h.getSnapshotBeforeUpdate||"function"!==typeof h.UNSAFE_componentWillMount&&"function"!==typeof h.componentWillMount||(e=h.state,"function"===typeof h.componentWillMount&&h.componentWillMount(),"function"===typeof h.UNSAFE_componentWillMount&&h.UNSAFE_componentWillMount(),e!==h.state&&Ma.enqueueReplaceState(h,h.state,null),Na(t,i,h,s),h.state=t.memoizedState),"function"===typeof h.componentDidMount&&(t.flags|=4194308)}function Ua(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(a(309));var s=i.stateNode}if(!s)throw Error(a(147,t));var h=s,n=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===n?e.ref:(e=function(t){var e=h.refs;e===Oa&&(e=h.refs={}),null===t?delete e[n]:e[n]=t},e._stringRef=n,e)}if("string"!==typeof t)throw Error(a(284));if(!i._owner)throw Error(a(290,t))}return t}function Ka(t,e){throw t=Object.prototype.toString.call(e),Error(a(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ga(t){return(0,t._init)(t._payload)}function Xa(t){function e(e,i){if(t){var s=e.deletions;null===s?(e.deletions=[i],e.flags|=16):s.push(i)}}function i(i,s){if(!t)return null;for(;null!==s;)e(i,s),s=s.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function h(t,e){return(t=El(t,e)).index=0,t.sibling=null,t}function n(e,i,s){return e.index=s,t?null!==(s=e.alternate)?(s=s.index)<i?(e.flags|=2,i):s:(e.flags|=2,i):(e.flags|=1048576,i)}function r(e){return t&&null===e.alternate&&(e.flags|=2),e}function o(t,e,i,s){return null===e||6!==e.tag?((e=Ol(i,t.mode,s)).return=t,e):((e=h(e,i)).return=t,e)}function l(t,e,i,s){var a=i.type;return a===k?c(t,e,i.props.children,s,i.key):null!==e&&(e.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===B&&Ga(a)===e.type)?((s=h(e,i.props)).ref=Ua(t,e,i),s.return=t,s):((s=Rl(i.type,i.key,i.props,null,t.mode,s)).ref=Ua(t,e,i),s.return=t,s)}function d(t,e,i,s){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Hl(i,t.mode,s)).return=t,e):((e=h(e,i.children||[])).return=t,e)}function c(t,e,i,s,a){return null===e||7!==e.tag?((e=Nl(i,t.mode,s,a)).return=t,e):((e=h(e,i)).return=t,e)}function u(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Ol(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case y:return(i=Rl(e.type,e.key,e.props,null,t.mode,i)).ref=Ua(t,null,e),i.return=t,i;case v:return(e=Hl(e,t.mode,i)).return=t,e;case B:return u(t,(0,e._init)(e._payload),i)}if(et(e)||E(e))return(e=Nl(e,t.mode,i,null)).return=t,e;Ka(t,e)}return null}function m(t,e,i,s){var h=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==h?null:o(t,e,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case y:return i.key===h?l(t,e,i,s):null;case v:return i.key===h?d(t,e,i,s):null;case B:return m(t,e,(h=i._init)(i._payload),s)}if(et(i)||E(i))return null!==h?null:c(t,e,i,s,null);Ka(t,i)}return null}function g(t,e,i,s,h){if("string"===typeof s&&""!==s||"number"===typeof s)return o(e,t=t.get(i)||null,""+s,h);if("object"===typeof s&&null!==s){switch(s.$$typeof){case y:return l(e,t=t.get(null===s.key?i:s.key)||null,s,h);case v:return d(e,t=t.get(null===s.key?i:s.key)||null,s,h);case B:return g(t,e,i,(0,s._init)(s._payload),h)}if(et(s)||E(s))return c(e,t=t.get(i)||null,s,h,null);Ka(e,s)}return null}function p(h,a,r,o){for(var l=null,d=null,c=a,p=a=0,f=null;null!==c&&p<r.length;p++){c.index>p?(f=c,c=null):f=c.sibling;var I=m(h,c,r[p],o);if(null===I){null===c&&(c=f);break}t&&c&&null===I.alternate&&e(h,c),a=n(I,a,p),null===d?l=I:d.sibling=I,d=I,c=f}if(p===r.length)return i(h,c),ha&&Zh(h,p),l;if(null===c){for(;p<r.length;p++)null!==(c=u(h,r[p],o))&&(a=n(c,a,p),null===d?l=c:d.sibling=c,d=c);return ha&&Zh(h,p),l}for(c=s(h,c);p<r.length;p++)null!==(f=g(c,h,p,r[p],o))&&(t&&null!==f.alternate&&c.delete(null===f.key?p:f.key),a=n(f,a,p),null===d?l=f:d.sibling=f,d=f);return t&&c.forEach((function(t){return e(h,t)})),ha&&Zh(h,p),l}function f(h,r,o,l){var d=E(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var c=d=null,p=r,f=r=0,I=null,x=o.next();null!==p&&!x.done;f++,x=o.next()){p.index>f?(I=p,p=null):I=p.sibling;var b=m(h,p,x.value,l);if(null===b){null===p&&(p=I);break}t&&p&&null===b.alternate&&e(h,p),r=n(b,r,f),null===c?d=b:c.sibling=b,c=b,p=I}if(x.done)return i(h,p),ha&&Zh(h,f),d;if(null===p){for(;!x.done;f++,x=o.next())null!==(x=u(h,x.value,l))&&(r=n(x,r,f),null===c?d=x:c.sibling=x,c=x);return ha&&Zh(h,f),d}for(p=s(h,p);!x.done;f++,x=o.next())null!==(x=g(p,h,f,x.value,l))&&(t&&null!==x.alternate&&p.delete(null===x.key?f:x.key),r=n(x,r,f),null===c?d=x:c.sibling=x,c=x);return t&&p.forEach((function(t){return e(h,t)})),ha&&Zh(h,f),d}return function t(s,a,n,o){if("object"===typeof n&&null!==n&&n.type===k&&null===n.key&&(n=n.props.children),"object"===typeof n&&null!==n){switch(n.$$typeof){case y:t:{for(var l=n.key,d=a;null!==d;){if(d.key===l){if((l=n.type)===k){if(7===d.tag){i(s,d.sibling),(a=h(d,n.props.children)).return=s,s=a;break t}}else if(d.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===B&&Ga(l)===d.type){i(s,d.sibling),(a=h(d,n.props)).ref=Ua(s,d,n),a.return=s,s=a;break t}i(s,d);break}e(s,d),d=d.sibling}n.type===k?((a=Nl(n.props.children,s.mode,o,n.key)).return=s,s=a):((o=Rl(n.type,n.key,n.props,null,s.mode,o)).ref=Ua(s,a,n),o.return=s,s=o)}return r(s);case v:t:{for(d=n.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===n.containerInfo&&a.stateNode.implementation===n.implementation){i(s,a.sibling),(a=h(a,n.children||[])).return=s,s=a;break t}i(s,a);break}e(s,a),a=a.sibling}(a=Hl(n,s.mode,o)).return=s,s=a}return r(s);case B:return t(s,a,(d=n._init)(n._payload),o)}if(et(n))return p(s,a,n,o);if(E(n))return f(s,a,n,o);Ka(s,n)}return"string"===typeof n&&""!==n||"number"===typeof n?(n=""+n,null!==a&&6===a.tag?(i(s,a.sibling),(a=h(a,n)).return=s,s=a):(i(s,a),(a=Ol(n,s.mode,o)).return=s,s=a),r(s)):i(s,a)}}var Qa=Xa(!0),Ya=Xa(!1),Za={},Ja=Ch(Za),tn=Ch(Za),en=Ch(Za);function sn(t){if(t===Za)throw Error(a(174));return t}function hn(t,e){switch(Lh(en,e),Lh(tn,t),Lh(Ja,Za),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ot(null,"");break;default:e=ot(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}wh(Ja),Lh(Ja,e)}function an(){wh(Ja),wh(tn),wh(en)}function nn(t){sn(en.current);var e=sn(Ja.current),i=ot(e,t.type);e!==i&&(Lh(tn,t),Lh(Ja,i))}function rn(t){tn.current===t&&(wh(Ja),wh(tn))}var on=Ch(0);function ln(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dn=[];function cn(){for(var t=0;t<dn.length;t++)dn[t]._workInProgressVersionPrimary=null;dn.length=0}var un=D.ReactCurrentDispatcher,mn=D.ReactCurrentBatchConfig,gn=0,pn=null,fn=null,In=null,xn=!1,bn=!1,Dn=0,yn=0;function vn(){throw Error(a(321))}function kn(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!rs(t[i],e[i]))return!1;return!0}function Cn(t,e,i,s,h,n){if(gn=n,pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,un.current=null===t||null===t.memoizedState?rr:or,t=i(s,h),bn){n=0;do{if(bn=!1,Dn=0,25<=n)throw Error(a(301));n+=1,In=fn=null,e.updateQueue=null,un.current=lr,t=i(s,h)}while(bn)}if(un.current=nr,e=null!==fn&&null!==fn.next,gn=0,In=fn=pn=null,xn=!1,e)throw Error(a(300));return t}function wn(){var t=0!==Dn;return Dn=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===In?pn.memoizedState=In=t:In=In.next=t,In}function Tn(){if(null===fn){var t=pn.alternate;t=null!==t?t.memoizedState:null}else t=fn.next;var e=null===In?pn.memoizedState:In.next;if(null!==e)In=e,fn=t;else{if(null===t)throw Error(a(310));t={memoizedState:(fn=t).memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},null===In?pn.memoizedState=In=t:In=In.next=t}return In}function Sn(t,e){return"function"===typeof e?e(t):e}function Fn(t){var e=Tn(),i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=t;var s=fn,h=s.baseQueue,n=i.pending;if(null!==n){if(null!==h){var r=h.next;h.next=n.next,n.next=r}s.baseQueue=h=n,i.pending=null}if(null!==h){n=h.next,s=s.baseState;var o=r=null,l=null,d=n;do{var c=d.lane;if((gn&c)===c)null!==l&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var u={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===l?(o=l=u,r=s):l=l.next=u,pn.lanes|=c,jo|=c}d=d.next}while(null!==d&&d!==n);null===l?r=s:l.next=o,rs(s,e.memoizedState)||(Dr=!0),e.memoizedState=s,e.baseState=r,e.baseQueue=l,i.lastRenderedState=s}if(null!==(t=i.interleaved)){h=t;do{n=h.lane,pn.lanes|=n,jo|=n,h=h.next}while(h!==t)}else null===h&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function An(t){var e=Tn(),i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=t;var s=i.dispatch,h=i.pending,n=e.memoizedState;if(null!==h){i.pending=null;var r=h=h.next;do{n=t(n,r.action),r=r.next}while(r!==h);rs(n,e.memoizedState)||(Dr=!0),e.memoizedState=n,null===e.baseQueue&&(e.baseState=n),i.lastRenderedState=n}return[n,s]}function _n(){}function Bn(t,e){var i=pn,s=Tn(),h=e(),n=!rs(s.memoizedState,h);if(n&&(s.memoizedState=h,Dr=!0),s=s.queue,qn(En.bind(null,i,s,t),[t]),s.getSnapshot!==e||n||null!==In&&1&In.memoizedState.tag){if(i.flags|=2048,On(9,Pn.bind(null,i,s,h,e),void 0,null),null===_o)throw Error(a(349));0!==(30&gn)||zn(i,e,h)}return h}function zn(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=pn.updateQueue)?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function Pn(t,e,i,s){e.value=i,e.getSnapshot=s,Rn(e)&&Nn(t)}function En(t,e,i){return i((function(){Rn(e)&&Nn(t)}))}function Rn(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!rs(t,i)}catch(s){return!0}}function Nn(t){var e=Fa(t,1);null!==e&&hl(e,t,1,-1)}function jn(t){var e=Ln();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:t},e.queue=t,t=t.dispatch=ir.bind(null,pn,t),[e.memoizedState,t]}function On(t,e,i,s){return t={tag:t,create:e,destroy:i,deps:s,next:null},null===(e=pn.updateQueue)?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function Hn(){return Tn().memoizedState}function Mn(t,e,i,s){var h=Ln();pn.flags|=t,h.memoizedState=On(1|e,i,void 0,void 0===s?null:s)}function Vn(t,e,i,s){var h=Tn();s=void 0===s?null:s;var a=void 0;if(null!==fn){var n=fn.memoizedState;if(a=n.destroy,null!==s&&kn(s,n.deps))return void(h.memoizedState=On(e,i,a,s))}pn.flags|=t,h.memoizedState=On(1|e,i,a,s)}function $n(t,e){return Mn(8390656,8,t,e)}function qn(t,e){return Vn(2048,8,t,e)}function Wn(t,e){return Vn(4,2,t,e)}function Un(t,e){return Vn(4,4,t,e)}function Kn(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Gn(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Vn(4,4,Kn.bind(null,e,t),i)}function Xn(){}function Qn(t,e){var i=Tn();e=void 0===e?null:e;var s=i.memoizedState;return null!==s&&null!==e&&kn(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function Yn(t,e){var i=Tn();e=void 0===e?null:e;var s=i.memoizedState;return null!==s&&null!==e&&kn(e,s[1])?s[0]:(t=t(),i.memoizedState=[t,e],t)}function Zn(t,e,i){return 0===(21&gn)?(t.baseState&&(t.baseState=!1,Dr=!0),t.memoizedState=i):(rs(i,e)||(i=pe(),pn.lanes|=i,jo|=i,t.baseState=!0),e)}function Jn(t,e){var i=be;be=0!==i&&4>i?i:4,t(!0);var s=mn.transition;mn.transition={};try{t(!1),e()}finally{be=i,mn.transition=s}}function tr(){return Tn().memoizedState}function er(t,e,i){var s=sl(t);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},sr(t))hr(e,i);else if(null!==(i=Sa(t,e,i,s))){hl(i,t,s,il()),ar(i,e,s)}}function ir(t,e,i){var s=sl(t),h={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(sr(t))hr(e,h);else{var a=t.alternate;if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var n=e.lastRenderedState,r=a(n,i);if(h.hasEagerState=!0,h.eagerState=r,rs(r,n)){var o=e.interleaved;return null===o?(h.next=h,Ta(e)):(h.next=o.next,o.next=h),void(e.interleaved=h)}}catch(l){}null!==(i=Sa(t,e,h,s))&&(hl(i,t,s,h=il()),ar(i,e,s))}}function sr(t){var e=t.alternate;return t===pn||null!==e&&e===pn}function hr(t,e){bn=xn=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function ar(t,e,i){if(0!==(4194240&i)){var s=e.lanes;i|=s&=t.pendingLanes,e.lanes=i,xe(t,i)}}var nr={readContext:wa,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},rr={readContext:wa,useCallback:function(t,e){return Ln().memoizedState=[t,void 0===e?null:e],t},useContext:wa,useEffect:$n,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Mn(4194308,4,Kn.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Mn(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mn(4,2,t,e)},useMemo:function(t,e){var i=Ln();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var s=Ln();return e=void 0!==i?i(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=er.bind(null,pn,t),[s.memoizedState,t]},useRef:function(t){return t={current:t},Ln().memoizedState=t},useState:jn,useDebugValue:Xn,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=jn(!1),e=t[0];return t=Jn.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var s=pn,h=Ln();if(ha){if(void 0===i)throw Error(a(407));i=i()}else{if(i=e(),null===_o)throw Error(a(349));0!==(30&gn)||zn(s,e,i)}h.memoizedState=i;var n={value:i,getSnapshot:e};return h.queue=n,$n(En.bind(null,s,n,t),[t]),s.flags|=2048,On(9,Pn.bind(null,s,n,i,e),void 0,null),i},useId:function(){var t=Ln(),e=_o.identifierPrefix;if(ha){var i=Yh;e=":"+e+"R"+(i=(Qh&~(1<<32-ne(Qh)-1)).toString(32)+i),0<(i=Dn++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=yn++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},or={readContext:wa,useCallback:Qn,useContext:wa,useEffect:qn,useImperativeHandle:Gn,useInsertionEffect:Wn,useLayoutEffect:Un,useMemo:Yn,useReducer:Fn,useRef:Hn,useState:function(){return Fn(Sn)},useDebugValue:Xn,useDeferredValue:function(t){return Zn(Tn(),fn.memoizedState,t)},useTransition:function(){return[Fn(Sn)[0],Tn().memoizedState]},useMutableSource:_n,useSyncExternalStore:Bn,useId:tr,unstable_isNewReconciler:!1},lr={readContext:wa,useCallback:Qn,useContext:wa,useEffect:qn,useImperativeHandle:Gn,useInsertionEffect:Wn,useLayoutEffect:Un,useMemo:Yn,useReducer:An,useRef:Hn,useState:function(){return An(Sn)},useDebugValue:Xn,useDeferredValue:function(t){var e=Tn();return null===fn?e.memoizedState=t:Zn(e,fn.memoizedState,t)},useTransition:function(){return[An(Sn)[0],Tn().memoizedState]},useMutableSource:_n,useSyncExternalStore:Bn,useId:tr,unstable_isNewReconciler:!1};function dr(t,e){try{var i="",s=e;do{i+=M(s),s=s.return}while(s);var h=i}catch(a){h="\nError generating stack: "+a.message+"\n"+a.stack}return{value:t,source:e,stack:h,digest:null}}function cr(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function ur(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}var mr="function"===typeof WeakMap?WeakMap:Map;function gr(t,e,i){(i=za(-1,i)).tag=3,i.payload={element:null};var s=e.value;return i.callback=function(){Uo||(Uo=!0,Ko=s),ur(0,e)},i}function pr(t,e,i){(i=za(-1,i)).tag=3;var s=t.type.getDerivedStateFromError;if("function"===typeof s){var h=e.value;i.payload=function(){return s(h)},i.callback=function(){ur(0,e)}}var a=t.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(i.callback=function(){ur(0,e),"function"!==typeof s&&(null===Go?Go=new Set([this]):Go.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function fr(t,e,i){var s=t.pingCache;if(null===s){s=t.pingCache=new mr;var h=new Set;s.set(e,h)}else void 0===(h=s.get(e))&&(h=new Set,s.set(e,h));h.has(i)||(h.add(i),t=Tl.bind(null,t,e,i),e.then(t,t))}function Ir(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function xr(t,e,i,s,h){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=za(-1,1)).tag=2,Pa(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var br=D.ReactCurrentOwner,Dr=!1;function yr(t,e,i,s){e.child=null===t?Ya(e,null,i,s):Qa(e,t.child,i,s)}function vr(t,e,i,s,h){i=i.render;var a=e.ref;return Ca(e,h),s=Cn(t,e,i,s,a,h),i=wn(),null===t||Dr?(ha&&i&&ta(e),e.flags|=1,yr(t,e,s,h),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~h,Wr(t,e,h))}function kr(t,e,i,s,h){if(null===t){var a=i.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Rl(i.type,null,s,e,e.mode,h)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Cr(t,e,a,s,h))}if(a=t.child,0===(t.lanes&h)){var n=a.memoizedProps;if((i=null!==(i=i.compare)?i:os)(n,s)&&t.ref===e.ref)return Wr(t,e,h)}return e.flags|=1,(t=El(a,s)).ref=e.ref,t.return=e,e.child=t}function Cr(t,e,i,s,h){if(null!==t){var a=t.memoizedProps;if(os(a,s)&&t.ref===e.ref){if(Dr=!1,e.pendingProps=s=a,0===(t.lanes&h))return e.lanes=t.lanes,Wr(t,e,h);0!==(131072&t.flags)&&(Dr=!0)}}return Tr(t,e,i,s,h)}function wr(t,e,i){var s=e.pendingProps,h=s.children,a=null!==t?t.memoizedState:null;if("hidden"===s.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lh(Eo,Po),Po|=i;else{if(0===(1073741824&i))return t=null!==a?a.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Lh(Eo,Po),Po|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==a?a.baseLanes:i,Lh(Eo,Po),Po|=s}else null!==a?(s=a.baseLanes|i,e.memoizedState=null):s=i,Lh(Eo,Po),Po|=s;return yr(t,e,h,i),e.child}function Lr(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Tr(t,e,i,s,h){var a=Bh(i)?Ah:Sh.current;return a=_h(e,a),Ca(e,h),i=Cn(t,e,i,s,a,h),s=wn(),null===t||Dr?(ha&&s&&ta(e),e.flags|=1,yr(t,e,i,h),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~h,Wr(t,e,h))}function Sr(t,e,i,s,h){if(Bh(i)){var a=!0;Rh(e)}else a=!1;if(Ca(e,h),null===e.stateNode)qr(t,e),$a(e,i,s),Wa(e,i,s,h),s=!0;else if(null===t){var n=e.stateNode,r=e.memoizedProps;n.props=r;var o=n.context,l=i.contextType;"object"===typeof l&&null!==l?l=wa(l):l=_h(e,l=Bh(i)?Ah:Sh.current);var d=i.getDerivedStateFromProps,c="function"===typeof d||"function"===typeof n.getSnapshotBeforeUpdate;c||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(r!==s||o!==l)&&qa(e,n,s,l),Aa=!1;var u=e.memoizedState;n.state=u,Na(e,s,n,h),o=e.memoizedState,r!==s||u!==o||Fh.current||Aa?("function"===typeof d&&(Ha(e,i,d,s),o=e.memoizedState),(r=Aa||Va(e,i,r,s,u,o,l))?(c||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||("function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"===typeof n.componentDidMount&&(e.flags|=4194308)):("function"===typeof n.componentDidMount&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=o),n.props=s,n.state=o,n.context=l,s=r):("function"===typeof n.componentDidMount&&(e.flags|=4194308),s=!1)}else{n=e.stateNode,Ba(t,e),r=e.memoizedProps,l=e.type===e.elementType?r:fa(e.type,r),n.props=l,c=e.pendingProps,u=n.context,"object"===typeof(o=i.contextType)&&null!==o?o=wa(o):o=_h(e,o=Bh(i)?Ah:Sh.current);var m=i.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(r!==c||u!==o)&&qa(e,n,s,o),Aa=!1,u=e.memoizedState,n.state=u,Na(e,s,n,h);var g=e.memoizedState;r!==c||u!==g||Fh.current||Aa?("function"===typeof m&&(Ha(e,i,m,s),g=e.memoizedState),(l=Aa||Va(e,i,l,s,u,g,o)||!1)?(d||"function"!==typeof n.UNSAFE_componentWillUpdate&&"function"!==typeof n.componentWillUpdate||("function"===typeof n.componentWillUpdate&&n.componentWillUpdate(s,g,o),"function"===typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(s,g,o)),"function"===typeof n.componentDidUpdate&&(e.flags|=4),"function"===typeof n.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof n.componentDidUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),n.props=s,n.state=g,n.context=o,s=l):("function"!==typeof n.componentDidUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),s=!1)}return Fr(t,e,i,s,a,h)}function Fr(t,e,i,s,h,a){Lr(t,e);var n=0!==(128&e.flags);if(!s&&!n)return h&&Nh(e,i,!1),Wr(t,e,a);s=e.stateNode,br.current=e;var r=n&&"function"!==typeof i.getDerivedStateFromError?null:s.render();return e.flags|=1,null!==t&&n?(e.child=Qa(e,t.child,null,a),e.child=Qa(e,null,r,a)):yr(t,e,r,a),e.memoizedState=s.state,h&&Nh(e,i,!0),e.child}function Ar(t){var e=t.stateNode;e.pendingContext?Ph(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ph(0,e.context,!1),hn(t,e.containerInfo)}function _r(t,e,i,s,h){return ma(),ga(h),e.flags|=256,yr(t,e,i,s),e.child}var Br,zr,Pr,Er,Rr={dehydrated:null,treeContext:null,retryLane:0};function Nr(t){return{baseLanes:t,cachePool:null,transitions:null}}function jr(t,e,i){var s,h=e.pendingProps,n=on.current,r=!1,o=0!==(128&e.flags);if((s=o)||(s=(null===t||null!==t.memoizedState)&&0!==(2&n)),s?(r=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(n|=1),Lh(on,1&n),null===t)return la(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(o=h.children,t=h.fallback,r?(h=e.mode,r=e.child,o={mode:"hidden",children:o},0===(1&h)&&null!==r?(r.childLanes=0,r.pendingProps=o):r=jl(o,h,0,null),t=Nl(t,h,i,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Nr(i),e.memoizedState=Rr,t):Or(e,o));if(null!==(n=t.memoizedState)&&null!==(s=n.dehydrated))return function(t,e,i,s,h,n,r){if(i)return 256&e.flags?(e.flags&=-257,Hr(t,e,r,s=cr(Error(a(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(n=s.fallback,h=e.mode,s=jl({mode:"visible",children:s.children},h,0,null),(n=Nl(n,h,r,null)).flags|=2,s.return=e,n.return=e,s.sibling=n,e.child=s,0!==(1&e.mode)&&Qa(e,t.child,null,r),e.child.memoizedState=Nr(r),e.memoizedState=Rr,n);if(0===(1&e.mode))return Hr(t,e,r,null);if("$!"===h.data){if(s=h.nextSibling&&h.nextSibling.dataset)var o=s.dgst;return s=o,Hr(t,e,r,s=cr(n=Error(a(419)),s,void 0))}if(o=0!==(r&t.childLanes),Dr||o){if(null!==(s=_o)){switch(r&-r){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}0!==(h=0!==(h&(s.suspendedLanes|r))?0:h)&&h!==n.retryLane&&(n.retryLane=h,Fa(t,h),hl(s,t,h,-1))}return Il(),Hr(t,e,r,s=cr(Error(a(421))))}return"$?"===h.data?(e.flags|=128,e.child=t.child,e=Fl.bind(null,t),h._reactRetry=e,null):(t=n.treeContext,sa=lh(h.nextSibling),ia=e,ha=!0,aa=null,null!==t&&(Kh[Gh++]=Qh,Kh[Gh++]=Yh,Kh[Gh++]=Xh,Qh=t.id,Yh=t.overflow,Xh=e),e=Or(e,s.children),e.flags|=4096,e)}(t,e,o,h,s,n,i);if(r){r=h.fallback,o=e.mode,s=(n=t.child).sibling;var l={mode:"hidden",children:h.children};return 0===(1&o)&&e.child!==n?((h=e.child).childLanes=0,h.pendingProps=l,e.deletions=null):(h=El(n,l)).subtreeFlags=14680064&n.subtreeFlags,null!==s?r=El(s,r):(r=Nl(r,o,i,null)).flags|=2,r.return=e,h.return=e,h.sibling=r,e.child=h,h=r,r=e.child,o=null===(o=t.child.memoizedState)?Nr(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~i,e.memoizedState=Rr,h}return t=(r=t.child).sibling,h=El(r,{mode:"visible",children:h.children}),0===(1&e.mode)&&(h.lanes=i),h.return=e,h.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=h,e.memoizedState=null,h}function Or(t,e){return(e=jl({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Hr(t,e,i,s){return null!==s&&ga(s),Qa(e,t.child,null,i),(t=Or(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Mr(t,e,i){t.lanes|=e;var s=t.alternate;null!==s&&(s.lanes|=e),ka(t.return,e,i)}function Vr(t,e,i,s,h){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:h}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=i,a.tailMode=h)}function $r(t,e,i){var s=e.pendingProps,h=s.revealOrder,a=s.tail;if(yr(t,e,s.children,i),0!==(2&(s=on.current)))s=1&s|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Mr(t,i,e);else if(19===t.tag)Mr(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Lh(on,s),0===(1&e.mode))e.memoizedState=null;else switch(h){case"forwards":for(i=e.child,h=null;null!==i;)null!==(t=i.alternate)&&null===ln(t)&&(h=i),i=i.sibling;null===(i=h)?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Vr(e,!1,h,i,a);break;case"backwards":for(i=null,h=e.child,e.child=null;null!==h;){if(null!==(t=h.alternate)&&null===ln(t)){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Vr(e,!0,i,null,a);break;case"together":Vr(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qr(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),jo|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(i=El(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=El(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Ur(t,e){if(!ha)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;null!==i;)null!==i.alternate&&(s=i),i=i.sibling;null===s?e||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Kr(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,s=0;if(e)for(var h=t.child;null!==h;)i|=h.lanes|h.childLanes,s|=14680064&h.subtreeFlags,s|=14680064&h.flags,h.return=t,h=h.sibling;else for(h=t.child;null!==h;)i|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function Gr(t,e,i){var s=e.pendingProps;switch(ea(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(e),null;case 1:case 17:return Bh(e.type)&&zh(),Kr(e),null;case 3:return s=e.stateNode,an(),wh(Fh),wh(Sh),cn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==t&&null!==t.child||(ca(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==aa&&(ol(aa),aa=null))),zr(t,e),Kr(e),null;case 5:rn(e);var h=sn(en.current);if(i=e.type,null!==t&&null!=e.stateNode)Pr(t,e,i,s,h),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(null===e.stateNode)throw Error(a(166));return Kr(e),null}if(t=sn(Ja.current),ca(e)){s=e.stateNode,i=e.type;var n=e.memoizedProps;switch(s[uh]=e,s[mh]=n,t=0!==(1&e.mode),i){case"dialog":Os("cancel",s),Os("close",s);break;case"iframe":case"object":case"embed":Os("load",s);break;case"video":case"audio":for(h=0;h<Es.length;h++)Os(Es[h],s);break;case"source":Os("error",s);break;case"img":case"image":case"link":Os("error",s),Os("load",s);break;case"details":Os("toggle",s);break;case"input":Q(s,n),Os("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!n.multiple},Os("invalid",s);break;case"textarea":ht(s,n),Os("invalid",s)}for(var o in xt(i,n),h=null,n)if(n.hasOwnProperty(o)){var l=n[o];"children"===o?"string"===typeof l?s.textContent!==l&&(!0!==n.suppressHydrationWarning&&Zs(s.textContent,l,t),h=["children",l]):"number"===typeof l&&s.textContent!==""+l&&(!0!==n.suppressHydrationWarning&&Zs(s.textContent,l,t),h=["children",""+l]):r.hasOwnProperty(o)&&null!=l&&"onScroll"===o&&Os("scroll",s)}switch(i){case"input":U(s),J(s,n,!0);break;case"textarea":U(s),nt(s);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(s.onclick=Js)}s=h,e.updateQueue=s,null!==s&&(e.flags|=4)}else{o=9===h.nodeType?h:h.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=rt(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=o.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof s.is?t=o.createElement(i,{is:s.is}):(t=o.createElement(i),"select"===i&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,i),t[uh]=e,t[mh]=s,Br(t,e,!1,!1),e.stateNode=t;t:{switch(o=bt(i,s),i){case"dialog":Os("cancel",t),Os("close",t),h=s;break;case"iframe":case"object":case"embed":Os("load",t),h=s;break;case"video":case"audio":for(h=0;h<Es.length;h++)Os(Es[h],t);h=s;break;case"source":Os("error",t),h=s;break;case"img":case"image":case"link":Os("error",t),Os("load",t),h=s;break;case"details":Os("toggle",t),h=s;break;case"input":Q(t,s),h=X(t,s),Os("invalid",t);break;case"option":default:h=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},h=N({},s,{value:void 0}),Os("invalid",t);break;case"textarea":ht(t,s),h=st(t,s),Os("invalid",t)}for(n in xt(i,h),l=h)if(l.hasOwnProperty(n)){var d=l[n];"style"===n?ft(t,d):"dangerouslySetInnerHTML"===n?null!=(d=d?d.__html:void 0)&&ct(t,d):"children"===n?"string"===typeof d?("textarea"!==i||""!==d)&&ut(t,d):"number"===typeof d&&ut(t,""+d):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(r.hasOwnProperty(n)?null!=d&&"onScroll"===n&&Os("scroll",t):null!=d&&b(t,n,d,o))}switch(i){case"input":U(t),J(t,s,!1);break;case"textarea":U(t),nt(t);break;case"option":null!=s.value&&t.setAttribute("value",""+q(s.value));break;case"select":t.multiple=!!s.multiple,null!=(n=s.value)?it(t,!!s.multiple,n,!1):null!=s.defaultValue&&it(t,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof h.onClick&&(t.onclick=Js)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}}s&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Kr(e),null;case 6:if(t&&null!=e.stateNode)Er(t,e,t.memoizedProps,s);else{if("string"!==typeof s&&null===e.stateNode)throw Error(a(166));if(i=sn(en.current),sn(Ja.current),ca(e)){if(s=e.stateNode,i=e.memoizedProps,s[uh]=e,(n=s.nodeValue!==i)&&null!==(t=ia))switch(t.tag){case 3:Zs(s.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Zs(s.nodeValue,i,0!==(1&t.mode))}n&&(e.flags|=4)}else(s=(9===i.nodeType?i:i.ownerDocument).createTextNode(s))[uh]=e,e.stateNode=s}return Kr(e),null;case 13:if(wh(on),s=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ha&&null!==sa&&0!==(1&e.mode)&&0===(128&e.flags))ua(),ma(),e.flags|=98560,n=!1;else if(n=ca(e),null!==s&&null!==s.dehydrated){if(null===t){if(!n)throw Error(a(318));if(!(n=null!==(n=e.memoizedState)?n.dehydrated:null))throw Error(a(317));n[uh]=e}else ma(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Kr(e),n=!1}else null!==aa&&(ol(aa),aa=null),n=!0;if(!n)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((s=null!==s)!==(null!==t&&null!==t.memoizedState)&&s&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&on.current)?0===Ro&&(Ro=3):Il())),null!==e.updateQueue&&(e.flags|=4),Kr(e),null);case 4:return an(),zr(t,e),null===t&&Vs(e.stateNode.containerInfo),Kr(e),null;case 10:return va(e.type._context),Kr(e),null;case 19:if(wh(on),null===(n=e.memoizedState))return Kr(e),null;if(s=0!==(128&e.flags),null===(o=n.rendering))if(s)Ur(n,!1);else{if(0!==Ro||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(o=ln(t))){for(e.flags|=128,Ur(n,!1),null!==(s=o.updateQueue)&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=i,i=e.child;null!==i;)t=s,(n=i).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=t,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,t=o.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Lh(on,1&on.current|2),e.child}t=t.sibling}null!==n.tail&&Yt()>qo&&(e.flags|=128,s=!0,Ur(n,!1),e.lanes=4194304)}else{if(!s)if(null!==(t=ln(o))){if(e.flags|=128,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),Ur(n,!0),null===n.tail&&"hidden"===n.tailMode&&!o.alternate&&!ha)return Kr(e),null}else 2*Yt()-n.renderingStartTime>qo&&1073741824!==i&&(e.flags|=128,s=!0,Ur(n,!1),e.lanes=4194304);n.isBackwards?(o.sibling=e.child,e.child=o):(null!==(i=n.last)?i.sibling=o:e.child=o,n.last=o)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Yt(),e.sibling=null,i=on.current,Lh(on,s?1&i|2:1&i),e):(Kr(e),null);case 22:case 23:return ml(),s=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==s&&(e.flags|=8192),s&&0!==(1&e.mode)?0!==(1073741824&Po)&&(Kr(e),6&e.subtreeFlags&&(e.flags|=8192)):Kr(e),null;case 24:case 25:return null}throw Error(a(156,e.tag))}function Xr(t,e){switch(ea(e),e.tag){case 1:return Bh(e.type)&&zh(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return an(),wh(Fh),wh(Sh),cn(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return rn(e),null;case 13:if(wh(on),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(a(340));ma()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return wh(on),null;case 4:return an(),null;case 10:return va(e.type._context),null;case 22:case 23:return ml(),null;default:return null}}Br=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},zr=function(){},Pr=function(t,e,i,s){var h=t.memoizedProps;if(h!==s){t=e.stateNode,sn(Ja.current);var a,n=null;switch(i){case"input":h=X(t,h),s=X(t,s),n=[];break;case"select":h=N({},h,{value:void 0}),s=N({},s,{value:void 0}),n=[];break;case"textarea":h=st(t,h),s=st(t,s),n=[];break;default:"function"!==typeof h.onClick&&"function"===typeof s.onClick&&(t.onclick=Js)}for(d in xt(i,s),i=null,h)if(!s.hasOwnProperty(d)&&h.hasOwnProperty(d)&&null!=h[d])if("style"===d){var o=h[d];for(a in o)o.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(r.hasOwnProperty(d)?n||(n=[]):(n=n||[]).push(d,null));for(d in s){var l=s[d];if(o=null!=h?h[d]:void 0,s.hasOwnProperty(d)&&l!==o&&(null!=l||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(i||(i={}),i[a]=l[a])}else i||(n||(n=[]),n.push(d,i)),i=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(n=n||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(n=n||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(r.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Os("scroll",t),n||o===l||(n=[])):(n=n||[]).push(d,l))}i&&(n=n||[]).push("style",i);var d=n;(e.updateQueue=d)&&(e.flags|=4)}},Er=function(t,e,i,s){i!==s&&(e.flags|=4)};var Qr=!1,Yr=!1,Zr="function"===typeof WeakSet?WeakSet:Set,Jr=null;function to(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(s){Ll(t,e,s)}else i.current=null}function eo(t,e,i){try{i()}catch(s){Ll(t,e,s)}}var io=!1;function so(t,e,i){var s=e.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var h=s=s.next;do{if((h.tag&t)===t){var a=h.destroy;h.destroy=void 0,void 0!==a&&eo(e,i,a)}h=h.next}while(h!==s)}}function ho(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var s=i.create;i.destroy=s()}i=i.next}while(i!==e)}}function ao(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function no(t){var e=t.alternate;null!==e&&(t.alternate=null,no(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[uh],delete e[mh],delete e[ph],delete e[fh],delete e[Ih])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ro(t){return 5===t.tag||3===t.tag||4===t.tag}function oo(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ro(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function lo(t,e,i){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=Js));else if(4!==s&&null!==(t=t.child))for(lo(t,e,i),t=t.sibling;null!==t;)lo(t,e,i),t=t.sibling}function co(t,e,i){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==s&&null!==(t=t.child))for(co(t,e,i),t=t.sibling;null!==t;)co(t,e,i),t=t.sibling}var uo=null,mo=!1;function go(t,e,i){for(i=i.child;null!==i;)po(t,e,i),i=i.sibling}function po(t,e,i){if(ae&&"function"===typeof ae.onCommitFiberUnmount)try{ae.onCommitFiberUnmount(he,i)}catch(r){}switch(i.tag){case 5:Yr||to(i,e);case 6:var s=uo,h=mo;uo=null,go(t,e,i),mo=h,null!==(uo=s)&&(mo?(t=uo,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):uo.removeChild(i.stateNode));break;case 18:null!==uo&&(mo?(t=uo,i=i.stateNode,8===t.nodeType?oh(t.parentNode,i):1===t.nodeType&&oh(t,i),Ve(t)):oh(uo,i.stateNode));break;case 4:s=uo,h=mo,uo=i.stateNode.containerInfo,mo=!0,go(t,e,i),uo=s,mo=h;break;case 0:case 11:case 14:case 15:if(!Yr&&(null!==(s=i.updateQueue)&&null!==(s=s.lastEffect))){h=s=s.next;do{var a=h,n=a.destroy;a=a.tag,void 0!==n&&(0!==(2&a)||0!==(4&a))&&eo(i,e,n),h=h.next}while(h!==s)}go(t,e,i);break;case 1:if(!Yr&&(to(i,e),"function"===typeof(s=i.stateNode).componentWillUnmount))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(r){Ll(i,e,r)}go(t,e,i);break;case 21:go(t,e,i);break;case 22:1&i.mode?(Yr=(s=Yr)||null!==i.memoizedState,go(t,e,i),Yr=s):go(t,e,i);break;default:go(t,e,i)}}function fo(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Zr),e.forEach((function(e){var s=Al.bind(null,t,e);i.has(e)||(i.add(e),e.then(s,s))}))}}function Io(t,e){var i=e.deletions;if(null!==i)for(var s=0;s<i.length;s++){var h=i[s];try{var n=t,r=e,o=r;t:for(;null!==o;){switch(o.tag){case 5:uo=o.stateNode,mo=!1;break t;case 3:case 4:uo=o.stateNode.containerInfo,mo=!0;break t}o=o.return}if(null===uo)throw Error(a(160));po(n,r,h),uo=null,mo=!1;var l=h.alternate;null!==l&&(l.return=null),h.return=null}catch(d){Ll(h,e,d)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)xo(e,t),e=e.sibling}function xo(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Io(e,t),bo(t),4&s){try{so(3,t,t.return),ho(3,t)}catch(f){Ll(t,t.return,f)}try{so(5,t,t.return)}catch(f){Ll(t,t.return,f)}}break;case 1:Io(e,t),bo(t),512&s&&null!==i&&to(i,i.return);break;case 5:if(Io(e,t),bo(t),512&s&&null!==i&&to(i,i.return),32&t.flags){var h=t.stateNode;try{ut(h,"")}catch(f){Ll(t,t.return,f)}}if(4&s&&null!=(h=t.stateNode)){var n=t.memoizedProps,r=null!==i?i.memoizedProps:n,o=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===o&&"radio"===n.type&&null!=n.name&&Y(h,n),bt(o,r);var d=bt(o,n);for(r=0;r<l.length;r+=2){var c=l[r],u=l[r+1];"style"===c?ft(h,u):"dangerouslySetInnerHTML"===c?ct(h,u):"children"===c?ut(h,u):b(h,c,u,d)}switch(o){case"input":Z(h,n);break;case"textarea":at(h,n);break;case"select":var m=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!n.multiple;var g=n.value;null!=g?it(h,!!n.multiple,g,!1):m!==!!n.multiple&&(null!=n.defaultValue?it(h,!!n.multiple,n.defaultValue,!0):it(h,!!n.multiple,n.multiple?[]:"",!1))}h[mh]=n}catch(f){Ll(t,t.return,f)}}break;case 6:if(Io(e,t),bo(t),4&s){if(null===t.stateNode)throw Error(a(162));h=t.stateNode,n=t.memoizedProps;try{h.nodeValue=n}catch(f){Ll(t,t.return,f)}}break;case 3:if(Io(e,t),bo(t),4&s&&null!==i&&i.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(f){Ll(t,t.return,f)}break;case 4:default:Io(e,t),bo(t);break;case 13:Io(e,t),bo(t),8192&(h=t.child).flags&&(n=null!==h.memoizedState,h.stateNode.isHidden=n,!n||null!==h.alternate&&null!==h.alternate.memoizedState||($o=Yt())),4&s&&fo(t);break;case 22:if(c=null!==i&&null!==i.memoizedState,1&t.mode?(Yr=(d=Yr)||c,Io(e,t),Yr=d):Io(e,t),bo(t),8192&s){if(d=null!==t.memoizedState,(t.stateNode.isHidden=d)&&!c&&0!==(1&t.mode))for(Jr=t,c=t.child;null!==c;){for(u=Jr=c;null!==Jr;){switch(g=(m=Jr).child,m.tag){case 0:case 11:case 14:case 15:so(4,m,m.return);break;case 1:to(m,m.return);var p=m.stateNode;if("function"===typeof p.componentWillUnmount){s=m,i=m.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(f){Ll(s,i,f)}}break;case 5:to(m,m.return);break;case 22:if(null!==m.memoizedState){ko(u);continue}}null!==g?(g.return=m,Jr=g):ko(u)}c=c.sibling}t:for(c=null,u=t;;){if(5===u.tag){if(null===c){c=u;try{h=u.stateNode,d?"function"===typeof(n=h.style).setProperty?n.setProperty("display","none","important"):n.display="none":(o=u.stateNode,r=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,o.style.display=pt("display",r))}catch(f){Ll(t,t.return,f)}}}else if(6===u.tag){if(null===c)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(f){Ll(t,t.return,f)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===t)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===t)break t;for(;null===u.sibling;){if(null===u.return||u.return===t)break t;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Io(e,t),bo(t),4&s&&fo(t);case 21:}}function bo(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(ro(i)){var s=i;break t}i=i.return}throw Error(a(160))}switch(s.tag){case 5:var h=s.stateNode;32&s.flags&&(ut(h,""),s.flags&=-33),co(t,oo(t),h);break;case 3:case 4:var n=s.stateNode.containerInfo;lo(t,oo(t),n);break;default:throw Error(a(161))}}catch(r){Ll(t,t.return,r)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Do(t,e,i){Jr=t,yo(t,e,i)}function yo(t,e,i){for(var s=0!==(1&t.mode);null!==Jr;){var h=Jr,a=h.child;if(22===h.tag&&s){var n=null!==h.memoizedState||Qr;if(!n){var r=h.alternate,o=null!==r&&null!==r.memoizedState||Yr;r=Qr;var l=Yr;if(Qr=n,(Yr=o)&&!l)for(Jr=h;null!==Jr;)o=(n=Jr).child,22===n.tag&&null!==n.memoizedState?Co(h):null!==o?(o.return=n,Jr=o):Co(h);for(;null!==a;)Jr=a,yo(a,e,i),a=a.sibling;Jr=h,Qr=r,Yr=l}vo(t)}else 0!==(8772&h.subtreeFlags)&&null!==a?(a.return=h,Jr=a):vo(t)}}function vo(t){for(;null!==Jr;){var e=Jr;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Yr||ho(5,e);break;case 1:var s=e.stateNode;if(4&e.flags&&!Yr)if(null===i)s.componentDidMount();else{var h=e.elementType===e.type?i.memoizedProps:fa(e.type,i.memoizedProps);s.componentDidUpdate(h,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var n=e.updateQueue;null!==n&&ja(e,n,s);break;case 3:var r=e.updateQueue;if(null!==r){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}ja(e,r,i)}break;case 5:var o=e.stateNode;if(null===i&&4&e.flags){i=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var d=e.alternate;if(null!==d){var c=d.memoizedState;if(null!==c){var u=c.dehydrated;null!==u&&Ve(u)}}}break;default:throw Error(a(163))}Yr||512&e.flags&&ao(e)}catch(ei){Ll(e,e.return,ei)}}if(e===t){Jr=null;break}if(null!==(i=e.sibling)){i.return=e.return,Jr=i;break}Jr=e.return}}function ko(t){for(;null!==Jr;){var e=Jr;if(e===t){Jr=null;break}var i=e.sibling;if(null!==i){i.return=e.return,Jr=i;break}Jr=e.return}}function Co(t){for(;null!==Jr;){var e=Jr;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{ho(4,e)}catch(o){Ll(e,i,o)}break;case 1:var s=e.stateNode;if("function"===typeof s.componentDidMount){var h=e.return;try{s.componentDidMount()}catch(o){Ll(e,h,o)}}var a=e.return;try{ao(e)}catch(o){Ll(e,a,o)}break;case 5:var n=e.return;try{ao(e)}catch(o){Ll(e,n,o)}}}catch(o){Ll(e,e.return,o)}if(e===t){Jr=null;break}var r=e.sibling;if(null!==r){r.return=e.return,Jr=r;break}Jr=e.return}}var wo,Lo=Math.ceil,To=D.ReactCurrentDispatcher,So=D.ReactCurrentOwner,Fo=D.ReactCurrentBatchConfig,Ao=0,_o=null,Bo=null,zo=0,Po=0,Eo=Ch(0),Ro=0,No=null,jo=0,Oo=0,Ho=0,Mo=null,Vo=null,$o=0,qo=1/0,Wo=null,Uo=!1,Ko=null,Go=null,Xo=!1,Qo=null,Yo=0,Zo=0,Jo=null,tl=-1,el=0;function il(){return 0!==(6&Ao)?Yt():-1!==tl?tl:tl=Yt()}function sl(t){return 0===(1&t.mode)?1:0!==(2&Ao)&&0!==zo?zo&-zo:null!==pa.transition?(0===el&&(el=pe()),el):0!==(t=be)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function hl(t,e,i,s){if(50<Zo)throw Zo=0,Jo=null,Error(a(185));Ie(t,i,s),0!==(2&Ao)&&t===_o||(t===_o&&(0===(2&Ao)&&(Oo|=i),4===Ro&&ll(t,zo)),al(t,s),1===i&&0===Ao&&0===(1&e.mode)&&(qo=Yt()+500,Oh&&Vh()))}function al(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,h=t.expirationTimes,a=t.pendingLanes;0<a;){var n=31-ne(a),r=1<<n,o=h[n];-1===o?0!==(r&i)&&0===(r&s)||(h[n]=me(r,e)):o<=e&&(t.expiredLanes|=r),a&=~r}}(t,e);var s=ue(t,t===_o?zo:0);if(0===s)null!==i&&Gt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(null!=i&&Gt(i),1===e)0===t.tag?function(t){Oh=!0,Mh(t)}(dl.bind(null,t)):Mh(dl.bind(null,t)),nh((function(){0===(6&Ao)&&Vh()})),i=null;else{switch(De(s)){case 1:i=Jt;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=se}i=_l(i,nl.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function nl(t,e){if(tl=-1,el=0,0!==(6&Ao))throw Error(a(327));var i=t.callbackNode;if(Cl()&&t.callbackNode!==i)return null;var s=ue(t,t===_o?zo:0);if(0===s)return null;if(0!==(30&s)||0!==(s&t.expiredLanes)||e)e=xl(t,s);else{e=s;var h=Ao;Ao|=2;var n=fl();for(_o===t&&zo===e||(Wo=null,qo=Yt()+500,gl(t,e));;)try{Dl();break}catch(o){pl(t,o)}ya(),To.current=n,Ao=h,null!==Bo?e=0:(_o=null,zo=0,e=Ro)}if(0!==e){if(2===e&&(0!==(h=ge(t))&&(s=h,e=rl(t,h))),1===e)throw i=No,gl(t,0),ll(t,s),al(t,Yt()),i;if(6===e)ll(t,s);else{if(h=t.current.alternate,0===(30&s)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var s=0;s<i.length;s++){var h=i[s],a=h.getSnapshot;h=h.value;try{if(!rs(a(),h))return!1}catch(r){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(h)&&(2===(e=xl(t,s))&&(0!==(n=ge(t))&&(s=n,e=rl(t,n))),1===e))throw i=No,gl(t,0),ll(t,s),al(t,Yt()),i;switch(t.finishedWork=h,t.finishedLanes=s,e){case 0:case 1:throw Error(a(345));case 2:case 5:kl(t,Vo,Wo);break;case 3:if(ll(t,s),(130023424&s)===s&&10<(e=$o+500-Yt())){if(0!==ue(t,0))break;if(((h=t.suspendedLanes)&s)!==s){il(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=sh(kl.bind(null,t,Vo,Wo),e);break}kl(t,Vo,Wo);break;case 4:if(ll(t,s),(4194240&s)===s)break;for(e=t.eventTimes,h=-1;0<s;){var r=31-ne(s);n=1<<r,(r=e[r])>h&&(h=r),s&=~n}if(s=h,10<(s=(120>(s=Yt()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Lo(s/1960))-s)){t.timeoutHandle=sh(kl.bind(null,t,Vo,Wo),s);break}kl(t,Vo,Wo);break;default:throw Error(a(329))}}}return al(t,Yt()),t.callbackNode===i?nl.bind(null,t):null}function rl(t,e){var i=Mo;return t.current.memoizedState.isDehydrated&&(gl(t,e).flags|=256),2!==(t=xl(t,e))&&(e=Vo,Vo=i,null!==e&&ol(e)),t}function ol(t){null===Vo?Vo=t:Vo.push.apply(Vo,t)}function ll(t,e){for(e&=~Ho,e&=~Oo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-ne(e),s=1<<i;t[i]=-1,e&=~s}}function dl(t){if(0!==(6&Ao))throw Error(a(327));Cl();var e=ue(t,0);if(0===(1&e))return al(t,Yt()),null;var i=xl(t,e);if(0!==t.tag&&2===i){var s=ge(t);0!==s&&(e=s,i=rl(t,s))}if(1===i)throw i=No,gl(t,0),ll(t,e),al(t,Yt()),i;if(6===i)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kl(t,Vo,Wo),al(t,Yt()),null}function cl(t,e){var i=Ao;Ao|=1;try{return t(e)}finally{0===(Ao=i)&&(qo=Yt()+500,Oh&&Vh())}}function ul(t){null!==Qo&&0===Qo.tag&&0===(6&Ao)&&Cl();var e=Ao;Ao|=1;var i=Fo.transition,s=be;try{if(Fo.transition=null,be=1,t)return t()}finally{be=s,Fo.transition=i,0===(6&(Ao=e))&&Vh()}}function ml(){Po=Eo.current,wh(Eo)}function gl(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,hh(i)),null!==Bo)for(i=Bo.return;null!==i;){var s=i;switch(ea(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&zh();break;case 3:an(),wh(Fh),wh(Sh),cn();break;case 5:rn(s);break;case 4:an();break;case 13:case 19:wh(on);break;case 10:va(s.type._context);break;case 22:case 23:ml()}i=i.return}if(_o=t,Bo=t=El(t.current,null),zo=Po=e,Ro=0,No=null,Ho=Oo=jo=0,Vo=Mo=null,null!==La){for(e=0;e<La.length;e++)if(null!==(s=(i=La[e]).interleaved)){i.interleaved=null;var h=s.next,a=i.pending;if(null!==a){var n=a.next;a.next=h,s.next=n}i.pending=s}La=null}return t}function pl(t,e){for(;;){var i=Bo;try{if(ya(),un.current=nr,xn){for(var s=pn.memoizedState;null!==s;){var h=s.queue;null!==h&&(h.pending=null),s=s.next}xn=!1}if(gn=0,In=fn=pn=null,bn=!1,Dn=0,So.current=null,null===i||null===i.return){Ro=1,No=e,Bo=null;break}t:{var n=t,r=i.return,o=i,l=e;if(e=zo,o.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=l,c=o,u=c.tag;if(0===(1&c.mode)&&(0===u||11===u||15===u)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Ir(r);if(null!==g){g.flags&=-257,xr(g,r,o,0,e),1&g.mode&&fr(n,d,e),l=d;var p=(e=g).updateQueue;if(null===p){var f=new Set;f.add(l),e.updateQueue=f}else p.add(l);break t}if(0===(1&e)){fr(n,d,e),Il();break t}l=Error(a(426))}else if(ha&&1&o.mode){var I=Ir(r);if(null!==I){0===(65536&I.flags)&&(I.flags|=256),xr(I,r,o,0,e),ga(dr(l,o));break t}}n=l=dr(l,o),4!==Ro&&(Ro=2),null===Mo?Mo=[n]:Mo.push(n),n=r;do{switch(n.tag){case 3:n.flags|=65536,e&=-e,n.lanes|=e,Ra(n,gr(0,l,e));break t;case 1:o=l;var x=n.type,b=n.stateNode;if(0===(128&n.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Go||!Go.has(b)))){n.flags|=65536,e&=-e,n.lanes|=e,Ra(n,pr(n,o,e));break t}}n=n.return}while(null!==n)}vl(i)}catch(D){e=D,Bo===i&&null!==i&&(Bo=i=i.return);continue}break}}function fl(){var t=To.current;return To.current=nr,null===t?nr:t}function Il(){0!==Ro&&3!==Ro&&2!==Ro||(Ro=4),null===_o||0===(268435455&jo)&&0===(268435455&Oo)||ll(_o,zo)}function xl(t,e){var i=Ao;Ao|=2;var s=fl();for(_o===t&&zo===e||(Wo=null,gl(t,e));;)try{bl();break}catch(h){pl(t,h)}if(ya(),Ao=i,To.current=s,null!==Bo)throw Error(a(261));return _o=null,zo=0,Ro}function bl(){for(;null!==Bo;)yl(Bo)}function Dl(){for(;null!==Bo&&!Xt();)yl(Bo)}function yl(t){var e=wo(t.alternate,t,Po);t.memoizedProps=t.pendingProps,null===e?vl(t):Bo=e,So.current=null}function vl(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=Gr(i,e,Po)))return void(Bo=i)}else{if(null!==(i=Xr(i,e)))return i.flags&=32767,void(Bo=i);if(null===t)return Ro=6,void(Bo=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Bo=e);Bo=e=t}while(null!==e);0===Ro&&(Ro=5)}function kl(t,e,i){var s=be,h=Fo.transition;try{Fo.transition=null,be=1,function(t,e,i,s){do{Cl()}while(null!==Qo);if(0!==(6&Ao))throw Error(a(327));i=t.finishedWork;var h=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var n=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<i;){var h=31-ne(i),a=1<<h;e[h]=0,s[h]=-1,t[h]=-1,i&=~a}}(t,n),t===_o&&(Bo=_o=null,zo=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Xo||(Xo=!0,_l(ee,(function(){return Cl(),null}))),n=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||n){n=Fo.transition,Fo.transition=null;var r=be;be=1;var o=Ao;Ao|=4,So.current=null,function(t,e){if(th=qe,ms(t=us())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var s=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var h=s.anchorOffset,n=s.focusNode;s=s.focusOffset;try{i.nodeType,n.nodeType}catch(y){i=null;break t}var r=0,o=-1,l=-1,d=0,c=0,u=t,m=null;e:for(;;){for(var g;u!==i||0!==h&&3!==u.nodeType||(o=r+h),u!==n||0!==s&&3!==u.nodeType||(l=r+s),3===u.nodeType&&(r+=u.nodeValue.length),null!==(g=u.firstChild);)m=u,u=g;for(;;){if(u===t)break e;if(m===i&&++d===h&&(o=r),m===n&&++c===s&&(l=r),null!==(g=u.nextSibling))break;m=(u=m).parentNode}u=g}i=-1===o||-1===l?null:{start:o,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(eh={focusedElem:t,selectionRange:i},qe=!1,Jr=e;null!==Jr;)if(t=(e=Jr).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Jr=t;else for(;null!==Jr;){e=Jr;try{var p=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var f=p.memoizedProps,I=p.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?f:fa(e.type,f),I);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var D=e.stateNode.containerInfo;1===D.nodeType?D.textContent="":9===D.nodeType&&D.documentElement&&D.removeChild(D.documentElement);break;default:throw Error(a(163))}}catch(y){Ll(e,e.return,y)}if(null!==(t=e.sibling)){t.return=e.return,Jr=t;break}Jr=e.return}p=io,io=!1}(t,i),xo(i,t),gs(eh),qe=!!th,eh=th=null,t.current=i,Do(i,t,h),Qt(),Ao=o,be=r,Fo.transition=n}else t.current=i;if(Xo&&(Xo=!1,Qo=t,Yo=h),n=t.pendingLanes,0===n&&(Go=null),function(t){if(ae&&"function"===typeof ae.onCommitFiberRoot)try{ae.onCommitFiberRoot(he,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),al(t,Yt()),null!==e)for(s=t.onRecoverableError,i=0;i<e.length;i++)h=e[i],s(h.value,{componentStack:h.stack,digest:h.digest});if(Uo)throw Uo=!1,t=Ko,Ko=null,t;0!==(1&Yo)&&0!==t.tag&&Cl(),n=t.pendingLanes,0!==(1&n)?t===Jo?Zo++:(Zo=0,Jo=t):Zo=0,Vh()}(t,e,i,s)}finally{Fo.transition=h,be=s}return null}function Cl(){if(null!==Qo){var t=De(Yo),e=Fo.transition,i=be;try{if(Fo.transition=null,be=16>t?16:t,null===Qo)var s=!1;else{if(t=Qo,Qo=null,Yo=0,0!==(6&Ao))throw Error(a(331));var h=Ao;for(Ao|=4,Jr=t.current;null!==Jr;){var n=Jr,r=n.child;if(0!==(16&Jr.flags)){var o=n.deletions;if(null!==o){for(var l=0;l<o.length;l++){var d=o[l];for(Jr=d;null!==Jr;){var c=Jr;switch(c.tag){case 0:case 11:case 15:so(8,c,n)}var u=c.child;if(null!==u)u.return=c,Jr=u;else for(;null!==Jr;){var m=(c=Jr).sibling,g=c.return;if(no(c),c===d){Jr=null;break}if(null!==m){m.return=g,Jr=m;break}Jr=g}}}var p=n.alternate;if(null!==p){var f=p.child;if(null!==f){p.child=null;do{var I=f.sibling;f.sibling=null,f=I}while(null!==f)}}Jr=n}}if(0!==(2064&n.subtreeFlags)&&null!==r)r.return=n,Jr=r;else t:for(;null!==Jr;){if(0!==(2048&(n=Jr).flags))switch(n.tag){case 0:case 11:case 15:so(9,n,n.return)}var x=n.sibling;if(null!==x){x.return=n.return,Jr=x;break t}Jr=n.return}}var b=t.current;for(Jr=b;null!==Jr;){var D=(r=Jr).child;if(0!==(2064&r.subtreeFlags)&&null!==D)D.return=r,Jr=D;else t:for(r=b;null!==Jr;){if(0!==(2048&(o=Jr).flags))try{switch(o.tag){case 0:case 11:case 15:ho(9,o)}}catch(v){Ll(o,o.return,v)}if(o===r){Jr=null;break t}var y=o.sibling;if(null!==y){y.return=o.return,Jr=y;break t}Jr=o.return}}if(Ao=h,Vh(),ae&&"function"===typeof ae.onPostCommitFiberRoot)try{ae.onPostCommitFiberRoot(he,t)}catch(v){}s=!0}return s}finally{be=i,Fo.transition=e}}return!1}function wl(t,e,i){t=Pa(t,e=gr(0,e=dr(i,e),1),1),e=il(),null!==t&&(Ie(t,1,e),al(t,e))}function Ll(t,e,i){if(3===t.tag)wl(t,t,i);else for(;null!==e;){if(3===e.tag){wl(e,t,i);break}if(1===e.tag){var s=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Go||!Go.has(s))){e=Pa(e,t=pr(e,t=dr(i,t),1),1),t=il(),null!==e&&(Ie(e,1,t),al(e,t));break}}e=e.return}}function Tl(t,e,i){var s=t.pingCache;null!==s&&s.delete(e),e=il(),t.pingedLanes|=t.suspendedLanes&i,_o===t&&(zo&i)===i&&(4===Ro||3===Ro&&(130023424&zo)===zo&&500>Yt()-$o?gl(t,0):Ho|=i),al(t,e)}function Sl(t,e){0===e&&(0===(1&t.mode)?e=1:(e=de,0===(130023424&(de<<=1))&&(de=4194304)));var i=il();null!==(t=Fa(t,e))&&(Ie(t,e,i),al(t,i))}function Fl(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),Sl(t,i)}function Al(t,e){var i=0;switch(t.tag){case 13:var s=t.stateNode,h=t.memoizedState;null!==h&&(i=h.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(a(314))}null!==s&&s.delete(e),Sl(t,i)}function _l(t,e){return Kt(t,e)}function Bl(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(t,e,i,s){return new Bl(t,e,i,s)}function Pl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function El(t,e){var i=t.alternate;return null===i?((i=zl(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Rl(t,e,i,s,h,n){var r=2;if(s=t,"function"===typeof t)Pl(t)&&(r=1);else if("string"===typeof t)r=5;else t:switch(t){case k:return Nl(i.children,h,n,e);case C:r=8,h|=8;break;case w:return(t=zl(12,i,e,2|h)).elementType=w,t.lanes=n,t;case F:return(t=zl(13,i,e,h)).elementType=F,t.lanes=n,t;case A:return(t=zl(19,i,e,h)).elementType=A,t.lanes=n,t;case z:return jl(i,h,n,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case L:r=10;break t;case T:r=9;break t;case S:r=11;break t;case _:r=14;break t;case B:r=16,s=null;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=zl(r,i,e,h)).elementType=t,e.type=s,e.lanes=n,e}function Nl(t,e,i,s){return(t=zl(7,t,s,e)).lanes=i,t}function jl(t,e,i,s){return(t=zl(22,t,s,e)).elementType=z,t.lanes=i,t.stateNode={isHidden:!1},t}function Ol(t,e,i){return(t=zl(6,t,null,e)).lanes=i,t}function Hl(t,e,i){return(e=zl(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ml(t,e,i,s,h){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fe(0),this.expirationTimes=fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.identifierPrefix=s,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Vl(t,e,i,s,h,a,n,r,o){return t=new Ml(t,e,i,r,o),1===e?(e=1,!0===a&&(e|=8)):e=0,a=zl(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},_a(a),t}function $l(t){if(!t)return Th;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(a(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Bh(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(a(171))}if(1===t.tag){var i=t.type;if(Bh(i))return Eh(t,i,e)}return e}function ql(t,e,i,s,h,a,n,r,o){return(t=Vl(i,s,!0,t,0,a,0,r,o)).context=$l(null),i=t.current,(a=za(s=il(),h=sl(i))).callback=void 0!==e&&null!==e?e:null,Pa(i,a,h),t.current.lanes=h,Ie(t,h,s),al(t,s),t}function Wl(t,e,i,s){var h=e.current,a=il(),n=sl(h);return i=$l(i),null===e.context?e.context=i:e.pendingContext=i,(e=za(a,n)).payload={element:t},null!==(s=void 0===s?null:s)&&(e.callback=s),null!==(t=Pa(h,e,n))&&(hl(t,h,n,a),Ea(t,h,n)),n}function Ul(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Gl(t,e){Kl(t,e),(t=t.alternate)&&Kl(t,e)}wo=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Fh.current)Dr=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return Dr=!1,function(t,e,i){switch(e.tag){case 3:Ar(e),ma();break;case 5:nn(e);break;case 1:Bh(e.type)&&Rh(e);break;case 4:hn(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,h=e.memoizedProps.value;Lh(Ia,s._currentValue),s._currentValue=h;break;case 13:if(null!==(s=e.memoizedState))return null!==s.dehydrated?(Lh(on,1&on.current),e.flags|=128,null):0!==(i&e.child.childLanes)?jr(t,e,i):(Lh(on,1&on.current),null!==(t=Wr(t,e,i))?t.sibling:null);Lh(on,1&on.current);break;case 19:if(s=0!==(i&e.childLanes),0!==(128&t.flags)){if(s)return $r(t,e,i);e.flags|=128}if(null!==(h=e.memoizedState)&&(h.rendering=null,h.tail=null,h.lastEffect=null),Lh(on,on.current),s)break;return null;case 22:case 23:return e.lanes=0,wr(t,e,i)}return Wr(t,e,i)}(t,e,i);Dr=0!==(131072&t.flags)}else Dr=!1,ha&&0!==(1048576&e.flags)&&Jh(e,Uh,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;qr(t,e),t=e.pendingProps;var h=_h(e,Sh.current);Ca(e,i),h=Cn(null,e,s,t,h,i);var n=wn();return e.flags|=1,"object"===typeof h&&null!==h&&"function"===typeof h.render&&void 0===h.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bh(s)?(n=!0,Rh(e)):n=!1,e.memoizedState=null!==h.state&&void 0!==h.state?h.state:null,_a(e),h.updater=Ma,e.stateNode=h,h._reactInternals=e,Wa(e,s,t,i),e=Fr(null,e,s,!0,n,i)):(e.tag=0,ha&&n&&ta(e),yr(null,e,h,i),e=e.child),e;case 16:s=e.elementType;t:{switch(qr(t,e),t=e.pendingProps,s=(h=s._init)(s._payload),e.type=s,h=e.tag=function(t){if("function"===typeof t)return Pl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===S)return 11;if(t===_)return 14}return 2}(s),t=fa(s,t),h){case 0:e=Tr(null,e,s,t,i);break t;case 1:e=Sr(null,e,s,t,i);break t;case 11:e=vr(null,e,s,t,i);break t;case 14:e=kr(null,e,s,fa(s.type,t),i);break t}throw Error(a(306,s,""))}return e;case 0:return s=e.type,h=e.pendingProps,Tr(t,e,s,h=e.elementType===s?h:fa(s,h),i);case 1:return s=e.type,h=e.pendingProps,Sr(t,e,s,h=e.elementType===s?h:fa(s,h),i);case 3:t:{if(Ar(e),null===t)throw Error(a(387));s=e.pendingProps,h=(n=e.memoizedState).element,Ba(t,e),Na(e,s,null,i);var r=e.memoizedState;if(s=r.element,n.isDehydrated){if(n={element:s,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},e.updateQueue.baseState=n,e.memoizedState=n,256&e.flags){e=_r(t,e,s,i,h=dr(Error(a(423)),e));break t}if(s!==h){e=_r(t,e,s,i,h=dr(Error(a(424)),e));break t}for(sa=lh(e.stateNode.containerInfo.firstChild),ia=e,ha=!0,aa=null,i=Ya(e,null,s,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(ma(),s===h){e=Wr(t,e,i);break t}yr(t,e,s,i)}e=e.child}return e;case 5:return nn(e),null===t&&la(e),s=e.type,h=e.pendingProps,n=null!==t?t.memoizedProps:null,r=h.children,ih(s,h)?r=null:null!==n&&ih(s,n)&&(e.flags|=32),Lr(t,e),yr(t,e,r,i),e.child;case 6:return null===t&&la(e),null;case 13:return jr(t,e,i);case 4:return hn(e,e.stateNode.containerInfo),s=e.pendingProps,null===t?e.child=Qa(e,null,s,i):yr(t,e,s,i),e.child;case 11:return s=e.type,h=e.pendingProps,vr(t,e,s,h=e.elementType===s?h:fa(s,h),i);case 7:return yr(t,e,e.pendingProps,i),e.child;case 8:case 12:return yr(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(s=e.type._context,h=e.pendingProps,n=e.memoizedProps,r=h.value,Lh(Ia,s._currentValue),s._currentValue=r,null!==n)if(rs(n.value,r)){if(n.children===h.children&&!Fh.current){e=Wr(t,e,i);break t}}else for(null!==(n=e.child)&&(n.return=e);null!==n;){var o=n.dependencies;if(null!==o){r=n.child;for(var l=o.firstContext;null!==l;){if(l.context===s){if(1===n.tag){(l=za(-1,i&-i)).tag=2;var d=n.updateQueue;if(null!==d){var c=(d=d.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),d.pending=l}}n.lanes|=i,null!==(l=n.alternate)&&(l.lanes|=i),ka(n.return,i,e),o.lanes|=i;break}l=l.next}}else if(10===n.tag)r=n.type===e.type?null:n.child;else if(18===n.tag){if(null===(r=n.return))throw Error(a(341));r.lanes|=i,null!==(o=r.alternate)&&(o.lanes|=i),ka(r,i,e),r=n.sibling}else r=n.child;if(null!==r)r.return=n;else for(r=n;null!==r;){if(r===e){r=null;break}if(null!==(n=r.sibling)){n.return=r.return,r=n;break}r=r.return}n=r}yr(t,e,h.children,i),e=e.child}return e;case 9:return h=e.type,s=e.pendingProps.children,Ca(e,i),s=s(h=wa(h)),e.flags|=1,yr(t,e,s,i),e.child;case 14:return h=fa(s=e.type,e.pendingProps),kr(t,e,s,h=fa(s.type,h),i);case 15:return Cr(t,e,e.type,e.pendingProps,i);case 17:return s=e.type,h=e.pendingProps,h=e.elementType===s?h:fa(s,h),qr(t,e),e.tag=1,Bh(s)?(t=!0,Rh(e)):t=!1,Ca(e,i),$a(e,s,h),Wa(e,s,h,i),Fr(null,e,s,!0,t,i);case 19:return $r(t,e,i);case 22:return wr(t,e,i)}throw Error(a(156,e.tag))};var Xl="function"===typeof reportError?reportError:function(t){console.error(t)};function Ql(t){this._internalRoot=t}function Yl(t){this._internalRoot=t}function Zl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function td(){}function ed(t,e,i,s,h){var a=i._reactRootContainer;if(a){var n=a;if("function"===typeof h){var r=h;h=function(){var t=Ul(n);r.call(t)}}Wl(e,n,t,h)}else n=function(t,e,i,s,h){if(h){if("function"===typeof s){var a=s;s=function(){var t=Ul(n);a.call(t)}}var n=ql(e,s,t,0,null,!1,0,"",td);return t._reactRootContainer=n,t[gh]=n.current,Vs(8===t.nodeType?t.parentNode:t),ul(),n}for(;h=t.lastChild;)t.removeChild(h);if("function"===typeof s){var r=s;s=function(){var t=Ul(o);r.call(t)}}var o=Vl(t,0,!1,null,0,!1,0,"",td);return t._reactRootContainer=o,t[gh]=o.current,Vs(8===t.nodeType?t.parentNode:t),ul((function(){Wl(e,o,i,s)})),o}(i,e,t,h,s);return Ul(n)}Yl.prototype.render=Ql.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(a(409));Wl(t,e,null,null)},Yl.prototype.unmount=Ql.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;ul((function(){Wl(null,t,null,null)})),e[gh]=null}},Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ce();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ze.length&&0!==e&&e<ze[i].priority;i++);ze.splice(i,0,t),0===i&&Ne(t)}},ye=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=ce(e.pendingLanes);0!==i&&(xe(e,1|i),al(e,Yt()),0===(6&Ao)&&(qo=Yt()+500,Vh()))}break;case 13:ul((function(){var e=Fa(t,1);if(null!==e){var i=il();hl(e,t,1,i)}})),Gl(t,1)}},ve=function(t){if(13===t.tag){var e=Fa(t,134217728);if(null!==e)hl(e,t,134217728,il());Gl(t,134217728)}},ke=function(t){if(13===t.tag){var e=sl(t),i=Fa(t,e);if(null!==i)hl(i,t,e,il());Gl(t,e)}},Ce=function(){return be},we=function(t,e){var i=be;try{return be=t,e()}finally{be=i}},vt=function(t,e,i){switch(e){case"input":if(Z(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var h=yh(s);if(!h)throw Error(a(90));K(s),Z(s,h)}}}break;case"textarea":at(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},St=cl,Ft=ul;var id={usingClientEntryPoint:!1,Events:[bh,Dh,yh,Lt,Tt,cl]},sd={findFiberByHostInstance:xh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hd={bundleType:sd.bundleType,version:sd.version,rendererPackageName:sd.rendererPackageName,rendererConfig:sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:sd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{he=ad.inject(hd),ae=ad}catch(dt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=id,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(e))throw Error(a(200));return function(t,e,i){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:v,key:null==s?null:""+s,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!Zl(t))throw Error(a(299));var i=!1,s="",h=Xl;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(s=e.identifierPrefix),void 0!==e.onRecoverableError&&(h=e.onRecoverableError)),e=Vl(t,1,!1,null,0,i,0,s,h),t[gh]=e.current,Vs(8===t.nodeType?t.parentNode:t),new Ql(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw t=Object.keys(t).join(","),Error(a(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return ul(t)},e.hydrate=function(t,e,i){if(!Jl(e))throw Error(a(200));return ed(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!Zl(t))throw Error(a(405));var s=null!=i&&i.hydratedSources||null,h=!1,n="",r=Xl;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(h=!0),void 0!==i.identifierPrefix&&(n=i.identifierPrefix),void 0!==i.onRecoverableError&&(r=i.onRecoverableError)),e=ql(e,null,t,1,null!=i?i:null,h,0,n,r),t[gh]=e.current,Vs(t),s)for(t=0;t<s.length;t++)h=(h=(i=s[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,h]:e.mutableSourceEagerHydrationData.push(i,h);return new Yl(e)},e.render=function(t,e,i){if(!Jl(e))throw Error(a(200));return ed(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Jl(t))throw Error(a(40));return!!t._reactRootContainer&&(ul((function(){ed(null,null,t,!1,(function(){t._reactRootContainer=null,t[gh]=null}))})),!0)},e.unstable_batchedUpdates=cl,e.unstable_renderSubtreeIntoContainer=function(t,e,i,s){if(!Jl(i))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return ed(t,e,i,!1,s)},e.version="18.2.0-next-9e3b772b8-20220608"},391:function(t,e,i){var s=i(950);e.createRoot=s.createRoot,e.hydrateRoot=s.hydrateRoot},950:function(t,e,i){!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)},380:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=t||"";e&&(a=t.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(t,e,s){return e>0&&e+t.length!==s.length&&t.search(i)>-1&&":"!==s.charAt(e-2)&&("-"!==s.charAt(e+t.length)||"-"===s.charAt(e-1))&&s.charAt(e-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})));h&&(a=function(t){if(function(t){return"string"===typeof t&&-1!==t.indexOf("@")}(t))return console.warn("This arg looks like an email address, redacting."),s;return t}(a));return a};var i=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;var s="REDACTED (Potential Email Address)"},979:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var s=o(i(148)),h=o(i(380)),a=["eventCategory","eventAction","eventLabel","eventValue","hitType"],n=["title","location"],r=["page","hitType"];function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(null==t)return{};var i,s,h=function(t,e){if(null==t)return{};var i,s,h={},a=Object.keys(t);for(s=0;s<a.length;s++)i=a[s],e.indexOf(i)>=0||(h[i]=t[i]);return h}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)i=a[s],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(h[i]=t[i])}return h}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function c(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){x(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,h,a,n,r=[],o=!0,l=!1;try{if(a=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;o=!1}else for(;!(o=(s=a.call(i)).done)&&(r.push(s.value),r.length!==e);o=!0);}catch(d){l=!0,h=d}finally{try{if(!o&&null!=i.return&&(n=i.return(),Object(n)!==n))return}finally{if(l)throw h}}return r}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"===typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function I(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,b(s.key),s)}}function x(t,e,i){return(e=b(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function b(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!==d(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}var D=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,"reset",(function(){e.isInitialized=!1,e._testMode=!1,e._currentMeasurementId,e._hasLoadedGA=!1,e._isQueuing=!1,e._queueGtag=[]})),x(this,"_gtag",(function(){for(var t=arguments.length,i=new Array(t),h=0;h<t;h++)i[h]=arguments[h];e._testMode||e._isQueuing?e._queueGtag.push(i):s.default.apply(void 0,i)})),x(this,"_loadGA",(function(t,i){if("undefined"!==typeof window&&"undefined"!==typeof document&&!e._hasLoadedGA){var s=document.createElement("script");s.async=!0,s.src="https://www.googletagmanager.com/gtag/js?id=".concat(t),i&&s.setAttribute("nonce",i),document.body.appendChild(s),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},e._hasLoadedGA=!0}})),x(this,"_toGtagOptions",(function(t){if(t){var e={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},i=Object.entries(t).reduce((function(t,i){var s=g(i,2),h=s[0],a=s[1];return e[h]?t[e[h]]=a:t[h]=a,t}),{});return i}})),x(this,"initialize",(function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Require GA_MEASUREMENT_ID");var s="string"===typeof t?[{trackingId:t}]:t;e._currentMeasurementId=s[0].trackingId;var h=i.gaOptions,a=i.gtagOptions,n=i.nonce,r=i.testMode,o=void 0!==r&&r;if(e._testMode=o,o||e._loadGA(e._currentMeasurementId,n),e.isInitialized||(e._gtag("js",new Date),s.forEach((function(t){var i=m(m(m({},e._toGtagOptions(m(m({},h),t.gaOptions))),a),t.gtagOptions);Object.keys(i).length?e._gtag("config",t.trackingId,i):e._gtag("config",t.trackingId)}))),e.isInitialized=!0,!o){var l=c(e._queueGtag);for(e._queueGtag=[],e._isQueuing=!1;l.length;){var d=l.shift();e._gtag.apply(e,c(d)),"get"===d[0]&&(e._isQueuing=!0)}}})),x(this,"set",(function(t){t?"object"===d(t)?(0===Object.keys(t).length&&console.warn("empty `fieldsObject` given to .set()"),e._gaCommand("set",t)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")})),x(this,"_gaCommandSendEvent",(function(t,i,s,h,a){e._gtag("event",i,m(m({event_category:t,event_label:s,value:h},a&&{non_interaction:a.nonInteraction}),e._toGtagOptions(a)))})),x(this,"_gaCommandSendEventParameters",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];if("string"===typeof i[0])e._gaCommandSendEvent.apply(e,c(i.slice(1)));else{var h=i[0],n=h.eventCategory,r=h.eventAction,o=h.eventLabel,d=h.eventValue,u=(h.hitType,l(h,a));e._gaCommandSendEvent(n,r,o,d,u)}})),x(this,"_gaCommandSendTiming",(function(t,i,s,h){e._gtag("event","timing_complete",{name:i,value:s,event_category:t,event_label:h})})),x(this,"_gaCommandSendPageview",(function(t,i){if(i&&Object.keys(i).length){var s=e._toGtagOptions(i),h=s.title,a=s.location,r=l(s,n);e._gtag("event","page_view",m(m(m(m({},t&&{page_path:t}),h&&{page_title:h}),a&&{page_location:a}),r))}else t?e._gtag("event","page_view",{page_path:t}):e._gtag("event","page_view")})),x(this,"_gaCommandSendPageviewParameters",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];if("string"===typeof i[0])e._gaCommandSendPageview.apply(e,c(i.slice(1)));else{var h=i[0],a=h.page,n=(h.hitType,l(h,r));e._gaCommandSendPageview(a,n)}})),x(this,"_gaCommandSend",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];var h="string"===typeof i[0]?i[0]:i[0].hitType;switch(h){case"event":e._gaCommandSendEventParameters.apply(e,i);break;case"pageview":e._gaCommandSendPageviewParameters.apply(e,i);break;case"timing":e._gaCommandSendTiming.apply(e,c(i.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(h));break;default:console.warn("Send command doesn't exist: ".concat(h))}})),x(this,"_gaCommandSet",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];"string"===typeof i[0]&&(i[0]=x({},i[0],i[1])),e._gtag("set",e._toGtagOptions(i[0]))})),x(this,"_gaCommand",(function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),h=1;h<i;h++)s[h-1]=arguments[h];switch(t){case"send":e._gaCommandSend.apply(e,s);break;case"set":e._gaCommandSet.apply(e,s);break;default:console.warn("Command doesn't exist: ".concat(t))}})),x(this,"ga",(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];if("string"===typeof i[0])e._gaCommand.apply(e,i);else{var h=i[0];e._gtag("get",e._currentMeasurementId,"client_id",(function(t){e._isQueuing=!1;var i=e._queueGtag;for(h({get:function(i){return"clientId"===i?t:"trackingId"===i?e._currentMeasurementId:"apiVersion"===i?"1":void 0}});i.length;){var s=i.shift();e._gtag.apply(e,c(s))}})),e._isQueuing=!0}return e.ga})),x(this,"event",(function(t,i){if("string"===typeof t)e._gtag("event",t,e._toGtagOptions(i));else{var s=t.action,a=t.category,n=t.label,r=t.value,o=t.nonInteraction,l=t.transport;if(!a||!s)return void console.warn("args.category AND args.action are required in event()");var d={hitType:"event",eventCategory:(0,h.default)(a),eventAction:(0,h.default)(s)};n&&(d.eventLabel=(0,h.default)(n)),"undefined"!==typeof r&&("number"!==typeof r?console.warn("Expected `args.value` arg to be a Number."):d.eventValue=r),"undefined"!==typeof o&&("boolean"!==typeof o?console.warn("`args.nonInteraction` must be a boolean."):d.nonInteraction=o),"undefined"!==typeof l&&("string"!==typeof l?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(l)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),d.transport=l)),e._gaCommand("send",d)}})),x(this,"send",(function(t){e._gaCommand("send",t)})),this.reset()}var e,i,o;return e=t,i=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],i&&I(e.prototype,i),o&&I(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.GA4=D;var y=new D;e.default=y},148:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var s;"undefined"!==typeof window&&("undefined"===typeof window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(s=window).gtag.apply(s,e))};e.default=i},279:function(t,e,i){function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}e.Ay=void 0;var h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!==typeof t)return{default:t};var i=a(e);if(i&&i.has(t))return i.get(t);var h={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=n?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(h,r,o):h[r]=t[r]}h.default=t,i&&i.set(t,h);return h}(i(979));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(a=function(t){return t?i:e})(t)}h.GA4;var n=h.default;e.Ay=n},153:function(t,e,i){var s=i(43),h=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,i){var s,a={},l=null,d=null;for(s in void 0!==i&&(l=""+i),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(d=e.ref),e)n.call(e,s)&&!o.hasOwnProperty(s)&&(a[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps)void 0===a[s]&&(a[s]=e[s]);return{$$typeof:h,type:t,key:l,ref:d,props:a,_owner:r.current}}e.Fragment=a,e.jsx=l,e.jsxs=l},202:function(t,e){var i=Symbol.for("react.element"),s=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,f={};function I(t,e,i){this.props=t,this.context=e,this.refs=f,this.updater=i||g}function x(){}function b(t,e,i){this.props=t,this.context=e,this.refs=f,this.updater=i||g}I.prototype.isReactComponent={},I.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},I.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=I.prototype;var D=b.prototype=new x;D.constructor=b,p(D,I.prototype),D.isPureReactComponent=!0;var y=Array.isArray,v=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function w(t,e,s){var h,a={},n=null,r=null;if(null!=e)for(h in void 0!==e.ref&&(r=e.ref),void 0!==e.key&&(n=""+e.key),e)v.call(e,h)&&!C.hasOwnProperty(h)&&(a[h]=e[h]);var o=arguments.length-2;if(1===o)a.children=s;else if(1<o){for(var l=Array(o),d=0;d<o;d++)l[d]=arguments[d+2];a.children=l}if(t&&t.defaultProps)for(h in o=t.defaultProps)void 0===a[h]&&(a[h]=o[h]);return{$$typeof:i,type:t,key:n,ref:r,props:a,_owner:k.current}}function L(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var T=/\/+/g;function S(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function F(t,e,h,a,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var o=!1;if(null===t)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case i:case s:o=!0}}if(o)return n=n(o=t),t=""===a?"."+S(o,0):a,y(n)?(h="",null!=t&&(h=t.replace(T,"$&/")+"/"),F(n,e,h,"",(function(t){return t}))):null!=n&&(L(n)&&(n=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(n,h+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(T,"$&/")+"/")+t)),e.push(n)),1;if(o=0,a=""===a?".":a+":",y(t))for(var l=0;l<t.length;l++){var d=a+S(r=t[l],l);o+=F(r,e,h,d,n)}else if(d=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=m&&t[m]||t["@@iterator"])?t:null}(t),"function"===typeof d)for(t=d.call(t),l=0;!(r=t.next()).done;)o+=F(r=r.value,e,h,d=a+S(r,l++),n);else if("object"===r)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function A(t,e,i){if(null==t)return t;var s=[],h=0;return F(t,s,"","",(function(t){return e.call(i,t,h++)})),s}function _(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var B={current:null},z={transition:null},P={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:z,ReactCurrentOwner:k};e.Children={map:A,forEach:function(t,e,i){A(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!L(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=I,e.Fragment=h,e.Profiler=n,e.PureComponent=b,e.StrictMode=a,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,s){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var h=p({},t.props),a=t.key,n=t.ref,r=t._owner;if(null!=e){if(void 0!==e.ref&&(n=e.ref,r=k.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)v.call(e,l)&&!C.hasOwnProperty(l)&&(h[l]=void 0===e[l]&&void 0!==o?o[l]:e[l])}var l=arguments.length-2;if(1===l)h.children=s;else if(1<l){o=Array(l);for(var d=0;d<l;d++)o[d]=arguments[d+2];h.children=o}return{$$typeof:i,type:t.type,key:a,ref:n,props:h,_owner:r}},e.createContext=function(t){return(t={$$typeof:o,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:r,_context:t},t.Consumer=t},e.createElement=w,e.createFactory=function(t){var e=w.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=L,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:_}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=z.transition;z.transition={};try{t()}finally{z.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return B.current.useCallback(t,e)},e.useContext=function(t){return B.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return B.current.useDeferredValue(t)},e.useEffect=function(t,e){return B.current.useEffect(t,e)},e.useId=function(){return B.current.useId()},e.useImperativeHandle=function(t,e,i){return B.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return B.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return B.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return B.current.useMemo(t,e)},e.useReducer=function(t,e,i){return B.current.useReducer(t,e,i)},e.useRef=function(t){return B.current.useRef(t)},e.useState=function(t){return B.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return B.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return B.current.useTransition()},e.version="18.2.0"},43:function(t,e,i){t.exports=i(202)},579:function(t,e,i){t.exports=i(153)},234:function(t,e){function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var s=i-1>>>1,h=t[s];if(!(0<a(h,e)))break t;t[s]=e,t[i]=h,i=s}}function s(t){return 0===t.length?null:t[0]}function h(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var s=0,h=t.length,n=h>>>1;s<n;){var r=2*(s+1)-1,o=t[r],l=r+1,d=t[l];if(0>a(o,i))l<h&&0>a(d,o)?(t[s]=d,t[l]=i,s=l):(t[s]=o,t[r]=i,s=r);else{if(!(l<h&&0>a(d,i)))break t;t[s]=d,t[l]=i,s=l}}}return e}function a(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var n=performance;e.unstable_now=function(){return n.now()}}else{var r=Date,o=r.now();e.unstable_now=function(){return r.now()-o}}var l=[],d=[],c=1,u=null,m=3,g=!1,p=!1,f=!1,I="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function D(t){for(var e=s(d);null!==e;){if(null===e.callback)h(d);else{if(!(e.startTime<=t))break;h(d),e.sortIndex=e.expirationTime,i(l,e)}e=s(d)}}function y(t){if(f=!1,D(t),!p)if(null!==s(l))p=!0,z(v);else{var e=s(d);null!==e&&P(y,e.startTime-t)}}function v(t,i){p=!1,f&&(f=!1,x(L),L=-1),g=!0;var a=m;try{for(D(i),u=s(l);null!==u&&(!(u.expirationTime>i)||t&&!F());){var n=u.callback;if("function"===typeof n){u.callback=null,m=u.priorityLevel;var r=n(u.expirationTime<=i);i=e.unstable_now(),"function"===typeof r?u.callback=r:u===s(l)&&h(l),D(i)}else h(l);u=s(l)}if(null!==u)var o=!0;else{var c=s(d);null!==c&&P(y,c.startTime-i),o=!1}return o}finally{u=null,m=a,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,w=null,L=-1,T=5,S=-1;function F(){return!(e.unstable_now()-S<T)}function A(){if(null!==w){var t=e.unstable_now();S=t;var i=!0;try{i=w(!0,t)}finally{i?k():(C=!1,w=null)}}else C=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,B=_.port2;_.port1.onmessage=A,k=function(){B.postMessage(null)}}else k=function(){I(A,0)};function z(t){w=t,C||(C=!0,k())}function P(t,i){L=I((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,z(v))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(l)},e.unstable_next=function(t){switch(m){case 1:case 2:case 3:var e=3;break;default:e=m}var i=m;m=e;try{return t()}finally{m=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=m;m=t;try{return e()}finally{m=i}},e.unstable_scheduleCallback=function(t,h,a){var n=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?n+a:n:a=n,t){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return t={id:c++,callback:h,priorityLevel:t,startTime:a,expirationTime:r=a+r,sortIndex:-1},a>n?(t.sortIndex=a,i(d,t),null===s(l)&&t===s(d)&&(f?(x(L),L=-1):f=!0,P(y,a-n))):(t.sortIndex=r,i(l,t),p||g||(p=!0,z(v))),t},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(t){var e=m;return function(){var i=m;m=e;try{return t.apply(this,arguments)}finally{m=i}}}},853:function(t,e,i){t.exports=i(234)}},e={};function i(s){var h=e[s];if(void 0!==h)return h.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}!function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(s,h){if(1&h&&(s=this(s)),8&h)return s;if("object"===typeof s&&s){if(4&h&&s.__esModule)return s;if(16&h&&"function"===typeof s.then)return s}var a=Object.create(null);i.r(a);var n={};t=t||[null,e({}),e([]),e(e)];for(var r=2&h&&s;"object"==typeof r&&!~t.indexOf(r);r=e(r))Object.getOwnPropertyNames(r).forEach((function(t){n[t]=function(){return s[t]}}));return n.default=function(){return s},i.d(a,n),a}}(),i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="/";var s,h=i(43),a=i.t(h,2),n=i(950),r=i.t(n,2);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},o.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(s||(s={}));const l="popstate";function d(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function c(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(i){}}}function u(t,e){return{usr:t.state,key:t.key,idx:e}}function m(t,e,i,s){return void 0===i&&(i=null),o({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?p(e):e,{state:i,key:e&&e.key||s||Math.random().toString(36).substr(2,8)})}function g(t){let{pathname:e="/",search:i="",hash:s=""}=t;return i&&"?"!==i&&(e+="?"===i.charAt(0)?i:"?"+i),s&&"#"!==s&&(e+="#"===s.charAt(0)?s:"#"+s),e}function p(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function f(t,e,i,h){void 0===h&&(h={});let{window:a=document.defaultView,v5Compat:n=!1}=h,r=a.history,c=s.Pop,p=null,f=I();function I(){return(r.state||{idx:null}).idx}function x(){c=s.Pop;let t=I(),e=null==t?null:t-f;f=t,p&&p({action:c,location:D.location,delta:e})}function b(t){let e="null"!==a.location.origin?a.location.origin:a.location.href,i="string"===typeof t?t:g(t);return i=i.replace(/ $/,"%20"),d(e,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,e)}null==f&&(f=0,r.replaceState(o({},r.state,{idx:f}),""));let D={get action(){return c},get location(){return t(a,r)},listen(t){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(l,x),p=t,()=>{a.removeEventListener(l,x),p=null}},createHref(t){return e(a,t)},createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){c=s.Push;let h=m(D.location,t,e);i&&i(h,t),f=I()+1;let o=u(h,f),l=D.createHref(h);try{r.pushState(o,"",l)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(l)}n&&p&&p({action:c,location:D.location,delta:1})},replace:function(t,e){c=s.Replace;let h=m(D.location,t,e);i&&i(h,t),f=I();let a=u(h,f),o=D.createHref(h);r.replaceState(a,"",o),n&&p&&p({action:c,location:D.location,delta:0})},go(t){return r.go(t)}};return D}var I;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(I||(I={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(t,e,i){return void 0===i&&(i="/"),b(t,e,i,!1)}function b(t,e,i,s){let h=z(("string"===typeof e?p(e):e).pathname||"/",i);if(null==h)return null;let a=D(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let i=t.length===e.length&&t.slice(0,-1).every(((t,i)=>t===e[i]));return i?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(a);let n=null;for(let r=0;null==n&&r<a.length;++r){let t=B(h);n=A(a[r],t,s)}return n}function D(t,e,i,s){void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===s&&(s="");let h=(t,h,a)=>{let n={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:h,route:t};n.relativePath.startsWith("/")&&(d(n.relativePath.startsWith(s),'Absolute route path "'+n.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),n.relativePath=n.relativePath.slice(s.length));let r=j([s,n.relativePath]),o=i.concat(n);t.children&&t.children.length>0&&(d(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+r+'".'),D(t.children,e,o,r)),(null!=t.path||t.index)&&e.push({path:r,score:F(r,t.index),routesMeta:o})};return t.forEach(((t,e)=>{var i;if(""!==t.path&&null!=(i=t.path)&&i.includes("?"))for(let s of y(t.path))h(t,e,s);else h(t,e)})),e}function y(t){let e=t.split("/");if(0===e.length)return[];let[i,...s]=e,h=i.endsWith("?"),a=i.replace(/\?$/,"");if(0===s.length)return h?[a,""]:[a];let n=y(s.join("/")),r=[];return r.push(...n.map((t=>""===t?a:[a,t].join("/")))),h&&r.push(...n),r.map((e=>t.startsWith("/")&&""===e?"/":e))}const v=/^:[\w-]+$/,k=3,C=2,w=1,L=10,T=-2,S=t=>"*"===t;function F(t,e){let i=t.split("/"),s=i.length;return i.some(S)&&(s+=T),e&&(s+=C),i.filter((t=>!S(t))).reduce(((t,e)=>t+(v.test(e)?k:""===e?w:L)),s)}function A(t,e,i){void 0===i&&(i=!1);let{routesMeta:s}=t,h={},a="/",n=[];for(let r=0;r<s.length;++r){let t=s[r],o=r===s.length-1,l="/"===a?e:e.slice(a.length)||"/",d=_({path:t.relativePath,caseSensitive:t.caseSensitive,end:o},l),c=t.route;if(!d&&o&&i&&!s[s.length-1].route.index&&(d=_({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},l)),!d)return null;Object.assign(h,d.params),n.push({params:h,pathname:j([a,d.pathname]),pathnameBase:O(j([a,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(a=j([a,d.pathnameBase]))}return n}function _(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[i,s]=function(t,e,i){void 0===e&&(e=!1);void 0===i&&(i=!0);c("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let s=[],h="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,i)=>(s.push({paramName:e,isOptional:null!=i}),i?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(s.push({paramName:"*"}),h+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?h+="\\/*$":""!==t&&"/"!==t&&(h+="(?:(?=\\/|$))");let a=new RegExp(h,e?void 0:"i");return[a,s]}(t.path,t.caseSensitive,t.end),h=e.match(i);if(!h)return null;let a=h[0],n=a.replace(/(.)\/+$/,"$1"),r=h.slice(1);return{params:s.reduce(((t,e,i)=>{let{paramName:s,isOptional:h}=e;if("*"===s){let t=r[i]||"";n=a.slice(0,a.length-t.length).replace(/(.)\/+$/,"$1")}const o=r[i];return t[s]=h&&!o?void 0:(o||"").replace(/%2F/g,"/"),t}),{}),pathname:a,pathnameBase:n,pattern:t}}function B(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function z(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=t.charAt(i);return s&&"/"!==s?null:t.slice(i)||"/"}function P(t,e,i,s){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function E(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function R(t,e){let i=E(t);return e?i.map(((t,e)=>e===i.length-1?t.pathname:t.pathnameBase)):i.map((t=>t.pathnameBase))}function N(t,e,i,s){let h;void 0===s&&(s=!1),"string"===typeof t?h=p(t):(h=o({},t),d(!h.pathname||!h.pathname.includes("?"),P("?","pathname","search",h)),d(!h.pathname||!h.pathname.includes("#"),P("#","pathname","hash",h)),d(!h.search||!h.search.includes("#"),P("#","search","hash",h)));let a,n=""===t||""===h.pathname,r=n?"/":h.pathname;if(null==r)a=i;else{let t=e.length-1;if(!s&&r.startsWith("..")){let e=r.split("/");for(;".."===e[0];)e.shift(),t-=1;h.pathname=e.join("/")}a=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:i,search:s="",hash:h=""}="string"===typeof t?p(t):t,a=i?i.startsWith("/")?i:function(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?i.length>1&&i.pop():"."!==t&&i.push(t)})),i.length>1?i.join("/"):"/"}(i,e):e;return{pathname:a,search:H(s),hash:M(h)}}(h,a),c=r&&"/"!==r&&r.endsWith("/"),u=(n||"."===r)&&i.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const j=t=>t.join("/").replace(/\/\/+/g,"/"),O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",M=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function V(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const $=["post","put","patch","delete"],q=(new Set($),["get",...$]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},W.apply(this,arguments)}const U=h.createContext(null);const K=h.createContext(null);const G=h.createContext(null);const X=h.createContext(null);const Q=h.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=h.createContext(null);function Z(){return null!=h.useContext(X)}function J(){return Z()||d(!1),h.useContext(X).location}function tt(t){h.useContext(G).static||h.useLayoutEffect(t)}function et(){let{isDataRoute:t}=h.useContext(Q);return t?function(){let{router:t}=ct(lt.UseNavigateStable),e=mt(dt.UseNavigateStable),i=h.useRef(!1);return tt((()=>{i.current=!0})),h.useCallback((function(s,h){void 0===h&&(h={}),i.current&&("number"===typeof s?t.navigate(s):t.navigate(s,W({fromRouteId:e},h)))}),[t,e])}():function(){Z()||d(!1);let t=h.useContext(U),{basename:e,future:i,navigator:s}=h.useContext(G),{matches:a}=h.useContext(Q),{pathname:n}=J(),r=JSON.stringify(R(a,i.v7_relativeSplatPath)),o=h.useRef(!1);return tt((()=>{o.current=!0})),h.useCallback((function(i,h){if(void 0===h&&(h={}),!o.current)return;if("number"===typeof i)return void s.go(i);let a=N(i,JSON.parse(r),n,"path"===h.relative);null==t&&"/"!==e&&(a.pathname="/"===a.pathname?e:j([e,a.pathname])),(h.replace?s.replace:s.push)(a,h.state,h)}),[e,s,r,n,t])}()}function it(t,e){let{relative:i}=void 0===e?{}:e,{future:s}=h.useContext(G),{matches:a}=h.useContext(Q),{pathname:n}=J(),r=JSON.stringify(R(a,s.v7_relativeSplatPath));return h.useMemo((()=>N(t,JSON.parse(r),n,"path"===i)),[t,r,n,i])}function st(t,e,i,a){Z()||d(!1);let{navigator:n}=h.useContext(G),{matches:r}=h.useContext(Q),o=r[r.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,m=J();if(e){var g;let t="string"===typeof e?p(e):e;"/"===c||(null==(g=t.pathname)?void 0:g.startsWith(c))||d(!1),u=t}else u=m;let f=u.pathname||"/",I=f;if("/"!==c){let t=c.replace(/^\//,"").split("/");I="/"+f.replace(/^\//,"").split("/").slice(t.length).join("/")}let b=x(t,{pathname:I});let D=ot(b&&b.map((t=>Object.assign({},t,{params:Object.assign({},l,t.params),pathname:j([c,n.encodeLocation?n.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?c:j([c,n.encodeLocation?n.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),r,i,a);return e&&D?h.createElement(X.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:s.Pop}},D):D}function ht(){let t=function(){var t;let e=h.useContext(Y),i=ut(dt.UseRouteError),s=mt(dt.UseRouteError);if(void 0!==e)return e;return null==(t=i.errors)?void 0:t[s]}(),e=V(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),i?h.createElement("pre",{style:a},i):null,null)}const at=h.createElement(ht,null);class nt extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?h.createElement(Q.Provider,{value:this.props.routeContext},h.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rt(t){let{routeContext:e,match:i,children:s}=t,a=h.useContext(U);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),h.createElement(Q.Provider,{value:e},s)}function ot(t,e,i,s){var a;if(void 0===e&&(e=[]),void 0===i&&(i=null),void 0===s&&(s=null),null==t){var n;if(!i)return null;if(i.errors)t=i.matches;else{if(!(null!=(n=s)&&n.v7_partialHydration&&0===e.length&&!i.initialized&&i.matches.length>0))return null;t=i.matches}}let r=t,o=null==(a=i)?void 0:a.errors;if(null!=o){let t=r.findIndex((t=>t.route.id&&void 0!==(null==o?void 0:o[t.route.id])));t>=0||d(!1),r=r.slice(0,Math.min(r.length,t+1))}let l=!1,c=-1;if(i&&s&&s.v7_partialHydration)for(let h=0;h<r.length;h++){let t=r[h];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=h),t.route.id){let{loaderData:e,errors:s}=i,h=t.route.loader&&void 0===e[t.route.id]&&(!s||void 0===s[t.route.id]);if(t.route.lazy||h){l=!0,r=c>=0?r.slice(0,c+1):[r[0]];break}}}return r.reduceRight(((t,s,a)=>{let n,d=!1,u=null,m=null;var g;i&&(n=o&&s.route.id?o[s.route.id]:void 0,u=s.route.errorElement||at,l&&(c<0&&0===a?(g="route-fallback",!1||gt[g]||(gt[g]=!0),d=!0,m=null):c===a&&(d=!0,m=s.route.hydrateFallbackElement||null)));let p=e.concat(r.slice(0,a+1)),f=()=>{let e;return e=n?u:d?m:s.route.Component?h.createElement(s.route.Component,null):s.route.element?s.route.element:t,h.createElement(rt,{match:s,routeContext:{outlet:t,matches:p,isDataRoute:null!=i},children:e})};return i&&(s.route.ErrorBoundary||s.route.errorElement||0===a)?h.createElement(nt,{location:i.location,revalidation:i.revalidation,component:u,error:n,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()}),null)}var lt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lt||{}),dt=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dt||{});function ct(t){let e=h.useContext(U);return e||d(!1),e}function ut(t){let e=h.useContext(K);return e||d(!1),e}function mt(t){let e=function(){let t=h.useContext(Q);return t||d(!1),t}(),i=e.matches[e.matches.length-1];return i.route.id||d(!1),i.route.id}const gt={};a.startTransition;function pt(t){d(!1)}function ft(t){let{basename:e="/",children:i=null,location:a,navigationType:n=s.Pop,navigator:r,static:o=!1,future:l}=t;Z()&&d(!1);let c=e.replace(/^\/*/,"/"),u=h.useMemo((()=>({basename:c,navigator:r,static:o,future:W({v7_relativeSplatPath:!1},l)})),[c,l,r,o]);"string"===typeof a&&(a=p(a));let{pathname:m="/",search:g="",hash:f="",state:I=null,key:x="default"}=a,b=h.useMemo((()=>{let t=z(m,c);return null==t?null:{location:{pathname:t,search:g,hash:f,state:I,key:x},navigationType:n}}),[c,m,g,f,I,x,n]);return null==b?null:h.createElement(G.Provider,{value:u},h.createElement(X.Provider,{children:i,value:b}))}function It(t){let{children:e,location:i}=t;return st(xt(e),i)}new Promise((()=>{}));h.Component;function xt(t,e){void 0===e&&(e=[]);let i=[];return h.Children.forEach(t,((t,s)=>{if(!h.isValidElement(t))return;let a=[...e,s];if(t.type===h.Fragment)return void i.push.apply(i,xt(t.props.children,a));t.type!==pt&&d(!1),t.props.index&&t.props.children&&d(!1);let n={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(n.children=xt(t.props.children,a)),i.push(n)})),i}function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},bt.apply(this,arguments)}function Dt(t,e){if(null==t)return{};var i,s,h={},a=Object.keys(t);for(s=0;s<a.length;s++)i=a[s],e.indexOf(i)>=0||(h[i]=t[i]);return h}function yt(t){return void 0===t&&(t=""),new URLSearchParams("string"===typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce(((e,i)=>{let s=t[i];return e.concat(Array.isArray(s)?s.map((t=>[i,t])):[[i,s]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const vt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ac){}new Map;const kt=a.startTransition;r.flushSync,a.useId;function Ct(t){let{basename:e,children:i,future:s,window:a}=t,n=h.useRef();var r;null==n.current&&(n.current=(void 0===(r={window:a,v5Compat:!0})&&(r={}),f((function(t,e){let{pathname:i,search:s,hash:h}=t.location;return m("",{pathname:i,search:s,hash:h},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:g(e)}),null,r)));let o=n.current,[l,d]=h.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=h.useCallback((t=>{c&&kt?kt((()=>d(t))):d(t)}),[d,c]);return h.useLayoutEffect((()=>o.listen(u)),[o,u]),h.createElement(ft,{basename:e,children:i,location:l.location,navigationType:l.action,navigator:o,future:s})}const wt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Lt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=h.forwardRef((function(t,e){let i,{onClick:s,relative:a,reloadDocument:n,replace:r,state:o,target:l,to:c,preventScrollReset:u,viewTransition:m}=t,p=Dt(t,vt),{basename:f}=h.useContext(G),I=!1;if("string"===typeof c&&Lt.test(c)&&(i=c,wt))try{let t=new URL(window.location.href),e=c.startsWith("//")?new URL(t.protocol+c):new URL(c),i=z(e.pathname,f);e.origin===t.origin&&null!=i?c=i+e.search+e.hash:I=!0}catch(Ac){}let x=function(t,e){let{relative:i}=void 0===e?{}:e;Z()||d(!1);let{basename:s,navigator:a}=h.useContext(G),{hash:n,pathname:r,search:o}=it(t,{relative:i}),l=r;return"/"!==s&&(l="/"===r?s:j([s,r])),a.createHref({pathname:l,search:o,hash:n})}(c,{relative:a}),b=function(t,e){let{target:i,replace:s,state:a,preventScrollReset:n,relative:r,viewTransition:o}=void 0===e?{}:e,l=et(),d=J(),c=it(t,{relative:r});return h.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,i)){e.preventDefault();let i=void 0!==s?s:g(d)===g(c);l(t,{replace:i,state:a,preventScrollReset:n,relative:r,viewTransition:o})}}),[d,l,c,s,a,i,t,n,r,o])}(c,{replace:r,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:m});return h.createElement("a",bt({},p,{href:i||x,onClick:I||n?s:function(t){s&&s(t),t.defaultPrevented||b(t)},ref:e,target:l}))}));var St,Ft;function At(t){let e=h.useRef(yt(t)),i=h.useRef(!1),s=J(),a=h.useMemo((()=>function(t,e){let i=yt(t);return e&&e.forEach(((t,s)=>{i.has(s)||e.getAll(s).forEach((t=>{i.append(s,t)}))})),i}(s.search,i.current?null:e.current)),[s.search]),n=et(),r=h.useCallback(((t,e)=>{const s=yt("function"===typeof t?t(a):t);i.current=!0,n("?"+s,e)}),[n,a]);return[a,r]}(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(St||(St={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Ft||(Ft={}));var _t=i(579);var Bt=()=>(0,_t.jsxs)("div",{className:"footer",children:["\xa9 2025"," \u2014 ","CS 1332 Teaching Team and Rodrigo Pontes, under the direction of Mary Hudachek-Buswell. \xa9 2011\xa0",(0,_t.jsx)("a",{href:"http://www.cs.usfca.edu/galles",children:"David Galles"})]}),zt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pt=h.createContext&&h.createContext(zt),Et=function(){return Et=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var h in e=arguments[i])Object.prototype.hasOwnProperty.call(e,h)&&(t[h]=e[h]);return t},Et.apply(this,arguments)},Rt=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var h=0;for(s=Object.getOwnPropertySymbols(t);h<s.length;h++)e.indexOf(s[h])<0&&Object.prototype.propertyIsEnumerable.call(t,s[h])&&(i[s[h]]=t[s[h]])}return i};function Nt(t){return t&&t.map((function(t,e){return h.createElement(t.tag,Et({key:e},t.attr),Nt(t.child))}))}function jt(t){return function(e){return h.createElement(Ot,Et({attr:Et({},t.attr)},e),Nt(t.child))}}function Ot(t){var e=function(e){var i,s=t.attr,a=t.size,n=t.title,r=Rt(t,["attr","size","title"]),o=a||e.size||"1em";return e.className&&(i=e.className),t.className&&(i=(i?i+" ":"")+t.className),h.createElement("svg",Et({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,r,{className:i,style:Et(Et({color:t.color||e.color},e.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),n&&h.createElement("title",null,n),t.children)};return void 0!==Pt?h.createElement(Pt.Consumer,null,(function(t){return e(t)})):e(zt)}function Ht(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"}},{tag:"path",attr:{d:"m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z"}}]})(t)}function Mt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"}}]})(t)}function Vt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"}}]})(t)}function $t(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"}},{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"}}]})(t)}function qt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"}}]})(t)}function Wt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"}}]})(t)}function Ut(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM6.646 7.646a.5.5 0 1 1 .708.708L5.707 10l1.647 1.646a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2zm2.708 0 2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 10 8.646 8.354a.5.5 0 1 1 .708-.708z"}}]})(t)}function Kt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3z"}}]})(t)}function Gt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM5.057 6h5.886L11 8h-.5c-.18-1.096-.356-1.192-1.694-1.235l-.298-.01v5.09c0 .47.1.582.903.655v.5H6.59v-.5c.799-.073.898-.184.898-.654V6.755l-.293.01C5.856 6.808 5.68 6.905 5.5 8H5l.057-2z"}}]})(t)}function Xt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"}}]})(t)}function Qt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}}]})(t)}function Yt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}}]})(t)}function Zt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}}]})(t)}function Jt(t){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"}},{tag:"path",attr:{d:"M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066 0 0 1-.415-.492 1.988 1.988 0 0 1-.94.31z"}}]})(t)}function te(t){return jt({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"}}]})(t)}class ee extends h.Component{constructor(){super(...arguments),this.state={menuVisible:null,theme:"light"},this.toggleMenu=()=>this.setState((t=>({menuVisible:!t.menuVisible})))}render(){const t=this.props.theme,e=this.props.toggleTheme;return(0,_t.jsxs)(h.Fragment,{children:[(0,_t.jsxs)("div",{className:"header",children:[(0,_t.jsx)("div",{id:"menu",children:(0,_t.jsx)(Pt.Provider,{value:{className:"menu-bar"},children:(0,_t.jsx)(te,{onClick:this.toggleMenu,size:24})})}),(0,_t.jsx)("div",{id:"title",children:(0,_t.jsx)("h1",{children:"CS 1332 Data Structures & Algorithms Visualization Tool"})}),(0,_t.jsx)("div",{className:"gimmicks",children:(0,_t.jsx)("div",{id:"theme",children:"light"===t?(0,_t.jsx)(Mt,{size:28,onClick:e,color:"#f9c333",className:"rotate-effect"}):(0,_t.jsx)(Zt,{size:26,onClick:e,color:"#3498db",className:"rotate-effect"})})})]}),(0,_t.jsx)("div",{className:`menu ${{null:"",true:"show",false:"hide"}[this.state.menuVisible]}`,children:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:(0,_t.jsxs)(Tt,{to:"/",onClick:this.toggleMenu,children:[(0,_t.jsx)(Ht,{size:20}),"\xa0\xa0Home"]})}),(0,_t.jsx)("li",{children:(0,_t.jsxs)(Tt,{to:"/about",onClick:this.toggleMenu,children:[(0,_t.jsx)(Qt,{size:20}),"\xa0\xa0About"]})}),(0,_t.jsx)("li",{children:(0,_t.jsxs)("a",{href:"https://github.com/csvistool/visualization-tool",target:"_blank",rel:"noreferrer",children:[(0,_t.jsx)(Xt,{size:20}),"\xa0\xa0Source Code"]})}),(0,_t.jsx)("li",{children:(0,_t.jsxs)("a",{href:"https://forms.gle/j9iMhFi8drjf2PU86",target:"_blank",rel:"noreferrer",children:[(0,_t.jsx)(Wt,{size:20}),"\xa0\xa0Feedback"]})})]})})]})}}var ie=ee;var se=t=>{let{theme:e,toggleTheme:i}=t;return(0,_t.jsxs)("div",{className:"container",children:[(0,_t.jsx)(ie,{theme:e,toggleTheme:i}),(0,_t.jsxs)("div",{className:"about",children:[(0,_t.jsx)("h1",{children:"About this Tool"}),(0,_t.jsxs)("p",{children:["This tool is designed to help you visualize and understand the data structures and algorithms covered in Georgia Tech's CS 1332 course. It is based on the"," ",(0,_t.jsx)("a",{href:"https://www.cs.usfca.edu/~galles/visualization/about.html",children:"Data Structures Visualizations website"})," ","created by David Galles."]}),(0,_t.jsxs)("p",{children:["The CS 1332 Visualization Tool was adapted and expanded by"," ",(0,_t.jsx)("a",{href:"https://rodrigodlpontes.github.io/website/",children:"Rodrigo Pontes"})," under the supervision of Dr. Mary Hudachek-Buswell to include data structures and algorithms covered in the course. It has since been updated and revised by"," ",(0,_t.jsx)("a",{href:"https://github.com/csvistool/visualization-tool#contributors-",children:"many other wonderful contributors"}),"."]}),(0,_t.jsxs)("p",{children:["This site uses icons from"," ",(0,_t.jsx)("a",{href:"https://material.io/resources/icons/?style=baseline",children:"Google's Material Icons"})," ","and ",(0,_t.jsx)("a",{href:"https://react-icons.github.io/react-icons",children:"react-icons"}),", as well as components from ",(0,_t.jsx)("a",{href:"https://material-ui.com/",children:"Material UI"}),"."]})]}),(0,_t.jsx)(Bt,{})]})};var he=()=>(0,_t.jsxs)("div",{className:"container",children:[(0,_t.jsx)(ie,{}),(0,_t.jsx)("div",{className:"content",children:(0,_t.jsxs)("div",{className:"four-o-four",children:[(0,_t.jsx)("h1",{children:"404!"}),(0,_t.jsxs)("h3",{children:["Algorithm not found! Click ",(0,_t.jsx)(Tt,{to:"/",children:"here"})," to return to the home screen and choose another algorithm."]})]})}),(0,_t.jsx)(Bt,{})]});class ae{constructor(t,e,i,s,h){this.objectID=t,this.fromX=e,this.fromY=i,this.toX=s,this.toY=h}}class ne{addUndoAnimation(){return!1}undoInitialStep(){}}class re extends ne{constructor(t,e,i,s,h){super(),this.objectID=t,this.fromX=e,this.fromY=i,this.toX=s,this.toY=h}addUndoAnimation(t){const e=new ae(this.objectID,this.fromX,this.fromY,this.toX,this.toY);return t.push(e),!0}}class oe extends ne{constructor(t){super(),this.objectID=t}undoInitialStep(t){t.removeObject(this.objectID)}}class le extends ne{constructor(t,e,i){super(),this.objectID=t,this.highlightValue=e,this.color=i}undoInitialStep(t){t.setHighlight(this.objectID,this.highlightValue,this.color)}}class de extends ne{constructor(t,e){super(),this.objectID=t,this.height=e}undoInitialStep(t){t.setHeight(this.objectID,this.height)}}class ce extends ne{constructor(t,e){super(),this.objectID=t,this.width=e}undoInitialStep(t){t.setWidth(this.objectID,this.width)}}class ue extends ne{constructor(t,e){if(super(),this.objectID=t.objectID,this.sizeBeforeChange=t.getNumElements(),this.sizeAfterChange=e,this.sizeBeforeChange>this.sizeAfterChange){this.labels=new Array(this.sizeBeforeChange-this.sizeAfterChange),this.colors=new Array(this.sizeBeforeChange-this.sizeAfterChange);for(let e=0;e<this.sizeBeforeChange-this.sizeAfterChange;e++)this.labels[e]=t.getText(e+this.sizeAfterChange),this.colors[e]=t.getTextColor(e+this.sizeAfterChange)}}undoInitialStep(t){if(t.setNumElements(this.objectID,this.sizeBeforeChange),this.sizeBeforeChange>this.sizeAfterChange)for(let e=0;e<this.sizeBeforeChange-this.sizeAfterChange;e++)t.setText(this.objectID,this.labels[e],e+this.sizeAfterChange),t.setTextColor(this.objectID,this.colors[e],e+this.sizeAfterChange)}}class me extends ne{constructor(t,e){super(),this.objectID=t,this.alphaVal=e}undoInitialStep(t){t.setAlpha(this.objectID,this.alphaVal)}}class ge extends ne{constructor(t,e){super(),this.objectID=t,this.nullVal=e}undoInitialStep(t){t.setNull(this.objectID,this.nullVal)}}class pe extends ne{constructor(t,e){super(),this.objectID=t,this.nullVal=e}undoInitialStep(t){t.setPrevNull(this.objectID,this.nullVal)}}class fe extends ne{constructor(t,e){super(),this.objectID=t,this.nullVal=e}undoInitialStep(t){t.setNextNull(this.objectID,this.nullVal)}}class Ie extends ne{constructor(t,e){super(),this.objectID=t,this.color=e}undoInitialStep(t){t.setForegroundColor(this.objectID,this.color)}}class xe extends ne{constructor(t,e){super(),this.objectID=t,this.color=e}undoInitialStep(t){t.setBackgroundColor(this.objectID,this.color)}}class be extends ne{constructor(t,e){super(),this.objectID=t,this.index=e}undoInitialStep(t){t.setHighlightIndex(this.objectID,this.index)}}class De extends ne{constructor(t,e,i){super(),this.objectID=t,this.newText=e,this.labelIndex=i}undoInitialStep(t){t.setText(this.objectID,this.newText,this.labelIndex)}}class ye extends ne{constructor(t,e,i){super(),this.objectID=t,this.color=e,this.index=i}undoInitialStep(t){t.setTextColor(this.objectID,this.color,this.index)}}class ve extends ne{constructor(t,e,i){super(),this.fromID=t,this.toID=e,this.highlightValue=i}undoInitialStep(t){t.setEdgeHighlight(this.fromID,this.toID,this.highlightValue)}}class ke extends ne{constructor(t,e,i){super(),this.fromID=t,this.toID=e,this.thickness=i}undoInitialStep(t){t.setEdgeThickness(this.fromID,this.toID,this.thickness)}}class Ce extends ne{constructor(t,e,i){super(),this.fromID=t,this.toID=e,this.color=i}undoInitialStep(t){t.setEdgeColor(this.fromID,this.toID,this.color)}}class we extends ne{constructor(t,e,i){super(),this.fromID=t,this.toID=e,this.alpha=i}undoInitialStep(t){t.setEdgeAlpha(this.fromID,this.toID,this.alpha)}}class Le extends ne{constructor(t,e,i){super(),this.objectID=t,this.x=e,this.y=i}undoInitialStep(t){t.setNodePosition(this.objectID,this.x,this.y)}}class Te extends ne{constructor(t,e){super(),this.objectID=t,this.onTop=e}undoInitialStep(t){t.setAlwaysOnTop(this.objectID,this.onTop)}}class Se extends ne{constructor(t,e){super(),this.objectID=t,this.thicknessArray=e}undoInitialStep(t){t.setRectangleEdgeThickness(this.objectID,this.thicknessArray)}}class Fe{constructor(){this.events=[]}removeListener(t,e,i){if(null==this.events[t])return;let s,h=null;for(s=0;s<this.events[t].length;s++)if(this.events[t][s].scope===e){h=this.events[t][s];break}if(null!=h)for(s=0;s<h.functions.length;s++)if(h.functions[s]===i)return void h.functions.splice(s,1)}addListener(t,e,i){let s;void 0===this.events[t]&&(this.events[t]=[]);let h=null;for(s=0;s<this.events[t].length;s++)if(this.events[t][s].scope===e){h=this.events[t][s];break}for(null===h&&(this.events[t].push({scope:e,functions:[]}),h=this.events[t][this.events[t].length-1]),s=0;s<h.functions.length;s++)if(h.functions[s]===i)return;h.functions.push(i)}fireEvent(t,e){if(void 0!==this.events[t])for(let i=0;i<this.events[t].length;i++){const s=this.events[t][i],h=s.functions,a=s.scope;for(let t=0;t<h.length;t++){h[t].call(a,e)}}}}class Ae{constructor(){this.objectID=-1,this.x=0,this.y=0,this.backgroundColor="#FFFFFF",this.foregroundColor="#000000",this.highlighted=!1,this.label="",this.labelColor="#000000",this.layer=0,this.alpha=1,this.minHeightDiff=3,this.range=5,this.highlightIndex=-1,this.highlightIndexDirty=!0,this.addedToScene=!0}setBackgroundColor(t){this.backgroundColor=t}setNull(){}getNull(){return!1}setAlpha(t){this.alpha=t}getAlpha(){return this.alpha}setForegroundColor(t){this.foregroundColor=t,this.labelColor=t}getHighlight(){return this.highlighted}getWidth(){return 0}getHeight(){return 0}setHighlight(t,e){this.highlighted=t,this.highlightColor=e||"#ff0000"}centerX(){return this.x}setWidth(){throw new Error("setWidth() should be implemented in a base class")}centerY(){return this.y}getAlignLeftPos(t){return[t.right()+this.getWidth()/2,t.centerY()]}getAlignRightPos(t){return[t.left()-this.getWidth()/2,t.centerY()]}getAlignTopPos(t){return[t.centerX(),t.top()-this.getHeight()/2]}getAlignBottomPos(t){return[t.centerX(),t.bottom()+this.getHeight()/2]}alignLeft(t){this.y=t.centerY(),this.x=t.right()+this.getWidth()/2}alignRight(t){this.y=t.centerY(),this.x=t.left()-this.getWidth()/2}alignTop(t){this.x=t.centerX(),this.y=t.top()-this.getHeight()/2}alignBottom(t){this.x=t.centerX(),this.y=t.bottom()+this.getHeight()/2}getClosestCardinalPoint(t,e){let i,s,h,a;return t<this.left()?(i=this.left()-t,h=this.left()):t>this.right()?(i=t-this.right(),h=this.right()):(i=0,h=this.centerX()),e<this.top()?(s=this.top()-e,a=this.top()):e>this.bottom()?(s=e-this.bottom(),a=this.bottom()):(s=0,a=this.centerY()),s>i?h=this.centerX():a=this.centerY(),[h,a]}centered(){return!1}pulseHighlight(t){if(this.highlighted){const e=t/7,i=Math.abs(e%(2*this.range-2)-this.range+1);this.highlightDiff=i+this.minHeightDiff}}getTailPointerAttachPos(){return[this.x,this.y]}getHeadPointerAttachPos(){return[this.x,this.y]}identifier(){return this.objectID}getText(){return this.label}getTextColor(){return this.labelColor}setTextColor(t){this.labelColor=t}setText(t){this.label=t}setHighlightIndex(t){this.highlightIndex=t,this.highlightIndexDirty=!0}getHighlightIndex(){return this.highlightIndex}}class _e extends Ae{constructor(t,e,i,s,h,a){super(),this.objectID=t,this.backgroundColor=h,this.foregroundColor=a,this.widthPerElement=e,this.h=i,this.numLabels=s,this.labels=[],this.labelColors=[];for(let n=0;n<this.numLabels;n++)this.labelColors[n]=this.foregroundColor}getNumElements(){return this.numLabels}getWidth(){return this.numLabels>0?this.widthPerElement*this.numLabels:10}setNumElements(t){if(this.numLabels<t){for(let e=this.numLabels;e<t;e++)this.labels[e]="",this.labelColors[e]=this.foregroundColor;this.numLabels=t}else if(this.numLabels>t){for(let e=t;e<this.numLabels;e++)this.labels[e]=null;this.numLabels=t}}left(){return this.x-this.getWidth()/2}right(){return this.x+this.getWidth()/2}top(){return this.y-this.h/2}bottom(){return this.y+this.h/2}draw(t){let e;e=this.left(),isNaN(e)&&(e=0);const i=this.top();this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.getWidth()+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.getWidth()+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.getWidth(),i),t.lineTo(e+this.getWidth(),i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),t.textAlign="center",t.textBaseline="middle";for(let s=0;s<this.numLabels;s++){const e=this.x-this.widthPerElement*this.numLabels/2+this.widthPerElement/2+s*this.widthPerElement,i=this.y;t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],e,i)}}getHeight(){return this.h}setForegroundColor(t){this.foregroundColor=t;for(let e=0;e<this.numLabels;e++)this.labelColor[e]=t}getTailPointerAttachPos(t,e,i){return 0===i?[this.left()+5,this.y]:i===this.numLabels?[this.right()-5,this.y]:[this.left()+i*this.widthPerElement,this.y]}getHeadPointerAttachPos(t,e){return e<this.y-this.h/2?[this.x,this.y-this.h/2]:this.fromY>this.y+this.h/2?[this.x,this.y+this.h/2]:t<this.x-this.getWidth()/2?[this.x-this.getWidth()/2,this.y]:[this.x+this.getWidth()/2,this.y]}getTextColor(t){return t=t||0,this.labelColors[t]}getText(t){return t=t||0,this.labels[t]}setTextColor(t,e){e=e||0,this.labelColors[e]=t}setText(t,e){e=e||0,this.labels[e]=t}createUndoDelete(){return new Be(this.objectID,this.numLabels,this.labels,this.x,this.y,this.widthPerElement,this.h,this.labelColors,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}class Be extends ne{constructor(t,e,i,s,h,a,n,r,o,l,d,c,u){super(),this.objectID=t,this.numLabels=e,this.labels=i,this.x=s,this.y=h,this.widthPerElement=a,this.h=n,this.labelColors=r,this.backgroundColor=o,this.foregroundColor=l,this.layer=d,this.highlighted=c,this.highlightColor=u}undoInitialStep(t){t.addBTreeNode(this.objectID,this.widthPerElement,this.h,this.numLabels,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y);for(let e=0;e<this.numLabels;e++)t.setText(this.objectID,this.labels[e],e),t.setTextColor(this.objectID,this.labelColors[e],e);t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class ze extends Ae{constructor(t,e){super(),this.objectID=t,this.label=e,this.radius=20,this.thickness=3,this.highlightIndex=-1}getTailPointerAttachPos(t,e){return this.getHeadPointerAttachPos(t,e)}getWidth(){return 2*this.radius}setWidth(t){this.radius=t/2}getHeadPointerAttachPos(t,e){const i=t-this.x,s=e-this.y,h=Math.sqrt(i*i+s*s);return 0===h?[this.x,this.y]:[this.x+i/h*this.radius,this.y+s/h*this.radius]}setHighlightIndex(t){this.highlightIndex=t,this.highlightIndexDirty=!0}draw(t){t.globalAlpha=this.alpha,this.highlighted&&(t.fillStyle=this.highlightColor,t.beginPath(),t.arc(this.x,this.y,this.radius+this.highlightDiff,0,2*Math.PI,!0),t.closePath(),t.fill()),t.fillStyle=this.backgroundColor,t.strokeStyle=this.foregroundColor,t.lineWidth=1.6,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,t.fillStyle=this.foregroundColor;const e=this.label.split("\n");if(1===e.length)if(this.highlightIndexDirty&&-1!==this.highlightIndex&&(this.leftWidth=t.measureText(this.label.substring(0,this.highlightIndex)).width,this.centerWidth=t.measureText(this.label.substring(this.highlightIndex,this.highlightIndex+1)).width,this.textWidth=t.measureText(this.label).width,this.highlightIndexDirty=!1),-1!==this.highlightIndex&&this.highlightIndex<this.label.length){const e=this.x-this.textWidth/2;t.textAlign="left";const i=this.label.substring(0,this.highlightIndex),s=this.label.substring(this.highlightIndex,this.highlightIndex+1),h=this.label.substring(this.highlightIndex+1);t.fillText(i,e,this.y),t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.fillText(s,e+this.leftWidth,this.y),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.fillText(h,e+this.leftWidth+this.centerWidth,this.y)}else t.fillText(this.label,this.x,this.y);else if(e.length%2===0){const i=e.length/2;for(let s=0;s<e.length/2;s++)t.fillText(e[i-s-1],this.x,this.y-12*(s+.5)),t.fillText(e[i+s],this.x,this.y+12*(s+.5))}else{const i=(e.length-1)/2;t.fillText(e[i],this.x,this.y);for(let s=0;s<i;s++)t.fillText(e[i-(s+1)],this.x,this.y-12*(s+1)),t.fillText(e[i+(s+1)],this.x,this.y+12*(s+1))}}createUndoDelete(){return new Pe(this.objectID,this.label,this.x,this.y,this.foregroundColor,this.backgroundColor,this.layer,this.radius,this.highlighted,this.highlightColor)}}class Pe extends ne{constructor(t,e,i,s,h,a,n,r,o,l){super(),this.objectID=t,this.label=e,this.x=i,this.y=s,this.foregroundColor=h,this.backgroundColor=a,this.layer=n,this.radius=r,this.highlighted=o,this.highlightColor=l}undoInitialStep(t){t.addCircleObject(this.objectID,this.label),t.setWidth(this.objectID,2*this.radius),t.setNodePosition(this.objectID,this.x,this.y),t.setForegroundColor(this.objectID,this.foregroundColor),t.setBackgroundColor(this.objectID,this.backgroundColor),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Ee extends Ae{constructor(t,e,i,s,h,a,n){super(),this.objectID=t,this.w=i,this.h=s,this.backgroundColor=a,this.foregroundColor=n,this.highlighted=!1,this.linkPercent=h,this.nullPointer=!1,this.label=e,this.labelPosX=0,this.labelPosY=0,this.labelColor=n}setNull(t){this.nullPointer!==t&&(this.nullPointer=t)}getNull(){return this.nullPointer}left(){return this.x-this.w*(1-this.linkPercent)/2}right(){return this.x+this.w*(this.linkPercent+1)/2}top(){return this.y-this.h/2}bottom(){return this.y+this.h/2}resetTextPosition(){this.labelPosX=this.x,this.labelPosY=this.y}getTailPointerAttachPos(){return[this.x+this.w/2,this.y]}getHeadPointerAttachPos(t,e){return t<this.x?this.getClosestCardinalPoint(t,e):[this.x,this.bottom()]}setWidth(t){this.w=t,this.resetTextPosition()}setHeight(t){this.h=t,this.resetTextPosition()}getWidth(){return this.w}getHeight(){return this.h}draw(t){let e,i;t.lineWidth=2,e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),e=this.right()-this.w*this.linkPercent,i=this.top(),t.lineWidth=1,t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.right(),i+this.h),t.closePath(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,t.fillText(this.label,this.labelPosX,this.labelPosY)}setTextColor(t){this.labelColor=t}getTextColor(){return this.labelColor}getText(){return this.label}setText(t){this.label=t,this.resetTextPosition()}setHighlight(t){t!==this.highlighted&&(this.highlighted=t)}createUndoDelete(){return new Re(this.objectID,this.label,this.w,this.h,this.x,this.y,this.linkPercent,this.backgroundColor,this.foregroundColor,this.labelColor,this.layer,this.nullPointer,this.highlighted,this.highlightColor)}}class Re extends ne{constructor(t,e,i,s,h,a,n,r,o,l,d,c,u,m){super(),this.objectID=t,this.label=e,this.w=i,this.h=s,this.x=h,this.y=a,this.linkPercent=n,this.backgroundColor=r,this.foregroundColor=o,this.labelColor=l,this.layer=d,this.nullPointer=c,this.highlighted=u,this.highlightColor=m}undoInitialStep(t){t.addCircularlyLinkedListObject(this.objectID,this.label,this.w,this.h,this.linkPercent,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setNull(this.objectID,this.nullPointer),t.setTextColor(this.objectID,this.labelColor),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Ne extends Ae{constructor(t,e,i,s,h,a,n){super(),this.objectID=t,this.w=i,this.h=s,this.backgroundColor=a,this.foregroundColor=n,this.highlighted=!1,this.linkPercent=h,this.prevNullPointer=!1,this.nextNullPointer=!1,this.label=e,this.labelPosX=0,this.labelPosY=0,this.labelColor=n}setPrevNull(t){this.prevNullPointer!==t&&(this.prevNullPointer=t)}setNextNull(t){this.nextNullPointer!==t&&(this.nextNullPointer=t)}getLeftNull(){return this.prevNullPointer}getRightNull(){return this.nextNullPointer}left(){return this.x-this.w*(1-this.linkPercent)/2}right(){return this.x+this.w*(this.linkPercent+1)/2}top(){return this.y-this.h/2}bottom(){return this.y+this.h/2}resetTextPosition(){this.labelPosY=this.y,this.labelPosX=this.left()+this.w*(2*this.linkPercent)}getTailPointerAttachPos(t,e,i){return 0===i?[this.x+this.w/2,this.y-.2*this.h]:[this.left()+this.w*this.linkPercent/2,this.y+.2*this.h]}getHeadPointerAttachPos(t,e){const i=this.getClosestCardinalPoint(t,e);return i[1]===this.y?i[0]===this.left()?[i[0],this.y-.2*this.h]:[i[0],this.y+.2*this.h]:[i[0],i[1]]}setWidth(t){this.w=t,this.resetTextPosition()}setHeight(t){this.h=t,this.resetTextPosition()}getWidth(){return this.w}getHeight(){return this.h}draw(t){let e,i;t.lineWidth=2,e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),t.lineWidth=1,e=this.left()+this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.prevNullPointer&&(t.moveTo(this.left(),i),t.lineTo(this.left()+this.w*this.linkPercent,i+this.h)),t.closePath(),t.stroke(),e=this.right()-this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nextNullPointer&&(t.moveTo(this.right()-this.w*this.linkPercent,i),t.lineTo(this.right(),i+this.h)),t.closePath(),t.stroke(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,t.fillText(this.label,this.labelPosX,this.labelPosY)}setTextColor(t){this.labelColors=t}getTextColor(){return this.labelColors}getText(){return this.label}setText(t){this.label=t,this.resetTextPosition()}setHighlight(t){t!==this.highlighted&&(this.highlighted=t)}createUndoDelete(){return new je(this.objectID,this.label,this.w,this.h,this.x,this.y,this.linkPercent,this.backgroundColor,this.foregroundColor,this.labelColor,this.layer,this.prevNullPointer,this.nextNullPointer,this.highlighted,this.highlightColor)}}class je extends ne{constructor(t,e,i,s,h,a,n,r,o,l,d,c,u,m,g){super(),this.objectID=t,this.label=e,this.w=i,this.h=s,this.x=h,this.y=a,this.linkPercent=n,this.backgroundColor=r,this.foregroundColor=o,this.labelColors=l,this.layer=d,this.prevNullPointer=c,this.nextNullPointer=u,this.highlighted=m,this.highlightColor=g}undoInitialStep(t){t.addDoublyLinkedListObject(this.objectID,this.label,this.w,this.h,this.linkPercent,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setPrevNull(this.objectID,this.prevNullPointer),t.setNextNull(this.objectID,this.nextNullPointer),t.setTextColor(this.objectID,this.labelColor),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Oe extends Ae{constructor(t,e,i){super(),this.objectID=t,this.radius=i,this.thickness=4,this.foregroundColor=e,this.x=0,this.y=0}draw(t){t.globalAlpha=this.alpha,t.strokeStyle=this.foregroundColor,t.lineWidth=this.thickness,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.stroke()}createUndoDelete(){return new He(this.objectID,this.x,this.y,this.foregroundColor,this.radius,this.layer,this.alpha,this.highlighted,this.highlightColor)}}class He extends ne{constructor(t,e,i,s,h,a,n,r,o){super(),this.objectID=t,this.x=e,this.y=i,this.foregroundColor=s,this.radius=h,this.layer=a,this.alpha=n,this.highlighted=r,this.highlightColor=o}undoInitialStep(t){t.addHighlightCircleObject(this.objectID,this.foregroundColor,this.radius),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setAlpha(this.objectID,this.alpha),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Me extends Ae{constructor(t,e,i,s,h,a){super(),this.objectID=t,this.textWidth=s||0,this.label=e,this.labelColor="#000000",this.highlighted=!1,this.centered=i,this.isCode=h,this.isPointer=a,this.leftWidth=-1,this.centerWidth=-1,this.highlightIndex=-1,this.fontLoaded=!1,h&&this.loadFont()}async loadFont(){const t=new FontFace("Source Code Pro","url(/SourceCodePro-Regular.ttf)",{display:"swap"});try{await t.load(),document.fonts.add(t),this.fontLoaded=!0,this.redraw()}catch(e){console.error("Font could not be loaded:",e),this.fontLoaded=!1}}redraw(){const t=document.getElementById("canvas").getContext("2d");this.draw(t)}centered(){return this.centered}draw(t){if(!this.addedToScene||this.isCode&&!this.fontLoaded)return;t.globalAlpha=this.alpha,this.isCode?t.font='13px "Source Code Pro", monospace':this.isPointer?t.font="16px Arial":t.font="12px Arial";let e=this.x;this.highlightIndex>=this.label.length&&(this.highlightIndex=-1),this.highlightIndexDirty&&-1!==this.highlightIndex&&(this.leftWidth=t.measureText(this.label.substring(0,this.highlightIndex)).width,this.centerWidth=t.measureText(this.label.substring(this.highlightIndex,this.highlightIndex+1)).width,this.highlightIndexDirty=!1),this.centered?-1!==this.highlightIndex?(e=this.x-this.width/2,t.textAlign="left",t.textBaseline="middle"):(t.textAlign="center",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="top"),this.highlighted&&(t.strokeStyle="#FFAAAA",t.fillStyle="#FF0000",t.lineWidth=this.highlightDiff,t.strokeText(this.label,this.x,this.y)),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.lineWidth=2;const i=this.label.split("\n");if(1===i.length)if(-1===this.highlightIndex)t.fillText(this.label,this.x,this.y);else{const i=this.label.substring(0,this.highlightIndex),s=this.label.substring(this.highlightIndex,this.highlightIndex+1),h=this.label.substring(this.highlightIndex+1);t.fillText(i,e,this.y),t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.fillText(s,e+this.leftWidth,this.y),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.fillText(h,e+this.leftWidth+this.centerWidth,this.y)}else{const e=this.centered?(1-i.length)/2:0;for(let s=0;s<i.length;s++)t.fillText(i[s],this.x,this.y+e+12*s)}t.closePath()}getAlignLeftPos(t){return this.centered?[t.left()-this.textWidth/2,this.y=t.centerY()]:[t.left()-this.textWidth,t.centerY()-5]}alignLeft(t){this.centered?(this.y=t.centerY(),this.x=t.left()-this.textWidth/2):(this.y=t.centerY()-5,this.x=t.left()-this.textWidth)}alignRight(t){this.centered?(this.y=t.centerY(),this.x=t.right()+this.textWidth/2):(this.y=t.centerY()-5,this.x=t.right())}getAlignRightPos(t){return this.centered?[t.right()+this.textWidth/2,t.centerY()]:[t.right(),t.centerY()-5]}alignTop(t){this.centered?(this.y=t.top()-5,this.x=t.centerX()):(this.y=t.top()-10,this.x=t.centerX()-this.textWidth/2)}getAlignTopPos(t){return this.centered?[t.centerX(),t.top()-5]:[t.centerX()-this.textWidth/2,t.top()-10]}alignBottom(t){this.centered?(this.y=t.bottom()+5,this.x=t.centerX()):(this.y=t.bottom(),this.x=t.centerX()-this.textWidth/2)}getAlignBottomPos(t){return this.centered?[t.centerX(),t.bottom()+5]:[t.centerX()-this.textWidth/2,t.bottom()]}getWidth(){return this.textWidth}getHeight(){return 10}setHighlight(t){this.highlighted=t}centerX(){return this.centered?this.x:this.x+this.textWidth}centerY(){return this.centered?this.y:this.y+5}top(){return this.centered?this.y-5:this.y}bottom(){return this.centered?this.y+5:this.y+10}right(){return this.centered?this.x+this.textWidth/2:this.x+this.textWidth}left(){return this.centered?this.x-this.textWidth/2:this.x}setHighlightIndex(t){-1===this.label.indexOf("\n")&&this.label.length>t?(this.highlightIndex=t,this.highlightIndexDirty=!0):this.highlightIndex=-1}getTailPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}getHeadPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}setText(t,e,i){this.label=t,null!=i&&(this.textWidth=i)}createUndoDelete(){return new Ve(this.objectID,this.label,this.x,this.y,this.centered,this.labelColor,this.layer,this.highlightIndex,this.highlighted,this.highlightColor,this.isCode,this.isPointer)}}class Ve extends ne{constructor(t,e,i,s,h,a,n,r,o,l,d,c){super(),this.objectID=t,this.label=e,this.x=i,this.y=s,this.centered=h,this.labelColor=a,this.layer=n,this.highlightIndex=r,this.highlighted=o,this.highlightColor=l,this.isCode=d,this.isPointer=c}undoInitialStep(t){t.addLabelObject(this.objectID,this.label,this.centered,this.isCode,this.isPointer),t.setNodePosition(this.objectID,this.x,this.y),t.setForegroundColor(this.objectID,this.labelColor),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class $e{constructor(t,e,i,s,h,a,n,r){this.fromID=t,this.toID=e,this.foregroundColor=i,this.edgeLabel=a,this.highlighted=!1,this.highlightDiff=0,this.dirty=!1,this.directed=h,this.anchorPoint=n,this.alpha=1,this.thickness=r,this.arrowHeight=8,this.arrowWidth=4,this.curve=s}color(){return this.foregroundColor}setColor(t){this.foregroundColor=t,this.dirty=!0}setHighlight(t,e){this.highlighted=t,this.highlightColor=e||"#FF0000"}setThickness(t){this.thickness=t}pulseHighlight(t){if(this.highlighted){const e=t/14,i=Math.abs(e%4-3+1);this.highlightDiff=i+this.thickness+3,this.dirty=!0}}hasNode(t){return this.fromID===t||this.toID===t}sign(t){return t>0?1:-1}drawArrow(t,e,i){i.strokeStyle=e,i.fillStyle=e,i.lineWidth=t;const s=this.fromID.getTailPointerAttachPos(this.toID.x,this.toID.y,this.anchorPoint),h=this.toID.getHeadPointerAttachPos(this.fromID.x,this.fromID.y),a=h[0]-s[0],n=h[1]-s[1],r=a/2+s[0],o=n/2+s[1],l=r-n*this.curve,d=o+a*this.curve;i.beginPath(),i.moveTo(s[0],s[1]),i.quadraticCurveTo(l,d,h[0],h[1]),i.stroke();let c=.25*s[0]+.5*l+.25*h[0],u=.25*s[1]+.5*d+.25*h[1];const m=Math.sqrt(n*n+a*a);if(0!==m&&(c+=-n*this.sign(this.curve)/m*10,u+=a*this.sign(this.curve)/m*10),i.textAlign="center",i.font="12px Arial",i.textBaseline="middle",i.fillText(this.edgeLabel,c,u),this.directed){let t=l-h[0],e=d-h[1];const s=Math.sqrt(t*t+e*e);s>0&&(t/=s,e/=s,i.beginPath(),i.moveTo(h[0],h[1]),i.lineTo(h[0]+t*this.arrowHeight-e*this.arrowWidth,h[1]+e*this.arrowHeight+t*this.arrowWidth),i.lineTo(h[0]+t*this.arrowHeight+e*this.arrowWidth,h[1]+e*this.arrowHeight-t*this.arrowWidth),i.lineTo(h[0],h[1]),i.closePath(),i.stroke(),i.fill())}}draw(t){t.globalAlpha=this.alpha,this.highlighted&&this.drawArrow(this.highlightDiff,this.highlightColor,t),this.drawArrow(this.thickness,this.foregroundColor,t)}createUndoConnect(){return new qe(this.fromID.objectID,this.toID.objectID,!0,this.foregroundColor,this.curve,this.directed,this.edgeLabel,this.anchorPoint,this.thickness,this.highlighted)}}class qe{constructor(t,e,i,s,h,a,n,r,o,l){this.fromID=t,this.toID=e,this.createConnection=i,this.color=s,this.curve=h,this.directed=a,this.edgeLabel=n,this.anchorPoint=r,this.thickness=o,this.highlighted=l}undoInitialStep(t){this.createConnection?(t.connectEdge(this.fromID,this.toID,this.color,this.curve,this.directed,this.edgeLabel,this.anchorPoint,this.thickness),t.setEdgeHighlight(this.fromID,this.toID,this.highlighted)):t.disconnect(this.fromID,this.toID)}addUndoAnimation(){return!1}}class We extends Ae{constructor(t,e,i,s,h,a,n,r,o){super(),this.objectID=t,this.w=i,this.h=s,this.backgroundColor=r,this.foregroundColor=o,this.highlighted=!1,this.vertical=a,this.linkPosEnd=n,this.linkPercent=h,this.nullPointer=!1,this.labels=e,this.labelPosX=[0],this.labelPosY=[0],this.labelColors=[o]}left(){return this.vertical?this.x-this.w/2:this.linkPosEnd?this.x-this.w*(1-this.linkPercent)/2:this.x-this.w*(this.linkPercent+1)/2}setNull(t){this.nullPointer!==t&&(this.nullPointer=t)}getNull(){return this.nullPointer}right(){return this.vertical?this.x+this.w/2:this.linkPosEnd?this.x+this.w*(this.linkPercent+1)/2:this.x+this.w*(1-this.linkPercent)/2}top(){return this.vertical?this.linkPosEnd?this.y-this.h*(1-this.linkPercent)/2:this.y-this.h*(1+this.linkPercent)/2:this.y-this.h/2}bottom(){return this.vertical?this.linkPosEnd?this.y+this.h*(1+this.linkPercent)/2:this.y+this.h*(1-this.linkPercent)/2:this.y+this.h/2}getTailPointerAttachPos(t,e,i){return this.vertical&&this.linkPosEnd?[this.x,this.y+this.h/2]:this.vertical&&!this.linkPosEnd?[this.x,this.y-this.h/2]:!this.vertical&&this.linkPosEnd?[this.x+this.w/2,this.y]:[this.x-this.w/2,this.y]}getHeadPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}setWidth(t){this.w=t}setHeight(t){this.h=t}getWidth(){return this.w}getHeight(){return this.h}draw(t){let e,i;if(t.lineWidth=2,e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),this.vertical){e=this.left();for(let s=1;s<this.labels.length;s++)i=this.y+this.h*(1-this.linkPercent)*(s/this.labels.length-.5),t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.closePath(),t.stroke()}else{i=this.top();for(let s=1;s<this.labels.length;s++)e=this.x+this.w*(1-this.linkPercent)*(s/this.labels.length-.5),t.beginPath(),t.moveTo(e,i),t.lineTo(e,i+this.h),t.closePath(),t.stroke()}if(t.lineWidth=1,this.vertical&&this.linkPosEnd?(e=this.left(),i=this.bottom()-this.h*this.linkPercent,t.beginPath(),t.moveTo(e+this.w,i),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.startX+this.w,this.bottom()),t.closePath(),t.stroke()):this.vertical&&!this.linkPosEnd?(e=this.left(),i=this.top()+this.h*this.linkPercent,t.beginPath(),t.moveTo(e+this.w,i),t.lineTo(e,i),this.nullPointer&&t.lineTo(e+this.w,this.top()),t.closePath(),t.stroke()):!this.vertical&&this.linkPosEnd?(e=this.right()-this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.right(),i+this.h),t.closePath(),t.stroke()):(e=this.left()+this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.left(),i),t.closePath(),t.stroke()),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.vertical){this.labelPosX[0]=this.x,this.labelPosY[0]=this.y+this.h*(1-this.linkPercent)/2*(1/this.labels.length-1);for(let t=1;t<this.labels.length;t++)this.labelPosX[t]=this.x,this.labelPosY[t]=this.labelPosY[t-1]+this.h*(1-this.linkPercent)/this.labels.length}else{this.labelPosY[0]=this.y,this.labelPosX[0]=this.x+this.w*(1-this.linkPercent)/2*(1/this.labels.length-1);for(let t=1;t<this.labels.length;t++)this.labelPosY[t]=this.y,this.labelPosX[t]=this.labelPosX[t-1]+this.w*(1-this.linkPercent)/this.labels.length}for(let s=0;s<this.labels.length;s++)t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],this.labelPosX[s],this.labelPosY[s])}setTextColor(t,e){this.labelColors[e]=t}getTextColor(t){return this.labelColors[t]}getText(t){return this.labels[t]}setText(t,e){this.labels[e]=t}setHighlight(t){t!==this.highlighted&&(this.highlighted=t)}createUndoDelete(){return new Ue(this.objectID,this.labels,this.w,this.h,this.x,this.y,this.linkPercent,this.vertical,this.linkPosEnd,this.backgroundColor,this.foregroundColor,this.labelColors,this.layer,this.nullPointer,this.highlighted,this.highlightColor)}}class Ue extends ne{constructor(t,e,i,s,h,a,n,r,o,l,d,c,u,m,g,p){super(),this.objectID=t,this.labels=e,this.w=i,this.h=s,this.x=h,this.y=a,this.linkPercent=n,this.vertical=r,this.linkPosEnd=o,this.backgroundColor=l,this.foregroundColor=d,this.labelColors=c,this.layer=u,this.nullPointer=m,this.highlighted=g,this.highlightColor=p}undoInitialStep(t){t.addLinkedListObject(this.objectID,this.labels,this.w,this.h,this.linkPercent,this.vertical,this.linkPosEnd,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setNull(this.objectID,this.nullPointer);for(let e=0;e<this.labels.length;e++)t.setTextColor(this.objectID,this.labelColors[e],e);t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Ke extends Ae{constructor(t,e,i,s,h,a,n,r){super(),this.objectID=t,this.w=i,this.h=s,this.xJustify=h,this.yJustify=a,this.backgroundColor=n,this.foregroundColor=r,this.textColor=r,this.highlighted=!1,this.thicknessArray=[!1,!1,!1,!1],this.label=e,this.nullPointer=!1}setNull(t){this.nullPointer=t}getNull(){return this.nullPointer}left(){return"left"===this.xJustify?this.x:"center"===this.xJustify?this.x-this.w/2:this.x-this.w}centerX(){return"center"===this.xJustify?this.x:"left"===this.xJustify?this.x+this.w/2:this.x-this.w/2}centerY(){return"center"===this.yJustify?this.y:"top"===this.yJustify?this.y+this.h/2:this.y-this.w/2}top(){return"top"===this.yJustify?this.y:"center"===this.yJustify?this.y-this.h/2:this.y-this.h}bottom(){return"top"===this.yJustify?this.y+this.h:"center"===this.yJustify?this.y+this.h/2:this.y}right(){return"left"===this.xJustify?this.x+this.w:"center"===this.xJustify?this.x+this.w/2:this.x}getHeadPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}getTailPointerAttachPos(t,e,i){switch(i){case 0:return this.getClosestCardinalPoint(t,e);case 1:return[this.x,this.top()];case 2:return[this.x,this.bottom()];case 3:return[this.left(),this.y];case 4:return[this.right(),this.y];default:return null}}setWidth(t){this.w=t}setHeight(t){this.h=t}getWidth(){return this.w}getHeight(){return this.h}draw(t){if(!this.addedToScene)return;let e,i;t.globalAlpha=this.alpha,t.lineWidth=2,"left"===this.xJustify?e=this.x:"center"===this.xJustify?e=this.x-this.w/2:"right"===this.xJustify&&(e=this.x-this.w),"top"===this.yJustify?i=this.y:"center"===this.yJustify?i=this.y-this.h/2:"bottom"===this.yJustify&&(i=this.y-this.h),t.lineWidth=2,this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),this.thicknessArray[0]&&(t.lineWidth=3,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.stroke(),t.closePath()),this.thicknessArray[1]&&(t.lineWidth=3,t.beginPath(),t.moveTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.stroke(),t.closePath()),this.thicknessArray[2]&&(t.lineWidth=3,t.beginPath(),t.moveTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.stroke(),t.closePath()),this.thicknessArray[3]&&(t.lineWidth=3,t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),t.stroke(),t.closePath()),t.lineWidth=1.2,this.nullPointer&&(t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i+this.h),t.closePath(),t.stroke()),t.fillStyle=this.textColor,t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,t.fillText(this.label,this.x,this.y)}setText(t){this.label=t}setTextColor(t){this.textColor=t}getTextColor(){return this.textColor}setHighlight(t){this.highlighted=t}setEdgeThickness(t){this.thicknessArray=t}getEdgeThickness(){return this.thicknessArray}createUndoDelete(){return new Ge(this.objectID,this.label,this.x,this.y,this.w,this.h,this.xJustify,this.yJustify,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}class Ge extends ne{constructor(t,e,i,s,h,a,n,r,o,l,d,c,u){super(),this.objectID=t,this.label=e,this.x=i,this.y=s,this.w=h,this.h=a,this.xJustify=n,this.yJustify=r,this.backgroundColor=o,this.foregroundColor=l,this.layer=d,this.highlighted=c,this.highlightColor=u}undoInitialStep(t){t.addRectangleObject(this.objectID,this.label,this.w,this.h,this.xJustify,this.yJustify,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Xe extends Ae{constructor(t,e,i,s,h,a){super(),this.objectID=t,this.w=i,this.h=s,this.backgroundColor=h,this.foregroundColor=a,this.highlighted=!1,this.label=e,this.labelPosX=0,this.labelPosY=0,this.labelColor=a}left(){return this.x-this.w/2}right(){return this.x+this.w/2}top(){return this.y-this.h/2}bottom(){return this.y+this.h/2}resetTextPosition(){this.labelPosY=this.y,this.labelPosX=this.x}getTailPointerAttachPos(t,e,i){switch(i){case 0:return[this.x,this.top()];case 1:return[this.x,this.bottom()];case 2:return[this.left(),this.y];case 3:return[this.right(),this.y];default:return this.getClosestCardinalPoint(t,e)}}getHeadPointerAttachPos(t,e){return this.getClosestCardinalPoint(t,e)}setWidth(t){this.w=t,this.resetTextPosition()}setHeight(t){this.h=t,this.resetTextPosition()}getWidth(){return this.w}getHeight(){return this.h}draw(t){const e=this.left(),i=this.top();this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),t.textAlign="center",t.font="12px Arial",t.textBaseline="middle",t.lineWidth=2,this.resetTextPosition(),t.fillStyle=this.labelColor,"\u2212\u221e"!==this.label&&"\u221e"!==this.label||(t.font="18px sans-serif"),t.fillText(this.label,this.labelPosX,this.labelPosY)}setTextColor(t){this.labelColor=t}getTextColor(){return this.labelColor}getText(){return this.label}setText(t){this.label=t,this.resetTextPosition()}setHighlight(t){t!==this.highlighted&&(this.highlighted=t)}createUndoDelete(){return new Qe(this.objectID,this.label,this.w,this.h,this.x,this.y,this.labelColor,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted,this.highlightColor)}}class Qe extends ne{constructor(t,e,i,s,h,a,n,r,o,l,d,c){super(),this.objectID=t,this.label=e,this.w=i,this.h=s,this.x=h,this.y=a,this.labelColor=n,this.backgroundColor=r,this.foregroundColor=o,this.layer=l,this.highlighted=d,this.highlightColor=c}undoInitialStep(t){t.addSkipListObject(this.objectID,this.label,this.w,this.h,this.backgroundColor,this.foregroundColor),t.setTextColor(this.objectID,this.labelColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted,this.highlightColor)}}class Ye{constructor(t){this.nodes=[],this.edges=[],this.backEdges=[],this.activeLayers=[],this.activeLayers[0]=!0,this.activeLayers[32]=!0,this.activeLayers[33]=!1,this.ctx=t.current.getContext("2d"),this.framenum=0,this.width=0,this.height=0,this.statusReport=new Me(-1,"XXX",!1,30),this.statusReport.x=30}draw(){let t,e;for(this.framenum++,this.framenum>1e3&&(this.framenum=0),this.ctx.clearRect(0,0,this.width,this.height),this.statusReport.y=this.height-15,t=0;t<this.nodes.length;t++)null==this.nodes[t]||this.nodes[t].highlighted||!this.nodes[t].addedToScene||this.nodes[t].alwaysOnTop||this.nodes[t].draw(this.ctx);for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&this.nodes[t].highlighted&&!this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&(this.nodes[t].pulseHighlight(this.framenum),this.nodes[t].draw(this.ctx));for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&!this.nodes[t].highlighted&&this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&this.nodes[t].draw(this.ctx);for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&this.nodes[t].highlighted&&this.nodes[t].alwaysOnTop&&this.nodes[t].addedToScene&&(this.nodes[t].pulseHighlight(this.framenum),this.nodes[t].draw(this.ctx));for(t=0;t<this.edges.length;t++)if(null!=this.edges[t])for(e=0;e<this.edges[t].length;e++)this.edges[t][e].addedToScene&&(this.edges[t][e].pulseHighlight(this.framenum),this.edges[t][e].draw(this.ctx));this.statusReport.draw(this.ctx)}update(){}setLayers(t,e){for(let i=0;i<e.length;i++)this.activeLayers[e[i]]=t;this.resetLayers()}addHighlightCircleObject(t,e,i){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addHighlightCircleObject: object with same ID ("+String(t)+") already exists!");const s=new Oe(t,e,i);this.nodes[t]=s}setEdgeAlpha(t,e,i){let s=1;if(null!=this.edges[t]&&void 0!==this.edges[t]){for(let h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[e]&&(s=this.edges[t][h].alpha,this.edges[t][h].alpha=i)}return s}setAlpha(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setAlpha(e)}getAlpha(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]?this.nodes[t].getAlpha():-1}getTextColor(t,e){return null!=this.nodes[t]&&void 0!==this.nodes[t]?this.nodes[t].getTextColor(e):"#000000"}setTextColor(t,e,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setTextColor(e,i)}setHighlightIndex(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHighlightIndex(e)}setAllLayers(t){this.activeLayers=[];for(let e=0;e<t.length;e++)this.activeLayers[t[e]]=!0;this.resetLayers()}toggleLayer(t){this.activeLayers[t]=!this.activeLayers[t],this.resetLayers()}updateLayer(t,e){this.activeLayers[t]=e,this.resetLayers()}resetLayers(){let t;for(t=0;t<this.nodes.length;t++)null!=this.nodes[t]&&void 0!==this.nodes[t]&&(this.nodes[t].addedToScene=!0===this.activeLayers[this.nodes[t].layer]);for(t=this.edges.length-1;t>=0;t--)if(null!=this.edges[t]&&void 0!==this.edges[t])for(let e=0;e<this.edges[t].length;e++)null!=this.edges[t][e]&&void 0!==this.edges[t][e]&&(this.edges[t][e].addedToScene=!0===this.activeLayers[this.edges[t][e].fromID.layer]&&!0===this.activeLayers[this.edges[t][e].toID.layer])}setLayer(t,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){if(this.nodes[t].layer=e,this.activeLayers[e]?this.nodes[t].addedToScene=!0:this.nodes[t].addedToScene=!1,null!=this.edges[t]&&void 0!==this.edges[t])for(let e=0;e<this.edges[t].length;e++){const i=this.edges[t][e];null!=i&&void 0!==i&&(i.addedToScene=i.fromID.addedToScene&&i.toID.addedToScene)}if(null!=this.backEdges[t]&&void 0!==this.backEdges[t])for(let e=0;e<this.backEdges[t].length;e++){const i=this.backEdges[t][e];null!=i&&void 0!==i&&(i.addedToScene=i.fromID.addedToScene&&i.toID.addedToScene)}}}clearAllObjects(){this.nodes=[],this.edges=[],this.backEdges=[]}setForegroundColor(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setForegroundColor(e)}setBackgroundColor(t,e){null!=this.nodes[t]&&this.nodes[t].setBackgroundColor(e)}setHighlight(t,e,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHighlight(e,i)}getHighlight(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getHighlight()}getHighlightIndex(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getHighlightIndex()}setWidth(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setWidth(e)}setHeight(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setHeight(e)}getHeight(t){return null==this.nodes[t]||void 0===this.nodes[t]?-1:this.nodes[t].getHeight()}getWidth(t){return null==this.nodes[t]||void 0===this.nodes[t]?-1:this.nodes[t].getWidth()}backgroundColor(t){return null!=this.nodes[t]?this.nodes[t].backgroundColor:"#000000"}foregroundColor(t){return null!=this.nodes[t]?this.nodes[t].foregroundColor:"#000000"}disconnect(t,e){let i,s,h=null;if(null!=this.edges[t]){i=this.edges[t].length;for(let a=i-1;a>=0;a--)null!=this.edges[t][a]&&this.edges[t][a].toID===this.nodes[e]&&(s=this.edges[t][a],h=s.createUndoConnect(),this.edges[t][a]=this.edges[t][i-1],i-=1,this.edges[t].pop())}if(null!=this.backEdges[e]){i=this.backEdges[e].length;for(let h=i-1;h>=0;h--)null!=this.backEdges[e][h]&&this.backEdges[e][h].fromID===this.nodes[t]&&(s=this.backEdges[e][h],this.backEdges[e][h]=this.backEdges[e][i-1],i-=1,this.backEdges[e].pop())}return h}deleteIncident(t){const e=[];let i,s;if(null!=this.edges[t]){i=this.edges[t].length;for(let h=i-1;h>=0;h--){s=this.edges[t][h];const i=s.toID.identifier();e.push(s.createUndoConnect());let a=this.backEdges[i].length;for(let t=a-1;t>=0;t--)this.backEdges[i][t]===s&&(this.backEdges[i][t]=this.backEdges[i][a-1],a-=1,this.backEdges[i].pop())}this.edges[t]=null}if(null!=this.backEdges[t]){i=this.backEdges[t].length;for(let h=i-1;h>=0;h--){s=this.backEdges[t][h];const i=s.fromID.identifier();e.push(s.createUndoConnect());let a=this.edges[i].length;for(let t=a-1;t>=0;t--)this.edges[i][t]===s&&(this.edges[i][t]=this.edges[i][a-1],a-=1,this.edges[i].pop())}this.backEdges[t]=null}return e}removeObject(t){const e=this.nodes[t];return t===this.nodes.length-1?this.nodes.pop():this.nodes[t]=null,e}getObject(t){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("getObject:Object with ID ("+String(t)+") does not exist");return this.nodes[t]}addCircleObject(t,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addCircleObject: object with same ID ("+String(t)+") already exists!");const i=new ze(t,e);this.nodes[t]=i}getNodeX(t){if(null!=this.nodes[t]&&void 0!==this.nodes[t])return this.nodes[t].x}getTextWidth(t,e,i){this.ctx.font=e?'13px "Source Code Pro", monospace':i?"16px Arial":"12px Arial";const s=t.split("\n");let h=0;if(1===s.length)h=this.ctx.measureText(t).width;else for(let a=0;a<s.length;a++)h=Math.max(h,this.ctx.measureText(s[a]).width);return h}setText(t,e,i){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("setting text of an object that does not exist");this.nodes[t].setText(e,i,this.getTextWidth(e))}getText(t,e){if(null==this.nodes[t]||void 0===this.nodes[t])throw new Error("getting text of an object that does not exist");return this.nodes[t].getText(e)}getNodeY(t){if(null!=this.nodes[t]&&void 0!==this.nodes[t])return this.nodes[t].y}connectEdge(t,e,i,s,h,a,n,r){const o=this.nodes[t],l=this.nodes[e];if(null==o||null==l)throw new Error("Tried to connect two nodes, one didn't exist!");const d=new $e(o,l,i,s,h,a,n,r);null==this.edges[t]&&(this.edges[t]=[]),null==this.backEdges[e]&&(this.backEdges[e]=[]),d.addedToScene=o.addedToScene&&l.addedToScene,this.edges[t].push(d),this.backEdges[e].push(d)}setNull(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setNull(e)}setPrevNull(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setPrevNull(e)}setNextNull(t,e){null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].setNextNull(e)}getNull(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getNull()}getLeftNull(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getLeftNull()}getRightNull(t){return null!=this.nodes[t]&&void 0!==this.nodes[t]&&this.nodes[t].getRightNull()}setEdgeColor(t,e,i){let s="#000000";if(null!=this.edges[t]&&void 0!==this.edges[t]){for(let h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[e]&&(s=this.edges[t][h].color(),this.edges[t][h].setColor(i))}return s}alignTop(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.nodes[t].alignTop(this.nodes[e])}alignLeft(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.nodes[t].alignLeft(this.nodes[e])}alignRight(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.nodes[t].alignRight(this.nodes[e])}getAlignRightPos(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));return this.nodes[t].getAlignRightPos(this.nodes[e])}getAlignLeftPos(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));return this.nodes[t].getAlignLeftPos(this.nodes[e])}alignBottom(t,e){if(null==this.nodes[t]||void 0===this.nodes[t]||null==this.nodes[e]||void 0===this.nodes[e])throw new Error("Trying to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.nodes[t].alignBottom(this.nodes[e])}setAlwaysOnTop(t,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){const i=this.nodes[t].alwaysOnTop;return this.nodes[t].alwaysOnTop=e,i}throw new Error("Trying to bring node that doesn't exist to top")}setEdgeHighlight(t,e,i,s){let h=!1;if(null!=this.edges[t]&&void 0!==this.edges[t]){for(let a=this.edges[t].length-1;a>=0;a--)null!=this.edges[t][a]&&void 0!==this.edges[t][a]&&this.edges[t][a].toID===this.nodes[e]&&(h=this.edges[t][a].highlighted,this.edges[t][a].setHighlight(i,s))}return h}setEdgeThickness(t,e,i){let s=1;if(null!=this.edges[t]&&void 0!==this.edges[t]){for(let h=this.edges[t].length-1;h>=0;h--)null!=this.edges[t][h]&&void 0!==this.edges[t][h]&&this.edges[t][h].toID===this.nodes[e]&&(s=this.edges[t][h].thickness,this.edges[t][h].setThickness(i))}return s}setRectangleEdgeThickness(t,e){if(null!=this.nodes[t]&&void 0!==this.nodes[t]){const i=this.nodes[t].getEdgeThickness();return this.nodes[t].setEdgeThickness(e),i}throw new Error("Trying to bring node that doesn't exist to top")}addLabelObject(t,e,i,s,h){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addLabelObject: object already exists!");const a=new Me(t,e,i,this.getTextWidth(e,s,h),s,h);this.nodes[t]=a}addLinkedListObject(t,e,i,s,h,a,n,r,o){if(null!=this.nodes[t])throw new Error("addLinkedListObject: object with same ID already exists!");const l=new We(t,e,i,s,h,a,n,r,o);this.nodes[t]=l}addDoublyLinkedListObject(t,e,i,s,h,a,n){if(null!=this.nodes[t])throw new Error("addDoublyLinkedListObject: object with same ID already exists!");const r=new Ne(t,e,i,s,h,a,n);this.nodes[t]=r}addCircularlyLinkedListObject(t,e,i,s,h,a,n){if(null!=this.nodes[t])throw new Error("addCircularlyLinkedListObject: object with same ID already exists!");const r=new Ee(t,e,i,s,h,a,n);this.nodes[t]=r}addSkipListObject(t,e,i,s,h,a){if(null!=this.nodes[t])throw new Error("addSkipListObject: object with same ID already exists!");const n=new Xe(t,e,i,s,h,a);this.nodes[t]=n}getNumElements(t){return this.nodes[t].getNumElements()}setNumElements(t,e){this.nodes[t].setNumElements(e)}addBTreeNode(t,e,i,s,h,a){if(h=void 0===h?"#FFFFFF":h,a=void 0===a?"#FFFFFF":a,null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addBTreeNode: object with same ID already exists!");const n=new _e(t,e,i,s,h,a);this.nodes[t]=n}addRectangleObject(t,e,i,s,h,a,n,r){if(null!=this.nodes[t]&&void 0!==this.nodes[t])throw new Error("addRectangleObject: object with same ID already exists!");const o=new Ke(t,e,i,s,h,a,n,r);this.nodes[t]=o}setNodePosition(t,e,i){null!=this.nodes[t]&&void 0!==this.nodes[t]&&void 0!==e&&void 0!==i&&(this.nodes[t].x=e,this.nodes[t].y=i)}}var Ze=i(391);function Je(t,e){if(null==t)return{};var i,s,h={},a=Object.keys(t);for(s=0;s<a.length;s++)i=a[s],e.indexOf(i)>=0||(h[i]=t[i]);return h}function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ti.apply(this,arguments)}function ei(t){var e,i,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=ei(t[e]))&&(s&&(s+=" "),s+=i);else for(e in t)t[e]&&(s&&(s+=" "),s+=e);return s}var ii=function(){for(var t,e,i=0,s="";i<arguments.length;)(t=arguments[i++])&&(e=ei(t))&&(s&&(s+=" "),s+=e);return s};function si(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return h.useMemo((()=>e.every((t=>null==t))?null:t=>{e.forEach((e=>{!function(t,e){"function"===typeof t?t(e):t&&(t.current=e)}(e,t)}))}),e)}var hi=function(t){return"string"===typeof t};function ai(t){if(void 0===t)return{};const e={};return Object.keys(t).filter((e=>!(e.match(/^on[A-Z]/)&&"function"===typeof t[e]))).forEach((i=>{e[i]=t[i]})),e}function ni(t){const{getSlotProps:e,additionalProps:i,externalSlotProps:s,externalForwardedProps:h,className:a}=t;if(!e){const t=ii(null==h?void 0:h.className,null==s?void 0:s.className,a,null==i?void 0:i.className),e=ti({},null==i?void 0:i.style,null==h?void 0:h.style,null==s?void 0:s.style),n=ti({},i,h,s);return t.length>0&&(n.className=t),Object.keys(e).length>0&&(n.style=e),{props:n,internalRef:void 0}}const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===t)return{};const i={};return Object.keys(t).filter((i=>i.match(/^on[A-Z]/)&&"function"===typeof t[i]&&!e.includes(i))).forEach((e=>{i[e]=t[e]})),i}(ti({},h,s)),r=ai(s),o=ai(h),l=e(n),d=ii(null==l?void 0:l.className,null==i?void 0:i.className,a,null==h?void 0:h.className,null==s?void 0:s.className),c=ti({},null==l?void 0:l.style,null==i?void 0:i.style,null==h?void 0:h.style,null==s?void 0:s.style),u=ti({},l,i,o,r);return d.length>0&&(u.className=d),Object.keys(c).length>0&&(u.style=c),{props:u,internalRef:l.ref}}const ri=["elementType","externalSlotProps","ownerState"];function oi(t){var e;const{elementType:i,externalSlotProps:s,ownerState:h}=t,a=Je(t,ri),n=function(t,e){return"function"===typeof t?t(e):t}(s,h),{props:r,internalRef:o}=ni(ti({},a,{externalSlotProps:n})),l=function(t,e,i){return void 0===t||hi(t)?e:ti({},e,{ownerState:ti({},e.ownerState,i)})}(i,ti({},r,{ref:si(o,null==n?void 0:n.ref,null==(e=t.additionalProps)?void 0:e.ref)}),h);return l}function li(t){return t&&t.ownerDocument||document}let di,ci=!0,ui=!1;const mi={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function gi(t){t.metaKey||t.altKey||t.ctrlKey||(ci=!0)}function pi(){ci=!1}function fi(){"hidden"===this.visibilityState&&ui&&(ci=!0)}function Ii(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(i){}return ci||function(t){const{type:e,tagName:i}=t;return!("INPUT"!==i||!mi[e]||t.readOnly)||"TEXTAREA"===i&&!t.readOnly||!!t.isContentEditable}(e)}function xi(){const t=h.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",gi,!0),e.addEventListener("mousedown",pi,!0),e.addEventListener("pointerdown",pi,!0),e.addEventListener("touchstart",pi,!0),e.addEventListener("visibilitychange",fi,!0))}),[]),e=h.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!Ii(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(ui=!0,window.clearTimeout(di),di=window.setTimeout((()=>{ui=!1}),100),e.current=!1,!0)},ref:t}}var bi="undefined"!==typeof window?h.useLayoutEffect:h.useEffect;function Di(t){const e=h.useRef(t);return bi((()=>{e.current=t})),h.useCallback((function(){return(0,e.current)(...arguments)}),[])}var yi={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function vi(t,e){return t-e}function ki(t,e,i){return null==t?e:Math.min(Math.max(e,t),i)}function Ci(t,e){var i;const{index:s}=null!=(i=t.reduce(((t,i,s)=>{const h=Math.abs(e-i);return null===t||h<t.distance||h===t.distance?{distance:h,index:s}:t}),null))?i:{};return s}function wi(t,e){if(void 0!==e.current&&t.changedTouches){const i=t;for(let t=0;t<i.changedTouches.length;t+=1){const s=i.changedTouches[t];if(s.identifier===e.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Li(t,e,i){return 100*(t-e)/(i-e)}function Ti(t,e,i){const s=Math.round((t-i)/e)*e+i;return Number(s.toFixed(function(t){if(Math.abs(t)<1){const e=t.toExponential().split("e-"),i=e[0].split(".")[1];return(i?i.length:0)+parseInt(e[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}(e)))}function Si(t){let{values:e,newValue:i,index:s}=t;const h=e.slice();return h[s]=i,h.sort(vi)}function Fi(t){let{sliderRef:e,activeIndex:i,setActive:s}=t;var h,a;const n=li(e.current);var r;null!=(h=e.current)&&h.contains(n.activeElement)&&Number(null==n||null==(a=n.activeElement)?void 0:a.getAttribute("data-index"))===i||(null==(r=e.current)||r.querySelector(`[type="range"][data-index="${i}"]`).focus());s&&s(i)}const Ai={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},_i=t=>t;let Bi;function zi(){return void 0===Bi&&(Bi="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),Bi}function Pi(t){const{"aria-labelledby":e,defaultValue:i,disabled:s=!1,disableSwap:a=!1,isRtl:n=!1,marks:r=!1,max:o=100,min:l=0,name:d,onChange:c,onChangeCommitted:u,orientation:m="horizontal",ref:g,scale:p=_i,step:f=1,tabIndex:I,value:x}=t,b=h.useRef(),[D,y]=h.useState(-1),[v,k]=h.useState(-1),[C,w]=h.useState(!1),L=h.useRef(0),[T,S]=function(t){let{controlled:e,default:i,name:s,state:a="value"}=t;const{current:n}=h.useRef(void 0!==e),[r,o]=h.useState(i);return[n?e:r,h.useCallback((t=>{n||o(t)}),[])]}({controlled:x,default:null!=i?i:l,name:"Slider"}),F=c&&((t,e,i)=>{const s=t.nativeEvent||t,h=new s.constructor(s.type,s);Object.defineProperty(h,"target",{writable:!0,value:{value:e,name:d}}),c(h,e,i)}),A=Array.isArray(T);let _=A?T.slice().sort(vi):[T];_=_.map((t=>ki(t,l,o)));const B=!0===r&&null!==f?[...Array(Math.floor((o-l)/f)+1)].map(((t,e)=>({value:l+f*e}))):r||[],z=B.map((t=>t.value)),{isFocusVisibleRef:P,onBlur:E,onFocus:R,ref:N}=xi(),[j,O]=h.useState(-1),H=h.useRef(),M=si(N,H),V=si(g,M),$=t=>e=>{var i;const s=Number(e.currentTarget.getAttribute("data-index"));R(e),!0===P.current&&O(s),k(s),null==t||null==(i=t.onFocus)||i.call(t,e)},q=t=>e=>{var i;E(e),!1===P.current&&O(-1),k(-1),null==t||null==(i=t.onBlur)||i.call(t,e)};bi((()=>{var t;s&&H.current.contains(document.activeElement)&&(null==(t=document.activeElement)||t.blur())}),[s]),s&&-1!==D&&y(-1),s&&-1!==j&&O(-1);const W=t=>e=>{var i;null==(i=t.onChange)||i.call(t,e);const s=Number(e.currentTarget.getAttribute("data-index")),h=_[s],n=z.indexOf(h);let r=e.target.valueAsNumber;if(B&&null==f&&(r=r<h?z[n-1]:z[n+1]),r=ki(r,l,o),B&&null==f){const t=z.indexOf(_[s]);r=r<_[s]?z[t-1]:z[t+1]}if(A){a&&(r=ki(r,_[s-1]||-1/0,_[s+1]||1/0));const t=r;r=Si({values:_,newValue:r,index:s});let e=s;a||(e=r.indexOf(t)),Fi({sliderRef:H,activeIndex:e})}S(r),O(s),F&&F(e,r,s),u&&u(e,r)},U=h.useRef();let K=m;n&&"horizontal"===m&&(K+="-reverse");const G=t=>{let{finger:e,move:i=!1}=t;const{current:s}=H,{width:h,height:n,bottom:r,left:d}=s.getBoundingClientRect();let c,u;if(c=0===K.indexOf("vertical")?(r-e.y)/n:(e.x-d)/h,-1!==K.indexOf("-reverse")&&(c=1-c),u=function(t,e,i){return(i-e)*t+e}(c,l,o),f)u=Ti(u,f,l);else{const t=Ci(z,u);u=z[t]}u=ki(u,l,o);let m=0;if(A){m=i?U.current:Ci(_,u),a&&(u=ki(u,_[m-1]||-1/0,_[m+1]||1/0));const t=u;u=Si({values:_,newValue:u,index:m}),a&&i||(m=u.indexOf(t),U.current=m)}return{newValue:u,activeIndex:m}},X=Di((t=>{const e=wi(t,b);if(!e)return;if(L.current+=1,"mousemove"===t.type&&0===t.buttons)return void Q(t);const{newValue:i,activeIndex:s}=G({finger:e,move:!0});Fi({sliderRef:H,activeIndex:s,setActive:y}),S(i),!C&&L.current>2&&w(!0),F&&i!==T&&F(t,i,s)})),Q=Di((t=>{const e=wi(t,b);if(w(!1),!e)return;const{newValue:i}=G({finger:e,move:!0});y(-1),"touchend"===t.type&&k(-1),u&&u(t,i),b.current=void 0,Z()})),Y=Di((t=>{if(s)return;zi()||t.preventDefault();const e=t.changedTouches[0];null!=e&&(b.current=e.identifier);const i=wi(t,b);if(!1!==i){const{newValue:e,activeIndex:s}=G({finger:i});Fi({sliderRef:H,activeIndex:s,setActive:y}),S(e),F&&F(t,e,s)}L.current=0;const h=li(H.current);h.addEventListener("touchmove",X),h.addEventListener("touchend",Q)})),Z=h.useCallback((()=>{const t=li(H.current);t.removeEventListener("mousemove",X),t.removeEventListener("mouseup",Q),t.removeEventListener("touchmove",X),t.removeEventListener("touchend",Q)}),[Q,X]);h.useEffect((()=>{const{current:t}=H;return t.addEventListener("touchstart",Y,{passive:zi()}),()=>{t.removeEventListener("touchstart",Y,{passive:zi()}),Z()}}),[Z,Y]),h.useEffect((()=>{s&&Z()}),[s,Z]);const J=t=>e=>{var i;if(null==(i=t.onMouseDown)||i.call(t,e),s)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const h=wi(e,b);if(!1!==h){const{newValue:t,activeIndex:i}=G({finger:h});Fi({sliderRef:H,activeIndex:i,setActive:y}),S(t),F&&F(e,t,i)}L.current=0;const a=li(H.current);a.addEventListener("mousemove",X),a.addEventListener("mouseup",Q)},tt=Li(A?_[0]:l,l,o),et=Li(_[_.length-1],l,o)-tt,it=t=>e=>{var i;null==(i=t.onMouseOver)||i.call(t,e);const s=Number(e.currentTarget.getAttribute("data-index"));k(s)},st=t=>e=>{var i;null==(i=t.onMouseLeave)||i.call(t,e),k(-1)};return{active:D,axis:K,axisProps:Ai,dragging:C,focusedThumbIndex:j,getHiddenInputProps:function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const a=ti({},i,{onChange:W(i||{}),onFocus:$(i||{}),onBlur:q(i||{})});return ti({tabIndex:I,"aria-labelledby":e,"aria-orientation":m,"aria-valuemax":p(o),"aria-valuemin":p(l),name:d,type:"range",min:t.min,max:t.max,step:null!=(h=t.step)?h:void 0,disabled:s},a,{style:ti({},yi,{direction:n?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=ti({},t,{onMouseDown:J(t||{})});return ti({ref:V},e)},getThumbProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ti({},t,{onMouseOver:it(t||{}),onMouseLeave:st(t||{})})},marks:B,open:v,range:A,trackLeap:et,trackOffset:tt,values:_}}function Ei(t){let e="https://mui.com/production-error/?code="+t;for(let i=1;i<arguments.length;i+=1)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Ri(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),i)}function Ni(t){if(t.type)return t;if("#"===t.charAt(0))return Ni(function(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let i=t.match(e);return i&&1===i[0].length&&(i=i.map((t=>t+t))),i?`rgb${4===i.length?"a":""}(${i.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", ")})`:""}(t));const e=t.indexOf("("),i=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(i))throw new Error(Ei(9,t));let s,h=t.substring(e+1,t.length-1);if("color"===i){if(h=h.split(" "),s=h.shift(),4===h.length&&"/"===h[3].charAt(0)&&(h[3]=h[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s))throw new Error(Ei(10,s))}else h=h.split(",");return h=h.map((t=>parseFloat(t))),{type:i,values:h,colorSpace:s}}function ji(t){const{type:e,colorSpace:i}=t;let{values:s}=t;return-1!==e.indexOf("rgb")?s=s.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),s=-1!==e.indexOf("color")?`${i} ${s.join(" ")}`:`${s.join(", ")}`,`${e}(${s})`}function Oi(t){let e="hsl"===(t=Ni(t)).type||"hsla"===t.type?Ni(function(t){t=Ni(t);const{values:e}=t,i=e[0],s=e[1]/100,h=e[2]/100,a=s*Math.min(h,1-h),n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+i/30)%12;return h-a*Math.max(Math.min(e-3,9-e,1),-1)};let r="rgb";const o=[Math.round(255*n(0)),Math.round(255*n(8)),Math.round(255*n(4))];return"hsla"===t.type&&(r+="a",o.push(e[3])),ji({type:r,values:o})}(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Hi(t,e){return t=Ni(t),e=Ri(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,ji(t)}function Mi(t,e){if(t=Ni(t),e=Ri(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let i=0;i<3;i+=1)t.values[i]*=1-e;return ji(t)}function Vi(t,e){if(t=Ni(t),e=Ri(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;else if(-1!==t.type.indexOf("color"))for(let i=0;i<3;i+=1)t.values[i]+=(1-t.values[i])*e;return ji(t)}function $i(t,e){const i=ti({},e);return Object.keys(t).forEach((s=>{if(s.toString().match(/^(components|slots)$/))i[s]=ti({},t[s],i[s]);else if(s.toString().match(/^(componentsProps|slotProps)$/)){const h=t[s]||{},a=e[s];i[s]={},a&&Object.keys(a)?h&&Object.keys(h)?(i[s]=ti({},a),Object.keys(h).forEach((t=>{i[s][t]=$i(h[t],a[t])}))):i[s]=a:i[s]=h}else void 0===i[s]&&(i[s]=t[s])})),i}function qi(t){const{theme:e,name:i,props:s}=t;return e&&e.components&&e.components[i]&&e.components[i].defaultProps?$i(e.components[i].defaultProps,s):s}function Wi(t){return null!==t&&"object"===typeof t&&t.constructor===Object}function Ui(t){if(!Wi(t))return t;const e={};return Object.keys(t).forEach((i=>{e[i]=Ui(t[i])})),e}function Ki(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const s=i.clone?ti({},t):t;return Wi(t)&&Wi(e)&&Object.keys(e).forEach((h=>{"__proto__"!==h&&(Wi(e[h])&&h in t&&Wi(t[h])?s[h]=Ki(t[h],e[h],i):i.clone?s[h]=Wi(e[h])?Ui(e[h]):e[h]:s[h]=e[h])})),s}const Gi=["values","unit","step"];function Xi(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:s=5}=t,h=Je(t,Gi),a=(t=>{const e=Object.keys(t).map((e=>({key:e,val:t[e]})))||[];return e.sort(((t,e)=>t.val-e.val)),e.reduce(((t,e)=>ti({},t,{[e.key]:e.val})),{})})(e),n=Object.keys(a);function r(t){return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${i})`}function o(t){return`@media (max-width:${("number"===typeof e[t]?e[t]:t)-s/100}${i})`}function l(t,h){const a=n.indexOf(h);return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${i}) and (max-width:${(-1!==a&&"number"===typeof e[n[a]]?e[n[a]]:h)-s/100}${i})`}return ti({keys:n,values:a,up:r,down:o,between:l,only:function(t){return n.indexOf(t)+1<n.length?l(t,n[n.indexOf(t)+1]):r(t)},not:function(t){const e=n.indexOf(t);return 0===e?r(n[1]):e===n.length-1?o(n[e]):l(t,n[n.indexOf(t)+1]).replace("@media","@media not all and")},unit:i},h)}var Qi={borderRadius:4};const Yi={xs:0,sm:600,md:900,lg:1200,xl:1536},Zi={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Yi[t]}px)`};function Ji(t,e,i){const s=t.theme||{};if(Array.isArray(e)){const t=s.breakpoints||Zi;return e.reduce(((s,h,a)=>(s[t.up(t.keys[a])]=i(e[a]),s)),{})}if("object"===typeof e){const t=s.breakpoints||Zi;return Object.keys(e).reduce(((s,h)=>{if(-1!==Object.keys(t.values||Yi).indexOf(h)){s[t.up(h)]=i(e[h],h)}else{const t=h;s[t]=e[t]}return s}),{})}return i(e)}function ts(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e;return(null==(e=t.keys)?void 0:e.reduce(((e,i)=>(e[t.up(i)]={},e)),{}))||{}}function es(t,e){return t.reduce(((t,e)=>{const i=t[e];return(!i||0===Object.keys(i).length)&&delete t[e],t}),e)}function is(t){if("string"!==typeof t)throw new Error(Ei(7));return t.charAt(0).toUpperCase()+t.slice(1)}function ss(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||"string"!==typeof e)return null;if(t&&t.vars&&i){const i=`vars.${e}`.split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t);if(null!=i)return i}return e.split(".").reduce(((t,e)=>t&&null!=t[e]?t[e]:null),t)}function hs(t,e,i){let s,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return s="function"===typeof t?t(i):Array.isArray(t)?t[i]||h:ss(t,i)||h,e&&(s=e(s,h,t)),s}var as=function(t){const{prop:e,cssProperty:i=t.prop,themeKey:s,transform:h}=t,a=t=>{if(null==t[e])return null;const a=t[e],n=ss(t.theme,s)||{};return Ji(t,a,(t=>{let s=hs(n,h,t);return t===s&&"string"===typeof t&&(s=hs(n,h,`${e}${"default"===t?"":is(t)}`,t)),!1===i?s:{[i]:s}}))};return a.propTypes={},a.filterProps=[e],a};var ns=function(t,e){return e?Ki(t,e,{clone:!1}):t};const rs={m:"margin",p:"padding"},os={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ls={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ds=function(t){const e={};return i=>(void 0===e[i]&&(e[i]=t(i)),e[i])}((t=>{if(t.length>2){if(!ls[t])return[t];t=ls[t]}const[e,i]=t.split(""),s=rs[e],h=os[i]||"";return Array.isArray(h)?h.map((t=>s+t)):[s+h]})),cs=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],us=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],ms=[...cs,...us];function gs(t,e,i,s){var h;const a=null!=(h=ss(t,e,!1))?h:i;return"number"===typeof a?t=>"string"===typeof t?t:a*t:Array.isArray(a)?t=>"string"===typeof t?t:a[t]:"function"===typeof a?a:()=>{}}function ps(t){return gs(t,"spacing",8)}function fs(t,e){if("string"===typeof e||null==e)return e;const i=t(Math.abs(e));return e>=0?i:"number"===typeof i?-i:`-${i}`}function Is(t,e,i,s){if(-1===e.indexOf(i))return null;const h=function(t,e){return i=>t.reduce(((t,s)=>(t[s]=fs(e,i),t)),{})}(ds(i),s);return Ji(t,t[i],h)}function xs(t,e){const i=ps(t.theme);return Object.keys(t).map((s=>Is(t,e,s,i))).reduce(ns,{})}function bs(t){return xs(t,cs)}function Ds(t){return xs(t,us)}function ys(t){return xs(t,ms)}bs.propTypes={},bs.filterProps=cs,Ds.propTypes={},Ds.filterProps=us,ys.propTypes={},ys.filterProps=ms;var vs=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.reduce(((t,e)=>(e.filterProps.forEach((i=>{t[i]=e})),t)),{}),h=t=>Object.keys(t).reduce(((e,i)=>s[i]?ns(e,s[i](t)):e),{});return h.propTypes={},h.filterProps=e.reduce(((t,e)=>t.concat(e.filterProps)),[]),h};function ks(t){return"number"!==typeof t?t:`${t}px solid`}const Cs=as({prop:"border",themeKey:"borders",transform:ks}),ws=as({prop:"borderTop",themeKey:"borders",transform:ks}),Ls=as({prop:"borderRight",themeKey:"borders",transform:ks}),Ts=as({prop:"borderBottom",themeKey:"borders",transform:ks}),Ss=as({prop:"borderLeft",themeKey:"borders",transform:ks}),Fs=as({prop:"borderColor",themeKey:"palette"}),As=as({prop:"borderTopColor",themeKey:"palette"}),_s=as({prop:"borderRightColor",themeKey:"palette"}),Bs=as({prop:"borderBottomColor",themeKey:"palette"}),zs=as({prop:"borderLeftColor",themeKey:"palette"}),Ps=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=gs(t.theme,"shape.borderRadius",4),i=t=>({borderRadius:fs(e,t)});return Ji(t,t.borderRadius,i)}return null};Ps.propTypes={},Ps.filterProps=["borderRadius"];vs(Cs,ws,Ls,Ts,Ss,Fs,As,_s,Bs,zs,Ps);const Es=t=>{if(void 0!==t.gap&&null!==t.gap){const e=gs(t.theme,"spacing",8),i=t=>({gap:fs(e,t)});return Ji(t,t.gap,i)}return null};Es.propTypes={},Es.filterProps=["gap"];const Rs=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=gs(t.theme,"spacing",8),i=t=>({columnGap:fs(e,t)});return Ji(t,t.columnGap,i)}return null};Rs.propTypes={},Rs.filterProps=["columnGap"];const Ns=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=gs(t.theme,"spacing",8),i=t=>({rowGap:fs(e,t)});return Ji(t,t.rowGap,i)}return null};Ns.propTypes={},Ns.filterProps=["rowGap"];vs(Es,Rs,Ns,as({prop:"gridColumn"}),as({prop:"gridRow"}),as({prop:"gridAutoFlow"}),as({prop:"gridAutoColumns"}),as({prop:"gridAutoRows"}),as({prop:"gridTemplateColumns"}),as({prop:"gridTemplateRows"}),as({prop:"gridTemplateAreas"}),as({prop:"gridArea"}));function js(t,e){return"grey"===e?e:t}vs(as({prop:"color",themeKey:"palette",transform:js}),as({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:js}),as({prop:"backgroundColor",themeKey:"palette",transform:js}));function Os(t){return t<=1&&0!==t?100*t+"%":t}const Hs=as({prop:"width",transform:Os}),Ms=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{var i,s,h;return{maxWidth:(null==(i=t.theme)||null==(s=i.breakpoints)||null==(h=s.values)?void 0:h[e])||Yi[e]||Os(e)}};return Ji(t,t.maxWidth,e)}return null};Ms.filterProps=["maxWidth"];const Vs=as({prop:"minWidth",transform:Os}),$s=as({prop:"height",transform:Os}),qs=as({prop:"maxHeight",transform:Os}),Ws=as({prop:"minHeight",transform:Os});as({prop:"size",cssProperty:"width",transform:Os}),as({prop:"size",cssProperty:"height",transform:Os}),vs(Hs,Ms,Vs,$s,qs,Ws,as({prop:"boxSizing"}));var Us={border:{themeKey:"borders",transform:ks},borderTop:{themeKey:"borders",transform:ks},borderRight:{themeKey:"borders",transform:ks},borderBottom:{themeKey:"borders",transform:ks},borderLeft:{themeKey:"borders",transform:ks},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ps},color:{themeKey:"palette",transform:js},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:js},backgroundColor:{themeKey:"palette",transform:js},p:{style:Ds},pt:{style:Ds},pr:{style:Ds},pb:{style:Ds},pl:{style:Ds},px:{style:Ds},py:{style:Ds},padding:{style:Ds},paddingTop:{style:Ds},paddingRight:{style:Ds},paddingBottom:{style:Ds},paddingLeft:{style:Ds},paddingX:{style:Ds},paddingY:{style:Ds},paddingInline:{style:Ds},paddingInlineStart:{style:Ds},paddingInlineEnd:{style:Ds},paddingBlock:{style:Ds},paddingBlockStart:{style:Ds},paddingBlockEnd:{style:Ds},m:{style:bs},mt:{style:bs},mr:{style:bs},mb:{style:bs},ml:{style:bs},mx:{style:bs},my:{style:bs},margin:{style:bs},marginTop:{style:bs},marginRight:{style:bs},marginBottom:{style:bs},marginLeft:{style:bs},marginX:{style:bs},marginY:{style:bs},marginInline:{style:bs},marginInlineStart:{style:bs},marginInlineEnd:{style:bs},marginBlock:{style:bs},marginBlockStart:{style:bs},marginBlockEnd:{style:bs},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Es},rowGap:{style:Ns},columnGap:{style:Rs},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Os},maxWidth:{style:Ms},minWidth:{transform:Os},height:{transform:Os},maxHeight:{transform:Os},minHeight:{transform:Os},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};const Ks=function(){function t(t,e,i,s){const h={[t]:e,theme:i},a=s[t];if(!a)return{[t]:e};const{cssProperty:n=t,themeKey:r,transform:o,style:l}=a;if(null==e)return null;const d=ss(i,r)||{};if(l)return l(h);return Ji(h,e,(e=>{let i=hs(d,o,e);return e===i&&"string"===typeof e&&(i=hs(d,o,`${t}${"default"===e?"":is(e)}`,e)),!1===n?i:{[n]:i}}))}return function e(i){var s;const{sx:h,theme:a={}}=i||{};if(!h)return null;const n=null!=(s=a.unstable_sxConfig)?s:Us;function r(i){let s=i;if("function"===typeof i)s=i(a);else if("object"!==typeof i)return i;if(!s)return null;const h=ts(a.breakpoints),r=Object.keys(h);let o=h;return Object.keys(s).forEach((i=>{const h=(r=s[i],l=a,"function"===typeof r?r(l):r);var r,l;if(null!==h&&void 0!==h)if("object"===typeof h)if(n[i])o=ns(o,t(i,h,a,n));else{const t=Ji({theme:a},h,(t=>({[i]:t})));!function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.reduce(((t,e)=>t.concat(Object.keys(e))),[]),h=new Set(s);return e.every((t=>h.size===Object.keys(t).length))}(t,h)?o=ns(o,t):o[i]=e({sx:h,theme:a})}else o=ns(o,t(i,h,a,n))})),es(r,o)}return Array.isArray(h)?h.map(r):r(h)}}();Ks.filterProps=["sx"];var Gs=Ks;const Xs=["breakpoints","palette","spacing","shape"];var Qs=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:e={},palette:i={},spacing:s,shape:h={}}=t,a=Je(t,Xs),n=Xi(e),r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;const e=ps({spacing:t}),i=function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(0===i.length?[1]:i).map((t=>{const i=e(t);return"number"===typeof i?`${i}px`:i})).join(" ")};return i.mui=!0,i}(s);let o=Ki({breakpoints:n,direction:"ltr",components:{},palette:ti({mode:"light"},i),spacing:r,shape:ti({},Qi,h)},a);for(var l=arguments.length,d=new Array(l>1?l-1:0),c=1;c<l;c++)d[c-1]=arguments[c];return o=d.reduce(((t,e)=>Ki(t,e)),o),o.unstable_sxConfig=ti({},Us,null==a?void 0:a.unstable_sxConfig),o.unstable_sx=function(t){return Gs({sx:t,theme:this})},o};var Ys=h.createContext(null);var Zs=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=h.useContext(Ys);return e&&(i=e,0!==Object.keys(i).length)?e:t;var i};const Js=Qs();var th=function(){return Zs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Js)};function eh(t,e){return ti({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var ih={black:"#000",white:"#fff"};var sh={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var hh={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var ah={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var nh={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var rh={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var oh={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var lh={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const dh=["mode","contrastThreshold","tonalOffset"],ch={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ih.white,default:ih.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},uh={text:{primary:ih.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ih.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function mh(t,e,i,s){const h=s.light||s,a=s.dark||1.5*s;t[e]||(t.hasOwnProperty(i)?t[e]=t[i]:"light"===e?t.light=Vi(t.main,h):"dark"===e&&(t.dark=Mi(t.main,a)))}function gh(t){const{mode:e="light",contrastThreshold:i=3,tonalOffset:s=.2}=t,h=Je(t,dh),a=t.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rh[200],light:rh[50],dark:rh[400]}:{main:rh[700],light:rh[400],dark:rh[800]}}(e),n=t.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hh[200],light:hh[50],dark:hh[400]}:{main:hh[500],light:hh[300],dark:hh[700]}}(e),r=t.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ah[500],light:ah[300],dark:ah[700]}:{main:ah[700],light:ah[400],dark:ah[800]}}(e),o=t.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:oh[400],light:oh[300],dark:oh[700]}:{main:oh[700],light:oh[500],dark:oh[900]}}(e),l=t.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:lh[400],light:lh[300],dark:lh[700]}:{main:lh[800],light:lh[500],dark:lh[900]}}(e),d=t.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nh[400],light:nh[300],dark:nh[700]}:{main:"#ed6c02",light:nh[500],dark:nh[900]}}(e);function c(t){const e=function(t,e){const i=Oi(t),s=Oi(e);return(Math.max(i,s)+.05)/(Math.min(i,s)+.05)}(t,uh.text.primary)>=i?uh.text.primary:ch.text.primary;return e}const u=t=>{let{color:e,name:i,mainShade:h=500,lightShade:a=300,darkShade:n=700}=t;if(e=ti({},e),!e.main&&e[h]&&(e.main=e[h]),!e.hasOwnProperty("main"))throw new Error(Ei(11,i?` (${i})`:"",h));if("string"!==typeof e.main)throw new Error(Ei(12,i?` (${i})`:"",JSON.stringify(e.main)));return mh(e,"light",a,s),mh(e,"dark",n,s),e.contrastText||(e.contrastText=c(e.main)),e},m={dark:uh,light:ch};return Ki(ti({common:ti({},ih),mode:e,primary:u({color:a,name:"primary"}),secondary:u({color:n,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:u({color:r,name:"error"}),warning:u({color:d,name:"warning"}),info:u({color:o,name:"info"}),success:u({color:l,name:"success"}),grey:sh,contrastThreshold:i,getContrastText:c,augmentColor:u,tonalOffset:s},m[e]),h)}const ph=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const fh={textTransform:"uppercase"},Ih='"Roboto", "Helvetica", "Arial", sans-serif';function xh(t,e){const i="function"===typeof e?e(t):e,{fontFamily:s=Ih,fontSize:h=14,fontWeightLight:a=300,fontWeightRegular:n=400,fontWeightMedium:r=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:d,pxToRem:c}=i,u=Je(i,ph);const m=h/14,g=c||(t=>t/l*m+"rem"),p=(t,e,i,h,a)=>{return ti({fontFamily:s,fontWeight:t,fontSize:g(e),lineHeight:i},s===Ih?{letterSpacing:(n=h/e,Math.round(1e5*n)/1e5)+"em"}:{},a,d);var n},f={h1:p(a,96,1.167,-1.5),h2:p(a,60,1.2,-.5),h3:p(n,48,1.167,0),h4:p(n,34,1.235,.25),h5:p(n,24,1.334,0),h6:p(r,20,1.6,.15),subtitle1:p(n,16,1.75,.15),subtitle2:p(r,14,1.57,.1),body1:p(n,16,1.5,.15),body2:p(n,14,1.43,.15),button:p(r,14,1.75,.4,fh),caption:p(n,12,1.66,.4),overline:p(n,12,2.66,1,fh)};return Ki(ti({htmlFontSize:l,pxToRem:g,fontFamily:s,fontSize:h,fontWeightLight:a,fontWeightRegular:n,fontWeightMedium:r,fontWeightBold:o},f),u,{clone:!1})}function bh(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}var Dh=["none",bh(0,2,1,-1,0,1,1,0,0,1,3,0),bh(0,3,1,-2,0,2,2,0,0,1,5,0),bh(0,3,3,-2,0,3,4,0,0,1,8,0),bh(0,2,4,-1,0,4,5,0,0,1,10,0),bh(0,3,5,-1,0,5,8,0,0,1,14,0),bh(0,3,5,-1,0,6,10,0,0,1,18,0),bh(0,4,5,-2,0,7,10,1,0,2,16,1),bh(0,5,5,-3,0,8,10,1,0,3,14,2),bh(0,5,6,-3,0,9,12,1,0,3,16,2),bh(0,6,6,-3,0,10,14,1,0,4,18,3),bh(0,6,7,-4,0,11,15,1,0,4,20,3),bh(0,7,8,-4,0,12,17,2,0,5,22,4),bh(0,7,8,-4,0,13,19,2,0,5,24,4),bh(0,7,9,-4,0,14,21,2,0,5,26,4),bh(0,8,9,-5,0,15,22,2,0,6,28,5),bh(0,8,10,-5,0,16,24,2,0,6,30,5),bh(0,8,11,-5,0,17,26,2,0,6,32,5),bh(0,9,11,-5,0,18,28,2,0,7,34,6),bh(0,9,12,-6,0,19,29,2,0,7,36,6),bh(0,10,13,-6,0,20,31,3,0,8,38,7),bh(0,10,13,-6,0,21,33,3,0,8,40,7),bh(0,10,14,-6,0,22,35,3,0,8,42,7),bh(0,11,14,-7,0,23,36,3,0,9,44,8),bh(0,11,15,-7,0,24,38,3,0,9,46,8)];const yh=["duration","easing","delay"],vh={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kh={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ch(t){return`${Math.round(t)}ms`}function wh(t){if(!t)return 0;const e=t/36;return Math.round(10*(4+15*e**.25+e/5))}function Lh(t){const e=ti({},vh,t.easing),i=ti({},kh,t.duration);return ti({getAutoHeightDuration:wh,create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:h=i.standard,easing:a=e.easeInOut,delay:n=0}=s;Je(s,yh);return(Array.isArray(t)?t:[t]).map((t=>`${t} ${"string"===typeof h?h:Ch(h)} ${a} ${"string"===typeof n?n:Ch(n)}`)).join(",")}},t,{easing:e,duration:i})}var Th={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const Sh=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:e={},palette:i={},transitions:s={},typography:h={}}=t,a=Je(t,Sh);if(t.vars)throw new Error(Ei(18));const n=gh(i),r=Qs(t);let o=Ki(r,{mixins:eh(r.breakpoints,e),palette:n,shadows:Dh.slice(),typography:xh(n,h),transitions:Lh(s),zIndex:ti({},Th)});o=Ki(o,a);for(var l=arguments.length,d=new Array(l>1?l-1:0),c=1;c<l;c++)d[c-1]=arguments[c];return o=d.reduce(((t,e)=>Ki(t,e)),o),o.unstable_sxConfig=ti({},Us,null==a?void 0:a.unstable_sxConfig),o.unstable_sx=function(t){return Gs({sx:t,theme:this})},o}var Ah=Fh();function _h(t){let{props:e,name:i}=t;return function(t){let{props:e,name:i,defaultTheme:s}=t;return qi({theme:th(s),name:i,props:e})}({props:e,name:i,defaultTheme:Ah})}var Bh=function(t){var e=Object.create(null);return function(i){return void 0===e[i]&&(e[i]=t(i)),e[i]}},zh=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ph=Bh((function(t){return zh.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));var Eh=function(){function t(t){var e=this;this._insertTag=function(t){var i;i=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,i),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{i.insertRule(t,i.cssRules.length)}catch(Ac){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),Rh=Math.abs,Nh=String.fromCharCode,jh=Object.assign;function Oh(t){return t.trim()}function Hh(t,e,i){return t.replace(e,i)}function Mh(t,e){return t.indexOf(e)}function Vh(t,e){return 0|t.charCodeAt(e)}function $h(t,e,i){return t.slice(e,i)}function qh(t){return t.length}function Wh(t){return t.length}function Uh(t,e){return e.push(t),t}var Kh=1,Gh=1,Xh=0,Qh=0,Yh=0,Zh="";function Jh(t,e,i,s,h,a,n){return{value:t,root:e,parent:i,type:s,props:h,children:a,line:Kh,column:Gh,length:n,return:""}}function ta(t,e){return jh(Jh("",null,null,"",null,null,0),t,{length:-t.length},e)}function ea(){return Yh=Qh>0?Vh(Zh,--Qh):0,Gh--,10===Yh&&(Gh=1,Kh--),Yh}function ia(){return Yh=Qh<Xh?Vh(Zh,Qh++):0,Gh++,10===Yh&&(Gh=1,Kh++),Yh}function sa(){return Vh(Zh,Qh)}function ha(){return Qh}function aa(t,e){return $h(Zh,t,e)}function na(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ra(t){return Kh=Gh=1,Xh=qh(Zh=t),Qh=0,[]}function oa(t){return Zh="",t}function la(t){return Oh(aa(Qh-1,ua(91===t?t+2:40===t?t+1:t)))}function da(t){for(;(Yh=sa())&&Yh<33;)ia();return na(t)>2||na(Yh)>3?"":" "}function ca(t,e){for(;--e&&ia()&&!(Yh<48||Yh>102||Yh>57&&Yh<65||Yh>70&&Yh<97););return aa(t,ha()+(e<6&&32==sa()&&32==ia()))}function ua(t){for(;ia();)switch(Yh){case t:return Qh;case 34:case 39:34!==t&&39!==t&&ua(Yh);break;case 40:41===t&&ua(t);break;case 92:ia()}return Qh}function ma(t,e){for(;ia()&&t+Yh!==57&&(t+Yh!==84||47!==sa()););return"/*"+aa(e,Qh-1)+"*"+Nh(47===t?t:ia())}function ga(t){for(;!na(sa());)ia();return aa(t,Qh)}var pa="-ms-",fa="-moz-",Ia="-webkit-",xa="comm",ba="rule",Da="decl",ya="@keyframes";function va(t,e){for(var i="",s=Wh(t),h=0;h<s;h++)i+=e(t[h],h,t,e)||"";return i}function ka(t,e,i,s){switch(t.type){case"@import":case Da:return t.return=t.return||t.value;case xa:return"";case ya:return t.return=t.value+"{"+va(t.children,s)+"}";case ba:t.value=t.props.join(",")}return qh(i=va(t.children,s))?t.return=t.value+"{"+i+"}":""}function Ca(t){return oa(wa("",null,null,null,[""],t=ra(t),0,[0],t))}function wa(t,e,i,s,h,a,n,r,o){for(var l=0,d=0,c=n,u=0,m=0,g=0,p=1,f=1,I=1,x=0,b="",D=h,y=a,v=s,k=b;f;)switch(g=x,x=ia()){case 40:if(108!=g&&58==Vh(k,c-1)){-1!=Mh(k+=Hh(la(x),"&","&\f"),"&\f")&&(I=-1);break}case 34:case 39:case 91:k+=la(x);break;case 9:case 10:case 13:case 32:k+=da(g);break;case 92:k+=ca(ha()-1,7);continue;case 47:switch(sa()){case 42:case 47:Uh(Ta(ma(ia(),ha()),e,i),o);break;default:k+="/"}break;case 123*p:r[l++]=qh(k)*I;case 125*p:case 59:case 0:switch(x){case 0:case 125:f=0;case 59+d:m>0&&qh(k)-c&&Uh(m>32?Sa(k+";",s,i,c-1):Sa(Hh(k," ","")+";",s,i,c-2),o);break;case 59:k+=";";default:if(Uh(v=La(k,e,i,l,d,h,r,b,D=[],y=[],c),a),123===x)if(0===d)wa(k,e,v,v,D,a,c,r,y);else switch(99===u&&110===Vh(k,3)?100:u){case 100:case 109:case 115:wa(t,v,v,s&&Uh(La(t,v,v,0,0,h,r,b,h,D=[],c),y),h,y,c,r,s?D:y);break;default:wa(k,v,v,v,[""],y,0,r,y)}}l=d=m=0,p=I=1,b=k="",c=n;break;case 58:c=1+qh(k),m=g;default:if(p<1)if(123==x)--p;else if(125==x&&0==p++&&125==ea())continue;switch(k+=Nh(x),x*p){case 38:I=d>0?1:(k+="\f",-1);break;case 44:r[l++]=(qh(k)-1)*I,I=1;break;case 64:45===sa()&&(k+=la(ia())),u=sa(),d=c=qh(b=k+=ga(ha())),x++;break;case 45:45===g&&2==qh(k)&&(p=0)}}return a}function La(t,e,i,s,h,a,n,r,o,l,d){for(var c=h-1,u=0===h?a:[""],m=Wh(u),g=0,p=0,f=0;g<s;++g)for(var I=0,x=$h(t,c+1,c=Rh(p=n[g])),b=t;I<m;++I)(b=Oh(p>0?u[I]+" "+x:Hh(x,/&\f/g,u[I])))&&(o[f++]=b);return Jh(t,e,i,0===h?ba:r,o,l,d)}function Ta(t,e,i){return Jh(t,e,i,xa,Nh(Yh),$h(t,2,-2),0)}function Sa(t,e,i,s){return Jh(t,e,i,Da,$h(t,0,s),$h(t,s+1,-1),s)}var Fa=function(t,e,i){for(var s=0,h=0;s=h,h=sa(),38===s&&12===h&&(e[i]=1),!na(h);)ia();return aa(t,Qh)},Aa=function(t,e){return oa(function(t,e){var i=-1,s=44;do{switch(na(s)){case 0:38===s&&12===sa()&&(e[i]=1),t[i]+=Fa(Qh-1,e,i);break;case 2:t[i]+=la(s);break;case 4:if(44===s){t[++i]=58===sa()?"&\f":"",e[i]=t[i].length;break}default:t[i]+=Nh(s)}}while(s=ia());return t}(ra(t),e))},_a=new WeakMap,Ba=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,i=t.parent,s=t.column===i.column&&t.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||_a.get(i))&&!s){_a.set(t,!0);for(var h=[],a=Aa(e,h),n=i.props,r=0,o=0;r<a.length;r++)for(var l=0;l<n.length;l++,o++)t.props[o]=h[r]?a[r].replace(/&\f/g,n[l]):n[l]+" "+a[r]}}},za=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function Pa(t,e){switch(function(t,e){return 45^Vh(t,0)?(((e<<2^Vh(t,0))<<2^Vh(t,1))<<2^Vh(t,2))<<2^Vh(t,3):0}(t,e)){case 5103:return Ia+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ia+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ia+t+fa+t+pa+t+t;case 6828:case 4268:return Ia+t+pa+t+t;case 6165:return Ia+t+pa+"flex-"+t+t;case 5187:return Ia+t+Hh(t,/(\w+).+(:[^]+)/,Ia+"box-$1$2"+pa+"flex-$1$2")+t;case 5443:return Ia+t+pa+"flex-item-"+Hh(t,/flex-|-self/,"")+t;case 4675:return Ia+t+pa+"flex-line-pack"+Hh(t,/align-content|flex-|-self/,"")+t;case 5548:return Ia+t+pa+Hh(t,"shrink","negative")+t;case 5292:return Ia+t+pa+Hh(t,"basis","preferred-size")+t;case 6060:return Ia+"box-"+Hh(t,"-grow","")+Ia+t+pa+Hh(t,"grow","positive")+t;case 4554:return Ia+Hh(t,/([^-])(transform)/g,"$1"+Ia+"$2")+t;case 6187:return Hh(Hh(Hh(t,/(zoom-|grab)/,Ia+"$1"),/(image-set)/,Ia+"$1"),t,"")+t;case 5495:case 3959:return Hh(t,/(image-set\([^]*)/,Ia+"$1$`$1");case 4968:return Hh(Hh(t,/(.+:)(flex-)?(.*)/,Ia+"box-pack:$3"+pa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ia+t+t;case 4095:case 3583:case 4068:case 2532:return Hh(t,/(.+)-inline(.+)/,Ia+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qh(t)-1-e>6)switch(Vh(t,e+1)){case 109:if(45!==Vh(t,e+4))break;case 102:return Hh(t,/(.+:)(.+)-([^]+)/,"$1"+Ia+"$2-$3$1"+fa+(108==Vh(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Mh(t,"stretch")?Pa(Hh(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==Vh(t,e+1))break;case 6444:switch(Vh(t,qh(t)-3-(~Mh(t,"!important")&&10))){case 107:return Hh(t,":",":"+Ia)+t;case 101:return Hh(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ia+(45===Vh(t,14)?"inline-":"")+"box$3$1"+Ia+"$2$3$1"+pa+"$2box$3")+t}break;case 5936:switch(Vh(t,e+11)){case 114:return Ia+t+pa+Hh(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ia+t+pa+Hh(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ia+t+pa+Hh(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ia+t+pa+t+t}return t}var Ea=[function(t,e,i,s){if(t.length>-1&&!t.return)switch(t.type){case Da:t.return=Pa(t.value,t.length);break;case ya:return va([ta(t,{value:Hh(t.value,"@","@"+Ia)})],s);case ba:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return va([ta(t,{props:[Hh(e,/:(read-\w+)/,":-moz-$1")]})],s);case"::placeholder":return va([ta(t,{props:[Hh(e,/:(plac\w+)/,":"+Ia+"input-$1")]}),ta(t,{props:[Hh(e,/:(plac\w+)/,":-moz-$1")]}),ta(t,{props:[Hh(e,/:(plac\w+)/,pa+"input-$1")]})],s)}return""}))}}],Ra=function(t){var e=t.key;if("css"===e){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var s=t.stylisPlugins||Ea;var h,a,n={},r=[];h=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),i=1;i<e.length;i++)n[e[i]]=!0;r.push(t)}));var o,l,d=[ka,(l=function(t){o.insert(t)},function(t){t.root||(t=t.return)&&l(t)})],c=function(t){var e=Wh(t);return function(i,s,h,a){for(var n="",r=0;r<e;r++)n+=t[r](i,s,h,a)||"";return n}}([Ba,za].concat(s,d));a=function(t,e,i,s){o=i,va(Ca(t?t+"{"+e.styles+"}":e.styles),c),s&&(u.inserted[e.name]=!0)};var u={key:e,sheet:new Eh({key:e,container:h,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:n,registered:{},insert:a};return u.sheet.hydrate(r),u};var Na=function(t){for(var e,i=0,s=0,h=t.length;h>=4;++s,h-=4)e=1540483477*(65535&(e=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24))+(59797*(e>>>16)<<16),i=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(h){case 3:i^=(255&t.charCodeAt(s+2))<<16;case 2:i^=(255&t.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(s)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)},ja={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Oa=/[A-Z]|^ms/g,Ha=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ma=function(t){return 45===t.charCodeAt(1)},Va=function(t){return null!=t&&"boolean"!==typeof t},$a=Bh((function(t){return Ma(t)?t:t.replace(Oa,"-$&").toLowerCase()})),qa=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(Ha,(function(t,e,i){return Ua={name:e,styles:i,next:Ua},e}))}return 1===ja[t]||Ma(t)||"number"!==typeof e||0===e?e:e+"px"};function Wa(t,e,i){if(null==i)return"";if(void 0!==i.__emotion_styles)return i;switch(typeof i){case"boolean":return"";case"object":if(1===i.anim)return Ua={name:i.name,styles:i.styles,next:Ua},i.name;if(void 0!==i.styles){var s=i.next;if(void 0!==s)for(;void 0!==s;)Ua={name:s.name,styles:s.styles,next:Ua},s=s.next;return i.styles+";"}return function(t,e,i){var s="";if(Array.isArray(i))for(var h=0;h<i.length;h++)s+=Wa(t,e,i[h])+";";else for(var a in i){var n=i[a];if("object"!==typeof n)null!=e&&void 0!==e[n]?s+=a+"{"+e[n]+"}":Va(n)&&(s+=$a(a)+":"+qa(a,n)+";");else if(!Array.isArray(n)||"string"!==typeof n[0]||null!=e&&void 0!==e[n[0]]){var r=Wa(t,e,n);switch(a){case"animation":case"animationName":s+=$a(a)+":"+r+";";break;default:s+=a+"{"+r+"}"}}else for(var o=0;o<n.length;o++)Va(n[o])&&(s+=$a(a)+":"+qa(a,n[o])+";")}return s}(t,e,i);case"function":if(void 0!==t){var h=Ua,a=i(t);return Ua=h,Wa(t,e,a)}}if(null==e)return i;var n=e[i];return void 0!==n?n:i}var Ua,Ka=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ga=!!a.useInsertionEffect&&a.useInsertionEffect,Xa=Ga||function(t){return t()},Qa=(0,h.createContext)("undefined"!==typeof HTMLElement?Ra({key:"css"}):null);Qa.Provider;var Ya=function(t){return(0,h.forwardRef)((function(e,i){var s=(0,h.useContext)(Qa);return t(e,s,i)}))},Za=(0,h.createContext)({});var Ja=function(t,e,i){var s=t.key+"-"+e.name;!1===i&&void 0===t.registered[s]&&(t.registered[s]=e.styles)},tn=Ph,en=function(t){return"theme"!==t},sn=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?tn:en},hn=function(t,e,i){var s;if(e){var h=e.shouldForwardProp;s=t.__emotion_forwardProp&&h?function(e){return t.__emotion_forwardProp(e)&&h(e)}:h}return"function"!==typeof s&&i&&(s=t.__emotion_forwardProp),s},an=function(t){var e=t.cache,i=t.serialized,s=t.isStringTag;Ja(e,i,s);Xa((function(){return function(t,e,i){Ja(t,e,i);var s=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var h=e;do{t.insert(e===h?"."+s:"",h,t.sheet,!0),h=h.next}while(void 0!==h)}}(e,i,s)}));return null},nn=function t(e,i){var s,a,n=e.__emotion_real===e,r=n&&e.__emotion_base||e;void 0!==i&&(s=i.label,a=i.target);var o=hn(e,i,n),l=o||sn(r),d=!l("as");return function(){var c=arguments,u=n&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==s&&u.push("label:"+s+";"),null==c[0]||void 0===c[0].raw)u.push.apply(u,c);else{0,u.push(c[0][0]);for(var m=c.length,g=1;g<m;g++)u.push(c[g],c[0][g])}var p=Ya((function(t,e,i){var s=d&&t.as||r,n="",c=[],m=t;if(null==t.theme){for(var g in m={},t)m[g]=t[g];m.theme=(0,h.useContext)(Za)}"string"===typeof t.className?n=function(t,e,i){var s="";return i.split(" ").forEach((function(i){void 0!==t[i]?e.push(t[i]+";"):s+=i+" "})),s}(e.registered,c,t.className):null!=t.className&&(n=t.className+" ");var p=function(t,e,i){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var s=!0,h="";Ua=void 0;var a=t[0];null==a||void 0===a.raw?(s=!1,h+=Wa(i,e,a)):h+=a[0];for(var n=1;n<t.length;n++)h+=Wa(i,e,t[n]),s&&(h+=a[n]);Ka.lastIndex=0;for(var r,o="";null!==(r=Ka.exec(h));)o+="-"+r[1];return{name:Na(h)+o,styles:h,next:Ua}}(u.concat(c),e.registered,m);n+=e.key+"-"+p.name,void 0!==a&&(n+=" "+a);var f=d&&void 0===o?sn(s):l,I={};for(var x in t)d&&"as"===x||f(x)&&(I[x]=t[x]);return I.className=n,I.ref=i,(0,h.createElement)(h.Fragment,null,(0,h.createElement)(an,{cache:e,serialized:p,isStringTag:"string"===typeof s}),(0,h.createElement)(s,I))}));return p.displayName=void 0!==s?s:"Styled("+("string"===typeof r?r:r.displayName||r.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=r,p.__emotion_styles=u,p.__emotion_forwardProp=o,Object.defineProperty(p,"toString",{value:function(){return"."+a}}),p.withComponent=function(e,s){return t(e,ti({},i,s,{shouldForwardProp:hn(p,s,!0)})).apply(void 0,u)},p}},rn=nn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){rn[t]=rn(t)}));var on=rn;const ln=["variant"];function dn(t){return 0===t.length}function cn(t){const{variant:e}=t,i=Je(t,ln);let s=e||"";return Object.keys(i).sort().forEach((e=>{s+="color"===e?dn(s)?t[e]:is(t[e]):`${dn(s)?e:is(e)}${is(t[e].toString())}`})),s}const un=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],mn=["theme"],gn=["theme"];function pn(t){return 0===Object.keys(t).length}function fn(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const In=Qs();const xn=fn,bn=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{defaultTheme:e=In,rootShouldForwardProp:i=fn,slotShouldForwardProp:s=fn}=t,h=t=>{const i=pn(t.theme)?e:t.theme;return Gs(ti({},t,{theme:i}))};return h.__mui_systemSx=!0,function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))})(t,(t=>t.filter((t=>!(null!=t&&t.__mui_systemSx)))));const{name:n,slot:r,skipVariantsResolver:o,skipSx:l,overridesResolver:d}=a,c=Je(a,un),u=void 0!==o?o:r&&"Root"!==r||!1,m=l||!1;let g=fn;"Root"===r?g=i:r?g=s:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(g=void 0);const p=function(t,e){return on(t,e)}(t,ti({shouldForwardProp:g,label:undefined},c)),f=function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];const r=s?s.map((t=>"function"===typeof t&&t.__emotion_real!==t?i=>{let{theme:s}=i,h=Je(i,mn);return t(ti({theme:pn(s)?e:s},h))}:t)):[];let o=t;n&&d&&r.push((t=>{const i=pn(t.theme)?e:t.theme,s=((t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null)(n,i);if(s){const e={};return Object.entries(s).forEach((s=>{let[h,a]=s;e[h]="function"===typeof a?a(ti({},t,{theme:i})):a})),d(t,e)}return null})),n&&!u&&r.push((t=>{const i=pn(t.theme)?e:t.theme;return((t,e,i,s)=>{var h,a;const{ownerState:n={}}=t,r=[],o=null==i||null==(h=i.components)||null==(a=h[s])?void 0:a.variants;return o&&o.forEach((i=>{let s=!0;Object.keys(i.props).forEach((e=>{n[e]!==i.props[e]&&t[e]!==i.props[e]&&(s=!1)})),s&&r.push(e[cn(i.props)])})),r})(t,((t,e)=>{let i=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(i=e.components[t].variants);const s={};return i.forEach((t=>{const e=cn(t.props);s[e]=t.style})),s})(n,i),i,n)})),m||r.push(h);const l=r.length-s.length;if(Array.isArray(t)&&l>0){const e=new Array(l).fill("");o=[...t,...e],o.raw=[...t.raw,...e]}else"function"===typeof t&&t.__emotion_real!==t&&(o=i=>{let{theme:s}=i,h=Je(i,gn);return t(ti({theme:pn(s)?e:s},h))});return p(o,...r)};return p.withConfig&&(f.withConfig=p.withConfig),f}}({defaultTheme:Ah,rootShouldForwardProp:t=>fn(t)&&"classes"!==t});var Dn=bn;var yn=t=>!t||!hi(t),vn=is;const kn=t=>t;var Cn=(()=>{let t=kn;return{configure(e){t=e},generate(e){return t(e)},reset(){t=kn}}})();const wn={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Ln(t,e){const i=wn[e];return i?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${i}`:`${Cn.generate(t)}-${e}`}function Tn(t){return Ln("MuiSlider",t)}const Sn=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const s={};return e.forEach((e=>{s[e]=Ln(t,e,i)})),s}("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);var Fn=Sn;const An=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],_n=(t,e,i)=>100*(t-e)/(i-e);function Bn(t){return t}const zn=Dn("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`color${vn(i.color)}`],"medium"!==i.size&&e[`size${vn(i.size)}`],i.marked&&e.marked,"vertical"===i.orientation&&e.vertical,"inverted"===i.track&&e.trackInverted,!1===i.track&&e.trackFalse]}})((t=>{let{theme:e,ownerState:i}=t;return ti({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[i.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===i.orientation&&ti({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===i.size&&{height:2},i.marked&&{marginBottom:20}),"vertical"===i.orientation&&ti({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===i.size&&{width:2},i.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Fn.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Fn.dragging}`]:{[`& .${Fn.thumb}, & .${Fn.track}`]:{transition:"none"}}})})),Pn=Dn("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})((t=>{let{ownerState:e}=t;return ti({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===e.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===e.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===e.track&&{opacity:1})})),En=Dn("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})((t=>{let{theme:e,ownerState:i}=t;const s="light"===e.palette.mode?Vi(e.palette[i.color].main,.62):Mi(e.palette[i.color].main,.5);return ti({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},"small"===i.size&&{border:"none"},"horizontal"===i.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===i.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===i.track&&{display:"none"},"inverted"===i.track&&{backgroundColor:e.vars?e.vars.palette.Slider[`${i.color}Track`]:s,borderColor:e.vars?e.vars.palette.Slider[`${i.color}Track`]:s})})),Rn=Dn("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.thumb,e[`thumbColor${vn(i.color)}`],"medium"!==i.size&&e[`thumbSize${vn(i.size)}`]]}})((t=>{let{theme:e,ownerState:i}=t;return ti({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},"small"===i.size&&{width:12,height:12},"horizontal"===i.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===i.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":ti({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"small"===i.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Fn.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[i.color].mainChannel} / 0.16)`:Hi(e.palette[i.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Fn.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[i.color].mainChannel} / 0.16)`:Hi(e.palette[i.color].main,.16)}`},[`&.${Fn.disabled}`]:{"&:hover":{boxShadow:"none"}}})})),Nn=Dn((function(t){const{children:e,className:i,value:s}=t,a=(t=>{const{open:e}=t;return{offset:ii(e&&Fn.valueLabelOpen),circle:Fn.valueLabelCircle,label:Fn.valueLabelLabel}})(t);return e?h.cloneElement(e,{className:ii(e.props.className)},(0,_t.jsxs)(h.Fragment,{children:[e.props.children,(0,_t.jsx)("span",{className:ii(a.offset,i),"aria-hidden":!0,children:(0,_t.jsx)("span",{className:a.circle,children:(0,_t.jsx)("span",{className:a.label,children:s})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})((t=>{let{theme:e,ownerState:i}=t;return ti({[`&.${Fn.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"horizontal"===i.orientation&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"vertical"===i.orientation&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},"small"===i.size&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})})),jn=Dn("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>xn(t)&&"markActive"!==t,overridesResolver:(t,e)=>{const{markActive:i}=t;return[e.mark,i&&e.markActive]}})((t=>{let{theme:e,ownerState:i,markActive:s}=t;return ti({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===i.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===i.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},s&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})})),On=Dn("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>xn(t)&&"markLabelActive"!==t,overridesResolver:(t,e)=>e.markLabel})((t=>{let{theme:e,ownerState:i,markLabelActive:s}=t;return ti({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===i.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===i.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},s&&{color:(e.vars||e).palette.text.primary})})),Hn=t=>{const{disabled:e,dragging:i,marked:s,orientation:h,track:a,classes:n,color:r,size:o}=t;return function(t,e,i){const s={};return Object.keys(t).forEach((h=>{s[h]=t[h].reduce(((t,s)=>(s&&(t.push(e(s)),i&&i[s]&&t.push(i[s])),t)),[]).join(" ")})),s}({root:["root",e&&"disabled",i&&"dragging",s&&"marked","vertical"===h&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse",r&&`color${vn(r)}`,o&&`size${vn(o)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",o&&`thumbSize${vn(o)}`,r&&`thumbColor${vn(r)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},Tn,n)},Mn=t=>{let{children:e}=t;return e},Vn=h.forwardRef((function(t,e){var i,s,a,n,r,o,l,d,c,u,m,g,p,f,I,x,b,D,y,v,k,C,w,L;const T=_h({props:t,name:"MuiSlider"}),S="rtl"===th(Ah).direction,{"aria-label":F,"aria-valuetext":A,"aria-labelledby":_,component:B="span",components:z={},componentsProps:P={},color:E="primary",classes:R,className:N,disableSwap:j=!1,disabled:O=!1,getAriaLabel:H,getAriaValueText:M,marks:V=!1,max:$=100,min:q=0,orientation:W="horizontal",size:U="medium",step:K=1,scale:G=Bn,slotProps:X,slots:Q,track:Y="normal",valueLabelDisplay:Z="off",valueLabelFormat:J=Bn}=T,tt=Je(T,An),et=ti({},T,{isRtl:S,max:$,min:q,classes:R,disabled:O,disableSwap:j,orientation:W,marks:V,color:E,size:U,step:K,scale:G,track:Y,valueLabelDisplay:Z,valueLabelFormat:J}),{axisProps:it,getRootProps:st,getHiddenInputProps:ht,getThumbProps:at,open:nt,active:rt,axis:ot,focusedThumbIndex:lt,range:dt,dragging:ct,marks:ut,values:mt,trackOffset:gt,trackLeap:pt}=Pi(ti({},et,{ref:e}));et.marked=ut.length>0&&ut.some((t=>t.label)),et.dragging=ct,et.focusedThumbIndex=lt;const ft=Hn(et),It=null!=(i=null!=(s=null==Q?void 0:Q.root)?s:z.Root)?i:zn,xt=null!=(a=null!=(n=null==Q?void 0:Q.rail)?n:z.Rail)?a:Pn,bt=null!=(r=null!=(o=null==Q?void 0:Q.track)?o:z.Track)?r:En,Dt=null!=(l=null!=(d=null==Q?void 0:Q.thumb)?d:z.Thumb)?l:Rn,yt=null!=(c=null!=(u=null==Q?void 0:Q.valueLabel)?u:z.ValueLabel)?c:Nn,vt=null!=(m=null!=(g=null==Q?void 0:Q.mark)?g:z.Mark)?m:jn,kt=null!=(p=null!=(f=null==Q?void 0:Q.markLabel)?f:z.MarkLabel)?p:On,Ct=null!=(I=null!=(x=null==Q?void 0:Q.input)?x:z.Input)?I:"input",wt=null!=(b=null==X?void 0:X.root)?b:P.root,Lt=null!=(D=null==X?void 0:X.rail)?D:P.rail,Tt=null!=(y=null==X?void 0:X.track)?y:P.track,St=null!=(v=null==X?void 0:X.thumb)?v:P.thumb,Ft=null!=(k=null==X?void 0:X.valueLabel)?k:P.valueLabel,At=null!=(C=null==X?void 0:X.mark)?C:P.mark,Bt=null!=(w=null==X?void 0:X.markLabel)?w:P.markLabel,zt=null!=(L=null==X?void 0:X.input)?L:P.input,Pt=oi({elementType:It,getSlotProps:st,externalSlotProps:wt,externalForwardedProps:tt,additionalProps:ti({},yn(It)&&{as:B}),ownerState:ti({},et,null==wt?void 0:wt.ownerState),className:[ft.root,N]}),Et=oi({elementType:xt,externalSlotProps:Lt,ownerState:et,className:ft.rail}),Rt=oi({elementType:bt,externalSlotProps:Tt,additionalProps:{style:ti({},it[ot].offset(gt),it[ot].leap(pt))},ownerState:ti({},et,null==Tt?void 0:Tt.ownerState),className:ft.track}),Nt=oi({elementType:Dt,getSlotProps:at,externalSlotProps:St,ownerState:ti({},et,null==St?void 0:St.ownerState)}),jt=oi({elementType:yt,externalSlotProps:Ft,ownerState:ti({},et,null==Ft?void 0:Ft.ownerState),className:ft.valueLabel}),Ot=oi({elementType:vt,externalSlotProps:At,ownerState:et,className:ft.mark}),Ht=oi({elementType:kt,externalSlotProps:Bt,ownerState:et}),Mt=oi({elementType:Ct,getSlotProps:ht,externalSlotProps:zt,ownerState:et});return(0,_t.jsxs)(It,ti({},Pt,{children:[(0,_t.jsx)(xt,ti({},Et)),(0,_t.jsx)(bt,ti({},Rt)),ut.filter((t=>t.value>=q&&t.value<=$)).map(((t,e)=>{const i=_n(t.value,q,$),s=it[ot].offset(i);let a;return a=!1===Y?-1!==mt.indexOf(t.value):"normal"===Y&&(dt?t.value>=mt[0]&&t.value<=mt[mt.length-1]:t.value<=mt[0])||"inverted"===Y&&(dt?t.value<=mt[0]||t.value>=mt[mt.length-1]:t.value>=mt[0]),(0,_t.jsxs)(h.Fragment,{children:[(0,_t.jsx)(vt,ti({"data-index":e},Ot,!hi(vt)&&{markActive:a},{style:ti({},s,Ot.style),className:ii(Ot.className,a&&ft.markActive)})),null!=t.label?(0,_t.jsx)(kt,ti({"aria-hidden":!0,"data-index":e},Ht,!hi(kt)&&{markLabelActive:a},{style:ti({},s,Ht.style),className:ii(ft.markLabel,Ht.className,a&&ft.markLabelActive),children:t.label})):null]},e)})),mt.map(((t,e)=>{const i=_n(t,q,$),s=it[ot].offset(i),a="off"===Z?Mn:yt;return(0,_t.jsx)(h.Fragment,{children:(0,_t.jsx)(a,ti({},!hi(a)&&{valueLabelFormat:J,valueLabelDisplay:Z,value:"function"===typeof J?J(G(t),e):J,index:e,open:nt===e||rt===e||"on"===Z,disabled:O},jt,{children:(0,_t.jsx)(Dt,ti({"data-index":e,"data-focusvisible":lt===e},Nt,{className:ii(ft.thumb,Nt.className,rt===e&&ft.active,lt===e&&ft.focusVisible),style:ti({},s,{pointerEvents:j&&rt!==e?"none":void 0},Nt.style),children:(0,_t.jsx)(Ct,ti({"data-index":e,"aria-label":H?H(e):F,"aria-valuenow":G(t),"aria-labelledby":_,"aria-valuetext":M?M(G(t),e):A,value:mt[e]},Mt))}))}))},e)}))]}))}));var $n=Vn;function qn(t){let e,i,s;const h=document.cookie.split(";");for(e=0;e<h.length;e++)if(i=h[e].substr(0,h[e].indexOf("=")),s=h[e].substr(h[e].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i===t)return unescape(s)}function Wn(t,e,i){const s=new Date;s.setDate(s.getDate()+i),document.cookie=t+"="+e}function Un(t,e,i,s){const h=document.createElement("input");h.setAttribute("type",e),h.setAttribute("value",i),"Button"===e?(h.onclick=s,"Pause"===i?h.classList.add("pause"):"Play"===i&&h.classList.add("play")):"Text"===e&&(h.onkeydown=s);const a=document.createElement("td");return a.appendChild(h),t.current.appendChild(a),h}function Kn(t){const e=document.createElement("td");e.setAttribute("class","divisorLeft");const i=document.createElement("td");i.setAttribute("class","divisorRight"),t.current.appendChild(e),t.current.appendChild(i)}class Gn extends Fe{constructor(t,e){super(),this.objectManager=new Ye(t),this.animatedObjects=this.objectManager,this.animationPaused=!1,this.awaitingStep=!1,this.currentlyAnimating=!1,this.animationSteps=[],this.currentAnimation=0,this.previousAnimationSteps=[],this.currFrame=0,this.animationBlockLength=0,this.currentBlock=null,this.undoStack=[],this.doingUndo=!1,this.undoAnimationStepIndices=[],this.undoAnimationStepIndicesStack=[],this.animationBlockLength=10,this.paused=!1,this.canvas=t,this.skipBackButton=Un(e,"Button","Skip Back",(()=>this.skipBack())),this.stepBackButton=Un(e,"Button","Step Back",(()=>{this.paused||this.doPlayPause(),this.stepBack()})),this.playPauseBackButton=Un(e,"Button","Pause",(()=>this.doPlayPause())),this.playPauseBackButton.setAttribute("style","width: 80px"),this.playPauseBackButton.classList.add("pause"),this.stepForwardButton=Un(e,"Button","Step Forward",(()=>{this.paused||this.doPlayPause(),this.step()})),this.skipForwardButton=Un(e,"Button","Skip Forward",(()=>this.skipForward())),Kn(e);const i=document.createElement("div");i.setAttribute("display","inline-block"),i.setAttribute("float","left");let s=qn("VisualizationSpeed");s=null==s||""===s?75:parseInt(s);const h=(0,_t.jsx)($n,{style:{padding:"13px 0",height:2},defaultValue:s,onChange:(t,e)=>{this.setSpeed(e),Wn("VisualizationSpeed",String(e),30)}});let a=document.createElement("td");const n=document.getElementById("GeneralAnimationControls"),r=document.createElement("table");let o=document.createElement("tr"),l=document.createElement("td");l.classList.add("slider"),o.appendChild(l);Ze.createRoot(l).render(h),r.appendChild(o),o=document.createElement("tr"),l=document.createElement("td"),l.align="center";let d=document.createTextNode("Animation Speed");o.appendChild(l),l.classList.add("txt-node"),l.appendChild(d),r.appendChild(o),a.appendChild(r),n.appendChild(a),this.setSpeed(s),i.setAttribute("style","width:200px"),Kn(e);let c=qn("VisualizationWidth");c=null==c||""===c?1500:parseInt(c);let u=qn("VisualizationHeight");u=null==u||""===u?555:parseInt(u),canvas.width=c,canvas.height=u,a=document.createElement("td"),d=document.createTextNode("Canvas height:"),a.classList.add("txt-node"),a.appendChild(d),n.appendChild(a),this.heightEntry=Un(e,"Text",canvas.height,(()=>{return t=this.heightEntry,e=()=>this.changeSize(document.documentElement.clientWidth,parseInt(this.heightEntry.value)),s=!0,void 0!==(i=4)&&(t.size=i),function(h){let a=0;return window.event?a=h.keyCode:h.which&&(a=h.which),13===a?(e(),!1):59!==a&&45!==a&&46!==a&&190!==a&&173!==a&&!((void 0!==i&&t.value.length>=i||s&&(a<48||a>57))&&!function(t){return 8===t||9===t||37===t||38===t||39===t||40===t||46===t}(a))};var t,e,i,s})),this.heightEntry.size=4,this.sizeButton=Un(e,"Button","Change Canvas Size",(()=>this.changeSize())),this.addListener("AnimationStarted",this,this.animStarted),this.addListener("AnimationEnded",this,this.animEnded),this.addListener("AnimationWaiting",this,this.animWaiting),this.addListener("AnimationUndoUnavailable",this,this.animUndoUnavailable),this.objectManager.width=canvas.width,this.objectManager.height=canvas.height}lerp(t,e,i){return(e-t)*i+t}setPaused(t){this.animationPaused=t,this.animationPaused||this.step()}parseBool(t){const e=t.toUpperCase();return!("False"===e||"f"===e||" 0"===e||"0"===e||""===e)}parseColor(t){return"#"===t.charAt(0)?t:"0x"===t.substring(0,2)?"#"+t.substring(2):void 0}setSpeed(t){this.animationBlockLength=Math.floor((100-t)/2)}changeSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement.clientWidth,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:parseInt(this.heightEntry.value);t>100&&(canvas.width=t,this.animatedObjects.width=t,Wn("VisualizationWidth",String(t),30)),e>100&&(canvas.height=e,this.animatedObjects.height=e,Wn("VisualizationHeight",String(e),30)),this.heightEntry.value=canvas.height,this.animatedObjects.draw(),this.fireEvent("CanvasSizeChanged",{width:canvas.width,height:canvas.height})}startNextBlock(){if(this.awaitingStep=!1,this.currentBlock=[],this.undoBlock=[],!this.animationSteps||this.currentAnimation===this.animationSteps.length)return this.currentlyAnimating=!1,this.awaitingStep=!1,this.fireEvent("AnimationEnded","NoData"),this.stopTimer(),this.animatedObjects.update(),void this.animatedObjects.draw();for(this.undoAnimationStepIndices.push(this.currentAnimation),this.foundBreak=!1,this.anyAnimations=!1;this.currentAnimation<this.animationSteps.length&&!this.foundBreak;){const[t,e]=this.animationSteps[this.currentAnimation];t.call(this,e),this.currentAnimation++}this.currFrame=0,(!this.anyAnimations&&this.animationPaused||!this.anyAnimations&&this.currentAnimation===this.animationSteps.length)&&(this.currFrame=this.animationBlockLength),this.undoStack.push(this.undoBlock)}startNewAnimation(t){this.stopTimer(),null!==this.animationSteps&&(this.previousAnimationSteps.push(this.animationSteps),this.undoAnimationStepIndicesStack.push(this.undoAnimationStepIndices)),void 0===t||0===t.length?this.animationSteps=[[Xn.step,[]]]:this.animationSteps=t,this.undoAnimationStepIndices=[],this.currentAnimation=0,this.startNextBlock(),this.currentlyAnimating=!0,this.fireEvent("AnimationStarted","NoData"),this.startTimer()}stepBack(){this.awaitingStep&&null!==this.undoStack&&0!==this.undoStack.length?(this.fireEvent("AnimationStarted","NoData"),this.stopTimer(),this.awaitingStep=!1,this.undoLastBlock(),this.stopTimer(),this.startTimer()):!this.currentlyAnimating&&this.animationPaused&&null!==this.undoAnimationStepIndices?(null!=this.undoStack&&0!==this.undoStack.length||(this.stepBackButton.disabled=!0),this.fireEvent("AnimationStarted","NoData"),this.currentlyAnimating=!0,this.undoLastBlock(),this.stopTimer(),this.startTimer()):null!=this.undoStack&&0!==this.undoStack.length||(this.stepBackButton.disabled=!0,this.fireEvent("AnimationUndoUnavailable","NoData"))}step(){this.awaitingStep&&(this.startNextBlock(),this.fireEvent("AnimationStarted","NoData"),this.currentlyAnimating=!0,this.stopTimer(),this.startTimer())}clearHistory(){this.undoStack=[],this.undoAnimationStepIndices=null,this.previousAnimationSteps=[],this.undoAnimationStepIndicesStack=[],this.animationSteps=null,this.fireEvent("AnimationUndoUnavailable","NoData"),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw()}skipBack(){let t=null!==this.undoAnimationStepIndices&&0!==this.undoAnimationStepIndices.length;if(t){let e;for(e=0;null!==this.currentBlock&&e<this.currentBlock.length;e++){const t=this.currentBlock[e].objectID;this.animatedObjects.setNodePosition(t,this.currentBlock[e].toX,this.currentBlock[e].toY)}for(this.doingUndo&&this.finishUndoBlock(this.undoStack.pop());t;){for(this.undoLastBlock(),e=0;e<this.currentBlock.length;e++){const t=this.currentBlock[e].objectID;this.animatedObjects.setNodePosition(t,this.currentBlock[e].toX,this.currentBlock[e].toY)}t=this.finishUndoBlock(this.undoStack.pop())}this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw(),null!=this.undoStack&&0!==this.undoStack.length||this.fireEvent("AnimationUndoUnavailable","NoData")}}resetAll(){this.clearHistory(),this.animatedObjects.clearAllObjects(),this.animatedObjects.draw(),this.stopTimer()}skipForward(){if(this.currentlyAnimating){for(this.animatedObjects.runFast=!0;null!==this.animationSteps&&this.currentAnimation<this.animationSteps.length;){for(let t=0;null!==this.currentBlock&&t<this.currentBlock.length;t++){const e=this.currentBlock[t].objectID;this.animatedObjects.setNodePosition(e,this.currentBlock[t].toX,this.currentBlock[t].toY)}this.doingUndo&&this.finishUndoBlock(this.undoStack.pop()),this.startNextBlock();for(let t=0;t<this.currentBlock.length;t++){const e=this.currentBlock[t].objectID;this.animatedObjects.setNodePosition(e,this.currentBlock[t].toX,this.currentBlock[t].toY)}}this.animatedObjects.update(),this.currentlyAnimating=!1,this.awaitingStep=!1,this.doingUndo=!1,this.animatedObjects.runFast=!1,this.fireEvent("AnimationEnded","NoData"),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw()}}finishUndoBlock(t){for(let e=t.length-1;e>=0;e--)t[e].undoInitialStep(this.animatedObjects);return this.doingUndo=!1,0!==this.undoAnimationStepIndices.length||(this.awaitingStep=!1,this.currentlyAnimating=!1,this.undoAnimationStepIndicesStack.length>0&&(this.undoAnimationStepIndices=this.undoAnimationStepIndicesStack.pop()),this.previousAnimationSteps.length>0&&(this.animationSteps=this.previousAnimationSteps.pop()),this.fireEvent("AnimationEnded","NoData"),this.fireEvent("AnimationUndo","NoData"),this.currentBlock=[],null!=this.undoStack&&0!==this.undoStack.length||(this.currentlyAnimating=!1,this.awaitingStep=!1,this.fireEvent("AnimationUndoUnavailable","NoData")),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw(),!1)}undoLastBlock(){if(null!=this.undoAnimationStepIndices&&0!==this.undoAnimationStepIndices.length&&this.undoAnimationStepIndices.length>0){this.doingUndo=!0;let t=!1;this.currentAnimation=this.undoAnimationStepIndices.pop(),this.currentBlock=[];const e=this.undoStack[this.undoStack.length-1];let i;for(i=e.length-1;i>=0;i--){const s=e[i].addUndoAnimation(this.currentBlock);t=t||s}this.currFrame=0,!t&&this.animationPaused&&(this.currFrame=this.animationBlockLength),this.currentlyAnimating=!0}}setLayer(t,e){this.animatedObjects.setLayer(t,e),this.animatedObjects.draw()}toggleLayer(t){this.animatedObjects.toggleLayer(t),this.animatedObjects.draw()}updateLayer(t,e){this.animatedObjects.updateLayer(t,e),this.animatedObjects.draw()}setAllLayers(t){this.animatedObjects.setAllLayers(t),this.animatedObjects.draw()}update(){if(this.currentlyAnimating){let t;for(this.currFrame=this.currFrame+1,t=0;t<this.currentBlock.length;t++)if(this.currFrame===this.animationBlockLength||1===this.currFrame&&0===this.animationBlockLength)this.animatedObjects.setNodePosition(this.currentBlock[t].objectID,this.currentBlock[t].toX,this.currentBlock[t].toY);else if(this.currFrame<this.animationBlockLength){const e=this.currentBlock[t].objectID,i=1/(this.animationBlockLength-this.currFrame),s=this.lerp(this.animatedObjects.getNodeX(e),this.currentBlock[t].toX,i),h=this.lerp(this.animatedObjects.getNodeY(e),this.currentBlock[t].toY,i);this.animatedObjects.setNodePosition(e,s,h)}this.currFrame>=this.animationBlockLength&&(this.doingUndo?this.finishUndoBlock(this.undoStack.pop())&&(this.awaitingStep=!0,this.fireEvent("AnimationWaiting","NoData")):this.animationPaused&&void 0!==this.animationSteps&&this.currentAnimation<this.animationSteps.length?(this.awaitingStep=!0,this.fireEvent("AnimationWaiting","NoData"),this.currentBlock=[]):this.startNextBlock()),this.animatedObjects.update()}}animWaiting(){this.stepForwardButton.disabled=!1,!1===this.skipBackButton.disabled&&this.undoStack&&0!==this.undoStack.length&&(this.stepBackButton.disabled=!1),this.objectManager.statusReport.setText("Animation Paused"),this.objectManager.statusReport.setForegroundColor("#FF0000")}animStarted(){this.skipForwardButton.disabled=!1,this.stepForwardButton.disabled=!1,this.skipBackButton.disabled=!1,this.objectManager.statusReport.setText("Animation Running"),this.objectManager.statusReport.setForegroundColor("#009900")}animEnded(){this.skipForwardButton.disabled=!0,this.stepForwardButton.disabled=!0,!1===this.skipBackButton.disabled&&this.paused&&(this.undoStack&&0!==this.undoStack.length?this.stepBackButton.disabled=!1:this.stepForwardButton.disabled=!1),this.objectManager.statusReport.setText("Animation Completed"),this.objectManager.statusReport.setForegroundColor("#000000")}animUndoUnavailable(){this.skipBackButton.disabled=!0}timeout(){this.timer=setTimeout((()=>this.timeout()),30),this.update(),this.objectManager.draw()}doPlayPause(){this.paused?(this.playPauseBackButton.value="Pause",this.playPauseBackButton.classList.remove("play"),this.playPauseBackButton.classList.add("pause")):(this.playPauseBackButton.value="Play",this.playPauseBackButton.classList.remove("pause"),this.playPauseBackButton.classList.add("play")),this.paused=!this.paused,this.setPaused(this.paused)}startTimer(){this.timer=setTimeout((()=>this.timeout()),30)}stopTimer(){clearInterval(this.timer)}}const Xn={step(){this.foundBreak=!0},move(t){const e=new ae(t[0],this.animatedObjects.getNodeX(t[0]),this.animatedObjects.getNodeY(t[0]),t[1],t[2]);this.currentBlock.push(e),this.undoBlock.push(new re(e.objectID,e.toX,e.toY,e.fromX,e.fromY)),this.anyAnimations=!0},delete(t){const e=this.animatedObjects.deleteIncident(t[0]);e.length>0&&(this.undoBlock=this.undoBlock.concat(e));const i=this.animatedObjects.getObject(t[0]);null!==i&&(this.undoBlock.push(i.createUndoDelete()),this.animatedObjects.removeObject(t[0]))},connect(t){t[2]=t[2]||"#000000",t[3]=t[3]||0,t[4]=!1!==t[4]&&0!==t[4],t[5]=void 0===t[5]?"":t[5],t[6]=t[6]||0,t[7]=void 0===t[7]?1:t[7],this.animatedObjects.connectEdge(t[0],t[1],t[2],t[3],t[4],String(t[5]),t[6],t[7]),this.undoBlock.push(new qe(t[0],t[1],!1))},connectNext(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!0,"",0),this.undoBlock.push(new qe(t[0],t[1],!1))},connectPrev(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!0,"",1),this.undoBlock.push(new qe(t[0],t[1],!1))},connectCurve(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",t[2],!0,"",1),this.undoBlock.push(new qe(t[0],t[1],!1))},connectSkipList(t){this.animatedObjects.connectEdge(t[0],t[1],"#000000",0,!1,"",t[2]),this.undoBlock.push(new qe(t[0],t[1],!1))},disconnect(t){const e=this.animatedObjects.disconnect(t[0],t[1]);null!==e&&this.undoBlock.push(e)},createCircle(t){t[2]=t[2]||0,t[3]=t[3]||0,this.animatedObjects.addCircleObject(t[0],String(t[1])),this.animatedObjects.setNodePosition(parseInt(t[0]),parseInt(t[2]),parseInt(t[3])),this.undoBlock.push(new oe(t[0]))},createHighlightCircle(t){t[2]=t[2]||0,t[3]=t[3]||0,t[4]=void 0===t[4]?20:t[4],this.animatedObjects.addHighlightCircleObject(t[0],t[1],t[4]),this.animatedObjects.setNodePosition(parseInt(t[0]),parseInt(t[2]),parseInt(t[3])),this.undoBlock.push(new oe(t[0]))},createRectangle(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"center",t[7]=t[7]||"center",t[8]=t[8]||"#FFFFFF",t[9]=t[9]||"#000000",this.animatedObjects.addRectangleObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8],t[9]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new oe(t[0]))},createLabel(t){t[2]=t[2]||0,t[3]=t[3]||0,t[4]=!1!==t[4]&&0!==t[4],this.animatedObjects.addLabelObject(t[0],String(t[1]),t[4],t[5],t[6]),this.animatedObjects.setNodePosition(t[0],t[2],t[3]),this.undoBlock.push(new oe(t[0]))},createLinkedListNode(t){t[1]=Array.isArray(t[1])?t[1].map((t=>String(t))):[String(t[1])],t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=!1!==t[7]&&0!==t[7],t[8]=t[8]||!1,t[9]=t[9]||"#FFFFFF",t[10]=t[10]||"#000000",this.animatedObjects.addLinkedListObject(t[0],t[1],t[2],t[3],t[6],t[7],t[8],t[9],t[10]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new oe(t[0]))},createDoublyLinkedListNode(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=t[7]||"#FFFFFF",t[8]=t[8]||"#000000",this.animatedObjects.addDoublyLinkedListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new oe(t[0]))},createCircularlyLinkedListNode(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=void 0===t[6]?.25:t[6],t[7]=t[7]||"#FFFFFF",t[8]=t[8]||"#000000",this.animatedObjects.addCircularlyLinkedListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7],t[8]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new oe(t[0]))},createSkipListNode(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"#FFFFFF",t[7]=t[7]||"#000000",this.animatedObjects.addSkipListObject(t[0],String(t[1]),t[2],t[3],t[6],t[7]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new oe(t[0]))},createBTreeNode(t){t[4]=t[4]||0,t[5]=t[5]||0,t[6]=t[6]||"#FFFFFF",t[7]=t[7]||"#000000",this.animatedObjects.addBTreeNode(t[0],t[1],t[2],t[3],t[6],t[7]),this.animatedObjects.setNodePosition(t[0],t[4],t[5]),this.undoBlock.push(new oe(t[0]))},setText(t){t[2]=t[2]||0;const e=this.animatedObjects.getText(t[0],t[2]);this.animatedObjects.setText(t[0],String(t[1]),t[2]),void 0!==e&&this.undoBlock.push(new De(t[0],e,t[2]))},setTextColor(t){t[2]=t[2]||0;const e=this.animatedObjects.getTextColor(t[0],t[2]);this.animatedObjects.setTextColor(t[0],t[1],t[2]),this.undoBlock.push(new ye(t[0],e,t[2]))},setForegroundColor(t){const e=this.animatedObjects.foregroundColor(t[0]);this.animatedObjects.setForegroundColor(t[0],t[1]),this.undoBlock.push(new Ie(t[0],e))},setBackgroundColor(t){const e=this.animatedObjects.backgroundColor(t[0]);this.animatedObjects.setBackgroundColor(t[0],t[1]),this.undoBlock.push(new xe(t[0],e))},setHighlight(t){this.animatedObjects.setHighlight(t[0],t[1],t[2]),this.undoBlock.push(new le(t[0],!t[1],t[2]))},setAlpha(t){const e=this.animatedObjects.getAlpha(t[0]);this.animatedObjects.setAlpha(t[0],t[1]),this.undoBlock.push(new me(t[0],e))},setEdgeColor(t){const e=this.animatedObjects.setEdgeColor(t[0],t[1],t[2]);this.undoBlock.push(new Ce(t[0],t[1],e))},setEdgeAlpha(t){const e=this.animatedObjects.setEdgeAlpha(t[0],t[1],t[2]);this.undoBlock.push(new we(t[0],t[1],e))},setEdgeHighlight(t){const e=this.animatedObjects.setEdgeHighlight(t[0],t[1],t[2],t[3]);this.undoBlock.push(new ve(t[0],t[1],e))},setEdgeThickness(t){const e=this.animatedObjects.setEdgeThickness(t[0],t[1],t[2]);this.undoBlock.push(new ke(t[0],t[1],e))},setRectangleEdgeThickness(t){const e=this.animatedObjects.setRectangleEdgeThickness(t[0],t[1]);this.undoBlock.push(new Se(t[0],e))},setHeight(t){const e=this.animatedObjects.getHeight(t[0]);this.animatedObjects.setHeight(t[0],t[1]),this.undoBlock.push(new de(t[0],e))},setWidth(t){const e=this.animatedObjects.getWidth(t[0]);this.animatedObjects.setWidth(t[0],t[1]),this.undoBlock.push(new ce(t[0],e))},setLayer(t){this.animatedObjects.setLayer(t[0],t[1])},setNull(t){const e=this.animatedObjects.getNull(t[0]);this.animatedObjects.setNull(t[0],t[1]),this.undoBlock.push(new ge(t[0],e))},setPrevNull(t){const e=this.animatedObjects.getLeftNull(t[0]);this.animatedObjects.setPrevNull(t[0],t[1]),this.undoBlock.push(new pe(t[0],e))},setNextNull(t){const e=this.animatedObjects.getRightNull(t[0]);this.animatedObjects.setNextNull(t[0],t[1]),this.undoBlock.push(new fe(t[0],e))},setNumElements(t){const e=this.animatedObjects.getObject(t[0]);this.undoBlock.push(new ue(e,t[1])),this.animatedObjects.setNumElements(t[0],t[1])},setPosition(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.setNodePosition(t[0],t[1],t[2]),this.undoBlock.push(new Le(t[0],e,i))},setHighlightIndex(t){const e=this.animatedObjects.getHighlightIndex(t[0]);this.undoBlock.push(new be(t[0],e)),this.animatedObjects.setHighlightIndex(t[0],t[1])},alignRight(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignRight(t[0],t[1]),this.undoBlock.push(new Le(t[0],e,i))},alignLeft(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignLeft(t[0],t[1]),this.undoBlock.push(new Le(t[0],e,i))},alignTop(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignTop(t[0],t[1]),this.undoBlock.push(new Le(t[0],e,i))},alignBottom(t){const e=this.animatedObjects.getNodeX(t[0]),i=this.animatedObjects.getNodeY(t[0]);this.animatedObjects.alignBottom(t[0],t[1]),this.undoBlock.push(new Le(t[0],e,i))},bringToTop(t){const e=this.animatedObjects.setAlwaysOnTop(t[0],t[1]);this.undoBlock.push(new Te(t[0],e))},moveToAlignRight(t){const e=this.animatedObjects.getAlignRightPos(t[0],t[1]),i=new ae(t[0],this.animatedObjects.getNodeX(t[0]),this.animatedObjects.getNodeY(t[0]),e[0],e[1]);this.currentBlock.push(i),this.undoBlock.push(new re(i.objectID,i.toX,i.toY,i.fromX,i.fromY)),this.anyAnimations=!0}};var Qn=i(279);function Yn(t,e){const i=document.createElement("p");if(i.appendChild(document.createTextNode(t)),e)e.appendChild(i),i.setAttribute("class","groupChild");else{const t=document.createElement("td");t.appendChild(i);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return i}function Zn(t,e,i){const s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("id",t),s.setAttribute("name",t),s.setAttribute("value",t),e&&s.setAttribute("checked","true");const h=document.createElement("label");h.setAttribute("for",t);const a=document.createTextNode(t);if(h.appendChild(a),i){const t=document.createElement("span");t.appendChild(s),t.appendChild(h),i.appendChild(t),t.setAttribute("class","groupChild")}else{const t=document.createElement("td");t.appendChild(s),t.appendChild(h);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return s}function Jn(t,e,i){const s=document.createElement("select");s.name=e;for(let h=0;h<t.length;h++){const e=document.createElement("option");e.value=t[h][0],e.text=t[h][1],s.add(e)}if(i){const t=document.createElement("span");t.appendChild(s),i.appendChild(t),t.setAttribute("class","groupChild")}else{const t=document.createElement("td");t.appendChild(s);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return s}function tr(t,e,i){const s=[],h=document.createElement("table");for(let a=0;a<t.length;a++){const i=document.createElement("tr"),n=document.createElement("td"),r=document.createElement("input");r.setAttribute("type","radio"),r.setAttribute("name",e),r.setAttribute("id",t[a]),r.setAttribute("value",t[a]),n.appendChild(r),i.appendChild(n);const o=document.createElement("label");o.setAttribute("for",t[a]);const l=document.createTextNode(" "+t[a]);o.appendChild(l),n.appendChild(o),h.appendChild(i),s.push(r)}if(i)i.appendChild(h),h.setAttribute("class","groupChild");else{const t=document.createElement("td");t.appendChild(h);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return s}function er(t,e,i){const s=document.createElement("input");if(s.setAttribute("type",t),s.setAttribute("value",e),i)i.appendChild(s),s.setAttribute("class","groupChild");else{const t=document.createElement("td");t.appendChild(s);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return s}function ir(){const t=document.createElement("td");t.setAttribute("class","divisorLeft");const e=document.createElement("td");e.setAttribute("class","divisorRight");const i=document.getElementById("AlgorithmSpecificControls");i.appendChild(t),i.appendChild(e)}function sr(t,e){const i=document.createElement("div");if(i.setAttribute("class",t?"hgroup":"vgroup"),e)e.appendChild(i);else{const t=document.createElement("td");t.appendChild(i);document.getElementById("AlgorithmSpecificControls").appendChild(t)}return i}const hr="#FF0000",ar="#000000";class nr{constructor(t,e,i){null!=t&&(this.animationManager=t,t.addListener("AnimationStarted",this,this.disableUI),t.addListener("AnimationEnded",this,this.enableUI),t.addListener("AnimationUndo",this,this.undo),this.canvasWidth=e,this.canvasHeight=i,this.actionHistory=[],this.recordAnimation=!0,this.commands=[])}addCodeToCanvasBaseAll(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:15;return{english:this.addCodeToCanvasBase(t[e].english,i,s,h,ar,32),code:this.addCodeToCanvasBase(t[e].code,i,s,h,ar,33)}}addCodeToCanvasBase(t,e,i,s,h,a){s="undefined"!==typeof s?s:15,h="undefined"!==typeof h?h:ar,a="undefined"!=typeof a?a:32;const n=Array(t.length);let r,o;for(r=0;r<t.length;r++)for(n[r]=new Array(t[r].length),o=0;o<t[r].length;o++)n[r][o]=this.nextIndex++,this.cmd(Xn.createLabel,n[r][o],t[r][o],e,i+r*s,0,true),this.cmd(Xn.setForegroundColor,n[r][o],h),this.cmd(Xn.setLayer,n[r][o],a),o>0&&this.cmd(Xn.alignRight,n[r][o],n[r][o-1]);return n}highlight(t,e,i,s){i&&(s?this.highlight(t,e,i[s]):void 0===i[0]?(i.english.length&&this.cmd(Xn.setForegroundColor,i.english[t][e],hr),i.code.length&&this.cmd(Xn.setForegroundColor,i.code[t][e],hr)):this.cmd(Xn.setForegroundColor,i[t][e],hr))}unhighlight(t,e,i,s){i&&(s?this.unhighlight(t,e,i[s]):void 0===i[0]?(i.english.length&&this.cmd(Xn.setForegroundColor,i.english[t][e],ar),i.code.length&&this.cmd(Xn.setForegroundColor,i.code[t][e],ar)):this.cmd(Xn.setForegroundColor,i[t][e],ar))}removeCode(t){if(t){if(t.english)return this.removeCode(t.english),void this.removeCode(t.code);for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)this.cmd(Xn.delete,t[e][i])}}setCodeAlpha(t,e){for(let i=0;i<t.length;i++)for(let s=0;s<t[i].length;s++)this.cmd(Xn.setAlpha,t[i][s],e)}shake(t){t.classList.add("shake"),setTimeout((()=>{t.classList.remove("shake")}),750)}cmd(t){if(this.recordAnimation){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];this.commands.push([t,i])}}clearHistory(){this.actionHistory=[]}undo(){this.actionHistory.pop(),this.reset();const t=this.actionHistory.length;this.recordAnimation=!1;for(let e=0;e<t;e++)this.actionHistory[e][0](...this.actionHistory[e][1]);this.recordAnimation=!0}implementAction(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];const h=[t,i];this.actionHistory.push(h);const a=t(...i);this.animationManager.startNewAnimation(a)}normalizeNumber(t,e){return/\D/.test(t)||""===t?t:t.substr(-e)}returnSubmit(t,e,i,s){let h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return void 0!==i&&(t.size=i),function(a){let n=0;window.event?n=a.keyCode:a.which&&(n=a.which);const r=h||t.value.length<i;if(13===n&&null!=e)e();else{if(32===n||190===n||59===n||173===n)return!1;if((!r||s&&!(n>=48&&n<=57||n>=96&&n<=105))&&!rr(n))return!1}}}sizeChanged(t,e){throw new Error("sizeChanged() should be implemented in base class")}disableUI(t){throw new Error("disableUI() should be implemented in base class")}enableUI(t){throw new Error("enableUI() should be implemented in base class")}reset(){throw new Error("reset() should be implemented in base class")}}function rr(t){return 8===t||9===t||37===t||38===t||39===t||40===t||46===t}nr.prototype.returnSubmitFloat=function(t,e,i){return void 0!==i&&(t.size=i),function(s){let h=0;if(window.event?h=s.keyCode:s.which&&(h=s.which),13!==h)return(rr(h)||109===h||(void 0!==i||t.value.length<i)&&h>=48&&h<=57||(void 0!==i||t.value.length<i)&&190===h&&-1===t.value.indexOf("."))&&void 0;e()}},nr.prototype.addReturnSubmit=function(t,e){t.onkeydown=this.returnSubmit(t,e,4,!1)};class or extends nr{constructor(t,e,i){super(t,e,i),this.first_print_pos_y=i-2*or.PRINT_VERTICAL_GAP,this.print_max=e-10,this.startingX=e/2,this.addControls(),this.nextIndex=1,this.commands=[],this.edges=[],this.cmd(Xn.createLabel,0,"",or.EXPLANITORY_TEXT_X,or.EXPLANITORY_TEXT_Y,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}addControls(){this.controls=[],this.insertField=er("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=er("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),ir(),this.deleteField=er("Text",""),this.deleteField.style.textAlign="center",this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=er("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),ir(),this.findField=er("Text",""),this.findField.style.textAlign="center",this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),ir(),this.printButton=er("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir();const t=tr(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=t[0],this.succButton=t[1],this.predButton.onclick=()=>this.predSucc="pred",this.succButton.onclick=()=>this.predSucc="succ",this.succButton.checked=!0,this.predSucc="succ"}setURLData(t){if(t.has("predSucc")){const e=t.get("predSucc");"pred"===e?(this.predSucc="pred",this.predButton.checked=!0):"succ"===e&&(this.predSucc="succ",this.succButton.checked=!0)}if(t.has("data")){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),parseInt(t),!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}}reset(){this.nextIndex=1,this.treeRoot=null,this.edges=[]}insertCallback(){let t=this.insertField.value;t=this.normalizeNumber(t,4),""!==t?(this.insertField.value="",this.implementAction(this.add.bind(this),parseInt(t))):this.shake(this.insertButton)}deleteCallback(){let t=this.deleteField.value;""!==t&&this.treeRoot?(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.remove.bind(this),parseInt(t))):this.shake(this.deleteButton)}findCallback(){let t=this.findField.value;""!==t?(t=this.normalizeNumber(t,4),this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))):this.shake(this.findButton)}randomCallback(){const t=Math.floor(11*Math.random())+2;this.implementAction(this.clear.bind(this));for(let e=0;e<t;e++)this.implementAction(this.add.bind(this),Math.floor(17*Math.random())+0),this.animationManager.skipForward(),this.animationManager.clearHistory()}printCallback(){this.treeRoot?this.implementAction(this.printTree.bind(this)):this.shake(this.printButton)}clearCallback(){this.implementAction(this.clear.bind(this))}sizeChanged(t){this.startingX=t/2}printTree(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Xn.createHighlightCircle,this.highlightID,or.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=or.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Xn.delete,this.highlightID),this.cmd(Xn.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Xn.delete,e);this.nextIndex=this.highlightID}return this.commands}printTreeRec(t){this.cmd(Xn.step),null!=t.left&&(this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step));const e=this.nextIndex++;this.cmd(Xn.createLabel,e,t.data,t.x,t.y),this.cmd(Xn.setForegroundColor,e,or.PRINT_COLOR),this.cmd(Xn.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Xn.step),this.xPosOfNextLabel+=or.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=or.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=or.PRINT_VERTICAL_GAP),null!=t.right&&(this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step))}findElement(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t),this.commands}doFind(t,e){this.cmd(Xn.setText,0,"Searchiing for "+e),null!=t?(this.cmd(Xn.setHighlight,t.graphicID,1),t.data===e?(this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(Xn.step),this.cmd(Xn.setText,0,"Found:"+e),this.cmd(Xn.setHighlight,t.graphicID,0)):t.data>e?(this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),null!=t.left&&(this.cmd(Xn.createHighlightCircle,this.highlightID,or.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID)),this.doFind(t.left,e)):(this.cmd(Xn.setText,0," Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),null!=t.right&&(this.cmd(Xn.createHighlightCircle,this.highlightID,or.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID)),this.doFind(t.right,e))):(this.cmd(Xn.setText,0," Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd(Xn.step),this.cmd(Xn.setText,0," Searching for "+e+" :  (Element not found)"))}remakeTree(t){null!=t&&(null!=t.left&&(this.cmd(Xn.connect,t.graphicID,t.left.graphicID,or.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd(Xn.connect,t.graphicID,t.right.graphicID,or.LINK_COLOR),this.remakeTree(t.right)))}add(t){return this.commands=[],this.cmd(Xn.setText,0," Inserting "+t),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.commands}addH(t,e){if(null==e){this.cmd(Xn.setText,0,"Null found, inserting new node");const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;return this.cmd(Xn.createCircle,e,t,30,or.STARTING_Y),this.cmd(Xn.setForegroundColor,e,or.FOREGROUND_COLOR),this.cmd(Xn.setBackgroundColor,e,or.BACKGROUND_COLOR),this.cmd(Xn.createLabel,i,0,10,or.STARTING_Y-20),this.cmd(Xn.setForegroundColor,i,or.HEIGHT_LABEL_COLOR),this.cmd(Xn.createLabel,s,0,50,or.STARTING_Y-20),this.cmd(Xn.setForegroundColor,s,or.HEIGHT_LABEL_COLOR),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),new lr(t,e,i,s,0,0)}if(this.cmd(Xn.setHighlight,e.graphicID,1),t<e.data){this.cmd(Xn.setText,0,`${t} < ${e.data}. Looking at left subtree`),this.cmd(Xn.step),e.left=this.addH(t,e.left),e.left.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.left.graphicID)&&this.cmd(Xn.step)}else if(t>e.data){this.cmd(Xn.setText,0,`${t} > ${e.data}. Looking at right subtree`),this.cmd(Xn.step),e.right=this.addH(t,e.right),e.right.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.right.graphicID)&&this.cmd(Xn.step)}else this.cmd(Xn.setText,0,`${t} == ${e.data}. Ignoring duplicate!`),this.cmd(Xn.step);return e=this.balance(e),this.cmd(Xn.setHighlight,e.graphicID,0),this.cmd(Xn.setText,0,""),e}connectSmart(t,e){return!this.edges.some((i=>i[0]===t&&i[1]===e))&&(this.cmd(Xn.connect,t,e,or.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,t,e,or.LINK_OPACITY),this.edges.push([t,e]),!0)}balance(t){return t.updateHeightAndBF(),this.cmd(Xn.setText,t.heightLabelID,t.height),this.cmd(Xn.setText,t.bfLabelID,t.bf),this.cmd(Xn.setText,0,"Adjusting height and balance factor after recursive call"),this.cmd(Xn.step),t.bf<-1?(this.cmd(Xn.setText,0,"Balance factor < -1"),this.cmd(Xn.setTextColor,t.bfLabelID,or.HIGHLIGHT_LABEL_COLOR),this.cmd(Xn.step),null!=t.right&&t.right.bf>0?(this.cmd(Xn.setText,0,"Right child balance factor > 0"),this.cmd(Xn.setTextColor,t.right.bfLabelID,or.HIGHLIGHT_LABEL_COLOR),this.cmd(Xn.step),this.cmd(Xn.setText,0,"Right-left rotation"),this.cmd(Xn.step),this.cmd(Xn.setTextColor,t.right.bfLabelID,or.HEIGHT_LABEL_COLOR),t.right=this.singleRotateRight(t.right)):(null!=t.right?(this.cmd(Xn.setText,0,"Right child balance factor <= 0"),this.cmd(Xn.setTextColor,t.right.bfLabelID,or.HIGHLIGHT_LABEL_COLOR),this.cmd(Xn.step)):(this.cmd(Xn.setText,0,"No right child"),this.cmd(Xn.step)),this.cmd(Xn.setText,0,"Left rotation"),this.cmd(Xn.step)),this.cmd(Xn.setTextColor,t.bfLabelID,or.HEIGHT_LABEL_COLOR),this.cmd(Xn.setTextColor,t.right.bfLabelID,or.HEIGHT_LABEL_COLOR),t=this.singleRotateLeft(t)):t.bf>1&&(this.cmd(Xn.setText,0,"Balance factor > 1"),this.cmd(Xn.setTextColor,t.bfLabelID,or.HIGHLIGHT_LABEL_COLOR),this.cmd(Xn.step),null!=t.left&&t.left.bf<0?(this.cmd(Xn.setText,0,"Left child balance factor < 0"),this.cmd(Xn.setTextColor,t.left.bfLabelID,or.HIGHLIGHT_LABEL_COLOR),this.cmd(Xn.step),this.cmd(Xn.setText,0,"Left-right rotation"),this.cmd(Xn.step),this.cmd(Xn.setTextColor,t.left.bfLabelID,or.HEIGHT_LABEL_COLOR),t.left=this.singleRotateLeft(t.left)):(null!=t.left?(this.cmd(Xn.setText,0,"Left child balance factor >= 0"),this.cmd(Xn.setTextColor,t.left.bfLabelID,or.HIGHLIGHT_LABEL_COLOR),this.cmd(Xn.step)):(this.cmd(Xn.setText,0,"No left child"),this.cmd(Xn.step)),this.cmd(Xn.setText,0,"Right rotation"),this.cmd(Xn.step),this.cmd(Xn.setTextColor,t.bfLabelID,or.HEIGHT_LABEL_COLOR)),this.cmd(Xn.setTextColor,t.bfLabelID,or.HEIGHT_LABEL_COLOR),this.cmd(Xn.setTextColor,t.left.bfLabelID,or.HEIGHT_LABEL_COLOR),t=this.singleRotateRight(t)),t}singleRotateRight(t){const e=t,i=t.left,s=i.right;return this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.step),null!=s&&(this.cmd(Xn.disconnect,i.graphicID,s.graphicID),this.cmd(Xn.connect,e.graphicID,s.graphicID,or.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,e.graphicID,s.graphicID,or.LINK_OPACITY),s.parent=e),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,or.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,i.graphicID,e.graphicID,or.LINK_OPACITY),i.parent=e.parent,this.treeRoot===e?this.treeRoot=i:(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID,or.LINK_COLOR),this.cmd(Xn.connect,e.parent.graphicID,i.graphicID,or.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,e.parent.graphicID,i.graphicID,or.LINK_OPACITY),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.right=e,e.parent=i,e.left=s,this.cmd(Xn.setHighlight,i.graphicID,0),this.cmd(Xn.setHighlight,e.graphicID,0),e.updateHeightAndBF(),this.cmd(Xn.setText,e.heightLabelID,e.height),this.cmd(Xn.setText,e.bfLabelID,e.bf),i.updateHeightAndBF(),this.cmd(Xn.setText,i.heightLabelID,i.height),this.cmd(Xn.setText,i.bfLabelID,i.bf),this.resizeTree(),i}singleRotateLeft(t){const e=t,i=t.right,s=i.left;return this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.step),null!=s&&(this.cmd(Xn.disconnect,i.graphicID,s.graphicID),this.cmd(Xn.connect,e.graphicID,s.graphicID,or.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,e.graphicID,s.graphicID,or.LINK_OPACITY),s.parent=e),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,or.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,i.graphicID,e.graphicID,or.LINK_OPACITY),i.parent=e.parent,this.treeRoot===e?this.treeRoot=i:(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID,or.LINK_COLOR),this.cmd(Xn.connect,e.parent.graphicID,i.graphicID,or.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,e.parent.graphicID,i.graphicID,or.LINK_OPACITY),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.left=e,e.parent=i,e.right=s,this.cmd(Xn.setHighlight,e.graphicID,0),this.cmd(Xn.setHighlight,i.graphicID,0),e.updateHeightAndBF(),this.cmd(Xn.setText,e.heightLabelID,e.height),this.cmd(Xn.setText,e.bfLabelID,e.bf),i.updateHeightAndBF(),this.cmd(Xn.setText,i.heightLabelID,i.height),this.cmd(Xn.setText,i.bfLabelID,i.bf),this.resizeTree(),i}getHeight(t){return null==t?-1:t.height}resetHeight(t){if(null!=t){const e=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1;t.height!==e&&(t.height=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1,this.cmd(Xn.setText,t.heightLabelID,e))}}deleteNode(t){this.cmd(Xn.delete,t.graphicID),this.cmd(Xn.delete,t.heightLabelID),this.cmd(Xn.delete,t.bfLabelID)}remove(t){return this.commands=[],this.cmd(Xn.setText,0,`Deleting ${t}`),this.cmd(Xn.step),this.cmd(Xn.setText,0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.cmd(Xn.setText,0,""),this.resizeTree(),this.commands}removeH(t,e){if(null!=t){if(this.cmd(Xn.setHighlight,t.graphicID,1),e<t.data)this.cmd(Xn.setText,0,`${e} < ${t.data}. Looking left`),this.cmd(Xn.step),t.left=this.removeH(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(e>t.data)this.cmd(Xn.setText,0,`${e} > ${t.data}. Looking right`),this.cmd(Xn.step),t.right=this.removeH(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(null==t.left&&null==t.right)return this.cmd(Xn.setText,0,"Element to delete is a leaf node"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),null;if(null==t.left)return this.cmd(Xn.setText,0,"One-child case, replace with right child"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),t.right;if(null==t.right)return this.cmd(Xn.setText,0,"One-child case, replace with left child"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),t.left;{const e=[];"succ"===this.predSucc?(this.cmd(Xn.setText,0,"Two-child case, replace data with successor"),this.cmd(Xn.step),t.right=this.removeSucc(t.right,e),t.right&&this.connectSmart(t.graphicID,t.right.graphicID)):(this.cmd(Xn.setText,0,"Two-child case, replace data with predecessor"),this.cmd(Xn.step),t.left=this.removePred(t.left,e),t.left&&this.connectSmart(t.graphicID,t.left.graphicID)),this.resizeTree(),t.data=e[0],this.cmd(Xn.setText,t.graphicID,t.data)}}return t=this.balance(t),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setText,0,""),t}this.cmd(Xn.setText,0,`${e} not found in the tree`)}removeSucc(t,e){return this.cmd(Xn.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Xn.step),null==t.left?(this.cmd(Xn.setText,0,"No left child, replace with right child"),this.cmd(Xn.step),e.push(t.data),this.deleteNode(t),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),t.right):(this.cmd(Xn.setText,0,"Left child exists, look left"),this.cmd(Xn.step),t.left=this.removeSucc(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(Xn.setHighlight,t.graphicID,0),t)}removePred(t,e){return this.cmd(Xn.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Xn.step),null==t.right?(this.cmd(Xn.setText,0,"No right child, replace with right child"),this.cmd(Xn.step),e.push(t.data),this.deleteNode(t),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),t.left):(this.cmd(Xn.setText,0,"Right child exists, look right"),this.cmd(Xn.step),t.right=this.removePred(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(Xn.setHighlight,t.graphicID,0),t)}resizeTree(){if(null==this.treeRoot)return;let t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,or.STARTING_Y,0),this.animateNewPositions(this.treeRoot),this.cmd(Xn.step))}setNewPositions(t,e,i,s){null!=t&&(t.y=i,-1===s?(e-=t.rightWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):1===s?(e+=t.leftWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):(t.heightLabelX=e-20,t.bfLabelX=e+20),t.x=e,t.heightLabelY=t.y-20,t.bfLabelY=t.y-20,this.setNewPositions(t.left,e,i+or.HEIGHT_DELTA,-1),this.setNewPositions(t.right,e,i+or.HEIGHT_DELTA,1))}animateNewPositions(t){null!=t&&(this.cmd(Xn.move,t.graphicID,t.x,t.y),this.cmd(Xn.move,t.heightLabelID,t.heightLabelX,t.heightLabelY),this.cmd(Xn.move,t.bfLabelID,t.bfLabelX,t.bfLabelY),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}resizeWidths(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),or.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),or.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}clear(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}recClear(t){null!=t&&(this.cmd(Xn.delete,t.graphicID),this.cmd(Xn.delete,t.heightLabelID),this.cmd(Xn.delete,t.bfLabelID),this.recClear(t.left),this.recClear(t.right))}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}class lr{constructor(t,e,i,s,h,a){this.data=t,this.x=h,this.y=a,this.heightLabelID=i,this.bfLabelID=s,this.height=0,this.bf=0,this.graphicID=e,this.left=null,this.right=null,this.parent=null}updateHeightAndBF(){const t=t=>null==t?-1:t.height,e=t(this.left),i=t(this.right);this.height=Math.max(e,i)+1,this.bf=e-i}isLeftChild(){return null==this.parent||this.parent.left===this}}or.HIGHLIGHT_LABEL_COLOR="#FF0000",or.HIGHLIGHT_COLOR="#007700",or.HEIGHT_LABEL_COLOR="#000000",or.LINK_COLOR="#000000",or.LINK_OPACITY=.2,or.HIGHLIGHT_CIRCLE_COLOR="#007700",or.FOREGROUND_COLOR="#000000",or.BACKGROUND_COLOR="#FFFFFF",or.PRINT_COLOR="#007700",or.WIDTH_DELTA=50,or.HEIGHT_DELTA=50,or.STARTING_Y=50,or.FIRST_PRINT_POS_X=50,or.PRINT_VERTICAL_GAP=20,or.PRINT_HORIZONTAL_GAP=50,or.EXPLANITORY_TEXT_X=10,or.EXPLANITORY_TEXT_Y=10;var dr=JSON.parse('{"ArrayList":{"addFB":{"code":[["procedure addFront(data)"],["  addAtIndex(0, data)"],["end procedure"],[""],["procedure addBack(data)"],["  addAtIndex(size, data)"],["end procedure"]],"english":[["procedure addFront(data)"],["  call addAtIndex at front with data"],["end procedure"],[""],["procedure addBack(data)"],["  call addAtIndex at back with data"],["end procedure"]]},"addIndex":{"code":[["procedure addAtIndex(index, data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[size * 2]"],["    for i \u2190 0 to index - 1, i++:"],["      newArray[i] \u2190 array[i]"],["    newArray[index] \u2190 data"],["    for i \u2190 index to size - 1, i++:"],["      newArray[i + 1] \u2190 array[i]"],["    array \u2190 newArray"],["  else"],["    for i \u2190 size to index + 1, i--:"],["      array[i] \u2190 array[i - 1]"],["    array[index] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure addAtIndex(index, data)"],["  if (at max capacity):"],["    create newArray with 2x capacity"],["    for (i from 0 to index):"],["      copy array value at i to newArray"],["    put data into newArray at index"],["    for (i from index to back):"],["      copy and shift array value at i to newArray"],["    array points to newArray"],["  else:"],["    for (i from back to spot after index):"],["      shift array value back"],["    put data into array at index"],["  increment size"],["end procedure"]]},"removeFB":{"code":[["procedure removeFront()"],["  removeFromIndex(0)"],["end procedure"],[""],["procedure removeBack()"],["  removeFromIndex(size - 1)"],["end procedure"]],"english":[["procedure removeFront()"],["  call removeFromIndex at front"],["end procedure"],[""],["procedure removeBack()"],["  call removeFromIndex at back"],["end procedure"]]},"removeIndex":{"code":[["procedure removeFromIndex(index)"],["  T data \u2190 array[index]"],["  array[index] \u2190 null"],["  for i \u2190 index to size - 2, i++:"],["    array[i] \u2190 array[i + 1]"],["  array[size - 1] \u2190 null"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFromIndex(index)"],["  copy data at index to temp"],["  for (i from index to spot before back):"],["    copy array value at i and shift to newArray"],["  null out back of array"],["  decrement size"],["  return temp"],["end procedure"]]}},"SinglyLinkedList":{"addFront":{"code":[["procedure addFront(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["  else"],["    Node newHead \u2190 new Node(data)"],["    newHead.next \u2190 head"],["    head \u2190 newHead"],["  end if"],["  size++"],["end procedure"]],"english":[["procedure addFront(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["  else"],["    Node newHead \u2190 new Node(data)"],["    newHead.next \u2190 head"],["    head \u2190 newHead"],["  end if"],["  size++"],["end procedure"]]},"addBack":{"code":[["procedure addBack(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to size - 2, i++:"],["      curr = curr.next"],["    curr.next \u2190 new Node(data)"],["  end if"],["  size++"],["end procedure"]],"english":[["procedure addBack(data)"],["  if (list is empty):"],["    head points to new node with data"],["  else:"],["    curr points to head"],["    for (i from front to node before back):"],["      curr moves to next node"],["    curr.next points to new node with data"],["  end if"],["  increment size"],["end procedure"]]},"addIndex":{"code":[["procedure addAtIndex(index, data)"],["  if index == 0"],["    addFront(data)"],["  else if index == size"],["    addBack(data)"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to index - 2, i++:"],["      curr = curr.next"],["    end for"],["    Node newNode \u2190 new Node(data)"],["    newNode.next \u2190 curr.next"],["    curr \u2190 newNode"],["    size++"],["  end if"],["end procedure"]],"english":[["procedure addAtIndex(index, data)"],["  if (index is at the front):"],["    call addFront with data"],["  else (index is at the back):"],["    call addBack with data"],["  else:"],["    curr points to head"],["    for (i from front to node before index):"],["      curr moves to next node"],["    end for"],["    create newNode node with data"],["    newNode.next points to curr.next"],["    curr points to newNode"],["    increment size"],["  end if"],["end procedure"]]},"removeFront":{"code":[["procedure removeFront()"],["  T data \u2190 head.data"],["  head \u2190 head.next"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFront()"],["  copy data at head to temp"],["  head moves to next node"],["  decrement size"],["  return temp"],["end procedure"]]},"removeBack":{"code":[["procedure removeBack()"],["  if size == 1:"],["    removeFront()"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to size - 2"],["      curr \u2190 curr.next"],["    end for"],["    T data \u2190 curr.next.data"],["    curr.next \u2190 null"],["    size--"],["    return data"],["  end if"],["end procedure"]],"english":[["procedure removeBack()"],["  if (list has 1 node):"],["    call removeFront"],["  else:"],["    curr points to head"],["    for (i from front to node before back):"],["      curr moves to next node"],["    end for"],["    copy data at curr.next to temp"],["    null out curr.next"],["    decrement size"],["    return temp"],["  end if"],["end procedure"]]},"removeIndex":{"code":[["procedure removeFromIndex(index)"],["  if index == 0"],["    removeFront()"],["  else if index == size - 1"],["    removeBack()"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to index - 2, i++"],["      curr \u2190 curr.next"],["    end for"],["    T data \u2190 curr.next.data"],["    curr.next \u2190 curr.next.next"],["    size--"],["    return data"],["  end if"],["end procedure"]],"english":[["procedure removeFromIndex(index)"],["  if (index is at the front):"],["    call removeFront"],["  else if (index is at the back):"],["    call removeBack"],["  else:"],["    curr points to head"],["    for (i from front to node before index):"],["      curr moves to next node"],["    end for"],["    copy data at curr to temp"],["    curr.next points to curr.next.next"],["    decrement size"],["    return temp"],["  end if"],["end procedure"]]}},"DoublyLinkedList":{"addFront":{"code":[["procedure addFront(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["    tail \u2190 head"],["  else"],["    Node newHead \u2190 new Node(data)"],["    newHead.next \u2190 head"],["    head.prev \u2190 newHead"],["    head \u2190 newHead"],["  size++"],["end procedure"]],"english":[["procedure addFront(data)"],["  if (list is empty):"],["    head points to new node"],["    tail points to new node"],["  else:"],["    create newHead node with data"],["    newHead.next points to head"],["    head.prev points to newHead"],["    head points to newHead"],["  increment size"],["end procedure"]]},"addBack":{"code":[["procedure addBack(data)"],["  if size == 0"],["    tail \u2190 new Node(data)"],["    head \u2190 tail"],["  else"],["    Node newTail \u2190 new Node(data)"],["    newTail.prev \u2190 tail"],["    tail.next \u2190 newTail"],["    tail \u2190 newTail"],["  size++"],["end procedure"]],"english":[["procedure addBack(data)"],["  if (list is empty):"],["    head points to new node"],["    tail points to new node"],["  else:"],["    create newTail node with data"],["    newTail.prev points to tail"],["    tail.next points to newTail"],["    tail points to newTail"],["  increment size"],["end procedure"]]},"addIndex":{"code":[["procedure addAtIndex(index, data)"],["  if index == 0"],["    addFront(data)"],["  else if index == size"],["    addBack(data)"],["  else"],["    if index < size / 2"],["      Node curr \u2190 head"],["      for i \u2190 0 to index - 2, i++:"],["        curr = curr.next"],["    else"],["      Node curr \u2190 tail"],["      for i \u2190 size - 1 to index, i--:"],["        curr = curr.prev"],["    Node newNode \u2190 new Node(data)"],["    newNode.prev \u2190 curr"],["    newNode.next \u2190 curr.next"],["    curr.next \u2190 newNode"],["    newNode.next.prev \u2190 newNode"],["    size++"],["end procedure"]],"english":[["procedure addAtIndex(index, data)"],["  if (index is at the front):"],["    call addFront with data"],["  else if (index is at the back):"],["    call addBack with data"],["  else:"],["    if (index is closer to front):"],["      curr points to head"],["      for (i from 0 to node before index):"],["        curr moves to next node"],["    else:"],["      curr points to tail"],["      for (i from back to index):"],["        curr moves to previous node"],["    create newNode node with data"],["    newNode.prev points to curr"],["    newNode.next points to curr.next"],["    curr.next points to newNode"],["    newNode.next.prev points to newNode"],["    increment size"],["end procedure"]]},"removeFront":{"code":[["procedure removeFront()"],["  T data \u2190 head.data"],["  head \u2190 head.next"],["  if head == null"],["    tail \u2190 null"],["  else"],["    head.prev \u2190 null"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFront()"],["  copy data at head to temp"],["  head moves to next node"],["  if (head is null):"],["    null out tail"],["  else:"],["    null out head.prev"],["  decrement size"],["  return temp"],["end procedure"]]},"removeBack":{"code":[["procedure removeBack()"],["  T data \u2190 tail.data"],["  tail \u2190 tail.prev"],["  if tail == null"],["    head \u2190 null"],["  else"],["    tail.next \u2190 null"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeBack()"],["  copy data at tail to temp"],["  tail moves to previous node"],["  if (tail is null):"],["    null out head"],["  else:"],["    null out tail.next"],["  decrement size"],["  return temp"],["end procedure"]]},"removeIndex":{"code":[["procedure removeFromIndex(index)"],["  if index == 0"],["    removeFront()"],["  else if index == size - 1"],["    removeBack()"],["  else"],["    if index < size / 2"],["      Node curr \u2190 head"],["      for i \u2190 0 to index - 1, i++:"],["        curr \u2190 curr.next"],["    else"],["      Node curr \u2190 tail"],["      for i \u2190 size - 1 to index + 1, i--:"],["         curr \u2190 curr.prev"],["    T data \u2190 curr.data"],["    curr.prev.next \u2190 curr.next"],["    curr.next.prev \u2190 curr.prev"],["    size--"],["    return data"],["end procedure"]],"english":[["procedure removeFromIndex(index)"],["  if (index is at the front):"],["    call removeFront"],["  else (index is at the back):"],["    call removeBack"],["  else:"],["    if (index is in the front half):"],["      curr points to head"],["      for (i from front to index):"],["        curr moves to next node"],["    else:"],["      curr points to tail"],["      for (i from back to index):"],["        curr moves to previous node"],["    copy data at curr to temp"],["    curr.prev.next points to curr.next"],["    curr.next.prev points to curr.prev"],["    decrement size"],["    return temp"],["end procedure"]]}},"CircularlyLinkedList":{"addFront":{"code":[["procedure addFront(data)"],["  if size == 0"],["    head \u2190 new Node(data)"],["    head.next \u2190 head"],["  else"],["    Node newNode \u2190 new Node(head.data)"],["    head.data \u2190 data"],["    newNode.next \u2190 head.next"],["    head.next \u2190 newNode"],["  size++"],["end procedure"]],"english":[["procedure addFront(data)"],["  if (list is empty):"],["    create newNode node with data"],["    head points to newNode"],["    head.next points to itself"],["  else:"],["    create newNode node with head\'s data"],["    set head\'s data to new data"],["    newNode.next points to head.next"],["    head.next points to newNode"],["  increment size"],["end procedure"]]},"addBack":{"code":[["procedure addBack(data)"],["  addFront(data)"],["  head \u2190 head.next"],["end procedure"]],"english":[["procedure addBack(data)"],["  call addFront with data"],["  head moves to next node"],["end procedure"]]},"addIndex":{"code":[["procedure addAtIndex(index, data)"],["  if index == 0"],["    addFront(data)"],["  else if index == size"],["    addBack(data)"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to index - 2, i++:"],["      curr \u2190 curr.next"],["    Node newNode = new Node(data)"],["    newNode.next \u2190 curr.next"],["    curr.next \u2190 newNode"],["    size++"],["end procedure"]],"english":[["procedure addAtIndex(index, data)"],["  if (index is at the front):"],["    call addFront with data"],["  else (index is at the back):"],["    call addBack with data"],["  else:"],["    curr points to head"],["    for (i from front to node before index):"],["      curr moves to next node"],["    create newNode node with data"],["    newNode.next points to curr.next"],["    curr.next points to newNode"],["    increment size"],["end procedure"]]},"removeFront":{"code":[["procedure removeFront()"],["  T data \u2190 head.data"],["  if size == 1"],["    head \u2190 null"],["  else"],["    head.data \u2190 head.next.data"],["    head.next \u2190 head.next.next"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFront()"],["  copy data at head to temp"],["  if (list has 1 node):"],["    null out head pointer"],["  else:"],["    copy data at head.next to head.data"],["    head.next points to head.next.next"],["  decrement size"],["  return temp"],["end procedure"]]},"removeBack":{"code":[["procedure removeBack()"],["  T data \u2190 null"],["  if size == 1"],["    data \u2190 head.data"],["    head \u2190 null"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to size - 2"],["      curr \u2190 curr.next"],["    data \u2190 curr.next.data"],["    curr.next \u2190 curr.next.next"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeBack()"],["  if (list has 1 node):"],["    copy data at head to temp"],["    null out head pointer"],["  else:"],["    curr points to head"],["    for (i from front to node before end):"],["      curr moves to next node"],["    copy data at curr.next to temp"],["    curr.next points to curr.next.next"],["  decrement size"],["  return temp"],["end procedure"]]},"removeIndex":{"code":[["procedure removeIndex(index)"],["  if index == 0"],["    removeFront()"],["  else if index == size - 1"],["    removeBack()"],["  else"],["    Node curr \u2190 head"],["    for i \u2190 0 to index - 2, i++:"],["      curr \u2190 curr.next"],["    T data \u2190 curr.next.data"],["    curr.next \u2190 curr.next.next"],["    size--"],["    return data"],["end procedure"]],"english":[["procedure removeIndex(index)"],["  if (index is at the front):"],["    call removeFront"],["  else (index is at the back):"],["    call removeBack"],["  else:"],["    curr points to head"],["    for (i from front to node before index):"],["      curr moves to next node"],["    copy data at curr.next to temp"],["    curr.next points to curr.next.next"],["    decrement size"],["    return temp"],["end procedure"]]}},"StackArray":{"push":{"code":[["procedure push(data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[2 * size]"],["    for i \u2190 0 to size - 1, i++:"],["      newArray[i] \u2190 array[i]"],["    array \u2190 newArray"],["  array[size] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure push(data)"],["  if (at max capacity):"],["    create newArray with 2x capacity"],["    for (i from front to back):"],["      copy array value at i to newArray"],["    array points to newArray"],["    put data into array at back"],["    increment size"],["end procedure"]]},"pop":{"code":[["procedure pop()"],["  size--"],["  T data \u2190 array[size]"],["  array[size] \u2190 null"],["  return data"],["end procedure"]],"english":[["procedure pop()"],["  copy array value at back to temp"],["  null out back of array"],["  decrement size"],["  return temp"],["end procedure"]]}},"StackLL":{"push":{"code":[["procedure push(data)"],["  head \u2190 new Node(data, head)"],["end procedure"]],"english":[["procedure push(data)"],["  create newNode node with data"],["  newNode.next points to head"],["  head points to newNode"],["  increment size"],["end procedure"]]},"pop":{"code":[["procedure pop()"],["  T data \u2190 head.data"],["  head \u2190 head.next"],["  return data"],["end procedure"]],"english":[["procedure pop()"],["  copy data at head to temp"],["  head moves to next node"],["  decrement size"],["  return temp"],["end procedure"]]}},"QueueArray":{"enqueue":{"code":[["procedure enqueue(data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[2 * size]"],["    for i \u2190 0 to size - 1, i++:"],["      newArray[i] \u2190 array[(front + i) % array.length]"],["    array \u2190 newArray"],["    front \u2190 0"],["  array[(front + size) % array.length] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure enqueue(data)"],["  if (at max capacity):"],["    create newArray with 2x capacity"],["    for (i from front to back):"],["      calculate index = (front + i) % capacity"],["      copy array value at index to newArray"],["    array points to newArray"],["    reset front to 0"],["  put data into array at back"],["  increment size"],["end procedure"]]},"dequeue":{"code":[["procedure dequeue()"],["  T data \u2190 array[front]"],["  array[front] \u2190 null"],["  front \u2190 (front + 1) % array.length"],["  size--"],["end procedure"]],"english":[["procedure dequeue()"],["  copy array value at front to temp"],["  null out front of array"],["  increment front"],["  decrement size"],["end procedure"]]}},"QueueLL":{"enqueue":{"code":[["procedure enqueue(data)"],["  Node newNode \u2190 new Node(data)"],["  if size == 0"],["    head \u2190 newNode"],["  else"],["    tail.next \u2190 newNode"],["  tail \u2190 newNode"],["  size++"],["end procedure"]],"english":[["procedure enqueue(data)"],["  create newNode node with data"],["  if (queue is empty):"],["    head points to newNode"],["  else:"],["    tail.next points to newNode"],["  tail points to newNode"],["  increment size"],["end procedure"]]},"dequeue":{"code":[["procedure dequeue()"],["  T data \u2190 head.data"],["  if size == 1"],["    head \u2190 null"],["    tail \u2190 null"],["  else"],["    head \u2190 head.next"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure dequeue()"],["  copy data at head to temp"],["  if (queue has 1 node):"],["    null out head"],["    null out tail"],["  else:"],["    head moves to next node"],["  decrement size"],["  return temp"],["end procedure"]]}},"DequeArray":{"addFirst":{"code":[["procedure addFirst(data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[2 * size]"],["    for i \u2190 0 to size - 1, i++:"],["      newArray[i + 1] \u2190 array[(front + i) % array.length]"],["    array \u2190 newArray"],["    front \u2190 0"],["  else"],["    front \u2190 (front - 1) % array.length"],["  array[front] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure addFirst(data)"],["  if (at max capacity):"],["    create newArray with 2x capacity"],["    for (i from front to back):"],["      calculate index = (front + i) % capacity"],["      copy and shift array value at index to newArray"],["    array points to newArray"],["    reset front to 0"],["  else:"],["    decrement front"],["  put data into array at front"],["  increment size"],["end procedure"]]},"addLast":{"code":[["procedure addLast(data)"],["  if size == array.length"],["    T[] newArray \u2190 new array[2 * size]"],["    for i \u2190 0 to size - 1, i++:"],["      newArray[i] \u2190 array[(front + i) % array.length]"],["    array \u2190 newArray"],["    front \u2190 0"],["  array[(front + size) % array.length] \u2190 data"],["  size++"],["end procedure"]],"english":[["procedure addLast(data)"],["  if (at max capacity)"],["    create newArray with 2x capacity"],["    for (i from front to back):"],["      calculate index = (front + i % capacity)"],["      copy array value at index to newArray"],["    array points to newArray"],["    reset front to 0"],["  put data into array at back"],["  increment size"],["end procedure"]]},"removeFirst":{"code":[["procedure removeFirst()"],["  T data \u2190 array[front]"],["  array[front] \u2190 null"],["  front \u2190 (front + 1) % array.length"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeFirst()"],["  copy data at front to temp"],["  null out front of array"],["  increment front"],["  decrement size"],["  return temp"],["end procedure"]]},"removeLast":{"code":[["procedure removeLast()"],["  back \u2190 (front + size - 1) % array.length"],["  T data \u2190 array[back]"],["  array[back] \u2190 null"],["  size--"],["  return data"],["end procedure"]],"english":[["procedure removeLast()"],["  copy data at back to temp"],["  null out back of array"],["  decrement size"],["  return temp"],["end procedure"]]}},"DequeLL":{"addFirst":{"code":[],"english":[]},"addLast":{"code":[],"english":[]},"removeFirst":{"code":[],"english":[]},"removeLast":{"code":[],"english":[]}},"BST":{"preorder":{"code":[["procedure preOrder(Node node)"],["  if node != null:"],["    // do something with node"],["    preOrder(node.left)"],["    preOrder(node.right)"],["end procedure"]],"english":[["procedure preOrder(Node node)"],["  if node is not null:"],["    look at data in the node"],["    recurse left"],["    recurse right"],["end procedure"]]},"inorder":{"code":[["procedure inOrder(Node node)"],["  if node != null:"],["    inOrder(node.left)"],["    // do something with node"],["    inOrder(node.right)"],["end procedure"]],"english":[["procedure inOrder(Node node)"],["  if node is not null:"],["    recurse left"],["    look at data in the node"],["    recurse right"],["end procedure"]]},"postorder":{"code":[["procedure postOrder(Node node)"],["  if node != null:"],["    postOrder(node.left)"],["    postOrder(node.right)"],["    // do something with node"],["end procedure"]],"english":[["procedure postOrder(Node node)"],["  if node is not null:"],["    recurse left"],["    recurse right"],["    look at data in the node"],["end procedure"]]},"levelorder":{"code":[["procedure levelOrder()"],["  Queue q \u2190 new Queue()"],["  q.add(root)"],["  while q.size > 0"],["    Node curr \u2190 q.remove()"],["    // do something with curr"],["    if curr.left != null:"],["      q.add(curr.left)"],["    if curr.right != null:"],["      q.add(curr.right)"],["end procedure"]],"english":[["procedure levelOrder()"],["  create Queue q"],["  add root to q"],["  while q is not empty"],["    Node curr \u2190 remove from q"],["    record data from curr"],["    if curr.left is not null:"],["      add curr.left to q"],["    if curr.right is not null:"],["      add curr.right to q"],["end procedure"]]},"add":{"code":[["procedure add(data)"],["  root \u2190 addH(data, root) "],["end procedure"],[""],["procedure addH(data, curr)"],["  if curr == null"],["    size++"],["    return new Node(data)"],["  else if data < curr.data"],["    curr.left \u2190 addH(data, curr.left)"],["  else if data > curr.data"],["    curr.right \u2190 addH(data, curr.right)"],["  return curr"],["end procedure"]],"english":[["procedure add(data)"],["    reinforce root with addH call on root"],["end procedure"],[""],["procedure addH(data, curr)"],["  if (curr is null):"],["    increment size"],["    return new node with data"],["  else if (data < curr.data):"],["    reinforce left child with addH call on left child"],["  else if (data > curr.data):"],["    reinforce right child with addH call on right child"],["  return curr"],["end procedure"]]},"remove_successor":{"code":[["procedure remove(data)"],["  dummy \u2190 new Node(null)"],["  root \u2190 removeH(data, root, dummy)"],["  return dummy.data"],["end procedure"],[""],["procedure removeH(data, curr, dummy)"],["  if curr == null"],["    return null"],["  else if data < curr.data"],["    curr.left \u2190 removeH(data, curr.left)"],["  else if data > curr.data"],["    curr.right \u2190 removeH(data, curr.right)"],["  else"],["    size--"],["    dummy.data \u2190 curr.data"],["    if curr.left == null && curr.right == null"],["      return null"],["    else if curr.left == null"],["      return curr.right"],["    else if curr.right == null"],["      return curr.left"],["    else"],["      dummy2 \u2190 new Node(null)"],["      curr.right \u2190 removeSuccessor(curr.right, dummy2)"],["      curr.data \u2190 dummy2.data"],["  return curr"],["end procedure"],[""],["procedure removeSuccessor(curr, dummy2)"],["  if curr.left == null"],["    dummy2.data \u2190 curr.data"],["    return curr.right"],["  else"],["    curr.left \u2190 removeSuccessor(curr.left, dummy2)"],["    return curr"],["end procedure"]],"english":[["procedure remove(data):"],["  create dummy node"],["  reinforce root with removeH call on root"],["  return dummy data"],["end procedure"],[""],["procedure removeH(data, curr, dummy)"],["  if (curr is null):"],["    return null"],["  else if (data < curr.data):"],["    reinforce left child with removeH call on left child"],["  else if (data > curr.data):"],["    reinforce right child with removeH call on right child"],["  else:"],["    decrement size"],["    copy data in curr to dummy"],["    if (both children are null):"],["      return null"],["    else if (left child is null):"],["      return right child"],["    else if (right child is null):"],["      return left child"],["    else:"],["      create dummy2 node"],["      reinforce right child with removeSuccessor call on right child"],["      copy data in dummy2 to curr"],["  return curr"],["end procedure"],[""],["procedure removeSuccessor(curr, dummy2)"],["  if (left child is null):"],["    copy data in curr to dummy2"],["    return right child"],["  else:"],["    reinforce left child with removeSuccessor call on left child"],["    return curr"],["end procedure"]]},"remove_predecessor":{"code":[["procedure remove(data)"],["  dummy \u2190 new Node(null)"],["  root \u2190 removeH(data, root, dummy)"],["  return dummy.data"],["end procedure"],[""],["procedure removeH(data, curr, dummy)"],["  if curr == null"],["    return null"],["  else if data < curr.data"],["    curr.left \u2190 removeH(data, curr.left)"],["  else if data > curr.data"],["    curr.right \u2190 removeH(data, curr.right)"],["  else"],["    size--"],["    dummy.data \u2190 curr.data"],["    if curr.left == null && curr.right == null"],["      return null"],["    else if curr.left == null"],["      return curr.right"],["    else if curr.right == null"],["      return curr.left"],["    else"],["      dummy2 \u2190 new Node(null)"],["      curr.right \u2190 removePredecessor(curr.left, dummy2)"],["      curr.data \u2190 dummy2.data"],["  return curr"],["end procedure"],[""],["procedure removePredecessor(curr, dummy2)"],["  if curr.right == null"],["    dummy2.data \u2190 curr.data"],["    return curr.left"],["  else"],["    curr.right \u2190 removePredecessor(curr.right, dummy2)"],["    return curr"],["end procedure"]],"english":[["procedure remove(data):"],["  create dummy node"],["  reinforce root with removeH call on root"],["  return dummy data"],["end procedure"],[""],["procedure removeH(data, curr, dummy)"],["  if (curr is null):"],["    return null"],["  else if (data < curr.data):"],["    reinforce left child with removeH call on left child"],["  else if (data > curr.data):"],["    reinforce right child with removeH call on right child"],["  else:"],["    decrement size"],["    copy data in curr to dummy"],["    if (both children are null):"],["      return null"],["    else if (left child is null):"],["      return right child"],["    else if (right child is null):"],["      return left child"],["    else:"],["      create dummy2 node"],["      reinforce left child with removePredecessor call on left child"],["      copy data in dummy2 to curr"],["  return curr"],["end procedure"],[""],["procedure removePredecessor(curr, dummy2)"],["  if (right child is null):"],["    copy data in curr to dummy2"],["    return left child"],["  else:"],["    reinforce right child with removePredecessor call on right child"],["    return curr"],["end procedure"]]},"find":{"code":[["procedure find(data)"],["  return findH(data, root)"],["end procedure"],[""],["procedure findH(data, curr)"],["  if curr == null"],["    return null"],["  else if data < curr.data"],["    return findH(curr.left)"],["  else if data > curr.data"],["    return findH(curr.right)"],["  else"],["    return curr.data"],["end procedure"]],"english":[["procedure find(data)"],["  return call to findH with root"],["end procedure"],[""],["procedure findH(data, curr)"],["  if curr is null:"],["    return null"],["  else if (data < curr.data):"],["    return recursive call on left child"],["  else if (data > curr.data):"],["    return recursive call on right child"],["  else:"],["    return curr.data"],["end procedure"]]}},"BubbleSort":{"find":{"code":[["procedure BubbleSort(array):"],["  end \u2190 array.length"],["  start \u2190 0"],["  while start < end:"],["    swapped \u2190 start"],["    for j \u2190 0, end:"],["      if array[j] > array[j + 1]:"],["        swap array[j], array[j + 1]"],["        swapped \u2190 j"],["      end if"],["    end for"],["    end \u2190 swapped"],["  end while"],["end procedure"]],"english":[["procedure BubbleSort(array):"],["  end points to last element"],["  start points to first element"],["  while (start < end):"],["    lastSwapped points to start"],["    for (j from start to end):"],["      if (array[j] > array[j + 1]):"],["        bubble array[j] by swapping up"],["        lastSwapped points to j"],["      end if"],["    end for"],["    end points to lastSwapped"],["  end while"],["end procedure"]]}},"CocktailSort":{"find":{"code":[["procedure CocktailSort(array):"],["  start \u2190 0, end \u2190 array.length - 1"],["  swapped \u2190 start"],["  while end > start:"],["    swapped \u2190 start"],["    for i \u2190 start, end:"],["      if array[i] > array[i + 1]:"],["        swap array[i], array[i + 1]"],["        swapped \u2190 i"],["      end if"],["    end for"],["    end \u2190 swapped"],["    for i \u2190 end, start:"],["      if array[i] < array[i - 1]"],["        swap array[i], array[i - 1]"],["        swapped \u2190 i"],["      end if"],["    end for"],["    start \u2190 swapped"],["  end while"],["end procedure"]],"english":[["procedure CocktailSort(array):"],["  end points to last element"],["  start point to first element"],["  while (start < end):"],["    lastSwapped points to start"],["    for (i from start to end):"],["      if (array[i] > array[i + 1]):"],["        bubble array[i] by swapping up"],["        lastSwapped points to i"],["      end if"],["    end for"],["    end points to lastSwapped"],["    for (i from end to start):"],["      if (array[i] < array[i - 1]):"],["        bubble array[i] by swapping down"],["        lastSwapped points to i"],["      end if"],["    end for"],["    start points to lastSwapped"],["  end while"],["end procedure"]]}},"InsertionSort":{"find":{"code":[["procedure InsertionSort(array):"],["  length \u2190 array.length"],["  for i \u2190 1, length - 1:"],["    j \u2190 i"],["    while"," ","j > 0",", ","array[j - 1] > array[j]",":"],["      swap array[j - 1], array[j]"],["      j \u2190 j - 1"],["    end while"],["  end for"],["end procedure"]],"english":[["procedure InsertionSort(array):"],["  length is array\'s length"],["  for (i from start to end):"],["    j points to i"],["    while"," (","j is positive"," and ","array[j - 1] > array[j]","):"],["      bubble array[j] by swapping down"],["      decrement j"],["    end while"],["  end for"],["end procedure"]]}},"SelectionSort":{"find":{"code":[["procedure SelectionSort(array):"],["  length \u2190 array.length"],["  for i \u2190 length - 1, 0:"],["    max \u2190 i"],["    for j \u2190 0, i:"],["      if array[j] > array[max]:"],["        max \u2190 j"],["      end if"],["    end for"],["    swap array[max], array[i]"],["  end for"],["end procedure"]],"english":[["procedure SelectionSort(array):"],["  length is array\'s length"],["  for (i from end to start):"],["    initialize max value"],["    for (j from start to i):"],["      if (array[j] > max value):"],["        max value is array[j]"],["      end if"],["    end for"],["    swap max value with array[i]"],["  end for"],["end procedure"]]}},"Quicksort":{"find":{"code":[["procedure Quicksort(array, left, right):"],["  pivotIdx \u2190 random index within region being sorted"],["  pivot \u2190 array[pivotIdx]"],["  swap array[left], array[pivotIdx]"],["  i \u2190 left + 1, j \u2190 right - 1"],["  while i <= j:"],["    while"," ","i <= j"," and ","array[i] <= pivot",":"],["      i \u2190 i + 1"],["    end while"],["    while"," ","i <= j"," and ","array[j] >= pivot",":"],["      j \u2190 j - 1"],["    end while"],["    if i <= j:"],["      swap array[i], array[j]"],["      i \u2190 i + 1, j \u2190 j - 1"],["    end if"],["  end while"],["  swap pivot, array[j]"],["  Quicksort(array, left, j)"],["  Quicksort(array, j + 1, right)"],["end procedure"]],"english":[["procedure Quicksort(array, left, right):"],["  pivotIdx is some random index within partition"],["  pivot is the value at pivotIdx"],["  swap array[left] with the pivot"],["  i points to left + 1,  j points to right - 1"],["  while (j has not crossed i):"],["    while"," (","j has not crossed i"," and ","array[i] <= pivot","):"],["      increment i"],["    end while"],["    while"," (","j has not crossed i"," and ","array[j] >= pivot","):"],["      decrement j"],["    end while"],["    if j and i have not crossed:"],["      swap data at i and j"],["      increment i, decrement j"],["    end if"],["  end while"],["  swap the pivot and array[j]"],["  recursively call Quicksort() on the left partition"],["  recursively call Quicksort() on the right partition"],["end procedure"]]}},"Quickselect":{"find":{"code":[["procedure Quickselect(array, left, right, k):"],["  pivotIdx = random index within region being sorted"],["  pivot \u2190 array[pivotIdx]"],["  swap array[left], array[pivotIdx]"],["  i \u2190 left + 1, j \u2190 right"],["  while i <= j:"],["    while"," ","i <= j"," and ","array[i] <= pivot",":"],["      i \u2190 i + 1"],["    end while"],["    while"," ","i <= j"," and ","array[j] >= pivot",":"],["      j \u2190 j - 1"],["    end while"],["    if i <= j:"],["      swap array[i], array[j]"],["      i \u2190 i + 1, j \u2190 j - 1"],["    end if"],["  end while"],["  swap pivot, array[j]"],["  if j == k - 1:"],["    return array[j]"],["  else if j > k - 1:"],["    Quickselect(array, left, j - 1, k)"],["  else:"],["    Quickselect(array, j + 1, right, k)"],["  end if"],["end procedure"]],"english":[["procedure Quickselect(array, left, right, k):"],["  pivotIdx is some random index within partition"],["  pivot is the value at pivotIdx"],["  swap array[left] with the pivot"],["  i points to left + 1, j points to right"],["  while (j has not crossed i):"],["    while"," (","j has not crossed i"," and ","array[i] <= pivot","):"],["      increment i"],["    end while"],["    while"," (","j has not crossed i"," and ","array[j] >= pivot","):"],["      decrement j"],["    end while"],["    if j and i have not crossed:"],["      swap data at i and j"],["      increment i, decrement j"],["    end if"],["  end while"],["  swap the pivot and array[j]"],["  if (j == k - 1):"],["    return the value at j"],["  else if (j > k - 1):"],["    recursively call Quickselect() on the left partition"],["  else:"],["    recursively call Quickselect() on the right partition"],["  end if"],["end procedure"]]}},"MergeSort":{"find":{"code":[["procedure MergeSort(array):"],["  length \u2190 array.length, midIdx \u2190 length / 2"],["  leftArray \u2190 array[0...midIdx - 1]"],["  rightArray \u2190 array[midIdx...length - 1]"],["  MergeSort(leftArray)"],["  MergeSort(rightArray)"],["  leftIdx, rightIdx, currIdx \u2190 0"],["  while leftIdx < midIdx and rightIdx < length - midIdx:"],["    if leftArray[leftIdx] <= rightArray[rightIdx]:"],["      array[currIdx] \u2190 leftArray[leftIdx]"],["      leftIdx \u2190 leftIdx + 1"],["    else:"],["      array[currIdx] \u2190 rightArray[rightIdx]"],["      rightIdx \u2190 rightIdx + 1"],["    end if"],["    currIdx \u2190 currIdx + 1"],["  end while"],["  while leftIdx < midIdx:"],["    array[currIdx] \u2190 leftArray[leftIdx]"],["    currIdx \u2190 currIdx + 1"],["    leftIdx \u2190 leftIdx + 1"],["  end while"],["  while rightIdx < length - midIdx:"],["    array[currIdx] \u2190 rightArray[rightIdx]"],["    currIdx \u2190 currIdx + 1"],["    rightIdx \u2190 rightIdx + 1"],["  end while"],["end procedure"]],"english":[["procedure MergeSort(array):"],["  length is array\'s length, midIdx is half of length"],["  leftArray is a new Array with left half of array"],["  rightArray is a new Array with right half of array"],["  recursively call MergeSort() on leftArray"],["  recursively call MergeSort() on rightArray"],["  leftIdx, rightIdx, currIdx start at 0"],["  while (leftIdx < midIdx and rightIdx < length - midIdx):"],["    if (leftArray[leftIdx] <= rightArray[rightIdx]):"],["      put leftArray[leftIdx] into array at currIdx"],["      increment leftIdx"],["    else:"],["      put rightArray[rightIdx] into array at currIdx"],["      increment rightIdx"],["    end if"],["    increment currIdx"],["  end while"],["  while (leftIdx < midIdx):"],["    put leftArray[leftIdx] into array at currIdx"],["    increment currIdx"],["    increment leftIdx"],["  end while"],["  while (rightIdx < length - midIdx):"],["    put rightArray[rightIdx] into array at currIdx"],["    increment currIdx"],["    increment rightIdx"],["  end while"],["end procedure"]]}},"LSDRadixSort":{"find":{"code":[["procedure LSDRadixSort(array):"],["  buckets \u2190 array of 10 lists"],["  k \u2190 length of largest number by magnitude"],["  length \u2190 array.length"],["  div \u2190 1"],["  for i \u2190 1, k:"],["    for j \u2190 0, length - 1:"],["      b \u2190 array[j] / div % 10"],["      buckets[b].addLast(array[j])"],["    end for"],["    index \u2190 0"],["    for b \u2190 0, 9:"],["      while buckets[b].size > 0:"],["        array[index] \u2190 buckets[b].removeFirst()"],["        index \u2190 index + 1"],["      end while"],["    end for"],["    div \u2190 div * 10"],["  end for"],["end procedure"]],"english":[["procedure LSDRadixSort(array):"],["  buckets is an array containing 10 lists"],["  k is the length of largest number by magnitude"],["  length is array\'s length"],["  base starts at 1"],["  for (i from 1 to k):"],["    for (j from 0 to length):"],["      b is (num at array[j] / base % 10)"],["      enqueue array[j] into buckets[b]"],["    end for"],["    index starts at 0"],["    for each bucket:"],["      while (bucket is not empty):"],["        dequeue from bucket into array at index"],["        increment index"],["      end while"],["    end for"],["    multiply base by 10"],["  end for"],["end procedure"]]}},"HeapSort":{"find":{"code":[["procedure HeapSort(array):"],["  heap \u2190 new PriorityQueue(array)"],["  for i \u2190 0, array.length -1:"],["    add heap.remove() to array[i]"],["  end for"],["end procedure"]],"english":[["procedure HeapSort(array):"],["  create heap from array with BuildHeap"],["  for (i from 0 to array.length):"],["    pop from heap into array at i"],["  end for"],["end procedure"]]}},"BruteForce":{"find":{"code":[["procedure BruteForce(text, pattern):"],["  n \u2190 text.length, m \u2190 pattern.length"],["  for i \u2190 0, n - m:"],["    j \u2190 0"],["    while j < m and pattern[j] = text[i + j]:"],["      j \u2190 j + 1"],["    end while"],["    if j = m:"],["      // match found at i"],["    end if"],["  end for"],["end procedure"]],"english":[["procedure BruteForce(text, pattern):"],["  n is text\'s length, m is pattern\'s length"],["  for (i from 0 to n - m):"],["    j starts at 0"],["    while (j < m and pattern[j] matches text[i + j]):"],["      move j forward"],["    end while"],["    if (j == m):"],["      // match found at i"],["    end if"],["  end for"],["end procedure"]]}},"BoyerMoore":{"lastTable":{"code":[["procedure BuildLastOccurrenceTable(pattern):"],["  lastTable \u2190 new HashMap<Character, Integer>"],["  for i \u2190 0, pattern.length:"],["    lastTable[pattern[i]] \u2190 i"],["  end for"],["  return lastTable"],["end procedure"]],"english":[["procedure BuildLastOccurrenceTable(pattern):"],["  lastTable is a map from Characters to Integers"],["  for (i from 0 to pattern.length):"],["    set lastTable for pattern[i] to i"],["  end for"],["  return lastTable"],["end procedure"]]},"find":{"code":[["procedure BoyerMoore(text, pattern):"],["  lastTable \u2190 BuildLastOccurrenceTable(pattern)"],["  m \u2190 pattern.length, n \u2190 text.length"],["  i \u2190 0"],["  while i <= n - m:"],["    j \u2190 m - 1"],["    while j >= 0 and text[i + j] == pattern[j]:"],["      j \u2190 j - 1"],["    end while"],["    if j == -1:"],["      // match found at i"],["      i \u2190 i + 1"],["    else:"],["      shift \u2190 lastTable[text[i + j]]"],["      if shift < j:"],["        i \u2190 i + (j - shift)"],["      else:"],["        i \u2190 i + 1"],["      end if"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure BoyerMoore(text, pattern):"],["  lastTable is pattern\'s last occurrence table"],["  m is pattern\'s length, n is text\'s length"],["  i starts at 0"],["  while (i <= n - m):"],["    j starts at m - 1"],["    while (j >= 0 and text[i + j] matches pattern[j]):"],["      decrement j"],["    end while"],["    if (j == -1):"],["      // match found at i"],["      move i forward"],["    else:"],["      shift is the lastTable index for text[i + j]"],["      if (shift < j):"],["        add j - shift to i"],["      else:"],["        move i forward"],["      end if"],["    end if"],["  end while"],["end procedure"]]},"galil":{"code":[["procedure BoyerMooreGalil(text, pattern):"],["  initialize lastTable, failureTable"],["  m \u2190 length of pattern, n \u2190 length of text"],["  k \u2190 m - failureTable[m - 1]"],["  i \u2190 0, w \u2190 0"],["  while i <= n - m"],["    j \u2190 m - 1"],["    while j >= w and text[i + j] = pattern[j]"],["      j -> j - 1"],["    end while"],["    if j < w"],["      match found at i"],["      i \u2190 i + k"],["      w \u2190 m - k"],["    else"],["      shift \u2190 lastTable[text[i + j]]"],["      if shift < j"],["        i \u2190 i + (j - shift)"],["      else"],["        i \u2190 i + 1"],["      end if"],["      w \u2190 0"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure BoyerMooreGalilRule(text, pattern):"],["  create lastTable and failureTable for pattern"],["  m is pattern\'s length, n is text\'s length"],["  periodicity is the last failureTable entry subtracted from m"],["  i and lowBound start at 0"],["  while (i <= n - m):"],["    j starts at m - 1"],["    while (j >= lowBound and text[i + j] matches pattern[j]):"],["      move j backward"],["    end while"],["    if (j < lowBound):"],["      // match found at i"],["      add periodicity to i"],["      set lowBound to periodicity subtracted from m"],["    else:"],["      shift is the lastTable index for text[i + j]"],["      if (shift < j):"],["        move i forward by j - shift"],["      else:"],["        move i forward"],["      end if"],["      set lowBound to 0"],["    end if"],["  end while"],["end procedure"]]}},"KMP":{"failureTable":{"code":[["procedure BuildFailureTable(pattern):"],["  m \u2190 pattern.length"],["  failureTable \u2190 new array of length m"],["  i \u2190 0, j \u2190 1"],["  failureTable[0] \u2190 0"],["  while j < m:"],["    if pattern[i] == pattern[j]:"],["      failureTable[j] \u2190 i + 1"],["      i \u2190 i + 1, j \u2190 j + 1"],["    else:"],["      if i == 0:"],["        failureTable[j] \u2190 0"],["        j \u2190 j + 1"],["      else:"],["        i \u2190 failureTable[i - 1]"],["      end if"],["    end if"],["  end while"],["  return failureTable"],["end procedure"]],"english":[["procedure BuildFailureTable(pattern):"],["  m is pattern\'s length"],["  failureTable is an array of length m"],["  i starts at 0, j starts at 1"],["  set the first failureTable value to 0"],["  while (j < m):"],["    if (pattern[i] matches pattern[j]):"],["      set failureTable at index j to i + 1"],["      move i and j forward"],["    else:"],["      if (i is 0):"],["        set failureTable at index j to 0"],["        move j forward"],["      else:"],["        move i to previous value in failureTable"],["      end if"],["    end if"],["  end while"],["  return failureTable"],["end procedure"]]},"find":{"code":[["procedure KMP(text, pattern):"],["  failureTable \u2190 BuildFailureTable(pattern)"],["  m \u2190 pattern.length, n \u2190 text.length"],["  i \u2190 0, j \u2190 0"],["  while i <= n - m:"],["    while j < m and text[i + j] == pattern[j]:"],["      j \u2190 j + 1"],["    end while"],["    if j == 0:"],["      i \u2190 i + 1"],["    else:"],["      if j == m:"],["        // match found at i"],["      end if"],["      shift \u2190 failureTable[j - 1]"],["      i \u2190 i + j - shift"],["      j \u2190 shift"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure KMP(text, pattern):"],["  failureTable is pattern\'s failure table"],["  m is pattern\'s length, n is text\'s length"],["  i and j start at 0"],["  while (i <= n - m):"],["    while (j < m and text[i+j] matches pattern[j]):"],["      move j forward"],["    end while"],["    if (j is 0):"],["      move i forward"],["    else:"],["      if (j is m):"],["        // match found at i"],["      end if"],["      shift is the failureTable value at j - 1"],["      move i forward by j - shift"],["      set j to shift"],["    end if"],["  end while"],["end procedure"]]}},"RabinKarp":{"find":{"code":[["procedure RabinKarp(text, pattern):"],["  m \u2190 pattern.length, n \u2190 text.length"],["  patternHash \u2190 hash of pattern"],["  textHash \u2190 hash of text[0...m - 1]"],["  i \u2190 0"],["  while i <= n - m:"],["    if patternHash == textHash:"],["      j \u2190 0"],["      while j < m and text[i + j] == pattern[j]:"],["        j \u2190 j + 1"],["      end while"],["      if j == m:"],["        // match found at i"],["      end if"],["    end if"],["    if i < n - m:"],["      textHash \u2190 rolled hash of text[i to i + m]"],["    end if"],["    i \u2190 i + 1"],["  end while"],["end procedure"]],"english":[["procedure RabinKarp(text, pattern):"],["  m is pattern\'s length, n is text\'s length"],["  patternHash is a hash of the pattern"],["  textHash is a hash of the first m chars in the text"],["  i starts at 0"],["  while (i <= n - m):"],["    if (patternHash equals textHash):"],["      j starts at 0"],["      while (j < m and text[i + j] matches pattern[j]):"],["        move j forward"],["      end while"],["      if (j is m):"],["        // match found at i"],["      end if"],["    end if"],["    if (i < n - m):"],["      roll textHash forward one"],["    end if"],["    move i forward"],["  end while"],["end procedure"]]}},"BFS":{"run":{"code":[["procedure BFS(Vertex s):"],["  initialize VisitedSet VS"],["  initialize Queue Q"],["  initialize List L"],["  Q.enqueue(s)"],["  VS.add(s)"],["  while Q.size > 0:"],["    v \u2190 Q.dequeue()"],["    L.add(v)"],["    for all w adjacent to v:"],["      if w not in VS:"],["        Q.enqueue(w)"],["        VS.add(w)"],["      end if"],["    end for"],["  end while"],["end procedure"]],"english":[["procedure BFS(Vertex start):"],["  initialize a visited set"],["  initialize a queue"],["  initialize a traversal list"],["  enqueue start"],["  add start to visited set"],["  while (queue is not empty):"],["    dequeue vertex"],["    add vertex to traversal list"],["    for each adjacent vertex:"],["      if (adjacent vertex is not visited):"],["        enqueue adjacent vertex"],["        add adjacent vertex to visited set"],["      end if"],["    end for"],["  end while"],["end procedure"]]}},"DFS":{"recursive":{"code":[["procedure DFS(Vertex s, Set VS, List L):"],["  VS.add(s)"],["  L.add(s)"],["  for all v adjacent to s:"],["    if v not in VS:"],["      DFS(v, VS, L)"],["    end if"],["  end for"],["end procedure"]],"english":[["procedure DFS(Vertex start, Set visited, List traversal):"],["  add start to visited set"],["  add start to traversal list"],["  for each adjacent vertex:"],["    if (adjacent vertex is not visited):"],["      recursively call DFS on adjacent vertex"],["    end if"],["  end for"],["end procedure"]]},"iterative":{"code":[["procedure DFS(Vertex s, Set VS, List L):"],["  initialize Stack K"],["  add s to K, VS"],["  while K is not empty:"],["    v \u2190 remove from K"],["    add v to L"],["    for all w adjacent to v:"],["      if w not in VS:"],["        add w to K, VS"],["      end if"],["    end for"],["  end while"],["end procedure"]],"english":[["procedure DFS(Vertex start, Set visited, List traversal):"],["  initialize a stack"],["  push start vertex onto the stack and add it to visited set"],["  while (stack is not empty):"],["    pop vertex from stack"],["    add vertex to traversal list"],["    for each adjacent vertex:"],["      if (adjacent vertex is not visited):"],["        add adjacent vertex to stack and visited set"],["      end if"],["    end for"],["  end while"],["end procedure"]]}},"Dijkstras":{"run":{"code":[["procedure Dijkstras(Vertex s, Graph G):"],["  initialize VisitedSet VS"],["  initialize DistanceMap DM"],["  initialize PriorityQueue PQ"],["  for all v in G:"],["    DM.put(v, \u221e)"],["  end for"],["  PQ.enqueue((s, 0))"],["  DM.put(s, 0)"],["  while PQ.size > 0 and VS.size < G.vertices.size:"],["    (u, d1) \u2190 PQ.dequeue()"],["    if u not in VS:"],["      VS.add(u)"],["      DM.put(w, d1)"],["      for all (w, d2) adjacent to u:"],["        if w not in VS:"],["          PQ.enqueue((w, d1 + d2))"],["        end if"],["      end for"],["    end if"],["  end while"],["  return DM"],["end procedure"]],"english":[["procedure Dijkstras(Vertex start, Graph graph):"],["  initialize a visited set"],["  initialize a distance map"],["  initialize a priority queue"],["  for each vertex in the graph:"],["    put vertex in distance map with infinite distance"],["  end for"],["  enqueue the start vertex with distance 0"],["  put start vertex in distance map with distance 0"],["  while (queue is not empty and visited set is not full):"],["    dequeue vertex and its distance"],["    if (vertex is not visited):"],["      add vertex to visited set"],["      put vertex and distance into distance map"],["      for each adjacent vertex and distance:"],["        if (adjacent vertex is not visited):"],["          enqueue adjacent vertex and cumulative distance"],["        end if"],["      end for"],["    end if"],["  end while"],["  return distance map"],["end procedure"]]}},"Prims":{"run":{"code":[["procedure Prims(Vertex s, Graph G):"],["  initialize VisitedSet VS"],["  initialize EdgeSet MST"],["  initialize PriorityQueue PQ"],["  VS.add(s)"],["  for all edge(s, v) in G:"],["    PQ.enqueue(edge(s, v))"],["  end for"],["  while PQ.size > 0 and VS.size < G.vertices.size:"],["    edge(u, w) \u2190 PQ.dequeue()"],["    if w not in VS:"],["      MST.add(edge(u, w))"],["      VS.add(w)"],["      for all edge(w, x) adjacent to w:"],["        if x not in VS:"],["          PQ.enqueue(edge(w, x))"],["        end if"],["      end for"],["    end if"],["  end while"],["  return MST"],["end procedure"]],"english":[["procedure Prims(Vertex start, Graph graph):"],["  initialize a visited set"],["  initialize an edge set MST"],["  initialize a priority queue"],["  add start to visited set"],["  for each edge adjacent to start vertex in the graph:"],["    enqueue edge"],["  end for"],["  while (queue is not empty and visited set is not full):"],["    dequeue edge between vertices V, W"],["    if (W is not visited):"],["      add edge to MST"],["      add W to visited set"],["      for each edge adjacent to W:"],["        if (other endpoint vertex is not visited):"],["          enqueue edge between W and other endpoint vertex"],["        end if"],["      end for"],["    end if"],["  end while"],["  return MST"],["end procedure"]]}},"Kruskals":{"run":{"code":[["procedure Kruskals(Graph g):"],["  initialize DisjointSet, DS"],["  initialize MST EdgeSet, MST"],["  initialize PriorityQueue, PQ with all edges in G"],["  while PQ is not empty and MST has fewer than n-1 edges:"],["    edge(u, v) \u2190 PQ.dequeue()"],["    if u and v are not in the same cluster:"],["      add edge(u, v) to MST"],["      merge u\'s cluster with v\'s cluster"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure Kruskals(Graph g):"],["  initialize a disjoint set with all vertices in graph"],["  initialize an edge set MST"],["  initialize a priority queue with all edges in graph"],["  while (queue is not empty and MST has fewer than n-1 edges):"],["    dequeue edge between vertices V, W"],["    if (V and W are not in the same set):"],["      add edge to MST"],["      merge V\'s set with W\'s set in the disjoint set structure"],["    end if"],["  end while"],["end procedure"]]}},"LCS":{"run":{"code":[["procedure LCS(S1, S2, matrix):"],["  matrix \u2190 create new 2D array of length S1.length by S2.length"],["  for y \u2190 1, to S1.length, loop"],["    for x \u2190 1 to S2.length, loop"],["      if (S1[y] == S2[x])"],["        matrix[y][x] = 1 + matrix[y - 1][x - 1]"],["      else"],["        matrix[y][x] = max(matrix[y - 1][x], matrix[y][x - 1])"],["    end for"],["  end for"],["  currY \u2190 S1.length"],["  currX \u2190 S2.length"],["  list \u2190 create new List()"],["  while currY > 0 and currX > 0, loop:"],["    if matrix[currY - 1][currX] == matrix[currY][currX - 1]"],["      and matrix[currY][currX] != matrix[currY - 1][currX - 1]"],["      list.addFront(S1[currY])"],["      currX--"],["      currY--"],["    else"],["      if matrix[currY - 1][currX] > matrix[currY][currX - 1]"],["        currY--"],["      else"],["        currX--"],["    end if"],["  end while"],["end procedure"]],"english":[["procedure LCS(S1, S2, matrix):"],["  create a 2D array matrix sized by string lengths"],["  for each character in S1:"],["    for each character in S2:"],["      if characters match:"],["        add 1 to the diagonal value"],["      else:"],["        take maximum of left or above cell"],["    end for"],["  end for"],["  start at bottom-right corner of matrix"],["  initialize empty result list"],["  while not at a boundary:"],["    if top value equals left value"],["      and current value is greater than both:"],["      add current character to result list"],["      move diagonally up-left"],["    else:"],["      move toward larger of left/top values"],["    end if"],["  end while"],["  return built list of characters"],["end procedure"]]}}}');const cr=85,ur=100,mr=215,gr=50,pr=14,fr=130,Ir=120,xr=70,br=290;const Dr=[[!1,!0,!0,!1,!0,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0],[!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!0,!0,!1]],yr=[[0,0,-.4,0,0,0,0,0,0,0,0,0,0,0,.25,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.25],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.4],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,.25,0,0,0,0,0,0,0,0,0,0,0,-.4,0,0]],vr=[600,700,800,900,650,750,850,600,700,800,900,650,750,850,600,700,800,900],kr=[50,50,50,50,150,150,150,250,250,250,250,350,350,350,450,450,450,450],Cr=[[!1,!0,!0,!0,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!0,!1,!0],[!0,!1,!0,!1,!1,!1,!0,!0],[!1,!0,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!0,!1,!0],[!1,!1,!1,!0,!0,!0,!0,!1]],wr=[[0,.001,0,.5,-.5,0,0,0],[0,0,0,.001,0,.001,-.2,0],[0,.001,0,0,0,.2,0,0],[-.5,0,0,0,0,.001,0,.5],[.5,0,0,0,0,0,0,-.5],[0,0,-.2,0,0,0,.001,.001],[0,.2,0,0,0,0,0,0],[0,0,0,-.5,.5,0,0,0]],Lr=[800,725,875,650,950,725,875,800],Tr=[25,125,125,225,225,325,325,425],Sr=[[0,1,1,1,1,0,0,0],[1,0,0,0,0,0,1,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,1,0,0],[1,0,0,0,0,0,1,0],[0,0,0,1,0,0,1,0],[0,1,0,0,1,1,0,1],[0,0,0,0,0,0,1,0]].map((t=>t.map((t=>t||-1)))),Fr=[[0,8,2,5,0,0,0,0],[8,0,1,1,0,0,7,0],[2,1,0,0,3,0,0,0],[5,1,0,0,0,4,0,0],[0,0,3,0,0,0,2,0],[0,0,0,4,0,0,"0",1],[0,7,0,0,2,"0",0,1],[0,0,0,0,0,1,1,0]].map((t=>t.map((t=>Number(t||-1))))),Ar=[[0,1,5,0,0,0,0,0],[1,0,7,9,0,0,1,0],[5,7,0,0,0,0,13,0],[0,9,0,0,0,4,0,0],[0,0,0,0,0,0,10,0],[0,0,0,4,0,0,2,"0"],[0,1,13,0,10,2,0,3],[0,0,0,0,0,"0",3,0]].map((t=>t.map((t=>Number(t||-1))))),_r=[[-1,8,-1,-1,6,-1,-1,-1],[8,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,3,-1,-1],[6,-1,-1,-1,-1,-1,-1,4],[-1,-1,-1,3,-1,-1,7,9],[-1,-1,-1,-1,-1,7,-1,6],[-1,-1,-1,-1,4,9,6,-1]],Br=["#9b9bd4","#6aaf6a","#f07575","#ffe866","#b8f9b8","#ff99ff","#99ffff","#ffccd4"],zr=[[-1,1,1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1],[1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,1],[1,1,-1,-1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,1,1,-1,1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1],[1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,-1,1,-1,-1,-1],[-1,-1,-1,-1,1,1,-1,1,-1,1,-1,1,1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,1,1,-1,1,-1,1,-1,1,1,-1,-1,-1,-1],[-1,-1,-1,1,-1,-1,1,-1,-1,1,-1,-1,-1,1,-1,-1,-1,1],[-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,1,-1,1,1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,1,-1,1,-1,1,1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,1,-1,-1,-1,1,1],[1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,-1,1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,1,-1,1,1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,1,-1,1],[-1,-1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,-1,1,-1,1,1,-1]],Pr="#0000FF",Er="#000000",Rr="#000000";class Nr extends nr{constructor(t,e,i,s,h,a,n){super(t,e,i),this.controls=[],s=0===s.length?void 0:s,h=void 0!==h&&h,a=void 0!==a&&a,n=void 0!==n&&n,this.nextIndex=0,this.currentLayer=1,this.defaultEdges=s,this.directed=h,this.isDAG=a,this.showEdgeCosts=n,this.currentLayer=1,this.setup_small(this.defaultEdges)}addControls(t){null==t&&(t=!0);const e=sr(!1);if(this.newGraphButton=er("Button","New Graph",e),this.newGraphButton.onclick=this.newGraphCallback.bind(this),this.controls.push(this.newGraphButton),this.defaultGraphButton=er("Button","Default Graph",e),this.defaultGraphButton.onclick=this.defaultGraphCallback.bind(this),this.defaultGraphButton.disabled=!0,this.controls.push(this.defaultGraphButton),ir(),t){const t=tr(["Undirected Graph","Directed Graph"],"GraphType");this.undirectedGraphButton=t[0],this.undirectedGraphButton.onclick=this.directedGraphCallback.bind(this,!1),this.undirectedGraphButton.checked=!this.directed,this.controls.push(this.undirectedGraphButton),this.directedGraphButton=t[1],this.directedGraphButton.onclick=this.directedGraphCallback.bind(this,!0),this.directedGraphButton.checked=this.directed,this.controls.push(this.directedGraphButton),ir()}let i=tr(["Small Graph","Large Graph"],"GraphSize");this.smallGraphButton=i[0],this.smallGraphButton.onclick=this.smallGraphCallback.bind(this),this.smallGraphButton.checked=!0,this.controls.push(this.smallGraphButton),this.largeGraphButton=i[1],this.largeGraphButton.onclick=this.largeGraphCallback.bind(this),this.controls.push(this.largeGraphButton),ir(),i=tr(["Logical Representation","Adjacency List Representation","Adjacency Matrix Representation"],"GraphRepresentation"),this.logicalButton=i[0],this.logicalButton.onclick=this.graphRepChangedCallback.bind(this,1),this.adjacencyListButton=i[1],this.adjacencyListButton.onclick=this.graphRepChangedCallback.bind(this,2),this.adjacencyMatrixButton=i[2],this.adjacencyMatrixButton.onclick=this.graphRepChangedCallback.bind(this,3),this.logicalButton.checked=!0}directedGraphCallback(t){t!==this.directed&&(this.defaultGraphButton.disabled=t,this.directed=t,this.animationManager.resetAll(),this.setup())}smallGraphCallback(){8!==this.size&&(this.animationManager.resetAll(),this.setup_small())}largeGraphCallback(){18!==this.size&&(this.animationManager.resetAll(),this.setup_large())}newGraphCallback(){this.animationManager.resetAll(),this.setup()}defaultGraphCallback(){this.animationManager.resetAll(),this.setup(this.defaultEdges)}graphRepChangedCallback(t){this.animationManager.setAllLayers([0,32,t]),this.currentLayer=t}recolorGraph(){for(let t=0;t<this.size;t++)for(let e=0;e<this.size;e++)this.adj_matrix[t][e]>=0&&(this.setEdgeColor(t,e,Er),this.setEdgeThickness(t,e,1))}highlightEdge(t,e,i,s){this.cmd(Xn.setHighlight,this.adj_list_edges[t][e],i,s),this.cmd(Xn.setHighlight,this.adj_matrixID[t][e],i,s),this.cmd(Xn.setEdgeHighlight,this.circleID[t],this.circleID[e],i,s),this.directed||this.cmd(Xn.setEdgeHighlight,this.circleID[e],this.circleID[t],i,s)}visitVertex(t){this.cmd(Xn.createHighlightCircle,this.highlightCircleL,Rr,this.x_pos_logical[t],this.y_pos_logical[t]),this.cmd(Xn.setLayer,this.highlightCircleL,1),this.cmd(Xn.createHighlightCircle,this.highlightCircleAL,Rr,this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+t*this.adj_list_height),this.cmd(Xn.setLayer,this.highlightCircleAL,2),this.cmd(Xn.createHighlightCircle,this.highlightCircleAM,Rr,this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(Xn.setLayer,this.highlightCircleAM,3)}leaveVertex(){this.cmd(Xn.delete,this.highlightCircleL),this.cmd(Xn.delete,this.highlightCircleAM),this.cmd(Xn.delete,this.highlightCircleAL)}setEdgeColor(t,e,i){this.cmd(Xn.setForegroundColor,this.adj_list_edges[t][e],i),this.cmd(Xn.setTextColor,this.adj_matrixID[t][e],i),this.cmd(Xn.setEdgeColor,this.circleID[t],this.circleID[e],i),this.directed||this.cmd(Xn.setEdgeColor,this.circleID[e],this.circleID[t],i)}setEdgeThickness(t,e,i){this.cmd(Xn.setEdgeThickness,this.circleID[t],this.circleID[e],i),this.directed||this.cmd(Xn.setEdgeThickness,this.circleID[e],this.circleID[t],i)}clearEdges(){for(let t=0;t<this.size;t++)for(let e=0;e<this.size;e++)this.adj_matrix[t][e]>=0&&this.cmd(Xn.disconnect,this.circleID[t],this.circleID[e])}rebuildEdges(){this.clearEdges(),this.buildEdges()}buildEdges(){for(let t=0;t<this.size;t++)for(let e=0;e<this.size;e++)if(this.adj_matrix[t][e]>=0){const i=this.showEdgeCosts?String(this.adj_matrix[t][e]):"";this.directed?this.cmd(Xn.connect,this.circleID[t],this.circleID[e],Er,this.adjustCurveForDirectedEdges(this.curve[t][e],this.adj_matrix[e][t]>=0),1,i):t<e&&this.cmd(Xn.connect,this.circleID[t],this.circleID[e],Er,this.curve[t][e],0,i)}}setup_small(t){this.allowed=Cr,this.curve=wr,this.x_pos_logical=Lr,this.y_pos_logical=Tr,this.adj_matrix_x_start=700,this.adj_matrix_y_start=45,this.adj_matrix_width=30,this.adj_matrix_height=30,this.adj_list_x_start=600,this.adj_list_y_start=30,this.adj_list_elem_width=80,this.adj_list_elem_height=30,this.adj_list_height=36,this.adj_list_width=36,this.adj_list_spacing_after_list=15,this.adj_list_spacing_between_nodes=15,this.size=8,this.isLarge=!1,this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.setup(t)}setup_large(){this.allowed=Dr,this.curve=yr,this.x_pos_logical=vr,this.y_pos_logical=kr,this.adj_matrix_x_start=575,this.adj_matrix_y_start=40,this.adj_matrix_width=23,this.adj_matrix_height=23,this.adj_list_x_start=550,this.adj_list_y_start=30,this.adj_list_elem_width=80,this.adj_list_elem_height=20,this.adj_list_height=25,this.adj_list_width=20,this.adj_list_spacing_after_list=25,this.adj_list_spacing_between_nodes=15,this.size=18,this.isLarge=!0,this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.setup(zr)}adjustCurveForDirectedEdges(t,e){return!this.directed||!e||Math.abs(t)>.01?t:.1}setup(t){this.commands=[],this.circleID=new Array(this.size),t||(t=_r);for(let e=0;e<this.size;e++)t&&t[e].some((t=>-1!==t))?(this.circleID[e]=this.nextIndex++,this.cmd(Xn.createCircle,this.circleID[e],this.toStr(e),this.x_pos_logical[e],this.y_pos_logical[e]),this.cmd(Xn.setTextColor,this.circleID[e],Pr,0),this.cmd(Xn.setLayer,this.circleID[e],1)):this.circleID[e]=null;if(t){this.adj_matrix=t,this.adj_matrixID=new Array(this.size);for(let t=0;t<this.size;t++){this.adj_matrixID[t]=new Array(this.size);for(let e=0;e<this.size;e++)this.adj_matrixID[t][e]=this.nextIndex++}this.buildEdges()}else{this.adj_matrix=new Array(this.size),this.adj_matrixID=new Array(this.size);for(let e=0;e<this.size;e++)this.adj_matrix[e]=new Array(this.size),this.adj_matrixID[e]=new Array(this.size);let t;if(t=8===this.size?this.directed?.4:.5:this.directed?.35:.6,this.directed){for(let e=0;e<this.size;e++)for(let i=0;i<this.size;i++)this.adj_matrixID[e][i]=this.nextIndex++,this.allowed[e][i]&&Math.random()<=t&&(e<i||Math.abs(this.curve[e][i])<.01||-1===this.adj_matrixID[i][e])&&(!this.isDAG||e<i)?this.showEdgeCosts?this.adj_matrix[e][i]=Math.floor(9*Math.random())+1:this.adj_matrix[e][i]=1:this.adj_matrix[e][i]=-1;this.buildEdges()}else{for(let e=0;e<this.size;e++)for(let i=e+1;i<this.size;i++)if(this.adj_matrixID[e][i]=this.nextIndex++,this.adj_matrixID[i][e]=this.nextIndex++,this.allowed[e][i]&&Math.random()<=t){let t;this.showEdgeCosts?this.adj_matrix[e][i]=Math.floor(9*Math.random())+1:this.adj_matrix[e][i]=1,this.adj_matrix[i][e]=this.adj_matrix[e][i],t=this.showEdgeCosts?String(this.adj_matrix[e][i]):"",this.cmd(Xn.connect,this.circleID[e],this.circleID[i],Er,this.curve[e][i],0,t)}else this.adj_matrix[e][i]=-1,this.adj_matrix[i][e]=-1;this.buildEdges();for(let t=0;t<this.size;t++)this.adj_matrix[t][t]=-1}}this.buildAdjList(),this.buildAdjMatrix(),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.clearHistory()}resetAll(){}buildAdjMatrix(){this.adj_matrix_index_x=new Array(this.size),this.adj_matrix_index_y=new Array(this.size);for(let t=0;t<this.size;t++){this.adj_matrix_index_x[t]=this.nextIndex++,this.adj_matrix_index_y[t]=this.nextIndex++,this.cmd(Xn.createLabel,this.adj_matrix_index_x[t],this.toStr(t),this.adj_matrix_x_start+t*this.adj_matrix_width,this.adj_matrix_y_start-this.adj_matrix_height),this.cmd(Xn.setForegroundColor,this.adj_matrix_index_x[t],Pr),this.cmd(Xn.createLabel,this.adj_matrix_index_y[t],this.toStr(t),this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(Xn.setForegroundColor,this.adj_matrix_index_y[t],Pr),this.cmd(Xn.setLayer,this.adj_matrix_index_x[t],3),this.cmd(Xn.setLayer,this.adj_matrix_index_y[t],3);for(let e=0;e<this.size;e++){let i;this.adj_matrixID[t][e]=this.nextIndex++,i=this.adj_matrix[t][e]<0?"":String(this.adj_matrix[t][e]),this.cmd(Xn.createRectangle,this.adj_matrixID[t][e],i,this.adj_matrix_width,this.adj_matrix_height,this.adj_matrix_x_start+e*this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd(Xn.setLayer,this.adj_matrixID[t][e],3)}}}removeAdjList(){for(let t=0;t<this.size;t++){this.cmd(Xn.delete,this.adj_list_list[t],"RAL1"),this.cmd(Xn.delete,this.adj_list_index[t],"RAL2");for(let e=0;e<this.size;e++)this.adj_matrix[t][e]>0&&this.cmd(Xn.delete,this.adj_list_edges[t][e],"RAL3")}}buildAdjList(){this.adj_list_index=new Array(this.size),this.adj_list_list=new Array(this.size),this.adj_list_edges=new Array(this.size);for(let t=0;t<this.size;t++){this.adj_list_index[t]=this.nextIndex++,this.adj_list_edges[t]=new Array(this.size),this.adj_list_index[t]=this.nextIndex++,this.adj_list_list[t]=this.nextIndex++,this.cmd(Xn.createRectangle,this.adj_list_list[t],"",this.adj_list_width,this.adj_list_height,this.adj_list_x_start,this.adj_list_y_start+t*this.adj_list_height),this.cmd(Xn.setLayer,this.adj_list_list[t],2),this.cmd(Xn.createLabel,this.adj_list_index[t],this.toStr(t),this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+t*this.adj_list_height),this.cmd(Xn.setForegroundColor,this.adj_list_index[t],Pr),this.cmd(Xn.setLayer,this.adj_list_index[t],2);let e=this.adj_list_list[t],i=this.adj_list_x_start+this.adj_list_width+this.adj_list_spacing_after_list+this.adj_list_spacing_between_nodes,s=!1;for(let h=0;h<this.size;h++)this.adj_matrix[t][h]>=0&&(s=!0,this.adj_list_edges[t][h]=this.nextIndex++,this.cmd(Xn.createLinkedListNode,this.adj_list_edges[t][h],[this.toStr(h),this.adj_matrix[t][h]],this.adj_list_elem_width,this.adj_list_elem_height,i,this.adj_list_y_start+t*this.adj_list_height,.25,0,1),this.cmd(Xn.setNull,this.adj_list_edges[t][h],1),this.cmd(Xn.setTextColor,this.adj_list_edges[t][h],Pr,0),this.cmd(Xn.setLayer,this.adj_list_edges[t][h],2),i=i+this.adj_list_elem_width+this.adj_list_spacing_between_nodes,this.cmd(Xn.connect,e,this.adj_list_edges[t][h]),this.cmd(Xn.setNull,e,0),e=this.adj_list_edges[t][h]);s||this.cmd(Xn.setNull,this.adj_list_list[t],1)}}reset(){throw new Error("reset() should be implemented in child")}toStr(t){return String.fromCharCode(65+t)}enableUI(){for(const t of this.controls)t===this.defaultGraphButton&&(this.directed||this.isLarge||this.adj_matrix===this.defaultEdges)?t.disabled=!0:t.disabled=!1}disableUI(){for(const t of this.controls)t.disabled=!0}}const jr="#99CCFF",Or=190;const Hr=250;class Mr extends nr{constructor(t,e,i){super(t,e,i),this.first_print_pos_y=i-2*Mr.PRINT_VERTICAL_GAP,this.print_max=e-10,this.startingX=e/2,this.addControls(),this.nextIndex=1,this.commands=[],this.edges=[],this.toClear=[],this.cmd(Xn.createLabel,0,"",Mr.EXPLANITORY_TEXT_X,Mr.EXPLANITORY_TEXT_Y,0,this.codeID),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.pseudocode=dr.BST}addControls(){this.controls=[],this.insertField=er("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=er("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),ir(),this.deleteField=er("Text",""),this.deleteField.style.textAlign="center",this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=er("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),ir(),this.findField=er("Text",""),this.findField.style.textAlign="center",this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),ir();const t=tr(["Pre-order","In-order","Post-order","Level-order"],"Traversals");this.preOrderSelect=t[0],this.inOrderSelect=t[1],this.postOrderSelect=t[2],this.levelOrderSelect=t[3],this.preOrderSelect.onclick=()=>this.traversal="pre",this.inOrderSelect.onclick=()=>this.traversal="in",this.postOrderSelect.onclick=()=>this.traversal="post",this.levelOrderSelect.onclick=()=>this.traversal="level",this.preOrderSelect.checked=!0,this.traversal="pre",this.traverseButton=er("Button","Traverse"),this.traverseButton.onclick=this.traverseCallback.bind(this),this.controls.push(this.traverseButton),ir();const e=sr(!1);this.randomButton=er("Button","Random",e),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=er("Button","Clear",e),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton),ir();const i=tr(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=i[0],this.succButton=i[1],this.predButton.onclick=()=>this.predSucc="pred",this.succButton.onclick=()=>this.predSucc="succ",this.succButton.checked=!0,this.predSucc="succ"}setURLData(t){if(t.has("predSucc")){const e=t.get("predSucc");"pred"===e?(this.predSucc="pred",this.predButton.checked=!0):"succ"===e&&(this.predSucc="succ",this.succButton.checked=!0)}if(t.has("data")){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),parseInt(t),!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}}reset(){this.nextIndex=1,this.treeRoot=null,this.edges=[],this.toClear=[]}insertCallback(){const t=this.insertField.value;""!==t?(this.insertField.value="",this.implementAction(this.add.bind(this),parseInt(t))):this.shake(this.insertButton)}deleteCallback(){const t=this.deleteField.value;""!==t&&this.treeRoot?(this.deleteField.value="",this.implementAction(this.remove.bind(this),parseInt(t))):this.shake(this.deleteButton)}findCallback(){const t=this.findField.value;""!==t&&this.treeRoot?(this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))):this.shake(this.findButton)}traverseCallback(){this.implementAction(this.traverse.bind(this))}randomCallback(){const t=Math.floor(11*Math.random())+2;this.implementAction(this.clear.bind(this));for(let e=0;e<t;e++)this.implementAction(this.add.bind(this),Math.floor(17*Math.random())+0,!0),this.clearOldObjects(),this.animationManager.skipForward(),this.animationManager.clearHistory()}clearCallback(){this.implementAction(this.clear.bind(this))}sizeChanged(t){this.startingX=t/2}printTree(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Xn.createHighlightCircle,this.highlightID,Mr.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=Mr.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Xn.delete,this.highlightID),this.cmd(Xn.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Xn.delete,e);this.nextIndex=this.highlightID}return this.commands}preOrderRec(t,e){this.codeID=e,this.cmd(Xn.step);const i=this.nextIndex++;this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Xn.createLabel,i,t.data,t.x,t.y),this.cmd(Xn.setForegroundColor,i,Mr.PRINT_COLOR),this.cmd(Xn.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Xn.step),this.xPosOfNextLabel+=Mr.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=Mr.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=Mr.PRINT_VERTICAL_GAP),this.unhighlight(2,0,this.codeID),null!=t.left&&(this.highlight(3,0,this.codeID),this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.preOrderRec(t.left,e),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step)),this.unhighlight(3,0,this.codeID),null!=t.right&&(this.highlight(4,0,this.codeID),this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.preOrderRec(t.right,e),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step)),this.unhighlight(4,0,this.codeID)}levelOrder(t,e){this.codeID=e;const i=[t],s=this.nextIndex++,h=[this.nextIndex];for(this.cmd(Xn.createLabel,s,"Queue: ",30,225,0),this.cmd(Xn.step),this.cmd(Xn.createLabel,this.nextIndex,t.data,t.x,t.y),this.cmd(Xn.setForegroundColor,this.nextIndex,Mr.PRINT_COLOR),this.cmd(Xn.move,this.nextIndex++,35,Hr,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Xn.step),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step);0!==i.length;){const t=i.shift();this.cmd(Xn.move,this.highlightID,t.x,t.y),this.unhighlight(3,0,this.codeID);const e=h.shift();this.cmd(Xn.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.highlight(4,0,this.codeID),this.highlight(5,0,this.codeID);for(let i=0;i<h.length;i++)this.cmd(Xn.move,h[i],35+40*i,Hr);this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.xPosOfNextLabel+=Mr.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=Mr.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=Mr.PRINT_VERTICAL_GAP),this.highlight(6,0,this.codeID),null!=t.left?(this.cmd(Xn.step),this.unhighlight(6,0,this.codeID),this.highlight(7,0,this.codeID),i.push(t.left),h.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex,t.left.data,t.left.x,t.left.y),this.cmd(Xn.setForegroundColor,this.nextIndex,Mr.PRINT_COLOR),this.cmd(Xn.move,this.nextIndex++,35+40*(i.length-1),Hr),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID)):(this.cmd(Xn.step),this.unhighlight(6,0,this.codeID)),this.highlight(8,0,this.codeID),null!=t.right?(this.cmd(Xn.step),this.unhighlight(8,0,this.codeID),this.highlight(9,0,this.codeID),i.push(t.right),h.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex,t.right.data,t.right.x,t.right.y),this.cmd(Xn.setForegroundColor,this.nextIndex,Mr.PRINT_COLOR),this.cmd(Xn.move,this.nextIndex++,35+40*(i.length-1),Hr),this.cmd(Xn.step),this.unhighlight(9,0,this.codeID)):(this.cmd(Xn.step),this.unhighlight(8,0,this.codeID)),this.highlight(3,0,this.codeID),this.cmd(Xn.step)}this.unhighlight(3,0,this.codeID)}traverse(){if(this.commands=[],this.clearOldObjects(),null==this.treeRoot)return this.commands;this.cmd(Xn.setText,0,""),this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Xn.createHighlightCircle,this.highlightID,Mr.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=Mr.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,this.traversal+"order",25,35),"pre"===this.traversal?this.preOrderRec(this.treeRoot,this.codeID):"in"===this.traversal?this.printTreeRec(this.treeRoot,this.codeID):"post"===this.traversal?this.postOrderRec(this.treeRoot,this.codeID):"level"===this.traversal&&this.levelOrder(this.treeRoot,this.codeID),this.cmd(Xn.delete,this.highlightID),this.cmd(Xn.step);for(let e=t;e<this.nextIndex;e++)this.toClear.push(e);return this.commands}postOrderRec(t,e){this.codeID=e,this.cmd(Xn.step),null!=t.left&&(this.unhighlight(3,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.postOrderRec(t.left,e),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step)),this.unhighlight(2,0,this.codeID),null!=t.right&&(this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.postOrderRec(t.right,e),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step)),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);const i=this.nextIndex++;this.cmd(Xn.createLabel,i,t.data,t.x,t.y),this.cmd(Xn.setForegroundColor,i,Mr.PRINT_COLOR),this.cmd(Xn.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Xn.step),this.xPosOfNextLabel+=Mr.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=Mr.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=Mr.PRINT_VERTICAL_GAP),this.unhighlight(4,0,this.codeID)}printTreeRec(t,e){this.codeID=e,this.cmd(Xn.step),null!=t.left&&(this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left,e),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step)),this.unhighlight(2,0,this.codeID),this.unhighlight(4,0,this.codeID),this.highlight(3,0,this.codeID);const i=this.nextIndex++;this.cmd(Xn.createLabel,i,t.data,t.x,t.y),this.cmd(Xn.setForegroundColor,i,Mr.PRINT_COLOR),this.cmd(Xn.move,i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Xn.step),this.xPosOfNextLabel+=Mr.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=Mr.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=Mr.PRINT_VERTICAL_GAP),this.unhighlight(3,0,this.codeID),null!=t.right&&(this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right,e),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step)),this.unhighlight(4,0,this.codeID)}findElement(t){this.commands=[],this.clearOldObjects();const e=this.nextIndex;this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",55,115);for(let i=e;i<this.nextIndex;i++)this.toClear.push(i);return this.highlightID=this.nextIndex++,this.highlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.step),this.doFind(this.treeRoot,t),this.unhighlight(0,0,this.codeID),this.unhighlight(1,0,this.codeID),this.unhighlight(4,0,this.codeID),this.commands}doFind(t,e){this.cmd(Xn.setText,0,"Searching for "+e),null!=t?(this.cmd(Xn.setHighlight,t.graphicID,1),t.data===e?(this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID),this.cmd(Xn.setText,0,"Found: "+e),this.cmd(Xn.setHighlight,t.graphicID,0,this.codeID)):t.data>e?(this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0,this.codeID),null!=t.left&&(this.cmd(Xn.createHighlightCircle,this.highlightID,Mr.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID)),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID),this.doFind(t.left,e)):(this.highlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Xn.setText,0," Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0,this.codeID),null!=t.right&&(this.cmd(Xn.createHighlightCircle,this.highlightID,Mr.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID)),this.unhighlight(9,0,this.codeID),this.unhighlight(10,0,this.codeID),this.doFind(t.right,e))):(this.highlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Xn.setText,0,"Searching for "+e+" :  (Element not found)"),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.cmd(Xn.setText,0,"Searching for "+e+" :  (Element not found)"))}remakeTree(t){null!=t&&(null!=t.left&&(this.cmd(Xn.connect,t.graphicID,t.left.graphicID,Mr.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd(Xn.connect,t.graphicID,t.right.graphicID,Mr.LINK_COLOR),this.remakeTree(t.right)))}clearOldObjects(){this.toClear.forEach((t=>this.cmd(Xn.delete,t))),this.toClear=[]}add(t,e){this.commands=[],this.clearOldObjects();const i=this.nextIndex;e||(this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"add",55,115));for(let s=i;s<this.nextIndex;s++)this.toClear.push(s);return this.highlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.setText,0,"Inserting "+t),this.cmd(Xn.step),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.unhighlight(0,0,this.codeID),this.unhighlight(1,0,this.codeID),this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.unhighlight(7,0,this.codeID),this.unhighlight(12,0,this.codeID),this.commands}addH(t,e){if(null==e){this.highlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.highlight(7,0,this.codeID),this.cmd(Xn.setText,0,"Null found, inserting new node");const e=this.nextIndex++;return this.cmd(Xn.createCircle,e,t,30,Mr.STARTING_Y),this.cmd(Xn.setForegroundColor,e,Mr.FOREGROUND_COLOR),this.cmd(Xn.setBackgroundColor,e,Mr.BACKGROUND_COLOR),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),new Vr(t,e,0,0,this.codeID)}if(this.cmd(Xn.setHighlight,e.graphicID,1),t<e.data){this.highlight(8,0,this.codeID),this.highlight(9,0,this.codeID),this.cmd(Xn.setText,0,`${t} < ${e.data}. Looking at left subtree`),this.cmd(Xn.step),this.unhighlight(8,0,this.codeID),this.unhighlight(9,0,this.codeID),e.left=this.addH(t,e.left),e.left.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.left.graphicID)&&this.cmd(Xn.step)}else if(t>e.data){this.highlight(10,0,this.codeID),this.highlight(11,0,this.codeID),this.cmd(Xn.setText,0,`${t} > ${e.data}. Looking at right subtree`),this.cmd(Xn.step),this.unhighlight(10,0,this.codeID),this.unhighlight(11,0,this.codeID),e.right=this.addH(t,e.right),e.right.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.right.graphicID)&&this.cmd(Xn.step)}else this.highlight(12,0,this.codeID),this.cmd(Xn.setText,0,`${t} == ${e.data}. Ignoring duplicate!`),this.cmd(Xn.step);return this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.unhighlight(7,0,this.codeID),this.highlight(12,0,this.codeID),this.cmd(Xn.setHighlight,e.graphicID,0,this.codeID),this.cmd(Xn.setText,0,""),e}connectSmart(t,e){return!this.edges.some((i=>i[0]===t&&i[1]===e))&&(this.cmd(Xn.connect,t,e,Mr.LINK_COLOR),this.edges.push([t,e]),!0)}deleteNode(t){this.cmd(Xn.delete,t.graphicID)}remove(t){this.commands=[],this.clearOldObjects();const e=this.nextIndex;this.codeID="succ"===this.predSucc?this.addCodeToCanvasBaseAll(this.pseudocode,"remove_successor",40,50,13):this.addCodeToCanvasBaseAll(this.pseudocode,"remove_predecessor",40,50,13);for(let i=e;i<this.nextIndex;i++)this.toClear.push(i);return this.highlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Xn.setText,0,`Deleting ${t}`),this.cmd(Xn.step),this.cmd(Xn.setText,0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.resizeTree(),this.highlight(2,0,this.codeID),this.highlight(4,0,this.codeID),this.unhighlight(26,0,this.codeID),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(22,0,this.codeID),this.unhighlight(13,0,this.codeID),this.cmd(Xn.step),this.unhighlight(0,0,this.codeID),this.unhighlight(4,0,this.codeID),this.commands}removeH(t,e){if(null==t)return this.highlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Xn.setText,0,`${e} not found in the tree`),void this.cmd(Xn.step);if(this.cmd(Xn.setHighlight,t.graphicID,1),e<t.data)this.highlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Xn.setText,0,`${e} < ${t.data}. Looking left`),this.cmd(Xn.step),this.unhighlight(9,0,this.codeID),this.unhighlight(10,0,this.codeID),t.left=this.removeH(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(e>t.data)this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.cmd(Xn.setText,0,`${e} > ${t.data}. Looking right`),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID),t.right=this.removeH(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(this.cmd(Xn.setText,0,`Found node with data ${e}`),this.highlight(13,0,this.codeID),this.cmd(Xn.step),this.unhighlight(12,0,this.codeID),null==t.left&&null==t.right)return this.highlight(13,0,this.codeID),this.highlight(14,0,this.codeID),this.cmd(Xn.setText,0,"Element to delete is a leaf node"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.unhighlight(13,0,this.codeID),this.unhighlight(14,0,this.codeID),null;if(null==t.left)return this.highlight(15,0,this.codeID),this.highlight(16,0,this.codeID),this.cmd(Xn.setText,0,"One-child case, replace with right child"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.unhighlight(15,0,this.codeID),this.unhighlight(16,0,this.codeID),t.right;if(null==t.right)return this.highlight(17,0,this.codeID),this.highlight(18,0,this.codeID),this.cmd(Xn.setText,0,"One-child case, replace with left child"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.unhighlight(17,0,this.codeID),this.unhighlight(18,0,this.codeID),t.left;{this.highlight(22,0,this.codeID),this.highlight(23,0,this.codeID);const e=[];"succ"===this.predSucc?(this.cmd(Xn.setText,0,"Two-child case, replace data with successor"),this.cmd(Xn.step),t.right=this.removeSucc(t.right,e),t.right&&this.connectSmart(t.graphicID,t.right.graphicID)):(this.cmd(Xn.setText,0,"Two-child case, replace data with predecessor"),this.cmd(Xn.step),t.left=this.removePred(t.left,e),t.left&&this.connectSmart(t.graphicID,t.left.graphicID)),this.resizeTree(),this.unhighlight(19,0,this.codeID),this.unhighlight(20,0,this.codeID),this.unhighlight(24,0,this.codeID),this.unhighlight(29,0,this.codeID),t.data=e[0],this.cmd(Xn.setText,t.graphicID,t.data),this.cmd(Xn.step)}}return this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.unhighlight(11,0,this.codeID),this.unhighlight(22,0,this.codeID),this.unhighlight(25,0,this.codeID),this.highlight(26,0,this.codeID),this.cmd(Xn.setHighlight,t.graphicID,0,this.codeID),this.cmd(Xn.setText,0,""),t}removeSucc(t,e){return this.unhighlight(27,0,this.codeID),this.unhighlight(28,0,this.codeID),this.unhighlight(23,0,this.codeID),this.highlight(24,0,this.codeID),this.highlight(29,0,this.codeID),this.highlight(30,0,this.codeID),this.cmd(Xn.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Xn.step),null==t.left?(this.highlight(31,0,this.codeID),this.cmd(Xn.setText,0,"No left child, replace with right child"),this.cmd(Xn.step),e.push(t.data),this.unhighlight(31,0,this.codeID),this.highlight(32,0,this.codeID),this.deleteNode(t),this.cmd(Xn.step),this.unhighlight(30,0,this.codeID),this.unhighlight(32,0,this.codeID),this.unhighlight(24,0,this.codeID),this.unhighlight(29,0,this.codeID),this.highlight(25,0,this.codeID),this.cmd(Xn.setText,0,""),t.right):(this.unhighlight(30,0,this.codeID),this.highlight(33,0,this.codeID),this.highlight(34,0,this.codeID),this.cmd(Xn.setText,0,"Left child exists, look left"),this.cmd(Xn.step),this.unhighlight(33,0,this.codeID),this.unhighlight(34,0,this.codeID),t.left=this.removeSucc(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),t)}removePred(t,e){return this.unhighlight(27,0,this.codeID),this.unhighlight(28,0,this.codeID),this.unhighlight(23,0,this.codeID),this.highlight(24,0,this.codeID),this.highlight(29,0,this.codeID),this.highlight(30,0,this.codeID),this.cmd(Xn.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Xn.step),null==t.right?(this.highlight(31,0,this.codeID),this.cmd(Xn.setText,0,"No right child, replace with right child"),this.cmd(Xn.step),e.push(t.data),this.unhighlight(31,0,this.codeID),this.highlight(32,0,this.codeID),this.deleteNode(t),this.cmd(Xn.step),this.unhighlight(30,0,this.codeID),this.unhighlight(32,0,this.codeID),this.unhighlight(24,0,this.codeID),this.unhighlight(29,0,this.codeID),this.highlight(25,0,this.codeID),this.cmd(Xn.setText,0,""),t.left):(this.unhighlight(30,0,this.codeID),this.highlight(33,0,this.codeID),this.highlight(34,0,this.codeID),this.cmd(Xn.setText,0,"Right child exists, look right"),this.cmd(Xn.step),this.unhighlight(33,0,this.codeID),this.unhighlight(34,0,this.codeID),t.right=this.removePred(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),t)}resizeTree(){if(null==this.treeRoot)return;let t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,Mr.STARTING_Y,0,this.codeID),this.animateNewPositions(this.treeRoot),this.cmd(Xn.step))}setNewPositions(t,e,i,s){null!=t&&(t.y=i,-1===s?e-=t.rightWidth:1===s&&(e+=t.leftWidth),t.x=e,this.setNewPositions(t.left,e,i+Mr.HEIGHT_DELTA,-1),this.setNewPositions(t.right,e,i+Mr.HEIGHT_DELTA,1))}animateNewPositions(t){null!=t&&(this.cmd(Xn.move,t.graphicID,t.x,t.y),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}resizeWidths(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),Mr.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),Mr.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}clear(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",this.commands=[],this.clearOldObjects(),this.recClear(this.treeRoot),this.treeRoot=null,this.commands}recClear(t){null!=t&&(this.cmd(Xn.delete,t.graphicID),this.recClear(t.left),this.recClear(t.right))}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}class Vr{constructor(t,e,i,s){this.data=t,this.x=i,this.y=s,this.graphicID=e,this.left=null,this.right=null,this.parent=null}}Mr.HIGHLIGHT_COLOR="#007700",Mr.HEIGHT_LABEL_COLOR="#007700",Mr.LINK_COLOR="#000000",Mr.HIGHLIGHT_CIRCLE_COLOR="#007700",Mr.FOREGROUND_COLOR="#000000",Mr.BACKGROUND_COLOR="#FFFFFF",Mr.PRINT_COLOR="#007700",Mr.WIDTH_DELTA=50,Mr.HEIGHT_DELTA=50,Mr.STARTING_Y=50,Mr.FIRST_PRINT_POS_X=50,Mr.PRINT_VERTICAL_GAP=20,Mr.PRINT_HORIZONTAL_GAP=50,Mr.EXPLANITORY_TEXT_X=10,Mr.EXPLANITORY_TEXT_Y=10;const $r=30,qr=40,Wr="#000000",Ur="#FFFFFF",Kr=Wr;function Gr(t,e,i){this.widths=[],this.keys=[],this.children=[],this.x=e,this.y=i,this.graphicID=t,this.numKeys=1,this.isLeaf=!0,this.parent=null,this.leftWidth=0,this.rightWidth=0}const Xr=100,Qr=60,Yr=215,Zr=140;const Jr=100,to=60;const eo=100,io=130,so=50;let ho=!0;const ao=75,no=275,ro=165,oo=170,lo=12,co=100,uo=350,mo=10;const go=200,po=10,fo=270,Io=46,xo="#0000FF";class bo extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.hashType="integers"}addControls(){this.controls=[];const t=sr(!1),e=sr(!0,t),i=sr(!0,t);Yn(`Key: ${"\xa0".repeat(2)}`,e),this.keyField=er("Text","",e),this.keyField.size=4,this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),4,!0),this.controls.push(this.keyField),Yn("Value: ",i),this.valueField=er("Text","",i),this.valueField.size=4,this.valueField.onkeydown=this.returnSubmit(this.valueField,this.insertCallback.bind(this),4,!1),this.controls.push(this.valueField),this.insertButton=er("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),ir(),this.deleteField=er("Text",""),this.deleteField.setAttribute("placeholder","Key"),this.deleteField.size=4,this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=er("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),ir(),this.findField=er("Text",""),this.findField.setAttribute("placeholder","Key"),this.findField.size=4,this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),ir();const s=sr(!1),h=sr(!0,s),a=sr(!0,h),n=sr(!0,s);this.loadField=er("Text","",a),this.loadField.setAttribute("placeholder","67"),this.loadFieldLabel=Yn("%",a),this.loadField.size=2,this.loadField.onkeydown=this.returnSubmit(this.loadField,this.loadFactorCallBack.bind(this),2,!0),this.controls.push(this.loadField),this.loadButton=er("Button","Load Factor",n),this.loadButton.onclick=this.loadFactorCallBack.bind(this),this.controls.push(this.loadButton),ir(),this.rightVerticalGroup=sr(!1),this.rightVerticalTop=sr(!0,this.rightVerticalGroup),this.rightVerticalBottom=sr(!0,this.rightVerticalGroup),this.initialCapacityLabel=Yn("Initial Capacity: ",this.rightVerticalTop),this.initialCapacityField=er("Text","",this.rightVerticalTop),this.initialCapacityField.size=4,this.restartButton=er("Button","Restart",this.rightVerticalBottom),this.initialCapacityField.onkeydown=this.returnSubmit(this.initialCapacityField,null,2,!0),this.restartButton.onclick=this.clearCallback.bind(this),ir(),this.dropDownParentGroup=sr(!1),this.dropDownLabelGroup=sr(!0,this.dropDownParentGroup),this.dropDownGroup=sr(!0,this.dropDownParentGroup)}checkHashType(){"Integers"===this.hashTypeDropDown.value?this.implementAction(this.changeHashType.bind(this),"integers"):"Strings"===this.hashTypeDropDown.value?this.implementAction(this.changeHashType.bind(this),"strings"):"True"===this.hashTypeDropDown.value&&this.implementAction(this.changeHashType.bind(this),"true")}changeHashType(t){return this.hashType!==t&&(this.hashType=t,"integers"===this.hashType?(this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),4,!0),this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),4,!0),this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),4,!0)):("strings"===this.hashType||"true"===this.hashType)&&(this.keyField.onkeydown=this.returnSubmit(this.keyField,this.insertCallback.bind(this),4,!1),this.deleteField.onkeydown=this.returnSubmit(this.keyField,this.deleteCallback.bind(this),4,!1),this.findField.onkeydown=this.returnSubmit(this.keyField,this.findCallback.bind(this),4,!1))),this.resetAll()}setURLData(t){if(t.has("initialCapacity")&&(this.initialCapacityField.value=parseInt(t.get("initialCapacity").substring(0,2)),this.resizeInitialTableCall(),this.animationManager.skipForward()),t.has("loadFactor")&&(this.loadField.value=parseInt(t.get("loadFactor").substring(0,2)),this.loadFactorCallBack()),t.has("hashType")){const e=t.get("hashType").trim();"Integers"!==e&&"Strings"!==e&&"True"!==e||(this.hashTypeDropDown.value=e,this.checkHashType())}if(t.has("data")){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{const e=t.split(":");e[0]=e[0].trim().substring(0,4),e[1]=e[1].trim().substring(0,4),"integers"===this.hashType&&isNaN(Number(e[0]))?console.error("Cannot add non-integer keys when hashType is Integers."):0!==e[0].length?(this.implementAction(this.insertElement.bind(this),e[0],e[1]),this.animationManager.skipForward(),this.animationManager.clearHistory()):console.error("Cannot add empty keys.")}))}}randomCallback(){const t=Math.floor(11*Math.random())+2;this.implementAction(this.clear.bind(this));for(let e=0;e<t;e++){let t,e;if("integers"===this.hashType)t=Math.floor(17*Math.random())+0,e=Math.floor(17*Math.random())+0;else if("strings"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}else if("true"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}this.implementAction(this.insertElement.bind(this),t,e),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clear.bind(this))}doHash(t){if("integers"===this.hashType){const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++,h=parseInt(t)%this.table_size;return this.currHash=parseInt(t),this.cmd(Xn.createLabel,e,t+" % "+String(this.table_size)+" = ",fo,Io),this.cmd(Xn.createLabel,i,h,315,Io),this.cmd(Xn.step),this.cmd(Xn.createHighlightCircle,s,xo,315,Io),this.cmd(Xn.move,s,this.indexXPos[h],this.indexYPos[h]),this.cmd(Xn.step),this.cmd(Xn.delete,e),this.cmd(Xn.delete,i),this.cmd(Xn.delete,s),this.nextIndex-=3,h}if("strings"===this.hashType){const e=this.nextIndex++;this.cmd(Xn.createLabel,e,"Hashing:",10,55,0);const i=new Array(t.length),s=new Array(t.length);for(let f=0;f<t.length;f++)i[f]=this.nextIndex++,s[f]=t.charAt(f),this.cmd(Xn.createLabel,i[f],s[f],60+7*f,55,0);const h=new Array(32),a=new Array(32),n=new Array(8),r=new Array(8),o=new Array(32),l=new Array(4),d=new Array(4),c=this.nextIndex++,u=this.nextIndex++;for(let t=0;t<32;t++)a[t]=0,h[t]=this.nextIndex++,o[t]=this.nextIndex++;for(let t=0;t<8;t++)r[t]=this.nextIndex++;for(let t=0;t<4;t++)l[t]=this.nextIndex++;this.cmd(Xn.step);for(let t=s.length-1;t>=0;t--){for(let t=0;t<32;t++)this.cmd(Xn.createLabel,h[t],a[t],go+7*t,po,0);this.cmd(Xn.delete,i[t]);let e=s[t].charCodeAt(0);for(let i=7;i>=0;i--)n[i]=e%2,e=Math.floor(e/2),this.cmd(Xn.createLabel,r[i],n[i],60+7*t,55,0),this.cmd(Xn.move,r[i],go+7*(i+24),30);this.cmd(Xn.step),this.cmd(Xn.createRectangle,u,"",224,0,go,42,"left","bottom"),this.cmd(Xn.createLabel,c,"+",go,30,0),this.cmd(Xn.step);let m=0;for(let t=7;t>=0;t--)a[t+24]=a[t+24]+n[t]+m,a[t+24]>1?(a[t+24]=a[t+24]-2,m=1):m=0;for(let t=23;t>=0;t--)a[t]=a[t]+m,a[t]>1?(a[t]=a[t]-2,m=1):m=0;for(let t=0;t<32;t++)this.cmd(Xn.createLabel,o[t],a[t],go+7*t,50,0);this.cmd(Xn.step);for(let t=0;t<8;t++)this.cmd(Xn.delete,r[t]);this.cmd(Xn.delete,u),this.cmd(Xn.delete,c);for(let t=0;t<32;t++)this.cmd(Xn.delete,h[t]),this.cmd(Xn.move,o[t],go+7*t,po);if(this.cmd(Xn.step),t>0){for(let t=0;t<32;t++)this.cmd(Xn.move,o[t],go+7*(t-4),po);this.cmd(Xn.step);for(let t=0;t<28;t++)d[t]=a[t],a[t]=a[t+4];for(let t=0;t<4;t++)this.cmd(Xn.move,o[t],go+7*(t+10),30),a[t+28]=0,this.cmd(Xn.createLabel,l[t],0,go+7*(t+28),po,0),d[t]&&(a[t+10]=1-a[t+10]);this.cmd(Xn.createRectangle,u,"",224,0,go,42,"left","bottom"),this.cmd(Xn.createLabel,c,"XOR",go,30,0),this.cmd(Xn.step);for(let t=0;t<32;t++)this.cmd(Xn.createLabel,h[t],a[t],go+7*t,50,0);this.cmd(Xn.step),this.cmd(Xn.delete,c),this.cmd(Xn.delete,u);for(let t=0;t<32;t++)this.cmd(Xn.delete,o[t]),this.cmd(Xn.move,h[t],go+7*t,po);for(let t=0;t<4;t++)this.cmd(Xn.delete,l[t]);this.cmd(Xn.step);for(let t=0;t<32;t++)this.cmd(Xn.delete,h[t])}else for(let t=0;t<32;t++)this.cmd(Xn.delete,o[t])}this.cmd(Xn.delete,e);for(let t=0;t<32;t++)this.cmd(Xn.createLabel,h[t],a[t],go+7*t,po,0);this.currHash=0;for(let t=0;t<32;t++)this.currHash=2*this.currHash+a[t];this.cmd(Xn.createLabel,e," = "+String(this.currHash),424,po,0),this.cmd(Xn.step);for(let t=0;t<32;t++)this.cmd(Xn.delete,h[t]);const m=this.nextIndex++;this.cmd(Xn.setText,e,String(this.currHash)+" % "+String(this.table_size)+" = ");const g=this.currHash%this.table_size;this.cmd(Xn.createLabel,m,g,529,po,0),this.cmd(Xn.step);const p=this.nextIndex++;return this.cmd(Xn.createHighlightCircle,p,xo,530,25),this.cmd(Xn.move,p,this.indexXPos[g],this.indexYPos[g]),this.cmd(Xn.step),this.cmd(Xn.delete,p),this.cmd(Xn.delete,e),this.cmd(Xn.delete,m),g}if("true"===this.hashType){const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,a=this.trueHash(String(t)),n=a%this.table_size;return this.cmd(Xn.createLabel,e,t+".hashcode() % "+String(this.table_size)+" = ",fo,Io),this.cmd(Xn.createLabel,i,String(a)+" % "+String(this.table_size)+" = ",fo,71),this.cmd(Xn.createLabel,s,n,315,71),this.cmd(Xn.step),this.cmd(Xn.createHighlightCircle,h,xo,315,71),this.cmd(Xn.move,h,this.indexXPos[n],this.indexYPos[n]),this.cmd(Xn.step),this.cmd(Xn.delete,e),this.cmd(Xn.delete,i),this.cmd(Xn.delete,s),this.cmd(Xn.delete,h),this.nextIndex-=4,n}}trueHash(t){if("0"===t)return 0;let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e^=0xa8c2991a181,e&=65535;return e}resetAll(){return this.implementAction(this.changeLoadFactor.bind(this),.67),this.keyField.value="",this.valueField.value="",this.deleteField.value="",this.findField.value="",this.loadField.value="",[]}insertCallback(){const t="integers"===this.hashType?parseInt(this.keyField.value).toString():this.keyField.value,e=this.valueField.value;""!==t&&""!==e?(this.keyField.value="",this.valueField.value="",this.implementAction(this.insertElement.bind(this),t,e)):this.shake(this.insertButton)}deleteCallback(){const t=this.deleteField.value;""!==t?(this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),t)):this.shake(this.deleteButton)}findCallback(){const t=this.findField.value;""!==t?(this.findField.value="",this.implementAction(this.findElement.bind(this),t)):this.shake(this.findButton)}loadFactorCallBack(){const t=this.loadField.value&&this.loadField.value>0?parseInt(this.loadField.value)/100:.67;this.loadField.value=(100*t).toFixed(0),this.implementAction(this.changeLoadFactor.bind(this),t)}reset(){this.hashType="integers"}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0,this.restartButton.disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1,this.restartButton.disabled=!1}}const Do=85,yo=30,vo=100,ko=.67,Co=70,wo="#0000FF";class Lo{constructor(t,e){this.key=t,this.val=e,this.elem=`<${t}, ${e}>`}}const To=100,So=120,Fo=50;let Ao=!0;const _o="#0000FF",Bo="#99CCFF",zo=120;class Po extends nr{constructor(t,e,i){super(t,e,i),this.first_print_pos_y=i-2*Po.PRINT_VERTICAL_GAP,this.print_max=e-10,this.startingX=e/2,this.addControls(),this.nextIndex=1,this.commands=[],this.edges=[],this.cmd(Xn.createLabel,0,"",Po.EXPLANITORY_TEXT_X,Po.EXPLANITORY_TEXT_Y,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}addControls(){this.controls=[],this.insertField=er("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=er("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),ir(),this.deleteField=er("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=er("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),ir(),this.findField=er("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),ir(),this.printButton=er("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir();const t=tr(["Right-LVA","Left-LVA"],"rlva/llva");this.rightButton=t[0],this.leftButton=t[1],this.rightButton.onclick=()=>{this.implementAction(this.clear.bind(this)),this.rightLeft="right"},this.leftButton.onclick=()=>{this.implementAction(this.clear.bind(this)),this.rightLeft="left"},this.rightButton.checked=!0,this.rightLeft="right",this.predSucc="pred"}reset(){this.nextIndex=1,this.treeRoot=null,this.edges=[]}insertCallback(){let t=this.insertField.value;t=this.normalizeNumber(t,4),""!==t&&(this.insertField.value="",this.implementAction(this.add.bind(this),parseInt(t)))}deleteCallback(){let t=this.deleteField.value;""!==t&&(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.remove.bind(this),parseInt(t)))}findCallback(){let t=this.findField.value;""!==t&&(t=this.normalizeNumber(t,4),this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t)))}printCallback(){this.implementAction(this.printTree.bind(this))}clearCallback(){this.implementAction(this.clear.bind(this))}sizeChanged(t){this.startingX=t/2}printTree(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Xn.createHighlightCircle,this.highlightID,Po.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=Po.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Xn.delete,this.highlightID),this.cmd(Xn.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Xn.delete,e);this.nextIndex=this.highlightID}return this.commands}printTreeRec(t){this.cmd(Xn.step),null!=t.left&&(this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step));const e=this.nextIndex++;this.cmd(Xn.createLabel,e,t.data,t.x,t.y),this.cmd(Xn.setForegroundColor,e,Po.PRINT_COLOR),this.cmd(Xn.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Xn.step),this.xPosOfNextLabel+=Po.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=Po.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=Po.PRINT_VERTICAL_GAP),null!=t.right&&(this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step))}findElement(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t),this.commands}doFind(t,e){this.cmd(Xn.setText,0,"Searchiing for "+e),null!=t?(this.cmd(Xn.setHighlight,t.graphicID,1),t.data===e?(this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(Xn.step),this.cmd(Xn.setText,0,"Found:"+e),this.cmd(Xn.setHighlight,t.graphicID,0)):t.data>e?(this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),null!=t.left&&(this.cmd(Xn.createHighlightCircle,this.highlightID,Po.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID)),this.doFind(t.left,e)):(this.cmd(Xn.setText,0," Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),null!=t.right&&(this.cmd(Xn.createHighlightCircle,this.highlightID,Po.HIGHLIGHT_COLOR,t.x,t.y),this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID)),this.doFind(t.right,e))):(this.cmd(Xn.setText,0," Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd(Xn.step),this.cmd(Xn.setText,0," Searching for "+e+" :  (Element not found)"))}remakeTree(t){null!=t&&(null!=t.left&&(this.cmd(Xn.connect,t.graphicID,t.left.graphicID,Po.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd(Xn.connect,t.graphicID,t.right.graphicID,Po.LINK_COLOR),this.remakeTree(t.right)))}add(t){return this.commands=[],this.cmd(Xn.setText,0," Inserting "+t),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.commands}addH(t,e){if(null==e){this.cmd(Xn.setText,0,"Null found, inserting new node");const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;return this.cmd(Xn.createCircle,e,t,30,Po.STARTING_Y),this.cmd(Xn.setForegroundColor,e,Po.FOREGROUND_COLOR),this.cmd(Xn.setBackgroundColor,e,Po.BACKGROUND_COLOR),this.cmd(Xn.createLabel,i,0,10,Po.STARTING_Y-20),this.cmd(Xn.setForegroundColor,i,Po.HEIGHT_LABEL_COLOR),this.cmd(Xn.createLabel,s,0,50,Po.STARTING_Y-20),this.cmd(Xn.setForegroundColor,s,Po.HEIGHT_LABEL_COLOR),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),new Eo(t,e,i,s,0,0)}if(this.cmd(Xn.setHighlight,e.graphicID,1),t<e.data){this.cmd(Xn.setText,0,`${t} < ${e.data}. Looking at left subtree`),this.cmd(Xn.step),e.left=this.addH(t,e.left),e.left.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.left.graphicID)&&this.cmd(Xn.step)}else if(t>e.data){this.cmd(Xn.setText,0,`${t} > ${e.data}. Looking at right subtree`),this.cmd(Xn.step),e.right=this.addH(t,e.right),e.right.parent=e,this.resizeTree();this.connectSmart(e.graphicID,e.right.graphicID)&&this.cmd(Xn.step)}else this.cmd(Xn.setText,0,`${t} == ${e.data}. Ignoring duplicate!`),this.cmd(Xn.step);return e=this.balance(e),this.cmd(Xn.setHighlight,e.graphicID,0),this.cmd(Xn.setText,0,""),e}connectSmart(t,e){return!this.edges.some((i=>i[0]===t&&i[1]===e))&&(this.cmd(Xn.connect,t,e,Po.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,t,e,Po.LINK_OPACITY),this.edges.push([t,e]),!0)}balance(t){return t.updateHeightAndBF(),this.cmd(Xn.setText,t.heightLabelID,t.height),this.cmd(Xn.setText,t.bfLabelID,t.bf),this.cmd(Xn.setText,0,"Adjusting height and balance factor after recursive call"),this.cmd(Xn.step),"right"===this.rightLeft?null!=t.left&&(t=this.singleRotateRight(t)):null!=t.right&&(t=this.singleRotateLeft(t)),t}singleRotateRight(t){const e=t,i=t.left,s=i.right;return this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.step),null!=s&&(this.cmd(Xn.disconnect,i.graphicID,s.graphicID),this.cmd(Xn.connect,e.graphicID,s.graphicID,Po.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,e.graphicID,s.graphicID,Po.LINK_OPACITY),s.parent=e),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,Po.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,i.graphicID,e.graphicID,Po.LINK_OPACITY),i.parent=e.parent,this.treeRoot===e?this.treeRoot=i:(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID,Po.LINK_COLOR),this.cmd(Xn.connect,e.parent.graphicID,i.graphicID,Po.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,e.parent.graphicID,i.graphicID,Po.LINK_OPACITY),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.right=e,e.parent=i,e.left=s,this.cmd(Xn.setHighlight,i.graphicID,0),this.cmd(Xn.setHighlight,e.graphicID,0),e.updateHeightAndBF(),this.cmd(Xn.setText,e.heightLabelID,e.height),this.cmd(Xn.setText,e.bfLabelID,e.bf),i.updateHeightAndBF(),this.cmd(Xn.setText,i.heightLabelID,i.height),this.cmd(Xn.setText,i.bfLabelID,i.bf),this.resizeTree(),i}singleRotateLeft(t){const e=t,i=t.right,s=i.left;return this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.step),null!=s&&(this.cmd(Xn.disconnect,i.graphicID,s.graphicID),this.cmd(Xn.connect,e.graphicID,s.graphicID,Po.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,e.graphicID,s.graphicID,Po.LINK_OPACITY),s.parent=e),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,Po.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,i.graphicID,e.graphicID,Po.LINK_OPACITY),i.parent=e.parent,this.treeRoot===e?this.treeRoot=i:(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID,Po.LINK_COLOR),this.cmd(Xn.connect,e.parent.graphicID,i.graphicID,Po.LINK_COLOR),this.cmd(Xn.setEdgeAlpha,e.parent.graphicID,i.graphicID,Po.LINK_OPACITY),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.left=e,e.parent=i,e.right=s,this.cmd(Xn.setHighlight,e.graphicID,0),this.cmd(Xn.setHighlight,i.graphicID,0),e.updateHeightAndBF(),this.cmd(Xn.setText,e.heightLabelID,e.height),this.cmd(Xn.setText,e.bfLabelID,e.bf),i.updateHeightAndBF(),this.cmd(Xn.setText,i.heightLabelID,i.height),this.cmd(Xn.setText,i.bfLabelID,i.bf),this.resizeTree(),i}getHeight(t){return null==t?-1:t.height}resetHeight(t){if(null!=t){const e=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1;t.height!==e&&(t.height=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1,this.cmd(Xn.setText,t.heightLabelID,e))}}deleteNode(t){this.cmd(Xn.delete,t.graphicID),this.cmd(Xn.delete,t.heightLabelID),this.cmd(Xn.delete,t.bfLabelID)}remove(t){return this.commands=[],this.cmd(Xn.setText,0,`Deleting ${t}`),this.cmd(Xn.step),this.cmd(Xn.setText,0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.cmd(Xn.setText,0,""),this.resizeTree(),this.commands}removeH(t,e){if(null!=t){if(this.cmd(Xn.setHighlight,t.graphicID,1),e<t.data)this.cmd(Xn.setText,0,`${e} < ${t.data}. Looking left`),this.cmd(Xn.step),t.left=this.removeH(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(e>t.data)this.cmd(Xn.setText,0,`${e} > ${t.data}. Looking right`),this.cmd(Xn.step),t.right=this.removeH(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(null==t.left&&null==t.right)return this.cmd(Xn.setText,0,"Element to delete is a leaf node"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),null;if(null==t.left)return this.cmd(Xn.setText,0,"One-child case, replace with right child"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),t.right;if(null==t.right)return this.cmd(Xn.setText,0,"One-child case, replace with left child"),this.cmd(Xn.step),this.deleteNode(t),this.cmd(Xn.step),t.left;{const e=[];"succ"===this.predSucc?(this.cmd(Xn.setText,0,"Two-child case, replace data with successor"),this.cmd(Xn.step),t.right=this.removeSucc(t.right,e),t.right&&this.connectSmart(t.graphicID,t.right.graphicID)):(this.cmd(Xn.setText,0,"Two-child case, replace data with predecessor"),this.cmd(Xn.step),t.left=this.removePred(t.left,e),t.left&&this.connectSmart(t.graphicID,t.left.graphicID)),this.resizeTree(),t.data=e[0],this.cmd(Xn.setText,t.graphicID,t.data)}}return t=this.balance(t),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setText,0,""),t}this.cmd(Xn.setText,0,`${e} not found in the tree`)}removeSucc(t,e){return this.cmd(Xn.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Xn.step),null==t.left?(this.cmd(Xn.setText,0,"No left child, replace with right child"),this.cmd(Xn.step),e.push(t.data),this.deleteNode(t),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),t.right):(this.cmd(Xn.setText,0,"Left child exists, look left"),this.cmd(Xn.step),t.left=this.removeSucc(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(Xn.setHighlight,t.graphicID,0),t)}removePred(t,e){return this.cmd(Xn.setHighlight,t.graphicID,1,"#0000ff"),this.cmd(Xn.step),null==t.right?(this.cmd(Xn.setText,0,"No right child, replace with right child"),this.cmd(Xn.step),e.push(t.data),this.deleteNode(t),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),t.left):(this.cmd(Xn.setText,0,"Right child exists, look right"),this.cmd(Xn.step),t.right=this.removePred(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),t=this.balance(t),this.cmd(Xn.setHighlight,t.graphicID,0),t)}resizeTree(){if(null==this.treeRoot)return;let t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,Po.STARTING_Y,0),this.animateNewPositions(this.treeRoot),this.cmd(Xn.step))}setNewPositions(t,e,i,s){null!=t&&(t.y=i,-1===s?(e-=t.rightWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):1===s?(e+=t.leftWidth,t.heightLabelX=e-20,t.bfLabelX=e+20):(t.heightLabelX=e-20,t.bfLabelX=e+20),t.x=e,t.heightLabelY=t.y-20,t.bfLabelY=t.y-20,this.setNewPositions(t.left,e,i+Po.HEIGHT_DELTA,-1),this.setNewPositions(t.right,e,i+Po.HEIGHT_DELTA,1))}animateNewPositions(t){null!=t&&(this.cmd(Xn.move,t.graphicID,t.x,t.y),this.cmd(Xn.move,t.heightLabelID,t.heightLabelX,t.heightLabelY),this.cmd(Xn.move,t.bfLabelID,t.bfLabelX,t.bfLabelY),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}resizeWidths(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),Po.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),Po.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}clear(){return this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}recClear(t){null!=t&&(this.cmd(Xn.delete,t.graphicID),this.cmd(Xn.delete,t.heightLabelID),this.cmd(Xn.delete,t.bfLabelID),this.recClear(t.left),this.recClear(t.right))}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}class Eo{constructor(t,e,i,s,h,a){this.data=t,this.x=h,this.y=a,this.heightLabelID=i,this.bfLabelID=s,this.height=0,this.bf=0,this.graphicID=e,this.left=null,this.right=null,this.parent=null}updateHeightAndBF(){const t=t=>null==t?-1:t.height,e=t(this.left),i=t(this.right);this.height=Math.max(e,i)+1,this.bf=e-i}isLeftChild(){return null==this.parent||this.parent.left===this}}Po.HIGHLIGHT_LABEL_COLOR="#FF0000",Po.HIGHLIGHT_COLOR="#007700",Po.HEIGHT_LABEL_COLOR="#000000",Po.LINK_COLOR="#000000",Po.LINK_OPACITY=.2,Po.HIGHLIGHT_CIRCLE_COLOR="#007700",Po.FOREGROUND_COLOR="#000000",Po.BACKGROUND_COLOR="#FFFFFF",Po.PRINT_COLOR="#007700",Po.WIDTH_DELTA=50,Po.HEIGHT_DELTA=50,Po.STARTING_Y=50,Po.FIRST_PRINT_POS_X=50,Po.PRINT_VERTICAL_GAP=20,Po.PRINT_HORIZONTAL_GAP=50,Po.EXPLANITORY_TEXT_X=10,Po.EXPLANITORY_TEXT_Y=10;const Ro=[{name:"sin",equation:t=>-50*Math.sin(t*Math.PI/4)},{name:"exponential",equation:t=>-1*Math.pow(1.41,t)+200},{name:"quadratic",equation:t=>Math.pow(2.2*t-18.7,2)-150},{name:"logarithmic",equation:t=>-100*Math.log(t+.4)+170},{name:"multaplicative inverse",equation:t=>250/(2.8*t-24.1)}];class No{constructor(t,e){this.key=t,this.val=e,this.elem=`<${t}, ${e}>`}}const jo=40,Oo=30,Ho=645,Mo=475;const Vo=100,$o=245,qo=50,Wo=50,Uo=14,Ko=130,Go=180,Xo=120,Qo=280,Yo=120,Zo=60,Jo=30,tl=130,el=30,il=-40,sl="#0000FF",hl=450,al=20;var nl=class{constructor(){this.backingArray=[]}enqueue(t,e,i){this.backingArray.push([t,e,i]),this.backingArray.sort(((t,e)=>t[2]!==e[2]?t[2]-e[2]:Array.isArray(t[0])?t[0][0]!==e[0][0]?t[0][0]-e[0][0]:t[0][1]-e[0][1]:t[0]-e[0]))}dequeue(){const t=this.backingArray.shift();return[t[0],t[1]]}size(){return this.backingArray.length}getIDs(){return this.backingArray.map((t=>t[1]))}};const rl=110,ol=110,ll=50,dl=180;const cl=135,ul=230;const ml=40,gl=50,pl=[0,450,250,650,150,350,550,750,100,200,300,400,500,600,700,800,75,125,175,225,275,325,375,425,475,525,575,625,675,725,775,825],fl=[0,180,250,250,320,320,320,320,390,390,390,390,390,390,390,390,460,460,460,460,460,460,460,460,460,460,460,460,460,460,460,460];const Il=100,xl=130,bl=50;const Dl=100,yl=60,vl=100;const kl=145,Cl=50,wl=20,Ll=52,Tl=110,Sl=40,Fl=100,Al=150,_l=135;const Bl=485,zl=70,Pl=50,El=485,Rl=935,Nl=140,jl=50,Ol=20,Hl=15;let Ml=!1;const Vl=135,$l=230;const ql=650,Wl=50,Ul=75,Kl=50,Gl=15;const Xl=50,Ql=25,Yl=70,Zl=100,Jl=.67,td="#0000FF";class ed{constructor(t,e,i,s,h){this.key=t,this.val=e,this.graphicID=i,this.x=s,this.y=h,this.next=null}}const id="#99CCFF",sd=143;const hd=100,ad=240,nd=50,rd=50,od=14,ld=130,dd=130,cd=260,ud="#0000FF",md=-40;const gd=475,pd=120,fd=50;let Id,xd=0;const bd=100,Dd=120,yd=50;let vd,kd=0;const Cd=100,wd=60;const Ld=100,Td=130,Sd=50;const Fd=[3,2,0,3,3,4,4,0,2,1,3,4,0,0,1,0,0,3,2,1,2,1,2,3,1,0,4,1,4,4,4,4,2,0,1,4,4,3,0,0,3,2,3,3,1,1,4,1,0,1,1,0,4,3,3,0,0,2,4,2,3,2,4,3,1,1,2,0,3,4,4,2,4,1,0,0,2,1,0,0,4,0,2,4,0,2,4,4,0,3,3,2,0,0,1,3,0,3,3,1,0,1,1,0,3,0,3,0,4,2,1,1,2,0,0,1,1,2,3,4,3,1,2,4,1,3,1,3,2,0,1,1,0,4,3,1,0,0,0,1,4,0,3,4,1,1,3,0,1,0,2,3,3,3,3,1,1,3,0,3,0,3,0,2,0,2,4,0,1,0,3,1,2,3,3,3,0,3,1,1,0,2,1,2,3,0,0,1,1,0,3,1,2,4,2,2,4,0,3,4,0,3,1,0,2,4,0,4,2,0,2,3,0,4,4,1,3,0,1,0,2,3,2,3,0,2,4,0,3,3,3,3,1,4,3,1,2,3,4,1,4,2,2,0,3,3,1,4,1,1,2,3,4,4,3,4,3,2,2,2,0,0,2,4,2,1,2,3,4,1,0,4,0,1,0,1,2,4,4,3,3,1,3,3,1,0,4,4,1,2,4,3,1,2,1,4,4,3,2,1,2,4,2,2,1,3,4,4,4,0,4,2,1,0,1,0,0,1,1,1,0,4,3,0,0,4,4,4,1,2,0,2,4,2,0,3,1,1,2,3,3,0,3,2,1,4,1,4,4,4,1,1,4,2,1,0,3,4,1,4,0,3,1,2,4,0,0,3,4,2,2,1,2,0,3,1,3,1,4,0,1,3,4,1,4,3,0,0,4,1,0,2,0,2,4,2,2,0,3,4,2,4,4,3,3,4,2,2,4,4,2,0,3,3,2,1,3,1,2,0,0,0,1,2,2,2,1,4,1,3,4,1,3,4,1,0,2,3,3,4,0,3,2,3,4,4,4,0,3,2,4,2,4,1,2,4,3,4,4,2,2,2,0,2,4,3,4,2,1,2,2,1,3,0,2,0,3,4,3,2,0,1,1,3,2,1,1,0,0,1,4,1,1,2,1,1,0,1,4,4,4,2,0,0,2,2,3,2,4,2,3,2,3,3,0,2,0,4,2,0,4,3,0,1,1,3,3,1,3,0,3,1,2,3,1,1,2,1,0,0,0,0,4,3,4,3,2,1,1,3,4,4,4,3,2,0,0,2,1,2,0,4,1,4,4,3,4,0,2,2,3,0,0,0,3,3,4,4,4,0,4,4,0,0,3,1,4,3,2,0,4,2,4,4,1,2,0,4,3,1,1,3,3,3,2,3,0,3,2,2,3,2,3,2,2,3,4,4,0,3,2,0,0,2,3,3,2,0,3,4,0,0,4,4,2,3,3,2,2,1,4,0,3,4,3,3,0,0,4,1,2,0,1,2,2,1,1,1,3,4,4,3,2,3,1,4,0,4,0,0,0,4,4,2,1,0,2,2,1,4,2,2,4,0,2,1,3,1,1,0,0,3,1,2,0,2,2,0,2,1,4,2,2,3,2,2,4,0,1,3,3,2,0,1,0,4,3,1,4,3,0,2,1,2,4,2,0,1,1,0,0,1,3,2,0,3,1,2,1,3,0,0,1,1,4,1,3,1,3,0,2,1,3,1,1,2,3,0,3,2,3,3,2,2,2,3,0,1,1,0,2,3,3,0,3,2,3,1,2,3,2,1,4,0,4,3,0,1,1,2,1,1,0,1,3,1,4,2,1,1,3,0,3,3,0,4,0,3,2,4,4,4,3,1,0,4,2,1,3,2,3,2,2,2,2,1,3,3,3,4,1,0,0,2,4,2,2,3,0,3,4,2,1,4,3,4,2,3,0,3,3,3,1,4,2,2,3,3,4,4,3,1,3,2,4,3,0,3,2,0,3,3,1,1,3,2,2,0,4,2,3,1,0,4,3,2,0,0,0,3,1,0,4,3,4,3,0,2,1,2,1,2,0,3,4,0,1,4,4,1,0,0,0,0,0,2,1,3,4,3,1,1,3,4,0,1,1,1,3,1,0,2,3,4,4,4,1,4,1,0,1,1,2,4,3,3,2,4,0,2,0,3,3,2,1,3,3,4,1,4,2,1,0,3,3,3,0,4,2,4,3,4,1,2,3,0,3,1,2,1,2,4,4,0,3,2,0,4,3,4,1,4,1,0,3,1,1,3,0,0],Ad=100,_d=400,Bd=40,zd=80,Pd="\u2212\u221e";const Ed="#000000",Rd="#007700",Nd="#000000",jd="#FFFFFF";class Od{constructor(t,e,i,s){this.data=t,this.x=i,this.y=s,this.graphicID=e,this.left=null,this.right=null,this.parent=null}isLeftChild(){return null==this.parent||this.parent.left===this}}const Hd=100,Md=225,Vd=50,$d=50,qd=14,Wd=130,Ud=120;const Kd=150,Gd=[0,450,250,650,150,350,550,750,100,200,300,400,500,600,700,800,75,125,175,225,275,325,375,425,475,525,575,625,675,725,775,825],Xd=[0,250,320,320,390,390,390,390,460,460,460,460,460,460,460,460,530,530,530,530,530,530,530,530,530,530,530,530,530,530,530,530];const Qd=650,Yd=50,Zd=75,Jd=50;const tc=100,ec=130;const ic=650,sc=100,hc=75,ac=50;let nc=[[0,1,0,1,0,0,0,0],[1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]].map((t=>t.map((t=>t||-1))));const rc={NonLinearProbing:["Non-Linear Probing",class extends bo{constructor(t,e,i){super(t,e,i),this.elements_per_row=18,this.setup()}addControls(){super.addControls(),ir(),this.fillButton=er("Button","Fill HashMap"),this.fillButton.onclick=this.fillCallback.bind(this),this.controls.push(this.fillButton),ir(),Yn("Collision Strategy: h(elem) + i ???")}setup(){this.resetIndex=this.nextIndex,this.table_size=18,this.load_factor=.67,this.skipDist=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.size=0,this.indexLabelID=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.indexEqYPos=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++,this.commands=[],this.equation=Ro[parseInt(Math.random()*(Ro.length-1))];for(let t=0;t<this.table_size;t++){this.skipDist[t]=t+1,this.hashTableVisual[t]=this.nextIndex++,this.empty[t]=!0,this.deleted[t]=!1;const e=100+t%this.elements_per_row*60,i=200+Math.floor(t/this.elements_per_row),s=200+this.equation.equation(t);this.cmd(Xn.createRectangle,this.hashTableVisual[t],"",60,30,e,i),this.indexLabelID[t]=this.nextIndex++,this.indexXPos[t]=e,this.indexYPos[t]=i+30,this.indexEqYPos[t]=s,this.cmd(Xn.createLabel,this.indexLabelID[t],t,this.indexXPos[t],this.indexYPos[t]),this.cmd(Xn.setForegroundColor,this.indexLabelID[t],"#0000FF")}this.cmd(Xn.createLabel,this.ExplainLabel,"",10,40,0),this.cmd(Xn.createLabel,this.HashIndexID,"",570,75),this.cmd(Xn.createLabel,this.DelIndexLabel,"",10,60,0),this.cmd(Xn.createLabel,this.loadFactorID,`Load Factor: ${this.load_factor}`,100,20),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}fillCallback(){this.implementAction(this.fillMap.bind(this))}fillMap(){this.commands=[];const t=this.hashTableValues.length-this.size;for(let e=0;e<t;e++)this.insertElement(e,"val",!0);return this.commands}insertElement(t,e,i){const s=new No(t,e),h=s.elem;i||(this.commands=[]),this.cmd(Xn.setText,this.ExplainLabel,"Inserting element: "+h),this.cmd(Xn.step);let a=this.doHash(t);if(a=this.getEmptyIndex(a,t),-2===a)return this.cmd(Xn.setText,this.ExplainLabel,"Happy april fools!\n                  - Grant, Liam, William, and the TAs :)"),this.commands;this.hashTableValues[a]&&this.hashTableValues[a].key===t&&!this.deleted[a]&&(this.cmd(Xn.setText,this.ExplainLabel,"Key "+t+" is already in HashMap, updating value.",""),this.size--);const n=this.nextIndex++;return this.cmd(Xn.createLabel,n,h,20,25),this.cmd(Xn.move,n,this.indexXPos[a],this.indexYPos[a]-30),this.cmd(Xn.step),this.cmd(Xn.delete,n),this.cmd(Xn.setText,this.hashTableVisual[a],h),this.cmd(Xn.setHighlight,this.hashTableVisual[a],0),this.cmd(Xn.step),this.cmd(Xn.move,this.hashTableVisual[a],this.indexXPos[a],this.indexEqYPos[a]-30),this.cmd(Xn.move,this.indexLabelID[a],this.indexXPos[a],this.indexEqYPos[a]),this.cmd(Xn.step),this.hashTableValues[a]=s,this.empty[a]=!1,this.deleted[a]=!1,this.size++,this.cmd(Xn.setText,this.ExplainLabel,""),this.cmd(Xn.setText,this.DelIndexLabel,""),this.commands}getEmptyIndex(t,e){let i=1,s=0,h=-1;const a=t;for(this.cmd(Xn.setHighlight,this.hashTableVisual[t],1);s<this.table_size&&!this.empty[t]&&this.hashTableValues[t].key!==e;)this.cmd(Xn.setText,this.ExplainLabel,"Entry occupied, so probe forward"),this.cmd(Xn.step),-1===h&&this.deleted[t]&&(this.cmd(Xn.setText,this.ExplainLabel,"Storing index of first deleted element"),this.cmd(Xn.setText,this.DelIndexLabel,"First Deleted Index: "+t),h=t,this.cmd(Xn.step)),this.cmd(Xn.setHighlight,this.hashTableVisual[t],0),this.cmd(Xn.setText,this.ExplainLabel,""),t=(a+this.skipDist[s])%this.table_size,this.currentHashingTypeButtonState===this.quadraticProbingButton&&(i=s+1),this.cmd(Xn.setText,this.HashIndexID,`Index to probe: (${a} + ${s+1}*${i}) % ${this.table_size} = `+(a+this.skipDist[s])%this.table_size),this.cmd(Xn.setHighlight,this.hashTableVisual[t],1),this.empty[t]?this.cmd(Xn.setText,this.ExplainLabel,"Encountered null spot, so terminate loop"):this.hashTableValues[t].key===e&&this.cmd(Xn.setText,this.ExplainLabel,"Encountered matching key, so terminate loop"),s++,this.cmd(Xn.step);return this.cmd(Xn.setText,this.HashIndexID,""),this.empty[t]||this.hashTableValues[t].key!==e||this.deleted[t]?s===this.table_size&&-1===h?(this.cmd(Xn.setHighlight,this.hashTableVisual[t],0),-2):(-1!==h?(this.cmd(Xn.setHighlight,this.hashTableVisual[t],0),this.cmd(Xn.setText,this.ExplainLabel,"Inserting at earlier DEL spot"),t=h):null==this.hashTableValues[t]?this.cmd(Xn.setText,this.ExplainLabel,"Inserting at null spot"):this.hashTableValues[t].key===e&&this.cmd(Xn.setText,this.ExplainLabel,"Inserting at DEL spot with same key"),this.cmd(Xn.setHighlight,this.hashTableVisual[t],1),this.cmd(Xn.step),-1!==h?h:t):(this.cmd(Xn.setHighlight,this.hashTableVisual[t],0),t)}getElemIndex(t,e){let i=1;const s=t;let h=-1,a=t;for(let n=0;n<this.table_size;n++){if(this.cmd(Xn.setHighlight,this.hashTableVisual[a],1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.hashTableVisual[a],0),!this.empty[a]&&!this.deleted[a]&&this.hashTableValues[a].key===e){h=a;break}if(this.empty[a]||this.deleted[a]&&this.hashTableValues[a].key===e)break;this.currentHashingTypeButtonState===this.quadraticProbingButton&&(i=n+1),this.cmd(Xn.setText,this.HashIndexID,`Index to probe: (${s} + ${n+1}*${i}) % ${this.table_size} = `+(s+this.skipDist[n])%this.table_size),a=(t+this.skipDist[n])%this.table_size}return this.cmd(Xn.setText,this.HashIndexID,""),h}deleteElement(t){this.commands=[],this.cmd(Xn.setText,this.ExplainLabel,"Deleting element with key: "+t);let e=this.doHash(t);if(e=this.getElemIndex(e,t),e>=0){const t=this.hashTableValues[e].elem;this.cmd(Xn.setText,this.ExplainLabel,"Deleting element: "+t+"  Element deleted"),this.deleted[e]=!0,this.cmd(Xn.setText,this.hashTableVisual[e],"DEL"),this.size--}else this.cmd(Xn.setText,this.ExplainLabel,"Deleting element with key: "+t+"  Key not in table");return this.commands}findElement(t){this.commands=[],this.cmd(Xn.setText,this.ExplainLabel,"Finding Key: "+t);const e=this.doHash(t);return-1!==this.getElemIndex(e,t)?this.cmd(Xn.setText,this.ExplainLabel,"Found Key: "+t+"  Value: "+this.hashTableValues[e].val):this.cmd(Xn.setText,this.ExplainLabel,"Finding Key: "+t+"  Not Found!"),this.commands}changeLoadFactor(t){return this.commands=[],this.cmd(Xn.setText,this.loadFactorID,"Resizing? We don't do that here"),this.cmd(Xn.step),this.commands}resetAll(){this.commands=super.resetAll(),this.size=0;for(let t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableValues[t]=void 0,this.cmd(Xn.setText,this.hashTableVisual[t],"");return this.commands}reset(){this.nextIndex=this.resetIndex,this.table_size=18,this.load_factor=.67,this.size=0,this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.indexLabelID=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++;for(let t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableVisual[t]=this.nextIndex++,this.indexLabelID[t]=this.nextIndex++;super.reset()}resetCallback(){}disableUI(){super.disableUI()}enableUI(){super.enableUI()}},!1,"Non-Linear Probing",!0],LVA:["LVA",Po,!1,"Landis-Velsky-Adelson Tree",!0],BogoSort:["Bogo Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). No more than 5 elements, unless you have time to spare...',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.warningID=this.nextIndex++,this.iterations=0,this.colors=["#f0928e","#f8b896","#a9fd99","#a8fdff","#94b3f9","#ca8ff9","#f092f9","#ed74f0","#ec74b3","#ed7370"],this.cmd(Xn.createLabel,this.comparisonCountID,"Iterations: "+this.iterations,100,50),this.cmd(Xn.createLabel,this.warningID,"",200,200),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.arrayData=[],this.arrayID=[],this.displayData=[],this.removeCode(this.codeID),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.warningID=this.nextIndex++,this.iterations=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));""!==this.listField.value&&t.length<=18&&t.map(Number).filter((t=>t>999||Number.isNaN(t))).length<=0&&(this.implementAction(this.clear.bind(this)),this.listField.value="",this.implementAction(this.sort.bind(this),t))}clearCallback(){this.implementAction(this.clear.bind(this))}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clear(){this.commands=[];for(let t=0;t<this.arrayID.length;t++)this.cmd(Xn.delete,this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.iterations=0,this.cmd(Xn.setText,this.comparisonCountID,"Iterations: "+this.iterations),this.cmd(Xn.setText,this.warningID,""),this.commands}sort(t){this.commands=[],this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=this.arrayData.length,i=new Map,s=new Map;for(let a=0;a<e;a++){const t=i.has(this.arrayData[a])?i.get(this.arrayData[a]):0;t>0&&s.set(this.arrayData[a],"a"),i.set(this.arrayData[a],t+1)}for(let a=0;a<e;a++){this.arrayID[a]=this.nextIndex++;const t=50*a+100,e=130;let i=this.arrayData[a].toString();if(s.has(this.arrayData[a])){const t=s.get(this.arrayData[a]);i+=t,s.set(this.arrayData[a],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[a]=i,this.cmd(Xn.createRectangle,this.arrayID[a],i,50,50,t,e)}for(let a=0;a<this.arrayData.length;a++)this.cmd(Xn.setBackgroundColor,this.arrayID[a],this.colors[a%this.colors.length]);if(this.cmd(Xn.step),this.arrayData.length>=10){for(let t=0;t<this.arrayData.length/2;t++)this.cmd(Xn.step);for(;this.arrayID.length>0;){const t=this.arrayID.splice(Math.floor(Math.random()*(this.arrayID.length-1)),1);this.cmd(Xn.delete,t),this.cmd(Xn.step)}return this.arrayID=[],this.arrayData=[],this.displayData=[],this.iterations=0,this.cmd(Xn.setText,this.comparisonCountID,"Iterations: "+this.iterations),this.cmd(Xn.setText,this.warningID,"Yeah so that array was too long...try something smaller"),this.commands}let h=!1;for(;!h;){this.cmd(Xn.setText,this.comparisonCountID,"Iterations: "+this.iterations++),h=!0;for(let t=0;t<e-1;t++)if(this.arrayData[t]>this.arrayData[t+1]){h=!1;break}if(h)for(let t=0;t<e;t++)this.cmd(Xn.setBackgroundColor,this.arrayID[t],this.colors[t%this.colors.length]);else this.shuffle();this.cmd(Xn.step)}return this.cmd(Xn.step),this.commands}movePointers(t,e){const i=50*t+100;this.cmd(Xn.move,this.iPointerID,i,130);const s=50*e+100;this.cmd(Xn.move,this.jPointerID,s,130),this.cmd(Xn.step)}shuffle(){for(let t=0;t<this.arrayData.length;t++)this.swap(t,Math.floor(Math.random()*(this.arrayData.length-1))),this.cmd(Xn.setBackgroundColor,this.arrayID[t],this.colors[Math.abs(this.iterations-t)%this.colors.length])}swap(t,e){this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]);let i=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=i,i=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=i}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!1,"Bogo Sort",!0],DropSort:["Drop Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Xn.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0,t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=this.arrayData.length,i=new Map,s=new Map;for(let h=0;h<e;h++){const t=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;t>0&&s.set(this.arrayData[h],"a"),i.set(this.arrayData[h],t+1)}for(let h=0;h<e;h++){this.arrayID[h]=this.nextIndex++;const t=50*h+tc,e=ec;let i=this.arrayData[h].toString();if(s.has(this.arrayData[h])){const t=s.get(this.arrayData[h]);i+=t,s.set(this.arrayData[h],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[h]=i,this.cmd(Xn.createRectangle,this.arrayID[h],i,50,50,t,e)}this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",tc,ec),this.cmd(Xn.setHighlight,this.iPointerID,1),this.cmd(Xn.step),this.cmd(Xn.setBackgroundColor,this.arrayID[0],"#2ECC71");for(let h=1;h<this.arrayData.length;h++){if(this.movePointer(h),this.cmd(Xn.step),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.step),this.arrayData[h]<this.arrayData[h-1]){this.deleteData(h),this.arrayData.splice(h,1),this.displayData.splice(h,1),this.arrayID.splice(h,1);for(let t=h;t<this.arrayData.length;t++){const e=50*t+tc;this.cmd(Xn.move,this.arrayID[t],e,ec)}h-=1,this.cmd(Xn.step)}this.cmd(Xn.setBackgroundColor,this.arrayID[h],"#2ECC71")}return this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.step),this.commands}deleteData(t){this.cmd(Xn.setText,this.infoLabelID,"Dropping "+this.arrayData[t]+" because it is less than "+this.arrayData[t-1]),this.cmd(Xn.step),this.cmd(Xn.delete,this.arrayID[t]),this.cmd(Xn.step)}movePointer(t){const e=50*t+tc;this.cmd(Xn.move,this.iPointerID,e,130),this.cmd(Xn.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!1,"Drop Sort",!0],SleepSort:["Sleep Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[]}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.displayData=[],this.arrayID=[],t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>15)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 15 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(0,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,15),this.displayData=new Array(this.arrayData.length);const e=new Map,i=new Map;for(let n=0;n<this.arrayData.length;n++){const t=e.has(this.arrayData[n])?e.get(this.arrayData[n]):0;t>0&&i.set(this.arrayData[n],"a"),e.set(this.arrayData[n],t+1)}for(let n=0;n<this.arrayData.length;n++){const t=n*ac+ic,e=sc;this.arrayID.push(this.nextIndex);let s=this.arrayData[n].toString();if(i.has(this.arrayData[n])){const t=i.get(this.arrayData[n]);s+=t,i.set(this.arrayData[n],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[n]=s,this.cmd(Xn.createRectangle,this.nextIndex++,s,ac,50,t,e)}this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",ic,sc),this.cmd(Xn.setHighlight,this.iPointerID,1),this.secondArrayID=[];for(let n=0;n<this.arrayData.length;n++){const t=n*ac+ic,e=250;this.secondArrayID.push(this.nextIndex),this.cmd(Xn.createRectangle,this.nextIndex++,"",ac,50,t,e)}this.cmd(Xn.step),this.timerIDs=[];for(let n=0;n<this.arrayData.length;n++){const t=n*ac+ic,e=62.5,i=this.nextIndex++;this.timerIDs.push(i),this.cmd(Xn.createLabel,i,"",t,e)}this.cmd(Xn.setText,this.infoLabelID,"Setting sleep timers for each element.");for(let n=0;n<this.arrayData.length;n++)this.cmd(Xn.move,this.iPointerID,n*ac+ic,sc),this.cmd(Xn.step),this.cmd(Xn.setText,this.timerIDs[n],this.arrayData[n]),this.cmd(Xn.setForegroundColor,this.timerIDs[n],"#0000FF"),this.cmd(Xn.step);this.cmd(Xn.setText,this.infoLabelID,'Waiting for elements to "wake up" and be copied into the next spot.'),this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#00FF00",ic,250),this.cmd(Xn.setHighlight,this.jPointerID,1);let s=Math.max(...this.arrayData),h=0;const a=[...this.arrayData];for(;s>0;){s--,this.cmd(Xn.step),this.cmd(Xn.step);for(let t=0;t<a.length;t++)if(a[t]>0){if(a[t]--,this.cmd(Xn.setText,this.timerIDs[t],a[t]),0===a[t]){this.cmd(Xn.setText,this.infoLabelID,`Copying ${this.displayData[t]} to next spot because its sleep timer elapsed.`);const e=this.nextIndex++;this.cmd(Xn.createLabel,e,this.displayData[t],ic+t*ac,sc),this.cmd(Xn.move,e,ic+h*ac,250),this.cmd(Xn.step),this.cmd(Xn.setText,this.secondArrayID[h],this.displayData[t]),this.cmd(Xn.delete,e),this.cmd(Xn.setBackgroundColor,this.secondArrayID[h],"#2ECC71"),this.cmd(Xn.step),this.cmd(Xn.setBackgroundColor,this.arrayID[t],"#D3D3D3"),this.cmd(Xn.setText,this.timerIDs[t],""),h+=1,this.cmd(Xn.move,this.jPointerID,h*ac+ic,250),this.cmd(Xn.step)}this.cmd(Xn.setText,this.infoLabelID,'Waiting for elements to "wake up" and be copied into the next spot.')}}return this.cmd(Xn.delete,this.jPointerID),this.cmd(Xn.setText,this.infoLabelID,"Sorting complete."),this.commands}drawArrayAndCopy(t,e,i,s,h){const a=[];for(let n=t;n<=e;n++){const t=n*ac+ic+i,e=sc+h*hc;a[n]=this.nextIndex,this.arrayID.push(this.nextIndex),this.cmd(Xn.createRectangle,this.nextIndex++,"",ac,50,t,e)}this.cmd(Xn.step);for(let n=t;n<=e;n++)this.copyData(n,n,s,i,h-1,h,this.displayData[n],a[n],-1);return a}movePointers(t,e,i){const s=t*ac+ic+i;this.cmd(Xn.move,this.iPointerID,s,175);const h=e*ac+ic+i;this.cmd(Xn.move,this.jPointerID,h,175),this.cmd(Xn.step)}copyData(t,e,i,s,h,a,n,r,o){-1!==o&&(this.cmd(Xn.setForegroundColor,o,"#FF0000"),this.cmd(Xn.step));const l=t*ac+ic+i,d=sc+h*hc,c=this.nextIndex++;this.cmd(Xn.createLabel,c,n,l,d);const u=e*ac+ic+s,m=sc+a*hc;this.cmd(Xn.move,c,u,m),this.cmd(Xn.step),this.cmd(Xn.setText,r,n),this.cmd(Xn.delete,c),-1!==o&&(this.cmd(Xn.setBackgroundColor,r,"#2ECC71"),this.cmd(Xn.setForegroundColor,o,"#0000FF"),this.cmd(Xn.step))}movePointer(t,e,i,s){const h=t*ac+ic+i,a=sc+e*hc;this.cmd(Xn.move,s,h,a)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!1,"Sleep Sort",!0],MiracleSort:["Miracle Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.compCount=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.displayData=[],this.arrayID=[],this.compCount=0,t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>15)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 15 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,15),this.displayData=new Array(this.arrayData.length);const e=new Map,i=new Map;for(let s=0;s<this.arrayData.length;s++){const t=e.has(this.arrayData[s])?e.get(this.arrayData[s]):0;t>0&&i.set(this.arrayData[s],"a"),e.set(this.arrayData[s],t+1)}for(let s=0;s<this.arrayData.length;s++){const t=50*s+650,e=50;this.arrayID.push(this.nextIndex);let h=this.arrayData[s].toString();if(i.has(this.arrayData[s])){const t=i.get(this.arrayData[s]);h+=t,i.set(this.arrayData[s],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[s]=h,this.cmd(Xn.createRectangle,this.nextIndex++,h,50,50,t,e)}this.cmd(Xn.step),this.cmd(Xn.setText,this.infoLabelID,"Waiting for a miracle to happen...\n\nClick the icons on the top-right for more info.");for(let s=0;s<this.arrayID.length;s++)this.cmd(Xn.setBackgroundColor,this.arrayID[s],"#ADD8E6");return this.cmd(Xn.step),this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!1,"Miracle Sort",!0],FredSort:["Fred Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.compCount=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.displayData=[],this.arrayID=[],this.compCount=0,t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>15)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 15 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(0,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,15),this.displayData=new Array(this.arrayData.length);const e=new Map,i=new Map;for(let n=0;n<this.arrayData.length;n++){const t=e.has(this.arrayData[n])?e.get(this.arrayData[n]):0;t>0&&i.set(this.arrayData[n],"a"),e.set(this.arrayData[n],t+1)}for(let n=0;n<this.arrayData.length;n++){const t=n*Jd+Qd,e=Yd;this.arrayID.push(this.nextIndex);let s=this.arrayData[n].toString();if(i.has(this.arrayData[n])){const t=i.get(this.arrayData[n]);s+=t,i.set(this.arrayData[n],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[n]=s,this.cmd(Xn.createRectangle,this.nextIndex++,s,Jd,50,t,e)}const s=Math.ceil(Math.sqrt(this.arrayData.length)),h=[];this.secondArrayID=[];for(let n=0;n<s;n++){const t=Math.floor(n*this.arrayData.length/s),e=Math.min(this.arrayData.length-1,Math.floor((n+1)*this.arrayData.length/s)-1),i=15*n,a=n>0?15*(n-1):0;this.secondArrayID.push(...this.drawArrayAndCopy(t,e,i,a,1).filter((t=>void 0!==t))),h.push([t,e])}this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",Qd,125),this.cmd(Xn.setHighlight,this.iPointerID,1),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#0000FF",700,125),this.cmd(Xn.setHighlight,this.jPointerID,1);for(let n=0;n<s;n++){const t=h[n][0],e=h[n][1]-t+1;this.cmd(Xn.step);for(let i=0;i<e;i++){this.cmd(Xn.step);for(let t=i;t>=1;t--){const e=h[n][0];this.movePointers(t-1+e,t+e,15*n),this.cmd(Xn.step),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.arrayData[t+e]<this.arrayData[t-1+e]&&this.swap(t+e,t-1+e,15*n),1===t&&this.cmd(Xn.setBackgroundColor,this.secondArrayID[e],"#2ECC71"),this.cmd(Xn.setBackgroundColor,this.secondArrayID[t+e],"#2ECC71")}}}this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.delete,this.jPointerID);for(let n=0;n<this.secondArrayID.length;n++)this.cmd(Xn.setBackgroundColor,this.secondArrayID[n],"#FFFFFF");const a=[];for(let n=0;n<s;n++){const t=15*n;a.push(t)}this.merge(h,0,a,this.arrayID),this.cmd(Xn.step);for(let n=0;n<this.secondArrayID.length;n++)this.cmd(Xn.delete,this.secondArrayID[n]);return this.commands}drawArrayAndCopy(t,e,i,s,h){const a=[];for(let n=t;n<=e;n++){const t=n*Jd+Qd+i,e=Yd+h*Zd;a[n]=this.nextIndex,this.arrayID.push(this.nextIndex),this.cmd(Xn.createRectangle,this.nextIndex++,"",Jd,50,t,e)}this.cmd(Xn.step);for(let n=t;n<=e;n++)this.copyData(n,n,s,i,h-1,h,this.displayData[n],a[n],-1);return a}movePointers(t,e,i){const s=t*Jd+Qd+i;this.cmd(Xn.move,this.iPointerID,s,125);const h=e*Jd+Qd+i;this.cmd(Xn.move,this.jPointerID,h,125),this.cmd(Xn.step)}swap(t,e,i){this.cmd(Xn.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#FF0000"),this.cmd(Xn.step);const s=this.nextIndex++,h=t*Jd+Qd+i;this.cmd(Xn.createLabel,s,this.displayData[t],h,125);const a=this.nextIndex++,n=e*Jd+Qd+i;this.cmd(Xn.createLabel,a,this.displayData[e],n,125),this.cmd(Xn.setText,this.secondArrayID[t],""),this.cmd(Xn.setText,this.secondArrayID[e],""),this.cmd(Xn.step),this.cmd(Xn.move,s,n,125),this.cmd(Xn.move,a,h,125),this.cmd(Xn.step),this.cmd(Xn.setText,this.secondArrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.secondArrayID[e],this.displayData[t]),this.cmd(Xn.delete,s),this.cmd(Xn.delete,a),this.cmd(Xn.step);let r=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=r,r=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=r,this.cmd(Xn.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Xn.step)}merge(t,e,i,s){const h=new Array(this.arrayData.length),a=new Array(this.arrayData.length);for(let c=0;c<t.length;c++){const[e,i]=t[c];for(let t=e;t<=i;t++)h[t]=this.arrayData[t],a[t]=this.displayData[t]}const n=[];for(let c=0;c<t.length;c++){const[e]=t[c],s=this.nextIndex++,h=e*Jd+Qd+i[c];this.cmd(Xn.createHighlightCircle,s,"#0000FF",h,125),n.push(s)}const r=this.nextIndex++,o=t[0][0]*Jd+Qd+e;this.cmd(Xn.createHighlightCircle,r,"#0000FF",o,50),this.cmd(Xn.step);const l=t.map((t=>{let[e]=t;return e}));let d=t[0][0];for(;l.some(((e,i)=>e<=t[i][1]));){let o=-1;for(let e=0;e<l.length;e++)l[e]<=t[e][1]&&(-1===o||h[l[e]]<h[l[o]])&&(o=e);this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.step),this.copyData(l[o],d,i[o],e,1,0,a[l[o]],s[d],n[o]),this.arrayData[d]=h[l[o]],this.displayData[d]=a[l[o]],l[o]++,l[o]<=t[o][1]&&this.movePointer(l[o],1,i[o],n[o]),d++,this.movePointer(d,0,e,r),this.cmd(Xn.step)}for(const c of n)this.cmd(Xn.delete,c);this.cmd(Xn.delete,r),this.cmd(Xn.step)}copyData(t,e,i,s,h,a,n,r,o){-1!==o&&(this.cmd(Xn.setForegroundColor,o,"#FF0000"),this.cmd(Xn.step));const l=t*Jd+Qd+i,d=Yd+h*Zd,c=this.nextIndex++;this.cmd(Xn.createLabel,c,n,l,d);const u=e*Jd+Qd+s,m=Yd+a*Zd;this.cmd(Xn.move,c,u,m),this.cmd(Xn.step),this.cmd(Xn.setText,r,n),this.cmd(Xn.delete,c),-1!==o&&(this.cmd(Xn.setBackgroundColor,r,"#2ECC71"),this.cmd(Xn.setForegroundColor,o,"#0000FF"),this.cmd(Xn.step))}movePointer(t,e,i,s){const h=t*Jd+Qd+i,a=Yd+e*Zd;this.cmd(Xn.move,s,h,a)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!1,"Fred Sort",!0],ArrayList:["ArrayList",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1),e=sr(!0,t),i=sr(!0,t);Yn("Add",e),this.addValueField=er("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addValueField),Yn("at index",e),this.addIndexField=er("Text","",e),this.addIndexField.style.textAlign="center",this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=er("Button","Add to Front",i),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=er("Button","Add to Back",i),this.addBackButton.onclick=()=>this.addBackCallback(),this.controls.push(this.addBackButton),Yn("or",i),this.addIndexButton=er("Button","Add at Index",i),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),ir();const s=sr(!1),h=sr(!0,s),a=sr(!0,s);Yn("Index",h),this.removeField=er("Text","",h),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,(()=>this.removeIndexCallback()),4,!0),this.controls.push(this.removeField),this.removeIndexButton=er("Button","Remove from Index",h),this.removeIndexButton.onclick=()=>this.removeIndexCallback(),this.controls.push(this.removeIndexButton),Yn("or",a),this.removeFrontButton=er("Button","Remove from Front",a),this.removeFrontButton.onclick=()=>this.removeFrontCallback(),this.controls.push(this.removeFrontButton),this.removeBackButton=er("Button","Remove from Back",a),this.removeBackButton.onclick=()=>this.removeBackCallback(),this.controls.push(this.removeBackButton),ir();const n=sr(!1);this.randomButton=er("Button","Random",n),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=er("Button","Clear",n),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{if(this.addValueField.value=t.substring(0,4),""===this.addValueField.value||this.length===this.size&&2*this.length>30)this.shake(this.addBackButton),this.implementAction(this.setInfoText.bind(this),"Missing input data.");else{const t=this.addValueField.value;this.addValueField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,this.size,!1,!0,!1):this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1,!0)}this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.arrayData=new Array(7),this.size=0,this.length=7,this.commands=[],this.pseudocode=dr.ArrayList,this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.resetIndex=this.nextIndex,this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;for(let t=0;t<7;t++){const e=t%pr*gr+cr,i=Math.floor(t/pr)*fr+ur;this.cmd(Xn.createRectangle,this.arrayID[t],"",gr,50,e,i),this.cmd(Xn.createLabel,this.arrayLabelID[t],t,e,i+50),this.cmd(Xn.setForegroundColor,this.arrayLabelID[t],"#0000FF")}this.highlight1ID=this.nextIndex++,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.size=0,this.length=7,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.highlight1ID=this.nextIndex++}setInfoText(t){return this.commands=[],this.cmd(Xn.setText,this.infoLabelID,t),this.commands}addIndexCallback(){if(""===this.addValueField.value||""===this.addIndexField.value||this.length===this.size&&2*this.length>30)this.shake(this.addIndexButton),this.implementAction(this.setInfoText.bind(this),"Missing input data or index.");else{const t=this.addValueField.value,e=this.addIndexField.value;e>=0&&e<=this.size?(this.addValueField.value="",this.addIndexField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,parseInt(e),!1,!1,!0):this.implementAction(this.add.bind(this),t,parseInt(e),!1,!1,!0)):(this.shake(this.addIndexButton),this.implementAction(this.setInfoText.bind(this),0===this.size?"Index must be 0 when the list is empty.":`Index must be between 0 and ${this.size}.`))}}addFrontCallback(){if(""===this.addValueField.value||this.length===this.size&&2*this.length>30)this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addFrontButton);else{const t=this.addValueField.value;this.addValueField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,0,!0,!1,!1):this.implementAction(this.add.bind(this),t,0,!0,!1,!1)}}addBackCallback(){if(""===this.addValueField.value||this.length===this.size&&2*this.length>30)this.shake(this.addBackButton),this.implementAction(this.setInfoText.bind(this),"Missing input data.");else{const t=this.addValueField.value;this.addValueField.value="",this.size===this.length?this.implementAction(this.resize.bind(this),t,this.size,!1,!0,!1):this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1)}}randomCallback(){this.implementAction(this.clearAll.bind(this));const t=this.length-1,e=Math.floor(Math.random()*(t-3+1))+3,i=new Set;for(let s=0;s<e;s++){const t=Math.floor(17*Math.random())+0;i.has(t)?s--:(i.add(t),this.implementAction(this.add.bind(this),t,0,!0,!1,!1,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}removeIndexCallback(){if(""!==this.removeField.value){const t=this.removeField.value;if(t>=0&&t<this.size)this.removeField.value="",this.implementAction(this.remove.bind(this),t,!1,!1,!0);else{let t="Cannot remove from an empty list.";1===this.size?t="Index must be 0 when the list contains one element.":this.size>1&&(t=`Index must be between 0 and ${this.size-1}.`),this.implementAction(this.setInfoText.bind(this),t),this.shake(this.removeIndexButton)}}else this.shake(this.removeIndexButton),this.implementAction(this.setInfoText.bind(this),"Missing input index.")}removeFrontCallback(){this.size>0?this.implementAction(this.remove.bind(this),0,!0,!1,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeFrontButton))}removeBackCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1,!1,!0,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeBackButton))}clearCallback(){this.implementAction(this.clear.bind(this))}clear(){return this.commands=[],this.clearAll(),this.commands}add(t,e,i,s,h,a){this.commands=[],this.setInfoText(""),a||(this.addFBCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFB",xr,br),this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",370,br));const n=this.nextIndex++,r=this.nextIndex++;i?(this.highlight(0,0,this.addFBCodeID),this.highlight(1,0,this.addFBCodeID)):s&&(this.highlight(4,0,this.addFBCodeID),this.highlight(5,0,this.addFBCodeID)),this.highlight(0,0,this.addIndexCodeID),this.cmd(Xn.createLabel,n,"Adding Value: ",50,25),this.cmd(Xn.createLabel,r,t,Ir,25),this.cmd(Xn.step);for(let d=this.size;d>=e;d--)this.arrayData[d+1]=this.arrayData[d];if(this.arrayData[e]=t,this.arrayMoveID=new Array(this.size),this.highlight(9,0,this.addIndexCodeID),this.cmd(Xn.step),e!==this.size){(i||h&&0!==e)&&(this.highlight(10,0,this.addIndexCodeID),this.highlight(11,0,this.addIndexCodeID));for(let t=this.size-1;t>=e;t--){const e=t%pr*gr+cr,i=Math.floor(t/pr)*fr+ur;this.arrayMoveID[t]=this.nextIndex++,this.cmd(Xn.createLabel,this.arrayMoveID[t],this.arrayData[t+1],e,i),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.move,this.arrayMoveID[t],e+gr,i)}this.cmd(Xn.step);for(let t=this.size-1;t>=e;t--)this.cmd(Xn.setText,this.arrayID[t+1],this.arrayData[t+1]),this.cmd(Xn.delete,this.arrayMoveID[t]);this.cmd(Xn.step)}this.cmd(Xn.createHighlightCircle,this.highlight1ID,"#0000FF",Ir,25),(i||h)&&(this.unhighlight(10,0,this.addIndexCodeID),this.unhighlight(11,0,this.addIndexCodeID)),this.highlight(12,0,this.addIndexCodeID),this.cmd(Xn.step);const o=parseInt(e)%pr*gr+cr,l=Math.floor(parseInt(e)/pr)*fr+ur;return this.cmd(Xn.move,this.highlight1ID,o,l),this.cmd(Xn.move,r,o,l),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[e],t),this.cmd(Xn.delete,r),this.cmd(Xn.delete,this.highlight1ID),this.unhighlight(12,0,this.addIndexCodeID),this.unhighlight(9,0,this.addIndexCodeID),this.highlight(13,0,this.addIndexCodeID),this.cmd(Xn.step),this.cmd(Xn.delete,n),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(13,0,this.addIndexCodeID),i&&(this.unhighlight(0,0,this.addFBCodeID),this.unhighlight(1,0,this.addFBCodeID)),s&&(this.unhighlight(4,0,this.addFBCodeID),this.unhighlight(5,0,this.addFBCodeID)),this.cmd(Xn.step),this.nextIndex=null!=e?this.nextIndex-(this.size-e)-2:this.nextIndex-2,this.size=this.size+1,a||(this.removeCode(this.addFBCodeID),this.removeCode(this.addIndexCodeID)),this.commands}remove(t,e,i,s){this.commands=[],this.setInfoText(""),this.removeFBCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFB",xr,br),this.removeIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeIndex",370,br),e?(this.highlight(0,0,this.removeFBCodeID),this.highlight(1,0,this.removeFBCodeID)):i&&(this.highlight(4,0,this.removeFBCodeID),this.highlight(5,0,this.removeFBCodeID)),this.highlight(0,0,this.removeIndexCodeID),this.cmd(Xn.step),this.highlight(1,0,this.removeIndexCodeID),t=parseInt(t);const h=this.nextIndex++,a=t%pr*gr+cr,n=Math.floor(t/pr)*fr+ur;this.cmd(Xn.createHighlightCircle,this.highlight1ID,"#0000FF",a,n),this.cmd(Xn.createLabel,h,this.arrayData[t],a,n),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.move,this.highlight1ID,a,n-55),this.cmd(Xn.move,h,a,n-55),this.cmd(Xn.step),this.unhighlight(1,0,this.removeIndexCodeID),this.highlight(2,0,this.removeIndexCodeID),this.cmd(Xn.delete,h),this.cmd(Xn.delete,this.highlight1ID),this.cmd(Xn.step);for(let r=t;r<this.size;r++)this.arrayData[r]=this.arrayData[r+1];this.arrayData[this.size]=null,this.arrayMoveID=new Array(this.size),this.unhighlight(2,0,this.removeIndexCodeID),(e||s)&&(this.highlight(3,0,this.removeIndexCodeID),this.highlight(4,0,this.removeIndexCodeID),this.highlight(5,0,this.removeIndexCodeID));for(let r=t+1;r<this.size;r++){const t=r%pr*gr+cr,e=Math.floor(r/pr)*fr+ur;this.arrayMoveID[r]=this.nextIndex++,this.cmd(Xn.createLabel,this.arrayMoveID[r],this.arrayData[r-1],t,e),this.cmd(Xn.setText,this.arrayID[r],""),this.cmd(Xn.move,this.arrayMoveID[r],t-gr,e)}this.cmd(Xn.step),this.unhighlight(3,0,this.removeIndexCodeID),this.unhighlight(4,0,this.removeIndexCodeID),this.unhighlight(5,0,this.removeIndexCodeID),this.highlight(6,0,this.removeIndexCodeID);for(let r=t+1;r<this.size;r++)this.cmd(Xn.setText,this.arrayID[r-1],this.arrayData[r-1]),this.cmd(Xn.delete,this.arrayMoveID[r]);return this.cmd(Xn.step),this.unhighlight(6,0,this.removeIndexCodeID),this.highlight(7,0,this.removeIndexCodeID),this.cmd(Xn.step),this.unhighlight(7,0,this.removeIndexCodeID),this.unhighlight(0,0,this.removeIndexCodeID),e?(this.unhighlight(0,0,this.removeFBCodeID),this.unhighlight(1,0,this.removeFBCodeID)):i&&(this.unhighlight(4,0,this.removeFBCodeID),this.unhighlight(5,0,this.removeFBCodeID)),this.nextIndex=null!=t?this.nextIndex-(this.size-t):this.nextIndex-2,this.size=this.size-1,this.removeCode(this.removeFBCodeID),this.removeCode(this.removeIndexCodeID),this.commands}resize(t,e,i,s,h){this.commands=[],this.setInfoText(""),this.addFBCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFB",xr,br),this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",370,br);const a=this.nextIndex++,n=this.nextIndex++,r=this.nextIndex++;i&&(this.highlight(0,0,this.addFBCodeID),this.highlight(1,0,this.addFBCodeID),this.highlight(0,0,this.addIndexCodeID)),s&&(this.highlight(4,0,this.addFBCodeID),this.highlight(5,0,this.addFBCodeID),this.highlight(0,0,this.addIndexCodeID)),h&&this.highlight(0,0,this.addIndexCodeID),this.cmd(Xn.step),this.cmd(Xn.createLabel,a,"Adding Value: ",50,25),this.cmd(Xn.createLabel,n,t,Ir,25),this.cmd(Xn.createLabel,r,"(Resize Required)",60,55),this.highlight(1,0,this.addIndexCodeID),this.cmd(Xn.step),this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size),this.length=2*this.length;for(let d=0;d<2*this.size;d++)this.arrayIDNew[d]=this.nextIndex++,this.arrayLabelIDNew[d]=this.nextIndex++,d<e?this.arrayDataNew[d]=this.arrayData[d]:d>e&&d<=this.size&&(this.arrayDataNew[d]=this.arrayData[d-1]);this.arrayDataNew[e]=t,this.highlight1ID=this.nextIndex++,this.unhighlight(1,0,this.addIndexCodeID),this.highlight(2,0,this.addIndexCodeID);for(let d=0;d<2*this.size;d++){const t=d%pr*gr+85,e=Math.floor(d/pr)*fr+mr;this.cmd(Xn.createRectangle,this.arrayIDNew[d],"",gr,50,t,e),this.cmd(Xn.createLabel,this.arrayLabelIDNew[d],d,t,e+50),this.cmd(Xn.setForegroundColor,this.arrayLabelIDNew[d],"#0000FF")}this.cmd(Xn.step),this.arrayMoveID=new Array(this.size),this.unhighlight(2,0,this.addIndexCodeID),this.highlight(3,0,this.addIndexCodeID),this.highlight(4,0,this.addIndexCodeID);for(let d=0;d<e;d++){const t=d%pr*gr+cr,e=Math.floor(d/pr)*fr+ur,i=d%pr*gr+85,s=Math.floor(d/pr)*fr+mr;this.arrayMoveID[d]=this.nextIndex++,this.cmd(Xn.createLabel,this.arrayMoveID[d],this.arrayData[d],t,e),this.cmd(Xn.move,this.arrayMoveID[d],i,s)}this.cmd(Xn.step);for(let d=0;d<e;d++)this.cmd(Xn.delete,this.arrayMoveID[d]),this.cmd(Xn.setText,this.arrayIDNew[d],this.arrayData[d]);this.unhighlight(3,0,this.addIndexCodeID),this.unhighlight(4,0,this.addIndexCodeID),this.highlight(5,0,this.addIndexCodeID),this.cmd(Xn.createHighlightCircle,this.highlight1ID,"#0000FF",Ir,25),this.cmd(Xn.step);const o=parseInt(e)%pr*gr+85,l=Math.floor(parseInt(e)/pr)*fr+mr;this.cmd(Xn.move,this.highlight1ID,o,l),this.cmd(Xn.move,n,o,l),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayIDNew[e],t),this.cmd(Xn.delete,n),this.cmd(Xn.delete,this.highlight1ID),this.cmd(Xn.step),this.unhighlight(5,0,this.addIndexCodeID),e<this.size&&(this.highlight(6,0,this.addIndexCodeID),this.highlight(7,0,this.addIndexCodeID));for(let d=e;d<this.size;d++){const t=d%pr*gr+cr,e=Math.floor(d/pr)*fr+ur,i=d%13*gr+85,s=Math.floor(d/13)*fr+mr;this.arrayMoveID[d]=this.nextIndex++,this.cmd(Xn.createLabel,this.arrayMoveID[d],this.arrayData[d],t,e),this.cmd(Xn.move,this.arrayMoveID[d],i+gr,s)}this.cmd(Xn.step);for(let d=e;d<=this.size;d++)d<this.size&&this.cmd(Xn.delete,this.arrayMoveID[d]),this.cmd(Xn.setText,this.arrayIDNew[d],this.arrayData[d-1]);this.cmd(Xn.setText,this.arrayIDNew[e],t),this.cmd(Xn.delete,a),this.cmd(Xn.delete,r),this.cmd(Xn.step);for(let d=0;d<this.size;d++)this.cmd(Xn.delete,this.arrayID[d]),this.cmd(Xn.delete,this.arrayLabelID[d]);this.unhighlight(6,0,this.addIndexCodeID),this.unhighlight(7,0,this.addIndexCodeID),this.highlight(8,0,this.addIndexCodeID);for(let d=0;d<2*this.size;d++){const t=d%pr*gr+cr,e=Math.floor(d/pr)*fr+ur;this.cmd(Xn.move,this.arrayIDNew[d],t,e),this.cmd(Xn.move,this.arrayLabelIDNew[d],t,e+50)}return this.cmd(Xn.step),this.unhighlight(8,0,this.addIndexCodeID),this.highlight(13,0,this.addIndexCodeID),this.cmd(Xn.step),this.unhighlight(13,0,this.addIndexCodeID),i&&(this.unhighlight(0,0,this.addFBCodeID),this.unhighlight(1,0,this.addFBCodeID),this.unhighlight(0,0,this.addIndexCodeID)),s&&(this.unhighlight(4,0,this.addFBCodeID),this.unhighlight(5,0,this.addFBCodeID),this.unhighlight(0,0,this.addIndexCodeID)),h&&this.unhighlight(0,0,this.addIndexCodeID),this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,null!=e&&(this.nextIndex=this.nextIndex-this.size),this.size=this.size+1,this.removeCode(this.addFBCodeID),this.removeCode(this.addIndexCodeID),this.commands}clearAll(){this.addValueField.value="",this.addIndexField.value="",this.removeField.value="",this.commands=[],this.cmd(Xn.setText,this.infoLabelID,"");for(let t=0;t<this.size;t++)this.cmd(Xn.setText,this.arrayID[t],""),this.arrayData[t]=null;this.size=0;for(let t=7;t<this.length;t++)this.cmd(Xn.delete,this.arrayID[t]),this.cmd(Xn.delete,this.arrayLabelID[t]);return this.length=7,this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],LinkedList:["Singly LinkedList",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[];const t=sr(!1),e=sr(!0,t),i=sr(!0,t);Yn("Add",e),this.addValueField=er("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addValueField),Yn("at index",e),this.addIndexField=er("Text","",e),this.addIndexField.style.textAlign="center",this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=er("Button","Add to Front",i),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=er("Button","Add to Back",i),this.addBackButton.onclick=()=>this.addBackCallback(),this.controls.push(this.addBackButton),Yn("or",i),this.addIndexButton=er("Button","Add at Index",i),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),ir();const s=sr(!1),h=sr(!0,s),a=sr(!0,s);Yn("Index",h),this.removeField=er("Text","",h),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,(()=>this.removeIndexCallback()),4,!0),this.controls.push(this.removeField),this.removeIndexButton=er("Button","Remove from Index",h),this.removeIndexButton.onclick=()=>this.removeIndexCallback(),this.controls.push(this.removeIndexButton),Yn("or",a),this.removeFrontButton=er("Button","Remove from Front",a),this.removeFrontButton.onclick=()=>this.removeFrontCallback(),this.controls.push(this.removeFrontButton),this.removeBackButton=er("Button","Remove from Back",a),this.removeBackButton.onclick=()=>this.removeBackCallback(),this.controls.push(this.removeBackButton),ir(),this.tailCheckbox=Zn("Tail pointer",!1),this.tailCheckbox.onclick=this.toggleTailPointer.bind(this),this.controls.push(this.tailCheckbox),ir();const n=sr(!1);this.randomButton=er("Button","Random",n),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=er("Button","Clear",n),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}toggleTailPointer(){this.tailEnabled=!this.tailEnabled,this.implementAction(this.clearAll.bind(this)),this.tailEnabled?this.animationManager.setAllLayers([0,1,32]):this.animationManager.setAllLayers([0,32])}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){if(this.implementAction(this.clearAll.bind(this)),t.has("tail")){"1"===t.get("tail")&&(this.toggleTailPointer(),this.tailCheckbox.checked=!0)}if(t.has("data")){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),t.substring(0,4),this.size,!1,!1,!0,!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}}setup(){this.linkedListElemID=new Array(32),this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.leftoverLabelID,"",50,30),this.cmd(Xn.createLabel,this.topLabelID,"Head",130,100),this.cmd(Xn.createRectangle,this.topID,"",30,30,180,100),this.cmd(Xn.setNull,this.topID,1),this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.tailLabelID,"Tail",130,500),this.cmd(Xn.createRectangle,this.tailID,"",30,30,180,500),this.cmd(Xn.setNull,this.tailID,1),this.cmd(Xn.setLayer,this.tailLabelID,1),this.cmd(Xn.setLayer,this.tailID,1),this.tailEnabled?this.animationManager.setAllLayers([0,1,32]):this.animationManager.setAllLayers([0,32]),this.pseudocode=dr.SinglyLinkedList,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.size=0,this.nextIndex=this.initialIndex,this.tailEnabled?this.animationManager.setAllLayers([0,1]):this.animationManager.setAllLayers([0])}setInfoText(t){return this.commands=[],this.cmd(Xn.setText,this.infoLabelID,t),this.commands}addIndexCallback(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){const t=parseInt(this.addValueField.value),e=parseInt(this.addIndexField.value);e>=0&&e<=this.size?(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,e,!1,!1,!0,!1)):(this.implementAction(this.setInfoText.bind(this),0===this.size?"Index must be 0 when the list is empty.":`Index must be between 0 and ${this.size}.`),this.shake(this.addIndexButton))}else this.implementAction(this.setInfoText.bind(this),"Missing input data or index."),this.shake(this.addIndexButton)}addFrontCallback(){if(""!==this.addValueField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0,!0,!1,!1,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addFrontButton)}addBackCallback(){if(""!==this.addValueField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addBackButton)}removeIndexCallback(){if(""!==this.removeField.value){const t=parseInt(this.removeField.value);if(t>=0&&t<this.size)this.removeField.value="",this.implementAction(this.remove.bind(this),t,!1,!1,!0);else{let t="Cannot remove from an empty list.";1===this.size?t="Index must be 0 when the list contains one element.":this.size>1&&(t=`Index must be between 0 and ${this.size-1}.`),this.implementAction(this.setInfoText.bind(this),t),this.shake(this.removeIndexButton)}}else this.implementAction(this.setInfoText.bind(this),"Missing input index."),this.shake(this.removeIndexButton)}removeFrontCallback(){this.size>0?this.implementAction(this.remove.bind(this),0,!0,!1,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeFrontButton))}removeBackCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1,!1,!0,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeBackButton))}randomCallback(){const t=Math.floor(5*Math.random())+4,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.add.bind(this),t,0,!1,!0,!1,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}traverse(t,e,i,s){this.unhighlight(4,0,this.addBackCodeID),this.unhighlight(6,0,this.addIndexCodeID),this.unhighlight(4,0,this.removeBackCodeID),this.unhighlight(6,0,this.removeIndexCodeID);for(let h=t;h<=e;h++)this.unhighlight(6,0,this.addBackCodeID),this.unhighlight(8,0,this.addIndexCodeID),this.unhighlight(6,0,this.removeBackCodeID),this.unhighlight(8,0,this.removeIndexCodeID),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.linkedListElemID[h],1),h>0&&this.cmd(Xn.setHighlight,this.linkedListElemID[h-1],0),i?s?this.highlight(6,0,this.removeBackCodeID):this.highlight(6,0,this.addBackCodeID):s?this.highlight(8,0,this.removeIndexCodeID):this.highlight(8,0,this.addIndexCodeID),this.cmd(Xn.step);this.cmd(Xn.step)}add(t,e,i,s,h,a){this.commands=[],this.setInfoText(""),a||(this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",Vl,$l),this.addFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFront",505,$l),this.addBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addBack",775,$l)),i?this.highlight(0,0,this.addFrontCodeID):s?this.highlight(0,0,this.addBackCodeID):h&&this.highlight(0,0,this.addIndexCodeID);const n=i||h&&0===e,r=s||h&&e===this.size&&!n,o=!n&&!r;h&&(n?(this.cmd(Xn.step),this.highlight(1,0,this.addIndexCodeID),this.highlight(2,0,this.addIndexCodeID),this.highlight(0,0,this.addFrontCodeID)):r&&(this.cmd(Xn.step),this.highlight(3,0,this.addIndexCodeID),this.highlight(4,0,this.addIndexCodeID),this.highlight(0,0,this.addBackCodeID))),this.cmd(Xn.step);const l=this.nextIndex++,d=this.nextIndex++;n?this.highlight(1,0,this.addFrontCodeID):r?this.highlight(1,0,this.addBackCodeID):this.highlight(5,0,this.addIndexCodeID),this.cmd(Xn.step),r&&this.size>0?(this.unhighlight(1,0,this.addBackCodeID),this.highlight(3,0,this.addBackCodeID),this.cmd(Xn.step),this.highlight(4,0,this.addBackCodeID),this.cmd(Xn.step),this.unhighlight(4,0,this.addBackCodeID),this.highlight(5,0,this.addBackCodeID)):o&&(this.highlight(6,0,this.addIndexCodeID),this.cmd(Xn.step),this.highlight(7,0,this.addIndexCodeID));for(let c=this.size-1;c>=e;c--)this.arrayData[c+1]=this.arrayData[c],this.linkedListElemID[c+1]=this.linkedListElemID[c];return this.arrayData[e]=t,this.linkedListElemID[e]=this.nextIndex++,this.cmd(Xn.setText,this.leftoverLabelID,""),this.tailEnabled&&e===this.size?this.traverse(this.size-1,this.size,r,!1):this.traverse(0,e-1,r,!1),this.cmd(Xn.createLinkedListNode,this.linkedListElemID[e],"",70,30,200,50,.25,0,1),this.cmd(Xn.createLabel,l,"Adding Value: ",50,30),this.cmd(Xn.createLabel,d,t,120,30),n?0===this.size?this.highlight(2,0,this.addFrontCodeID):(this.unhighlight(1,0,this.addFrontCodeID),this.highlight(3,0,this.addFrontCodeID),this.cmd(Xn.step),this.highlight(4,0,this.addFrontCodeID),this.highlight(5,0,this.addFrontCodeID),this.highlight(6,0,this.addFrontCodeID)):r?0===this.size&&this.highlight(2,0,this.addBackCodeID):(this.unhighlight(7,0,this.addIndexCodeID),this.unhighlight(8,0,this.addIndexCodeID),this.highlight(10,0,this.addIndexCodeID),this.highlight(11,0,this.addIndexCodeID),this.highlight(12,0,this.addIndexCodeID)),this.cmd(Xn.step),this.cmd(Xn.move,d,200,50),this.cmd(Xn.step),this.cmd(Xn.setText,this.linkedListElemID[e],t),this.cmd(Xn.delete,d),e===this.size&&(this.cmd(Xn.setNull,this.linkedListElemID[e],1),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[e-1]),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[e])),0!==this.size?0===e?(this.cmd(Xn.disconnect,this.topID,this.linkedListElemID[e+1]),this.cmd(Xn.connect,this.topID,this.linkedListElemID[e]),this.cmd(Xn.connect,this.linkedListElemID[e],this.linkedListElemID[e+1])):e===this.size?(this.cmd(Xn.setNull,this.linkedListElemID[e-1],0),this.cmd(Xn.connect,this.linkedListElemID[e-1],this.linkedListElemID[e]),r&&(this.unhighlight(5,0,this.addBackCodeID),this.unhighlight(6,0,this.addBackCodeID),this.highlight(7,0,this.addBackCodeID))):(this.cmd(Xn.disconnect,this.linkedListElemID[e-1],this.linkedListElemID[e+1]),this.cmd(Xn.connect,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Xn.connect,this.linkedListElemID[e],this.linkedListElemID[e+1])):(this.cmd(Xn.connect,this.topID,this.linkedListElemID[0]),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[0])),this.cmd(Xn.setHighlight,this.linkedListElemID[e-1],0),this.cmd(Xn.step),n?(this.unhighlight(1,0,this.addFrontCodeID),this.unhighlight(2,0,this.addFrontCodeID),this.unhighlight(3,0,this.addFrontCodeID),this.unhighlight(4,0,this.addFrontCodeID),this.unhighlight(5,0,this.addFrontCodeID),this.unhighlight(6,0,this.addFrontCodeID),this.highlight(8,0,this.addFrontCodeID)):r?(this.unhighlight(1,0,this.addBackCodeID),this.unhighlight(2,0,this.addBackCodeID),this.unhighlight(3,0,this.addBackCodeID),this.unhighlight(7,0,this.addBackCodeID),this.highlight(9,0,this.addBackCodeID)):(this.unhighlight(8,0,this.addIndexCodeID),this.unhighlight(10,0,this.addIndexCodeID),this.unhighlight(11,0,this.addIndexCodeID),this.unhighlight(12,0,this.addIndexCodeID),this.highlight(13,0,this.addIndexCodeID)),this.size=this.size+1,this.resetNodePositions(),this.cmd(Xn.delete,l),this.cmd(Xn.step),a||(this.removeCode(this.addFrontCodeID),this.removeCode(this.addBackCodeID),this.removeCode(this.addIndexCodeID)),this.commands}remove(t,e,i,s){this.commands=[],this.setInfoText(""),this.removeIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeIndex",Vl,$l),this.removeFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFront",460,$l),this.removeBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeBack",755,$l),e?this.highlight(0,0,this.removeFrontCodeID):i?this.highlight(0,0,this.removeBackCodeID):s&&this.highlight(0,0,this.removeIndexCodeID);const h=e||s&&0===t,a=i||s&&t===this.size-1&&!h,n=!h&&!a;s&&(h?(this.cmd(Xn.step),this.highlight(1,0,this.removeIndexCodeID),this.highlight(2,0,this.removeIndexCodeID),this.highlight(0,0,this.removeFrontCodeID)):a&&(this.cmd(Xn.step),this.highlight(3,0,this.removeIndexCodeID),this.highlight(4,0,this.removeIndexCodeID),this.highlight(0,0,this.removeBackCodeID))),this.cmd(Xn.step),t=parseInt(t);const r=this.nextIndex++,o=this.nextIndex++;this.cmd(Xn.setText,this.leftoverLabelID,""),h?this.highlight(1,0,this.removeFrontCodeID):a?this.highlight(1,0,this.removeBackCodeID):this.highlight(5,0,this.removeIndexCodeID),this.cmd(Xn.step),a&&this.size>0?(this.unhighlight(1,0,this.removeBackCodeID),this.highlight(3,0,this.removeBackCodeID),this.cmd(Xn.step),this.highlight(4,0,this.removeBackCodeID),this.cmd(Xn.step),this.unhighlight(4,0,this.removeBackCodeID),this.highlight(5,0,this.removeBackCodeID)):n&&(this.highlight(6,0,this.removeIndexCodeID),this.cmd(Xn.step),this.highlight(7,0,this.removeIndexCodeID)),this.traverse(0,t-1,a,!0),n?(this.unhighlight(7,0,this.removeIndexCodeID),this.unhighlight(8,0,this.removeIndexCodeID),this.highlight(10,0,this.removeIndexCodeID)):a&&(this.unhighlight(5,0,this.removeBackCodeID),this.unhighlight(6,0,this.removeBackCodeID),this.highlight(8,0,this.removeBackCodeID));const l=100+100*t;if(this.cmd(Xn.createLabel,r,"Removing Value: ",50,30),this.cmd(Xn.createLabel,o,this.arrayData[t],l,200),this.cmd(Xn.move,o,120,30),this.cmd(Xn.setTextColor,this.linkedListElemID[t],"#FF0000"),this.cmd(Xn.step),h&&this.unhighlight(1,0,this.removeFrontCodeID),1!==this.size)if(0===t)this.highlight(2,0,this.removeFrontCodeID),this.cmd(Xn.disconnect,this.topID,this.linkedListElemID[t]),this.cmd(Xn.connect,this.topID,this.linkedListElemID[t+1]),this.cmd(Xn.step),this.cmd(Xn.disconnect,this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd(Xn.setNull,this.linkedListElemID[0],1);else if(t===this.size-1)this.unhighlight(8,0,this.removeBackCodeID),this.highlight(9,0,this.removeBackCodeID),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[t]),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[t-1]),this.cmd(Xn.step),this.cmd(Xn.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Xn.setNull,this.linkedListElemID[t-1],1),this.cmd(Xn.step);else{this.unhighlight(10,0,this.removeIndexCodeID),this.highlight(11,0,this.removeIndexCodeID);const e=t%8*100+100,i=140;this.cmd(Xn.move,this.linkedListElemID[t],e,i),this.cmd(Xn.step),this.cmd(Xn.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Xn.connect,this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd(Xn.step),this.cmd(Xn.disconnect,this.linkedListElemID[t],this.linkedListElemID[t+1])}this.unhighlight(2,0,this.removeFrontCodeID),this.unhighlight(9,0,this.removeBackCodeID),this.unhighlight(11,0,this.removeIndexCodeID),n?this.highlight(12,0,this.removeIndexCodeID):a?this.highlight(10,0,this.removeBackCodeID):this.highlight(3,0,this.removeFrontCodeID),this.cmd(Xn.step),this.cmd(Xn.delete,this.linkedListElemID[t]),this.cmd(Xn.setHighlight,this.linkedListElemID[t-1],0);for(let d=t;d<this.size;d++)this.arrayData[d]=this.arrayData[d+1],this.linkedListElemID[d]=this.linkedListElemID[d+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(Xn.delete,o),this.cmd(Xn.delete,r),this.cmd(Xn.step),this.unhighlight(3,0,this.removeFrontCodeID),this.unhighlight(10,0,this.removeBackCodeID),this.unhighlight(12,0,this.removeIndexCodeID),n?this.highlight(13,0,this.removeIndexCodeID):a?this.highlight(11,0,this.removeBackCodeID):this.highlight(4,0,this.removeFrontCodeID),this.cmd(Xn.step),this.removeCode(this.removeFrontCodeID),this.removeCode(this.removeBackCodeID),this.removeCode(this.removeIndexCodeID),this.commands}resetNodePositions(){for(let t=0;t<this.size;t++){const e=t%8*100+100,i=100*Math.floor(t/8)+200;this.cmd(Xn.move,this.linkedListElemID[t],e,i)}}clearAll(){this.addValueField.value="",this.addIndexField.value="",this.removeField.value="",this.commands=[],this.cmd(Xn.setText,this.infoLabelID,"");for(let t=0;t<this.size;t++)this.cmd(Xn.delete,this.linkedListElemID[t]);return this.size=0,this.commands}},!0],DoublyLinkedList:["Doubly LinkedList",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[];const t=sr(!1),e=sr(!0,t),i=sr(!0,t);Yn("Add",e),this.addValueField=er("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addValueField),Yn("at index",e),this.addIndexField=er("Text","",e),this.addIndexField.style.textAlign="center",this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=er("Button","Add to Front",i),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=er("Button","Add to Back",i),this.addBackButton.onclick=()=>this.addBackCallback(),this.controls.push(this.addBackButton),Yn("or",i),this.addIndexButton=er("Button","Add at Index",i),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),ir();const s=sr(!1),h=sr(!0,s),a=sr(!0,s);Yn("Index",h),this.removeField=er("Text","",h),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,(()=>this.removeIndexCallback()),4,!0),this.controls.push(this.removeField),this.removeIndexButton=er("Button","Remove from Index",h),this.removeIndexButton.onclick=()=>this.removeIndexCallback(),this.controls.push(this.removeIndexButton),Yn("or",a),this.removeFrontButton=er("Button","Remove from Front",a),this.removeFrontButton.onclick=()=>this.removeFrontCallback(),this.controls.push(this.removeFrontButton),this.removeBackButton=er("Button","Remove from Back",a),this.removeBackButton.onclick=()=>this.removeBackCallback(),this.controls.push(this.removeBackButton),ir();const n=sr(!1);this.randomButton=er("Button","Random",n),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=er("Button","Clear",n),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),t.substring(0,4),this.size,!1,!1,!0,!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(32),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.headLabelID,"Head",220,60),this.cmd(Xn.createRectangle,this.headID,"",30,30,170,60),this.cmd(Xn.createLabel,this.tailLabelID,"Tail",125,195),this.cmd(Xn.createRectangle,this.tailID,"",30,30,170,195),this.cmd(Xn.setNull,this.headID,1),this.cmd(Xn.setNull,this.tailID,1),this.cmd(Xn.createLabel,this.leftoverLabelID,"",65,25),this.pseudocode=dr.DoublyLinkedList,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.size=0,this.nextIndex=this.resetIndex}setInfoText(t){return this.commands=[],this.cmd(Xn.setText,this.infoLabelID,t),this.commands}addIndexCallback(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){const t=parseInt(this.addValueField.value),e=parseInt(this.addIndexField.value);e>=0&&e<=this.size?(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,e,!1,!1,!0)):(this.implementAction(this.setInfoText.bind(this),0===this.size?"Index must be 0 when the list is empty.":`Index must be between 0 and ${this.size}.`),this.shake(this.addIndexButton))}else this.implementAction(this.setInfoText.bind(this),"Missing input data or index."),this.shake(this.addIndexButton)}addFrontCallback(){if(""!==this.addValueField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0,!0,!1,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addFrontButton)}addBackCallback(){if(""!==this.addValueField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addBackButton)}removeIndexCallback(){if(""!==this.removeField.value){const t=this.removeField.value;if(t>=0&&t<this.size)this.removeField.value="",this.implementAction(this.remove.bind(this),t,!1,!1,!0);else{let t="Cannot remove from an empty list.";1===this.size?t="Index must be 0 when the list contains one element.":this.size>1&&(t=`Index must be between 0 and ${this.size-1}.`),this.implementAction(this.setInfoText.bind(this),t),this.shake(this.removeIndexButton)}}else this.implementAction(this.setInfoText.bind(this),"Missing input index."),this.shake(this.removeIndexButton)}removeFrontCallback(){this.size>0?this.implementAction(this.remove.bind(this),0,!0,!1,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeFrontButton))}removeBackCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1,!1,!0,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeBackButton))}randomCallback(){const t=Math.floor(4*Math.random())+3,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.add.bind(this),t,0,!1,!0,!1,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}removeTraverse(t){if(t<this.size/2){for(let e=0;e<=t;e++)this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.linkedListElemID[e],1),e>0&&this.cmd(Xn.setHighlight,this.linkedListElemID[e-1],0);this.cmd(Xn.step)}else{for(let e=this.size-1;e>=t;e--)this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.linkedListElemID[e],1),e<this.size&&this.cmd(Xn.setHighlight,this.linkedListElemID[e+1],0);this.cmd(Xn.step)}}addTraverse(t){if(t+1<this.size/2){for(let e=0;e<=t;e++)this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.linkedListElemID[e],1),e>0&&this.cmd(Xn.setHighlight,this.linkedListElemID[e-1],0);this.cmd(Xn.step)}else{for(let e=this.size-1;e>=t;e--)this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.linkedListElemID[e],1),e<this.size&&this.cmd(Xn.setHighlight,this.linkedListElemID[e+1],0);this.cmd(Xn.step)}}add(t,e,i,s,h,a){this.commands=[],this.setInfoText(""),a||(this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",cl,ul),this.addFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFront",460,ul),this.addBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addBack",755,ul)),i?this.highlight(0,0,this.addFrontCodeID):s?this.highlight(0,0,this.addBackCodeID):h&&this.highlight(0,0,this.addIndexCodeID),h&&0===e?(this.highlight(1,0,this.addIndexCodeID),this.highlight(2,0,this.addIndexCodeID),this.highlight(0,0,this.addFrontCodeID)):h&&e===this.size&&(this.highlight(3,0,this.addIndexCodeID),this.highlight(4,0,this.addIndexCodeID),this.highlight(0,0,this.addBackCodeID)),this.cmd(Xn.step);const n=this.nextIndex++,r=this.nextIndex++,o=e-1;e>0&&e<this.size&&(this.highlight(5,0,this.addIndexCodeID),h&&e<this.size/2?(this.highlight(6,0,this.addIndexCodeID),this.highlight(7,0,this.addIndexCodeID),this.highlight(8,0,this.addIndexCodeID),this.highlight(9,0,this.addIndexCodeID)):(this.highlight(10,0,this.addIndexCodeID),this.highlight(11,0,this.addIndexCodeID),this.highlight(12,0,this.addIndexCodeID),this.highlight(13,0,this.addIndexCodeID)),this.addTraverse(o));for(let l=this.size-1;l>=e;l--)this.arrayData[l+1]=this.arrayData[l],this.linkedListElemID[l+1]=this.linkedListElemID[l];return this.arrayData[e]=t,this.linkedListElemID[e]=this.nextIndex++,this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.step),(i||h&&0===e)&&0===this.size?this.highlight(1,0,this.addFrontCodeID):i||h&&0===e?this.highlight(4,0,this.addFrontCodeID):h&&0===e?this.unhighlight(1,0,this.addIndexCodeID):h&&e<this.size/2?(this.unhighlight(6,0,this.addIndexCodeID),this.unhighlight(7,0,this.addIndexCodeID),this.unhighlight(8,0,this.addIndexCodeID),this.unhighlight(9,0,this.addIndexCodeID)):(s||h&&e===this.size)&&0===this.size?this.highlight(1,0,this.addBackCodeID):s||h&&e===this.size?this.highlight(4,0,this.addBackCodeID):h&&(this.unhighlight(10,0,this.addIndexCodeID),this.unhighlight(11,0,this.addIndexCodeID),this.unhighlight(12,0,this.addIndexCodeID),this.unhighlight(13,0,this.addIndexCodeID)),this.cmd(Xn.step),this.cmd(Xn.createDoublyLinkedListNode,this.linkedListElemID[e],"",70,30,330,60),(i||h&&0===e)&&0===this.size?(this.highlight(2,0,this.addFrontCodeID),this.highlight(3,0,this.addFrontCodeID)):i||h&&0===e?this.highlight(5,0,this.addFrontCodeID):(s||h&&e===this.size)&&0===this.size?(this.highlight(2,0,this.addBackCodeID),this.highlight(3,0,this.addBackCodeID)):s||h&&e===this.size?this.highlight(5,0,this.addBackCodeID):h&&this.highlight(14,0,this.addIndexCodeID),this.cmd(Xn.createLabel,n,"Adding Value: ",65,25),this.cmd(Xn.createLabel,r,t,125,25),this.cmd(Xn.step),this.cmd(Xn.move,r,330,60),this.cmd(Xn.setText,this.linkedListElemID[e],t),this.cmd(Xn.delete,r),this.cmd(Xn.step),0===e&&(this.cmd(Xn.setPrevNull,this.linkedListElemID[e],1),this.cmd(Xn.connect,this.headID,this.linkedListElemID[e])),e===this.size&&(this.cmd(Xn.setNextNull,this.linkedListElemID[e],1),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[e])),0!==this.size&&(0===e?((i||h&&0===e)&&(this.unhighlight(5,0,this.addFrontCodeID),this.highlight(6,0,this.addFrontCodeID),this.highlight(7,0,this.addFrontCodeID),this.highlight(8,0,this.addFrontCodeID)),this.cmd(Xn.setPrevNull,this.linkedListElemID[e+1],0),this.cmd(Xn.connectNext,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.cmd(Xn.connectPrev,this.linkedListElemID[e+1],this.linkedListElemID[e]),this.cmd(Xn.disconnect,this.headID,this.linkedListElemID[e+1])):e===this.size?((s||h&&e===this.size)&&(this.unhighlight(5,0,this.addBackCodeID),this.highlight(6,0,this.addBackCodeID),this.highlight(7,0,this.addBackCodeID),this.highlight(8,0,this.addBackCodeID)),this.cmd(Xn.setNextNull,this.linkedListElemID[e-1],0),this.cmd(Xn.connectNext,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Xn.connectPrev,this.linkedListElemID[e],this.linkedListElemID[e-1]),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[e-1])):(h&&(this.unhighlight(14,0,this.addIndexCodeID),this.highlight(15,0,this.addIndexCodeID),this.highlight(16,0,this.addIndexCodeID),this.highlight(17,0,this.addIndexCodeID),this.highlight(18,0,this.addIndexCodeID)),this.cmd(Xn.disconnect,this.linkedListElemID[e-1],this.linkedListElemID[e+1]),this.cmd(Xn.disconnect,this.linkedListElemID[e+1],this.linkedListElemID[e-1]),this.cmd(Xn.connectNext,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Xn.connectPrev,this.linkedListElemID[e],this.linkedListElemID[e-1]),this.cmd(Xn.connectNext,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.cmd(Xn.connectPrev,this.linkedListElemID[e+1],this.linkedListElemID[e]))),this.cmd(Xn.setHighlight,this.linkedListElemID[(this.size,o)],0),this.size=this.size+1,this.resetNodePositions(),this.cmd(Xn.delete,n),this.cmd(Xn.step),i||h&&0===e?(this.unhighlight(1,0,this.addFrontCodeID),this.unhighlight(2,0,this.addFrontCodeID),this.unhighlight(3,0,this.addFrontCodeID),this.unhighlight(4,0,this.addFrontCodeID),this.unhighlight(5,0,this.addFrontCodeID),this.unhighlight(6,0,this.addFrontCodeID),this.unhighlight(7,0,this.addFrontCodeID),this.unhighlight(8,0,this.addFrontCodeID),this.highlight(9,0,this.addFrontCodeID)):s||h&&e===this.size-1?(this.unhighlight(1,0,this.addBackCodeID),this.unhighlight(2,0,this.addBackCodeID),this.unhighlight(3,0,this.addBackCodeID),this.unhighlight(4,0,this.addBackCodeID),this.unhighlight(5,0,this.addBackCodeID),this.unhighlight(6,0,this.addBackCodeID),this.unhighlight(7,0,this.addBackCodeID),this.unhighlight(8,0,this.addBackCodeID),this.highlight(9,0,this.addBackCodeID)):h&&(this.unhighlight(15,0,this.addIndexCodeID),this.unhighlight(16,0,this.addIndexCodeID),this.unhighlight(17,0,this.addIndexCodeID),this.unhighlight(18,0,this.addIndexCodeID),this.highlight(19,0,this.addIndexCodeID)),this.cmd(Xn.step),i||h&&0===e?(this.unhighlight(0,0,this.addFrontCodeID),this.unhighlight(9,0,this.addFrontCodeID),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(1,0,this.addIndexCodeID),this.unhighlight(2,0,this.addIndexCodeID)):s||h&&e===this.size-1?(this.unhighlight(0,0,this.addBackCodeID),this.unhighlight(9,0,this.addBackCodeID),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(3,0,this.addIndexCodeID),this.unhighlight(4,0,this.addIndexCodeID)):h&&(this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(5,0,this.addIndexCodeID),this.unhighlight(19,0,this.addIndexCodeID)),a||(this.removeCode(this.addFrontCodeID),this.removeCode(this.addBackCodeID),this.removeCode(this.addIndexCodeID)),this.commands}remove(t,e,i,s){this.commands=[],this.setInfoText(""),this.removeIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeIndex",cl,ul),this.removeFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFront",460,ul),this.removeBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeBack",755,ul),t=parseInt(t),e?this.highlight(0,0,this.removeFrontCodeID):i?this.highlight(0,0,this.removeBackCodeID):s&&this.highlight(0,0,this.removeIndexCodeID),s&&0===t?(this.highlight(1,0,this.removeIndexCodeID),this.highlight(2,0,this.removeIndexCodeID),this.highlight(0,0,this.removeFrontCodeID)):s&&t===this.size-1&&(this.highlight(3,0,this.removeIndexCodeID),this.highlight(4,0,this.removeIndexCodeID),this.highlight(0,0,this.removeBackCodeID));const h=this.nextIndex++,a=this.nextIndex++;this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.step),t>0&&t<this.size-1&&(s&&(this.highlight(5,0,this.removeIndexCodeID),t<this.size/2?(this.highlight(6,0,this.removeIndexCodeID),this.highlight(7,0,this.removeIndexCodeID),this.highlight(8,0,this.removeIndexCodeID),this.highlight(9,0,this.removeIndexCodeID)):(this.highlight(10,0,this.removeIndexCodeID),this.highlight(11,0,this.removeIndexCodeID),this.highlight(12,0,this.removeIndexCodeID),this.highlight(13,0,this.removeIndexCodeID))),this.removeTraverse(t));const n=170+125*t;if(e||s&&0===t?this.highlight(1,0,this.removeFrontCodeID):i||s&&t===this.size-1?this.highlight(1,0,this.removeBackCodeID):s&&(this.unhighlight(6,0,this.removeIndexCodeID),this.unhighlight(7,0,this.removeIndexCodeID),this.unhighlight(8,0,this.removeIndexCodeID),this.unhighlight(9,0,this.removeIndexCodeID),this.unhighlight(10,0,this.removeIndexCodeID),this.unhighlight(11,0,this.removeIndexCodeID),this.unhighlight(12,0,this.removeIndexCodeID),this.unhighlight(13,0,this.removeIndexCodeID),this.highlight(14,0,this.removeIndexCodeID)),this.cmd(Xn.createLabel,h,"Removing Value: ",65,25),this.cmd(Xn.createLabel,a,this.arrayData[t],n,130),this.cmd(Xn.move,a,129,25),this.cmd(Xn.step),1!==this.size)if(0===t)(e||s&&0===t)&&(this.unhighlight(1,0,this.removeFrontCodeID),this.highlight(2,0,this.removeFrontCodeID)),this.cmd(Xn.connect,this.headID,this.linkedListElemID[t+1]),this.cmd(Xn.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(Xn.step),(e||s&&0===t)&&(this.unhighlight(2,0,this.removeFrontCodeID),this.highlight(5,0,this.removeFrontCodeID),this.highlight(6,0,this.removeFrontCodeID)),this.cmd(Xn.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(Xn.setPrevNull,this.linkedListElemID[t+1],1);else if(t===this.size-1)(i||s&&t===this.size-1)&&(this.unhighlight(1,0,this.removeBackCodeID),this.highlight(2,0,this.removeBackCodeID)),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[t-1]),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[t]),this.cmd(Xn.step),(i||s&&t===this.size-1)&&(this.unhighlight(2,0,this.removeBackCodeID),this.highlight(5,0,this.removeBackCodeID),this.highlight(6,0,this.removeBackCodeID)),this.cmd(Xn.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Xn.setNextNull,this.linkedListElemID[t-1],1);else{const e=t%12*125+170,i=82;this.cmd(Xn.move,this.linkedListElemID[t],e,i),s&&(this.unhighlight(14,0,this.removeIndexCodeID),this.highlight(15,0,this.removeIndexCodeID),this.highlight(16,0,this.removeIndexCodeID)),this.cmd(Xn.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Xn.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(Xn.connectNext,this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd(Xn.connectPrev,this.linkedListElemID[t+1],this.linkedListElemID[t-1])}else e||s&&0===t?(this.unhighlight(1,0,this.removeFrontCodeID),this.highlight(2,0,this.removeFrontCodeID)):(i||s&&t===this.size-1)&&(this.unhighlight(1,0,this.removeBackCodeID),this.highlight(2,0,this.removeBackCodeID),this.highlight(3,0,this.removeBackCodeID),this.highlight(4,0,this.removeBackCodeID)),this.cmd(Xn.disconnect,this.headID,this.linkedListElemID[t]),(e||s&&0===t)&&this.cmd(Xn.step),(e||s&&0===t)&&(this.unhighlight(2,0,this.removeFrontCodeID),this.highlight(3,0,this.removeFrontCodeID),this.highlight(4,0,this.removeFrontCodeID)),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[t]);this.cmd(Xn.step),this.cmd(Xn.delete,this.linkedListElemID[t]);for(let r=t;r<this.size;r++)this.arrayData[r]=this.arrayData[r+1],this.linkedListElemID[r]=this.linkedListElemID[r+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(Xn.step),e||s&&0===t?(this.unhighlight(3,0,this.removeFrontCodeID),this.unhighlight(4,0,this.removeFrontCodeID),this.unhighlight(5,0,this.removeFrontCodeID),this.unhighlight(6,0,this.removeFrontCodeID),this.highlight(7,0,this.removeFrontCodeID)):i||s&&t===this.size?(this.unhighlight(2,0,this.removeBackCodeID),this.unhighlight(3,0,this.removeBackCodeID),this.unhighlight(4,0,this.removeBackCodeID),this.unhighlight(5,0,this.removeBackCodeID),this.unhighlight(6,0,this.removeBackCodeID),this.highlight(7,0,this.removeBackCodeID)):s&&(this.unhighlight(15,0,this.removeIndexCodeID),this.unhighlight(16,0,this.removeIndexCodeID),this.highlight(17,0,this.removeIndexCodeID)),this.cmd(Xn.delete,a),this.cmd(Xn.delete,h),this.cmd(Xn.step),e||s&&0===t?(this.unhighlight(0,0,this.removeIndexCodeID),this.unhighlight(1,0,this.removeIndexCodeID),this.unhighlight(2,0,this.removeIndexCodeID),this.unhighlight(0,0,this.removeFrontCodeID),this.unhighlight(7,0,this.removeFrontCodeID)):i||s&&t===this.size?(this.unhighlight(0,0,this.removeBackCodeID),this.unhighlight(7,0,this.removeBackCodeID),this.unhighlight(0,0,this.removeIndexCodeID),this.unhighlight(3,0,this.removeIndexCodeID),this.unhighlight(4,0,this.removeIndexCodeID)):s&&(this.unhighlight(0,0,this.removeIndexCodeID),this.unhighlight(5,0,this.removeIndexCodeID),this.unhighlight(17,0,this.removeIndexCodeID)),this.removeCode(this.removeFrontCodeID),this.removeCode(this.removeBackCodeID),this.removeCode(this.removeIndexCodeID),this.commands}resetNodePositions(){for(let t=0;t<this.size;t++){const e=t%12*125+170,i=100*Math.floor(t/12)+130;this.cmd(Xn.move,this.linkedListElemID[t],e,i)}}clearAll(){this.addValueField.value="",this.addIndexField.value="",this.removeField.value="",this.commands=[],this.cmd(Xn.setText,this.infoLabelID,"");for(let t=0;t<this.size;t++)this.cmd(Xn.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(Xn.setNull,this.headID,1),this.cmd(Xn.setNull,this.tailID,1),this.commands}},!0],CircularlyLinkedList:["Circularly LinkedList",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[];const t=sr(!1),e=sr(!0,t),i=sr(!0,t);Yn("Add",e),this.addValueField=er("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addValueField),Yn("at index",e),this.addIndexField=er("Text","",e),this.addIndexField.style.textAlign="center",this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(()=>this.addIndexCallback()),4,!0),this.controls.push(this.addIndexField),this.addFrontButton=er("Button","Add to Front",i),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=er("Button","Add to Back",i),this.addBackButton.onclick=()=>this.addBackCallback(),this.controls.push(this.addBackButton),Yn("or",i),this.addIndexButton=er("Button","Add at Index",i),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),ir();const s=sr(!1),h=sr(!0,s),a=sr(!0,s);Yn("Index",h),this.removeField=er("Text","",h),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,(()=>this.removeIndexCallback()),4,!0),this.controls.push(this.removeField),this.removeIndexButton=er("Button","Remove from Index",h),this.removeIndexButton.onclick=()=>this.removeIndexCallback(),this.controls.push(this.removeIndexButton),Yn("or",a),this.removeFrontButton=er("Button","Remove from Front",a),this.removeFrontButton.onclick=()=>this.removeFrontCallback(),this.controls.push(this.removeFrontButton),this.removeBackButton=er("Button","Remove from Back",a),this.removeBackButton.onclick=()=>this.removeBackCallback(),this.controls.push(this.removeBackButton),ir();const n=sr(!1);this.randomButton=er("Button","Random",n),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=er("Button","Clear",n),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.add.bind(this),t.substring(0,4),this.size,!1,!1,!0,!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(15),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.headLabelID,"Head",50,165),this.cmd(Xn.createRectangle,this.headID,"",30,30,50,195),this.cmd(Xn.setNull,this.headID,1),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.arrayData=new Array(15),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.leftoverLabelID,"",75,30),this.pseudocode=dr.CircularlyLinkedList,this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.size=0,this.nextIndex=this.resetIndex}setInfoText(t){return this.commands=[],this.cmd(Xn.setText,this.infoLabelID,t),this.commands}addIndexCallback(){if(""!==this.addValueField.value&&""!==this.addIndexField.value&&this.size<15){const t=parseInt(this.addValueField.value),e=parseInt(this.addIndexField.value);e>=0&&e<=this.size?(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t,e,!1,!1,!0)):(this.implementAction(this.setInfoText.bind(this),0===this.size?"Index must be 0 when the list is empty.":`Index must be between 0 and ${this.size}.`),this.shake(this.addIndexButton))}else this.implementAction(this.setInfoText.bind(this),"Missing input data or index."),this.shake(this.addIndexButton)}addFrontCallback(){if(""!==this.addValueField.value&&this.size<15){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,0,!0,!1,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addFrontButton)}addBackCallback(){if(""!==this.addValueField.value&&this.size<15){const t=parseInt(this.addValueField.value);this.addValueField.value="",this.implementAction(this.add.bind(this),t,this.size,!1,!0,!1)}else this.implementAction(this.setInfoText.bind(this),"Missing input data."),this.shake(this.addBackButton)}removeIndexCallback(){if(""!==this.removeField.value){const t=this.removeField.value;if(t>=0&&t<this.size)this.removeField.value="",this.implementAction(this.remove.bind(this),t,!1,!1,!0);else{let t="Cannot remove from an empty list.";1===this.size?t="Index must be 0 when the list contains one element.":this.size>1&&(t=`Index must be between 0 and ${this.size-1}.`),this.implementAction(this.setInfoText.bind(this),t),this.shake(this.removeIndexButton)}}else this.implementAction(this.setInfoText.bind(this),"Missing input index."),this.shake(this.removeIndexButton)}removeFrontCallback(){this.size>0?this.implementAction(this.remove.bind(this),0,!0,!1,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeFrontButton))}removeBackCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1,!1,!0,!1):(this.implementAction(this.setInfoText.bind(this),"Cannot remove from an empty list."),this.shake(this.removeBackButton))}randomCallback(){const t=Math.floor(5*Math.random())+4,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.add.bind(this),t,0,!1,!0,!1,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}traverse(t){for(let e=0;e<=t;e++)this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.linkedListElemID[e],1),e>0&&this.cmd(Xn.setHighlight,this.linkedListElemID[e-1],0);this.cmd(Xn.step)}add(t,e,i,s,h,a){this.commands=[],this.setInfoText(""),a||(this.addIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addIndex",uo,mo),this.addFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFront",710,mo),this.addBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addBack",1050,mo)),i||h&&0===e?this.highlight(0,0,this.addFrontCodeID):(s||h&&e===this.size)&&(this.highlight(0,0,this.addFrontCodeID),this.highlight(0,0,this.addBackCodeID),this.highlight(1,0,this.addBackCodeID)),h&&0===e?(this.highlight(0,0,this.addIndexCodeID),this.highlight(1,0,this.addIndexCodeID),this.highlight(2,0,this.addIndexCodeID),i=!0):h&&e===this.size?(this.highlight(0,0,this.addIndexCodeID),this.highlight(3,0,this.addIndexCodeID),this.highlight(4,0,this.addIndexCodeID),s=!0):h&&this.highlight(0,0,this.addIndexCodeID),e<this.size&&(h&&e>0&&(this.cmd(Xn.step),this.highlight(5,0,this.addIndexCodeID),this.highlight(6,0,this.addIndexCodeID),this.highlight(7,0,this.addIndexCodeID),this.highlight(8,0,this.addIndexCodeID)),this.traverse(e-1));const n=this.nextIndex++,r=this.nextIndex++;for(let o=this.size-1;o>=e;o--)this.arrayData[o+1]=this.arrayData[o];if(this.arrayData[e]=t,0===this.size||0!==e&&e!==this.size){for(let t=this.size-1;t>=e;t--)this.linkedListElemID[t+1]=this.linkedListElemID[t];this.linkedListElemID[e]=this.nextIndex++}else{for(let t=this.size-1;t>=1;t--)this.linkedListElemID[t+1]=this.linkedListElemID[t];this.linkedListElemID[1]=this.nextIndex++}if(this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.createLabel,n,"Adding Value: ",75,30),this.cmd(Xn.createLabel,r,t,150,30),this.cmd(Xn.step),0===this.size||0!==e&&e!==this.size?this.cmd(Xn.createCircularlyLinkedListNode,this.linkedListElemID[e],"",70,30,ro,oo):this.cmd(Xn.createCircularlyLinkedListNode,this.linkedListElemID[1],"",70,30,ro,oo),0===this.size)(i||s)&&(this.highlight(1,0,this.addFrontCodeID),this.highlight(2,0,this.addFrontCodeID)),this.cmd(Xn.move,r,ro,oo),this.cmd(Xn.setText,this.linkedListElemID[0],t),this.cmd(Xn.connect,this.headID,this.linkedListElemID[0]),this.cmd(Xn.step),(i||s)&&(this.unhighlight(2,0,this.addFrontCodeID),this.highlight(3,0,this.addFrontCodeID)),this.cmd(Xn.delete,r),this.cmd(Xn.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5),this.cmd(Xn.step),this.size=this.size+1,this.resetNodePositions(),this.cmd(Xn.step),(i||s)&&(this.unhighlight(1,0,this.addFrontCodeID),this.unhighlight(3,0,this.addFrontCodeID)),s&&this.highlight(9,0,this.addFrontCodeID);else if(0===e||e===this.size){(i||s)&&(this.highlight(4,0,this.addFrontCodeID),this.highlight(5,0,this.addFrontCodeID));const h=this.nextIndex++,a=0===e?this.arrayData[1]:this.arrayData[0];if(this.cmd(Xn.createLabel,h,a,ao,no),this.cmd(Xn.move,h,ro,oo),this.cmd(Xn.step),this.cmd(Xn.setText,this.linkedListElemID[1],a),this.cmd(Xn.delete,h),(i||s)&&(this.unhighlight(5,0,this.addFrontCodeID),this.highlight(6,0,this.addFrontCodeID)),this.cmd(Xn.move,r,ao,no),this.cmd(Xn.setText,this.linkedListElemID[0],t),this.cmd(Xn.delete,r),this.cmd(Xn.step),(i||s)&&(this.unhighlight(6,0,this.addFrontCodeID),this.highlight(7,0,this.addFrontCodeID),this.highlight(8,0,this.addFrontCodeID)),1===this.size?(this.cmd(Xn.disconnect,this.linkedListElemID[0],this.linkedListElemID[0]),this.cmd(Xn.connect,this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd(Xn.connectCurve,this.linkedListElemID[1],this.linkedListElemID[0],-.5)):(this.cmd(Xn.disconnect,this.linkedListElemID[0],this.linkedListElemID[2]),this.cmd(Xn.connect,this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd(Xn.connect,this.linkedListElemID[1],this.linkedListElemID[2])),this.cmd(Xn.step),this.size=this.size+1,this.cmd(Xn.connect,this.headID,this.linkedListElemID[0]),this.resetNodePositions(),this.cmd(Xn.step),s&&(this.unhighlight(4,0,this.addFrontCodeID),this.unhighlight(7,0,this.addFrontCodeID),this.unhighlight(8,0,this.addFrontCodeID),this.highlight(9,0,this.addFrontCodeID),this.cmd(Xn.step)),e===this.size-1){let t;s&&(this.unhighlight(9,0,this.addFrontCodeID),this.unhighlight(0,0,this.addFrontCodeID),this.unhighlight(1,0,this.addBackCodeID),this.highlight(2,0,this.addBackCodeID)),this.cmd(Xn.disconnect,this.headID,this.linkedListElemID[0]);const e=this.linkedListElemID[0];for(t=0;t<this.size-1;t++)this.linkedListElemID[t]=this.linkedListElemID[t+1];this.linkedListElemID[this.size-1]=e;const i=(this.size-1)%lo*co+ao,h=100*Math.floor((this.size-1)/lo)+no;this.cmd(Xn.move,this.linkedListElemID[t],(ao+i)/2,h+90),this.cmd(Xn.connect,this.headID,this.linkedListElemID[0]),this.cmd(Xn.step);for(let s=0;s<this.size-1;s++){const t=s%lo*co+ao,e=100*Math.floor(s/lo)+no;this.cmd(Xn.move,this.linkedListElemID[s],t,e)}this.cmd(Xn.disconnect,this.linkedListElemID[this.size-2],this.linkedListElemID[this.size-1]),this.cmd(Xn.connect,this.linkedListElemID[this.size-2],this.linkedListElemID[this.size-1]),this.cmd(Xn.disconnect,this.linkedListElemID[this.size-1],this.linkedListElemID[0]),this.cmd(Xn.connectCurve,this.linkedListElemID[this.size-1],this.linkedListElemID[0],-.5),this.cmd(Xn.move,this.linkedListElemID[t],i,h),this.cmd(Xn.step)}}else h&&(this.unhighlight(5,0,this.addIndexCodeID),this.unhighlight(6,0,this.addIndexCodeID),this.unhighlight(7,0,this.addIndexCodeID),this.unhighlight(8,0,this.addIndexCodeID),0!==e&&this.highlight(9,0,this.addIndexCodeID)),this.cmd(Xn.move,r,ro,oo),this.cmd(Xn.setText,this.linkedListElemID[e],t),this.cmd(Xn.delete,r),this.cmd(Xn.step),h&&(this.unhighlight(9,0,this.addIndexCodeID),this.highlight(10,0,this.addIndexCodeID),this.highlight(11,0,this.addIndexCodeID)),this.cmd(Xn.disconnect,this.linkedListElemID[e-1],this.linkedListElemID[e+1]),this.cmd(Xn.connect,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Xn.connect,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.size=this.size+1,this.resetNodePositions();return this.cmd(Xn.setHighlight,this.linkedListElemID[e-1],0),this.cmd(Xn.delete,n),i?(this.unhighlight(4,0,this.addFrontCodeID),this.unhighlight(7,0,this.addFrontCodeID),this.unhighlight(8,0,this.addFrontCodeID)):s&&this.unhighlight(2,0,this.addBackCodeID),this.cmd(Xn.step),i&&this.highlight(9,0,this.addFrontCodeID),h&&(this.unhighlight(10,0,this.addIndexCodeID),this.unhighlight(11,0,this.addIndexCodeID),0!==e&&e!==this.size-1&&this.highlight(12,0,this.addIndexCodeID)),s&&(this.unhighlight(9,0,this.addFrontCodeID),this.unhighlight(1,0,this.addBackCodeID),1===this.size&&this.highlight(2,0,this.addBackCodeID)),this.cmd(Xn.step),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(0,0,this.addFrontCodeID),this.unhighlight(9,0,this.addFrontCodeID),this.unhighlight(2,0,this.addBackCodeID),this.unhighlight(0,0,this.addBackCodeID),this.unhighlight(0,0,this.addIndexCodeID),this.unhighlight(1,0,this.addIndexCodeID),this.unhighlight(2,0,this.addIndexCodeID),this.unhighlight(3,0,this.addIndexCodeID),this.unhighlight(4,0,this.addIndexCodeID),this.unhighlight(12,0,this.addIndexCodeID),a||(this.removeCode(this.addFrontCodeID),this.removeCode(this.addBackCodeID),this.removeCode(this.addIndexCodeID)),this.commands}remove(t,e,i,s){this.commands=[],this.setInfoText(""),this.removeIndexCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeIndex",uo,mo),this.removeFrontCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFront",710,mo),this.removeBackCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeBack",1050,mo),t=parseInt(t),e?this.highlight(0,0,this.removeFrontCodeID):i?this.highlight(0,0,this.removeBackCodeID):s&&this.highlight(0,0,this.removeIndexCodeID),s&&0===t?(this.highlight(1,0,this.removeIndexCodeID),this.highlight(2,0,this.removeIndexCodeID),this.highlight(0,0,this.removeFrontCodeID),e=!0):s&&t===this.size-1&&(this.highlight(3,0,this.removeIndexCodeID),this.highlight(4,0,this.removeIndexCodeID),this.highlight(0,0,this.removeBackCodeID),i=!0);const h=this.nextIndex++,a=this.nextIndex++;i&&this.size>1?(this.cmd(Xn.step),this.highlight(5,0,this.removeBackCodeID),this.highlight(6,0,this.removeBackCodeID),this.highlight(7,0,this.removeBackCodeID),this.highlight(8,0,this.removeBackCodeID)):s&&t>0&&(this.cmd(Xn.step),this.highlight(5,0,this.removeIndexCodeID),this.highlight(6,0,this.removeIndexCodeID),this.highlight(7,0,this.removeIndexCodeID),this.highlight(8,0,this.removeIndexCodeID)),this.traverse(t-1),this.cmd(Xn.setText,this.leftoverLabelID,"");const n=ao+co*t;if(this.cmd(Xn.createLabel,h,"Removing Value: ",75,30),this.cmd(Xn.createLabel,a,this.arrayData[t],n,275),e?this.highlight(1,0,this.removeFrontCodeID):i?(this.unhighlight(5,0,this.removeBackCodeID),this.unhighlight(6,0,this.removeBackCodeID),this.unhighlight(7,0,this.removeBackCodeID),this.unhighlight(8,0,this.removeBackCodeID),1!==this.size&&this.highlight(9,0,this.removeBackCodeID)):s&&(this.unhighlight(5,0,this.removeIndexCodeID),this.unhighlight(6,0,this.removeIndexCodeID),this.unhighlight(7,0,this.removeIndexCodeID),this.unhighlight(8,0,this.removeIndexCodeID),this.highlight(9,0,this.removeIndexCodeID)),this.cmd(Xn.move,a,150,30),this.cmd(Xn.step),e?this.unhighlight(1,0,this.removeFrontCodeID):i?this.unhighlight(9,0,this.removeBackCodeID):s&&this.unhighlight(9,0,this.removeIndexCodeID),1!==this.size){if(0===t){e&&(this.highlight(4,0,this.removeFrontCodeID),this.highlight(5,0,this.removeFrontCodeID));const t=this.nextIndex++,i=175,s=no;this.cmd(Xn.createLabel,t,this.arrayData[1],i,s),this.cmd(Xn.move,t,ao,no),this.cmd(Xn.setText,this.linkedListElemID[0],this.arrayData[1]),this.cmd(Xn.delete,t),this.cmd(Xn.step),e&&(this.unhighlight(5,0,this.removeFrontCodeID),this.highlight(6,0,this.removeFrontCodeID)),this.cmd(Xn.move,this.linkedListElemID[1],i,s-60),this.cmd(Xn.disconnect,this.linkedListElemID[0],this.linkedListElemID[1]),2===this.size?this.cmd(Xn.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5):this.cmd(Xn.connect,this.linkedListElemID[0],this.linkedListElemID[2])}else if(t===this.size-1)i&&this.highlight(10,0,this.removeBackCodeID),this.cmd(Xn.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),2===this.size?this.cmd(Xn.connectCurve,this.linkedListElemID[0],this.linkedListElemID[0],-.5):this.cmd(Xn.connectCurve,this.linkedListElemID[t-1],this.linkedListElemID[0],-.5);else{s&&this.highlight(10,0,this.removeIndexCodeID);const e=t%lo*co+ao,i=215;this.cmd(Xn.move,this.linkedListElemID[t],e,i),this.cmd(Xn.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Xn.connect,this.linkedListElemID[t-1],this.linkedListElemID[t+1])}this.cmd(Xn.step);const h=0===t?1:t;this.cmd(Xn.delete,this.linkedListElemID[h]);for(let t=h;t<this.size;t++)this.linkedListElemID[t]=this.linkedListElemID[t+1]}else e?(this.highlight(2,0,this.removeFrontCodeID),this.highlight(3,0,this.removeFrontCodeID)):i&&(this.highlight(2,0,this.removeBackCodeID),this.highlight(3,0,this.removeBackCodeID),this.highlight(4,0,this.removeBackCodeID)),this.cmd(Xn.delete,this.linkedListElemID[0]),this.cmd(Xn.setNull,this.headID,1);for(let r=t;r<this.size;r++)this.arrayData[r]=this.arrayData[r+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd(Xn.step),e?(this.unhighlight(2,0,this.removeFrontCodeID),this.unhighlight(3,0,this.removeFrontCodeID),this.unhighlight(4,0,this.removeFrontCodeID),this.unhighlight(6,0,this.removeFrontCodeID),this.highlight(7,0,this.removeFrontCodeID)):i?(this.unhighlight(10,0,this.removeBackCodeID),this.unhighlight(2,0,this.removeBackCodeID),this.unhighlight(3,0,this.removeBackCodeID),this.unhighlight(4,0,this.removeBackCodeID),this.highlight(11,0,this.removeBackCodeID)):s&&(this.unhighlight(10,0,this.removeIndexCodeID),this.highlight(11,0,this.removeIndexCodeID)),this.cmd(Xn.setHighlight,this.linkedListElemID[t-1],0),this.cmd(Xn.delete,a),this.cmd(Xn.delete,h),this.cmd(Xn.step),e?(this.unhighlight(0,0,this.removeFrontCodeID),this.unhighlight(7,0,this.removeFrontCodeID)):i&&(this.unhighlight(11,0,this.removeBackCodeID),this.unhighlight(0,0,this.removeBackCodeID)),s&&(this.unhighlight(0,0,this.removeIndexCodeID),this.unhighlight(11,0,this.removeIndexCodeID)),s&&0===t?(this.unhighlight(1,0,this.removeIndexCodeID),this.unhighlight(2,0,this.removeIndexCodeID),this.unhighlight(0,0,this.removeFrontCodeID)):s&&t===this.size&&(this.unhighlight(3,0,this.removeIndexCodeID),this.unhighlight(4,0,this.removeIndexCodeID),this.unhighlight(0,0,this.removeBackCodeID)),this.cmd(Xn.step),this.removeCode(this.removeFrontCodeID),this.removeCode(this.removeBackCodeID),this.removeCode(this.removeIndexCodeID),this.commands}resetNodePositions(){for(let t=0;t<this.size;t++){const e=t%lo*co+ao,i=100*Math.floor(t/lo)+no;this.cmd(Xn.move,this.linkedListElemID[t],e,i)}}clearAll(){this.addValueField.value="",this.addIndexField.value="",this.removeField.value="",this.commands=[],this.cmd(Xn.setText,this.infoLabelID,"");for(let t=0;t<this.size;t++)this.cmd(Xn.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(Xn.setNull,this.headID,1),this.commands}},!0],StackArray:["Stack (Array)",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup()}addControls(){this.controls=[],this.pushField=er("Text",""),this.pushField.style.textAlign="center",this.pushField.onkeydown=this.returnSubmit(this.pushField,this.pushCallback.bind(this),4,!0),this.pushButton=er("Button","Push"),this.pushButton.onclick=this.pushCallback.bind(this),this.controls.push(this.pushField),this.controls.push(this.pushButton),ir(),this.popButton=er("Button","Pop"),this.popButton.onclick=this.popCallback.bind(this),this.controls.push(this.popButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.pushField.value=t.substring(0,4),this.pushCallback(),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.nextIndex=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7),this.arraySize=7;for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.top=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.commands=[];for(let t=0;t<7;t++){const e=t%qd*Vd+Hd,i=Math.floor(t/qd)*Wd+Md;this.cmd(Xn.createRectangle,this.arrayID[t],"",Vd,$d,e,i),this.cmd(Xn.createLabel,this.arrayLabelID[t],t,e,i+$d),this.cmd(Xn.setForegroundColor,this.arrayLabelID[t],"#0000FF")}this.cmd(Xn.createLabel,this.topLabelID,"Size",130,100),this.cmd(Xn.createRectangle,this.topID,0,Vd,$d,180,100),this.cmd(Xn.createLabel,this.leftoverLabelID,"",50,30),this.cmd(Xn.createLabel,this.leftoverValID,"",Ud,30),this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++,this.pseudocode=dr.StackArray,this.pushCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"push",300,25),this.popCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"pop",625,25),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.top=0,this.nextIndex=0,this.length=7,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+4,this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++}pushCallback(){if(this.top<this.arrayData.length&&""!==this.pushField.value){const t=this.pushField.value;this.pushField.value="",this.implementAction(this.push.bind(this),t)}else if(this.top===this.arrayData.length&&2*this.top<30){const t=this.pushField.value;this.pushField.value="",this.implementAction(this.resize.bind(this),t)}else this.shake(this.pushButton)}popCallback(){this.top>0?this.implementAction(this.pop.bind(this)):this.shake(this.popButton)}randomCallback(){this.implementAction(this.clearAll.bind(this));const t=this.arrayData.length-1,e=Math.floor(Math.random()*(t-3+1))+3,i=new Set;for(let s=0;s<e;s++){const t=Math.floor(17*Math.random())+0;i.has(t)?s--:(i.add(t),this.implementAction(this.push.bind(this),t)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearData.bind(this))}clearData(){return this.pushField.value="",this.commands=[],this.clearAll(),this.commands}push(t){this.commands=[],this.arrayData[this.top]=t;const e=this.nextIndex++,i=this.nextIndex++;this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.highlight(0,0,this.pushCodeID),this.cmd(Xn.createLabel,e,"Pushing Value: ",50,30),this.cmd(Xn.createLabel,i,t,Ud,30),this.cmd(Xn.step),this.highlight(6,0,this.pushCodeID),this.cmd(Xn.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(Xn.step);const s=this.top%qd*Vd+Hd,h=Math.floor(this.top/qd)*Wd+Md;return this.cmd(Xn.move,this.highlight1ID,s,h+$d),this.cmd(Xn.step),this.cmd(Xn.move,i,s,h),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[this.top],t),this.cmd(Xn.delete,i),this.cmd(Xn.delete,this.highlight1ID),this.unhighlight(6,0,this.pushCodeID),this.highlight(7,0,this.pushCodeID),this.cmd(Xn.setHighlight,this.topID,1),this.cmd(Xn.step),this.top=this.top+1,this.cmd(Xn.setText,this.topID,this.top),this.cmd(Xn.delete,e),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.topID,0),this.unhighlight(7,0,this.pushCodeID),null!=t&&(this.nextIndex=this.nextIndex-2),this.unhighlight(0,0,this.pushCodeID),this.commands}pop(){this.commands=[];const t=this.nextIndex++,e=this.nextIndex++;this.highlight(0,0,this.popCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.cmd(Xn.step),this.cmd(Xn.createLabel,t,"Popped Value: ",50,30),this.highlight(1,0,this.popCodeID),this.cmd(Xn.setHighlight,this.topID,1),this.cmd(Xn.step),this.top=this.top-1;const i=this.arrayData[this.top];this.arrayData[this.top]="",this.cmd(Xn.setText,this.topID,this.top),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.topID,0),this.unhighlight(1,0,this.popCodeID),this.highlight(2,0,this.popCodeID),this.cmd(Xn.createHighlightCircle,this.highlight1ID,"#0000FF",180,100),this.cmd(Xn.step);const s=this.top%qd*Vd+Hd,h=Math.floor(this.top/qd)*Wd+Md;return this.cmd(Xn.move,this.highlight1ID,s,h+$d),this.cmd(Xn.step),this.cmd(Xn.createLabel,e,i,s,h),this.cmd(Xn.move,e,Ud,30),this.cmd(Xn.step),this.unhighlight(2,0,this.popCodeID),this.highlight(3,0,this.popCodeID),this.cmd(Xn.setText,this.arrayID[this.top],""),this.cmd(Xn.delete,t),this.cmd(Xn.delete,this.highlight1ID),this.cmd(Xn.setText,this.leftoverLabelID,"Popped Value: "),this.cmd(Xn.setText,this.leftoverValID,i),this.cmd(Xn.delete,e),this.cmd(Xn.step),this.unhighlight(3,0,this.popCodeID),this.unhighlight(0,0,this.popCodeID),this.nextIndex=this.nextIndex-2,this.commands}resize(t){this.commands=[],this.highlight(0,0,this.pushCodeID);const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;this.cmd(Xn.createLabel,e,"Pushing Value: ",50,30),this.cmd(Xn.createLabel,i,t,Ud,30),this.cmd(Xn.step),this.arraySize=2*this.top,this.arrayIDNew=new Array(2*this.top),this.arrayLabelIDNew=new Array(2*this.top),this.arrayDataNew=new Array(2*this.top);for(let n=0;n<2*this.top;n++)this.arrayIDNew[n]=this.nextIndex++,this.arrayLabelIDNew[n]=this.nextIndex++,n<this.top&&(this.arrayDataNew[n]=this.arrayData[n]);this.arrayDataNew[this.top]=t,this.highlight1ID=this.nextIndex++,this.highlight(1,0,this.pushCodeID),this.highlight(2,0,this.pushCodeID),this.cmd(Xn.createLabel,s,"(Resize Required)",60,60);for(let n=0;n<2*this.top;n++){const t=n%qd*Vd+100,e=Math.floor(n/qd)*Wd+325;this.cmd(Xn.createRectangle,this.arrayIDNew[n],"",Vd,$d,t,e),this.cmd(Xn.createLabel,this.arrayLabelIDNew[n],n,t,e+$d),this.cmd(Xn.setForegroundColor,this.arrayLabelIDNew[n],"#0000FF")}this.cmd(Xn.step),this.arrayMoveID=new Array(this.top),this.unhighlight(2,0,this.pushCodeID),this.highlight(3,0,this.pushCodeID),this.highlight(4,0,this.pushCodeID);for(let n=0;n<this.top;n++){const t=n%qd*Vd+Hd,e=Math.floor(n/qd)*Wd+Md,i=n%qd*Vd+100,s=Math.floor(n/qd)*Wd+325;this.arrayMoveID[n]=this.nextIndex++;const h=this.arrayData[n];this.cmd(Xn.createLabel,this.arrayMoveID[n],h,t,e),this.cmd(Xn.move,this.arrayMoveID[n],i,s)}for(let n=0;n<this.top;n++){const t=this.arrayData[n];this.cmd(Xn.setText,this.arrayIDNew[n],t),this.cmd(Xn.delete,this.arrayMoveID[n])}this.cmd(Xn.step),this.unhighlight(3,0,this.pushCodeID),this.unhighlight(4,0,this.pushCodeID),this.highlight(5,0,this.pushCodeID);for(let n=0;n<this.top;n++)this.cmd(Xn.delete,this.arrayID[n]),this.cmd(Xn.delete,this.arrayLabelID[n]);for(let n=0;n<2*this.top;n++){const t=n%qd*Vd+Hd,e=Math.floor(n/qd)*Wd+Md;this.cmd(Xn.move,this.arrayIDNew[n],t,e),this.cmd(Xn.move,this.arrayLabelIDNew[n],t,e+$d)}this.cmd(Xn.step),this.unhighlight(1,0,this.pushCodeID),this.unhighlight(5,0,this.pushCodeID),this.highlight(6,0,this.pushCodeID),this.cmd(Xn.createHighlightCircle,this.highlight1ID,"#0000FF",Ud,30),this.cmd(Xn.step);const h=parseInt(this.top)%qd*Vd+Hd,a=Math.floor(parseInt(this.top)/qd)*Wd+Md;return this.cmd(Xn.move,this.highlight1ID,h,a),this.cmd(Xn.move,i,h,a),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayIDNew[this.top],t),this.cmd(Xn.delete,i),this.cmd(Xn.delete,this.highlight1ID),this.cmd(Xn.step),this.unhighlight(6,0,this.pushCodeID),this.highlight(7,0,this.pushCodeID),this.cmd(Xn.setHighlight,this.topID,1),this.cmd(Xn.step),this.top=this.top+1,this.cmd(Xn.setText,this.topID,this.top),this.cmd(Xn.delete,e),this.cmd(Xn.delete,s),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.topID,0),this.unhighlight(7,0,this.pushCodeID),this.unhighlight(0,0,this.pushCodeID),this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,this.nextIndex=this.nextIndex-this.top+1,this.commands}clearAll(){this.commands=[];for(let t=0;t<this.top;t++)this.cmd(Xn.setText,this.arrayID[t],"");this.top=0,this.cmd(Xn.setText,this.topID,"0");for(let t=7;t<this.arraySize;t++)this.cmd(Xn.delete,this.arrayID[t]),this.cmd(Xn.delete,this.arrayLabelID[t]);return this.arraySize=7,this.commands}},!0],StackLL:["Stack (LinkedList)",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.pushField=er("Text",""),this.pushField.style.textAlign="center",this.pushField.onkeydown=this.returnSubmit(this.pushField,this.pushCallback.bind(this),4,!0),this.pushButton=er("Button","Push"),this.pushButton.onclick=this.pushCallback.bind(this),this.controls.push(this.pushField),this.controls.push(this.pushButton),ir(),this.popButton=er("Button","Pop"),this.popButton.onclick=this.popCallback.bind(this),this.controls.push(this.popButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));const e=t.get("data").split(",").filter((t=>""!==t.trim()));e.reverse(),e.forEach((t=>{this.implementAction(this.push.bind(this),t.substring(0,4)),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(32);for(let t=0;t<32;t++)this.linkedListElemID[t]=this.nextIndex++;this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.arrayData=new Array(32),this.top=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.cmd(Xn.createLabel,this.topLabelID,"Head",130,135),this.cmd(Xn.createRectangle,this.topID,"",30,30,180,135),this.cmd(Xn.setNull,this.topID,1),this.cmd(Xn.createLabel,this.leftoverLabelID,"",50,30),this.cmd(Xn.createLabel,this.leftoverValID,"",120,30),this.pseudocode=dr.StackLL,this.pushCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"push",400,25),this.popCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"pop",725,25),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}resetLinkedListPositions(){for(let t=this.top-1;t>=0;t--){const e=(this.top-1-t)%12*100+100,i=100*Math.floor((this.top-1-t)/12)+250;this.cmd(Xn.move,this.linkedListElemID[t],e,i)}}reset(){this.top=0,this.nextIndex=this.initialIndex}pushCallback(){if(this.top<32&&""!==this.pushField.value){const t=this.pushField.value;this.pushField.value="",this.implementAction(this.push.bind(this),t)}else this.shake(this.pushButton)}popCallback(){this.top>0?this.implementAction(this.pop.bind(this)):this.shake(this.popButton)}randomCallback(){const t=Math.floor(6*Math.random())+2,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.push.bind(this),t)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}push(t){this.commands=[];const e=this.nextIndex++,i=this.nextIndex++;return this.arrayData[this.top]=t,this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.highlight(1,0,this.pushCodeID),this.cmd(Xn.createLinkedListNode,this.linkedListElemID[this.top],"",70,30,250,50,.25,0,1),this.cmd(Xn.createLabel,e,"Pushing Value: ",50,30),this.cmd(Xn.createLabel,i,t,120,30),this.cmd(Xn.step),this.cmd(Xn.move,i,250,50),this.cmd(Xn.step),this.cmd(Xn.setText,this.linkedListElemID[this.top],t),this.cmd(Xn.delete,i),this.unhighlight(1,0,this.pushCodeID),0===this.top?(this.cmd(Xn.setNull,this.topID,0),this.cmd(Xn.setNull,this.linkedListElemID[this.top],1)):(this.cmd(Xn.connect,this.linkedListElemID[this.top],this.linkedListElemID[this.top-1]),this.cmd(Xn.step),this.cmd(Xn.disconnect,this.topID,this.linkedListElemID[this.top-1])),this.cmd(Xn.connect,this.topID,this.linkedListElemID[this.top]),this.highlight(2,0,this.pushCodeID,"english"),this.highlight(3,0,this.pushCodeID,"english"),this.cmd(Xn.step),this.top=this.top+1,this.unhighlight(2,0,this.pushCodeID,"english"),this.unhighlight(3,0,this.pushCodeID,"english"),this.highlight(4,0,this.pushCodeID,"english"),this.resetLinkedListPositions(),this.cmd(Xn.delete,e),this.cmd(Xn.step),this.unhighlight(4,0,this.pushCodeID,"english"),this.commands}pop(){this.commands=[];const t=this.nextIndex++,e=this.nextIndex++;return this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.cmd(Xn.createLabel,t,"Popped Value: ",50,30),this.cmd(Xn.createLabel,e,this.arrayData[this.top-1],100,250),this.highlight(1,0,this.popCodeID),this.cmd(Xn.move,e,120,30),this.cmd(Xn.step),this.cmd(Xn.disconnect,this.topID,this.linkedListElemID[this.top-1]),this.unhighlight(1,0,this.popCodeID),1===this.top?this.cmd(Xn.setNull,this.topID,1):this.cmd(Xn.connect,this.topID,this.linkedListElemID[this.top-2]),this.highlight(2,0,this.popCodeID),this.cmd(Xn.step),this.unhighlight(2,0,this.popCodeID),this.cmd(Xn.delete,this.linkedListElemID[this.top-1]),this.highlight(3,0,this.popCodeID),this.highlight(4,0,this.popCodeID,"english"),this.top=this.top-1,this.resetLinkedListPositions(),this.cmd(Xn.step),this.unhighlight(3,0,this.popCodeID),this.unhighlight(4,0,this.popCodeID,"english"),this.cmd(Xn.delete,e),this.cmd(Xn.delete,t),this.cmd(Xn.setText,this.leftoverLabelID,"Popped Value: "),this.cmd(Xn.setText,this.leftoverValID,this.arrayData[this.top]),this.commands}clearAll(){this.pushField.value="",this.commands=[];for(let t=0;t<this.top;t++)this.cmd(Xn.delete,this.linkedListElemID[t]);return this.top=0,this.cmd(Xn.setNull,this.topID,1),this.commands}},!0],QueueArray:["Queue (Array)",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.enqueueField=er("Text",""),this.enqueueField.style.textAlign="center",this.enqueueField.onkeydown=this.returnSubmit(this.enqueueField,this.enqueueCallback.bind(this),4,!0),this.enqueueButton=er("Button","Enqueue"),this.enqueueButton.onclick=this.enqueueCallback.bind(this),this.controls.push(this.enqueueField),this.controls.push(this.enqueueButton),ir(),this.dequeueButton=er("Button","Dequeue"),this.dequeueButton.onclick=this.dequeueCallback.bind(this),this.controls.push(this.dequeueButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.enqueueField.value=t.substring(0,4),this.enqueueCallback(),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.nextIndex=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(let i=0;i<7;i++)this.arrayID[i]=this.nextIndex++,this.arrayLabelID[i]=this.nextIndex++;this.frontID=this.nextIndex++;const t=this.nextIndex++;this.sizeID=this.nextIndex++;const e=this.nextIndex++;this.frontPointerID=this.nextIndex++,this.arrayData=new Array(7),this.front=0,this.size=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.arraySize=7;for(let i=0;i<7;i++){const t=i%od*nd+hd,e=Math.floor(i/od)*ld+ad;this.cmd(Xn.createRectangle,this.arrayID[i],"",nd,rd,t,e),this.cmd(Xn.createLabel,this.arrayLabelID[i],i,t,e+rd),this.cmd(Xn.setForegroundColor,this.arrayLabelID[i],ud)}this.cmd(Xn.createLabel,t,"Front",130,100),this.cmd(Xn.createRectangle,this.frontID,0,nd,rd,180,100),this.cmd(Xn.createLabel,e,"Size",230,100),this.cmd(Xn.createRectangle,this.sizeID,0,nd,rd,280,100),this.cmd(Xn.createLabel,this.frontPointerID,"Front",hd,200),this.cmd(Xn.createLabel,this.leftoverLabelID,"",60,30),this.cmd(Xn.createLabel,this.leftoverValID,"",dd,30),this.highlight1ID=this.nextIndex++,this.pseudocode=dr.QueueArray,this.enqueueCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"enqueue",350,25),this.dequeueCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"dequeue",815,25),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.top=0,this.front=0,this.size=0,this.arrayID=new Array(7),this.arrayLabelID=new Array(7),this.arrayData=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+8,this.arraySize=7}enqueueCallback(){if(this.size<this.arraySize&&""!==this.enqueueField.value){const t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.enqueue.bind(this),t)}else if(this.size===this.arraySize&&""!==this.enqueueField.value&&2*this.size<30){const t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.resize.bind(this),t)}else this.shake(this.enqueueButton)}dequeueCallback(){0!==this.size?this.implementAction(this.dequeue.bind(this)):this.shake(this.dequeueButton)}randomCallback(){const t=Math.floor(4*Math.random())+3,e=Math.floor(6*Math.random()),i=new Set;this.implementAction(this.clearAll.bind(this,e));for(let s=0;s<t;s++){const t=Math.floor(17*Math.random())+0;i.has(t)?s--:(i.add(t),this.implementAction(this.enqueue.bind(this),t)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}enqueue(t){this.commands=[];const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,a=(this.front+this.size)%this.arraySize;this.arrayData[a]=t,this.highlight(0,0,this.enqueueCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.cmd(Xn.step),this.highlight(7,0,this.enqueueCodeID,"code"),this.highlight(8,0,this.enqueueCodeID,"english"),this.cmd(Xn.createLabel,e,"Enqueuing Value: ",60,30),this.cmd(Xn.createLabel,i,t,dd,30),this.cmd(Xn.createLabel,s,"Enqueueing at (front + size) % array.length: ",129,50),this.cmd(Xn.createLabel,h,a,cd,50),this.cmd(Xn.step),this.cmd(Xn.createHighlightCircle,this.highlight1ID,ud,280,100),this.cmd(Xn.step);const n=a%od*nd+hd,r=Math.floor(a/od)*ld+ad;return this.cmd(Xn.move,this.highlight1ID,cd,50),this.cmd(Xn.step),this.cmd(Xn.move,this.highlight1ID,n,r+rd),this.cmd(Xn.move,h,n,r+rd),this.cmd(Xn.step),this.cmd(Xn.move,i,n,r),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[a],t),this.cmd(Xn.delete,i),this.cmd(Xn.delete,h),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlight1ID),this.unhighlight(7,0,this.enqueueCodeID,"code"),this.highlight(8,0,this.enqueueCodeID,"code"),this.unhighlight(8,0,this.enqueueCodeID,"english"),this.highlight(9,0,this.enqueueCodeID,"english"),this.cmd(Xn.setHighlight,this.sizeID,1),this.cmd(Xn.step),this.size=this.size+1,this.cmd(Xn.setText,this.sizeID,this.size),this.cmd(Xn.step),this.unhighlight(8,0,this.enqueueCodeID,"code"),this.unhighlight(9,0,this.enqueueCodeID,"english"),this.unhighlight(0,0,this.enqueueCodeID),this.cmd(Xn.setHighlight,this.sizeID,0),this.cmd(Xn.delete,e),this.cmd(Xn.delete,s),this.nextIndex=this.nextIndex-4,this.commands}dequeue(){this.commands=[];const t=this.nextIndex++,e=this.nextIndex++;this.highlight(0,0,this.dequeueCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.cmd(Xn.step),this.highlight(1,0,this.dequeueCodeID),this.cmd(Xn.createLabel,t,"Dequeued Value: ",60,30),this.cmd(Xn.createHighlightCircle,this.highlight1ID,ud,180,100),this.cmd(Xn.step);const i=this.front%od*nd+hd,s=Math.floor(this.front/od)*ld+ad;this.cmd(Xn.move,this.highlight1ID,i,s+rd),this.cmd(Xn.step),this.unhighlight(1,0,this.dequeueCodeID),this.highlight(2,0,this.dequeueCodeID),this.cmd(Xn.delete,this.highlight1ID);const h=this.arrayData[this.front];this.cmd(Xn.createLabel,e,h,i,s),this.cmd(Xn.setText,this.arrayID[this.front],""),this.cmd(Xn.move,e,dd,30),this.cmd(Xn.step),this.unhighlight(2,0,this.dequeueCodeID),this.highlight(3,0,this.dequeueCodeID),this.cmd(Xn.setHighlight,this.frontID,1),this.cmd(Xn.setHighlight,this.frontPointerID,1),this.cmd(Xn.step),this.front=(this.front+1)%this.arraySize;const a=this.front%od*nd+hd,n=Math.floor(this.front/od)*ld+ad+md;return this.cmd(Xn.move,this.frontPointerID,a,n),this.cmd(Xn.setText,this.frontID,this.front),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.frontID,0),this.cmd(Xn.setHighlight,this.frontPointerID,0),this.unhighlight(3,0,this.dequeueCodeID),this.cmd(Xn.setText,this.leftoverLabelID,"Dequeued Value: "),this.cmd(Xn.setText,this.leftoverValID,h),this.cmd(Xn.delete,t),this.cmd(Xn.delete,e),this.cmd(Xn.step),this.highlight(4,0,this.dequeueCodeID),this.cmd(Xn.setHighlight,this.sizeID,1),this.cmd(Xn.step),this.size=this.size-1,this.cmd(Xn.setText,this.sizeID,this.size),this.cmd(Xn.step),this.unhighlight(4,0,this.dequeueCodeID),this.unhighlight(0,0,this.dequeueCodeID),this.cmd(Xn.setHighlight,this.sizeID,0),this.nextIndex=this.nextIndex-2,this.commands}resize(t){this.commands=[];const e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size);for(let d=0;d<2*this.size;d++)this.arrayIDNew[d]=this.nextIndex++,this.arrayLabelIDNew[d]=this.nextIndex++,d<this.size&&(this.arrayDataNew[d]=this.arrayData[(this.front+d)%this.arraySize]);this.arrayDataNew[this.size]=t,this.highlight(0,0,this.enqueueCodeID),this.cmd(Xn.createLabel,e,"Enqueuing Value: ",60,30),this.cmd(Xn.createLabel,i,t,dd,30),this.cmd(Xn.step),this.highlight(1,0,this.enqueueCodeID),this.cmd(Xn.createLabel,s,"(Resize Required)",60,60),this.cmd(Xn.step),this.highlight(2,0,this.enqueueCodeID);for(let d=0;d<2*this.size;d++){const t=d%od*nd+100,e=Math.floor(d/od)*ld+345;this.cmd(Xn.createRectangle,this.arrayIDNew[d],"",nd,rd,t,e),this.cmd(Xn.createLabel,this.arrayLabelIDNew[d],d,t,e+rd),this.cmd(Xn.setForegroundColor,this.arrayLabelIDNew[d],"#0000FF")}this.cmd(Xn.step),this.highlight1ID=this.nextIndex++,this.arrayMoveID=new Array(this.size),this.unhighlight(2,0,this.enqueueCodeID),this.highlight(3,0,this.enqueueCodeID),this.highlight(4,0,this.enqueueCodeID),this.highlight(5,0,this.enqueueCodeID);for(let d=0;d<this.size;d++){const t=(this.front+d)%this.arraySize%od*nd+hd,e=Math.floor((this.front+d)%this.arraySize/od)*ld+ad,i=d%od*nd+100,s=Math.floor(d/od)*ld+345;this.arrayMoveID[d]=this.nextIndex++,this.cmd(Xn.createLabel,this.arrayMoveID[d],this.arrayData[(this.front+d)%this.arraySize],t,e),this.cmd(Xn.move,this.arrayMoveID[d],i,s),this.cmd(Xn.step)}for(let d=0;d<this.size;d++)this.cmd(Xn.delete,this.arrayMoveID[d]),this.cmd(Xn.setText,this.arrayIDNew[d],this.arrayDataNew[d]);this.cmd(Xn.step);for(let d=0;d<this.size;d++)this.cmd(Xn.delete,this.arrayID[d]),this.cmd(Xn.delete,this.arrayLabelID[d]);this.arraySize=2*this.size,this.unhighlight(3,0,this.enqueueCodeID),this.unhighlight(4,0,this.enqueueCodeID),this.unhighlight(5,0,this.enqueueCodeID),this.highlight(6,0,this.enqueueCodeID);for(let d=0;d<2*this.size;d++){const t=d%od*nd+hd,e=Math.floor(d/od)*ld+ad;this.cmd(Xn.move,this.arrayIDNew[d],t,e),this.cmd(Xn.move,this.arrayLabelIDNew[d],t,e+rd)}this.cmd(Xn.step),this.front=0,this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,this.unhighlight(6,0,this.enqueueCodeID),this.highlight(7,0,this.enqueueCodeID),this.cmd(Xn.setHighlight,this.frontID,1),this.cmd(Xn.setHighlight,this.frontPointerID,1),this.cmd(Xn.step),this.cmd(Xn.setText,this.frontID,this.front),this.cmd(Xn.move,this.frontPointerID,hd,200),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.frontID,0),this.cmd(Xn.setHighlight,this.frontPointerID,0);const h=(this.front+this.size)%this.arraySize,a=this.nextIndex++,n=this.nextIndex++;this.cmd(Xn.delete,s),this.cmd(Xn.delete,i);const r=this.nextIndex++;this.cmd(Xn.createLabel,r,t,dd,30),this.unhighlight(7,0,this.enqueueCodeID),this.unhighlight(1,0,this.enqueueCodeID),this.highlight(8,0,this.enqueueCodeID),this.cmd(Xn.createLabel,a,"Enqueueing at (front + size) % array.length: ",129,50),this.cmd(Xn.createLabel,n,h,cd,50),this.cmd(Xn.createHighlightCircle,this.highlight1ID,ud,280,100),this.cmd(Xn.step);const o=h%od*nd+hd,l=Math.floor(h/od)*ld+ad;return this.cmd(Xn.move,this.highlight1ID,cd,50),this.cmd(Xn.step),this.cmd(Xn.move,this.highlight1ID,o,l+rd),this.cmd(Xn.move,n,o,l+rd),this.cmd(Xn.step),this.cmd(Xn.move,r,o,l),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[h],t),this.cmd(Xn.delete,r),this.cmd(Xn.delete,n),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlight1ID),this.cmd(Xn.setHighlight,this.sizeID,1),this.unhighlight(8,0,this.enqueueCodeID),this.highlight(9,0,this.enqueueCodeID),this.cmd(Xn.step),this.size++,this.cmd(Xn.setText,this.sizeID,this.size),this.cmd(Xn.step),this.unhighlight(9,0,this.enqueueCodeID),this.unhighlight(0,0,this.enqueueCodeID),this.cmd(Xn.setHighlight,this.sizeID,0),this.cmd(Xn.delete,e),this.cmd(Xn.delete,a),this.nextIndex=this.nextIndex-this.size,this.commands}clearAll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.enqueueField.value="",this.commands=[],this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,"");for(let s=0;s<this.arraySize;s++)this.cmd(Xn.setText,this.arrayID[s],"");this.size=0,this.cmd(Xn.setText,this.sizeID,"0"),this.front=t;const e=this.front%od*nd+hd,i=Math.floor(this.front/od)*ld+ad+md;this.cmd(Xn.setText,this.frontID,t),this.cmd(Xn.setPosition,this.frontPointerID,e,i);for(let s=7;s<this.arraySize;s++)this.cmd(Xn.delete,this.arrayID[s]),this.cmd(Xn.delete,this.arrayLabelID[s]);return this.arraySize=7,this.commands}},!0],QueueLL:["Queue (LinkedList)",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.enqueueField=er("Text",""),this.enqueueField.style.textAlign="center",this.enqueueField.onkeydown=this.returnSubmit(this.enqueueField,this.enqueueCallback.bind(this),4,!0),this.enqueueButton=er("Button","Enqueue"),this.enqueueButton.onclick=this.enqueueCallback.bind(this),this.controls.push(this.enqueueField),this.controls.push(this.enqueueButton),ir(),this.dequeueButton=er("Button","Dequeue"),this.dequeueButton.onclick=this.dequeueCallback.bind(this),this.controls.push(this.dequeueButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.enqueue.bind(this),t.substring(0,4)),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(32);for(let t=0;t<32;t++)this.linkedListElemID[t]=this.nextIndex++;this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.arrayData=new Array(32),this.top=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.cmd(Xn.createLabel,this.headLabelID,"Head",130,100),this.cmd(Xn.createRectangle,this.headID,"",30,30,180,100),this.cmd(Xn.setNull,this.headID,1),this.cmd(Xn.createLabel,this.tailLabelID,"Tail",130,335),this.cmd(Xn.createRectangle,this.tailID,"",30,30,180,335),this.cmd(Xn.setNull,this.tailID,1),this.cmd(Xn.createLabel,this.leftoverLabelID,"",60,30),this.cmd(Xn.createLabel,this.leftoverValID,"",130,30),this.pseudocode=dr.QueueLL,this.enqueueCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"enqueue",330,30),this.dequeueCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"dequeue",615,30),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}resetLinkedListPositions(){for(let t=this.top-1;t>=0;t--){const e=(this.top-1-t)%12*100+100,i=100*Math.floor((this.top-1-t)/12)+225;this.cmd(Xn.move,this.linkedListElemID[t],e,i)}}reset(){this.top=0,this.nextIndex=this.initialIndex}enqueueCallback(){if(this.top<32&&""!==this.enqueueField.value){const t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.enqueue.bind(this),t)}else this.shake(this.enqueueButton)}dequeueCallback(){this.top>0?this.implementAction(this.dequeue.bind(this)):this.shake(this.dequeueButton)}randomCallback(){const t=Math.floor(6*Math.random())+2,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.enqueue.bind(this),t)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}enqueue(t){this.commands=[],this.arrayData[this.top]=t,this.highlight(0,0,this.enqueueCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.cmd(Xn.step);for(let s=this.top;s>0;s--)this.arrayData[s]=this.arrayData[s-1],this.linkedListElemID[s]=this.linkedListElemID[s-1];this.arrayData[0]=t,this.linkedListElemID[0]=this.nextIndex++;const e=this.nextIndex++,i=this.nextIndex++;return this.highlight(1,0,this.enqueueCodeID),this.cmd(Xn.createLinkedListNode,this.linkedListElemID[0],"",70,30,250,100,.25,0,1),this.cmd(Xn.setNull,this.linkedListElemID[0],1),this.cmd(Xn.createLabel,e,"Enqueuing Value: ",60,30),this.cmd(Xn.createLabel,i,t,130,30),this.cmd(Xn.step),this.cmd(Xn.move,i,250,100),this.cmd(Xn.setText,this.linkedListElemID[0],t),this.cmd(Xn.delete,i),this.cmd(Xn.step),this.unhighlight(1,0,this.enqueueCodeID),0===this.top?(this.highlight(2,0,this.enqueueCodeID),this.highlight(3,0,this.enqueueCodeID),this.cmd(Xn.setNull,this.headID,0),this.cmd(Xn.setNull,this.tailID,0),this.cmd(Xn.connect,this.headID,this.linkedListElemID[this.top]),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[this.top]),this.cmd(Xn.step)):(this.highlight(4,0,this.enqueueCodeID),this.highlight(5,0,this.enqueueCodeID),this.cmd(Xn.setNull,this.linkedListElemID[1],0),this.cmd(Xn.connect,this.linkedListElemID[1],this.linkedListElemID[0]),this.cmd(Xn.step)),this.top=this.top+1,this.resetLinkedListPositions(),this.cmd(Xn.step),this.unhighlight(2,0,this.enqueueCodeID),this.unhighlight(3,0,this.enqueueCodeID),this.unhighlight(4,0,this.enqueueCodeID),this.unhighlight(5,0,this.enqueueCodeID),this.highlight(6,0,this.enqueueCodeID),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[1]),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[0]),this.cmd(Xn.step),this.unhighlight(6,0,this.enqueueCodeID),this.highlight(7,0,this.enqueueCodeID),this.cmd(Xn.step),this.cmd(Xn.delete,e),this.unhighlight(7,0,this.enqueueCodeID),this.unhighlight(0,0,this.enqueueCodeID),this.commands}dequeue(){this.commands=[];const t=this.nextIndex++,e=this.nextIndex++;return this.highlight(0,0,this.dequeueCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.step),this.highlight(1,0,this.dequeueCodeID),this.cmd(Xn.createLabel,t,"Dequeued Value: ",60,30),this.cmd(Xn.createLabel,e,this.arrayData[this.top-1],100,225),this.cmd(Xn.move,e,130,30),this.cmd(Xn.step),this.unhighlight(1,0,this.dequeueCodeID),this.cmd(Xn.disconnect,this.headID,this.linkedListElemID[this.top-1]),1===this.top?(this.highlight(2,0,this.dequeueCodeID),this.highlight(3,0,this.dequeueCodeID),this.highlight(4,0,this.dequeueCodeID),this.cmd(Xn.setNull,this.headID,1),this.cmd(Xn.setNull,this.tailID,1),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[this.top-1])):(this.highlight(5,0,this.dequeueCodeID),this.highlight(6,0,this.dequeueCodeID),this.cmd(Xn.connect,this.headID,this.linkedListElemID[this.top-2])),this.cmd(Xn.step),this.unhighlight(2,0,this.dequeueCodeID),this.unhighlight(3,0,this.dequeueCodeID),this.unhighlight(4,0,this.dequeueCodeID),this.unhighlight(5,0,this.dequeueCodeID),this.unhighlight(6,0,this.dequeueCodeID),this.highlight(7,0,this.dequeueCodeID),this.highlight(8,0,this.dequeueCodeID),this.cmd(Xn.delete,this.linkedListElemID[this.top-1]),this.top=this.top-1,this.resetLinkedListPositions(),this.cmd(Xn.step),this.unhighlight(8,0,this.dequeueCodeID),this.unhighlight(7,0,this.dequeueCodeID),this.unhighlight(0,0,this.dequeueCodeID),this.cmd(Xn.delete,e),this.cmd(Xn.delete,t),this.commands}clearAll(){this.enqueueField.value="",this.commands=[];for(let t=0;t<this.top;t++)this.cmd(Xn.delete,this.linkedListElemID[t]);return this.top=0,this.cmd(Xn.setNull,this.headID,1),this.cmd(Xn.setNull,this.tailID,1),this.commands}},!0],DequeArray:["Deque (Array)",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.addField=er("Text",""),this.addField.style.textAlign="center",this.addField.onkeydown=this.returnSubmit(this.addField,null,4,!0),this.controls.push(this.addField),this.addFirstButton=er("Button","Add First"),this.addFirstButton.onclick=this.addFirstCallBack.bind(this),this.controls.push(this.addFirstButton),Yn("or"),this.addLastButton=er("Button","Add Last"),this.addLastButton.onclick=this.addLastCallback.bind(this),this.controls.push(this.addLastButton),ir(),this.removeFirstButton=er("Button","Remove First"),this.removeFirstButton.onclick=this.removeFirstCallback.bind(this),this.controls.push(this.removeFirstButton),Yn("or"),this.removeLastButton=er("Button","Remove Last"),this.removeLastButton.onclick=this.removeLastCallback.bind(this),this.controls.push(this.removeLastButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{if(this.addField.value=t.substring(0,4),this.size<this.arraySize&&""!==this.addField.value){const t=this.addField.value;this.addField.value="",this.implementAction(this.addLast.bind(this),t,!0)}else if(this.size===this.arraySize&&""!==this.addField.value&&2*this.size<30){const t=this.addField.value;this.addField.value="",this.implementAction(this.resize.bind(this),t,!0)}else this.shake(this.addLastButton);this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.nextIndex=0,this.pseudocode=dr.DequeArray,this.resetIndex=this.nextIndex,this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(let i=0;i<7;i++)this.arrayID[i]=this.nextIndex++,this.arrayLabelID[i]=this.nextIndex++;this.frontID=this.nextIndex++;const t=this.nextIndex++;this.frontPointerID=this.nextIndex++,this.sizeID=this.nextIndex++;const e=this.nextIndex++;this.arrayData=new Array(7),this.front=0,this.size=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.formulaLabelID=this.nextIndex++,this.arraySize=7;for(let i=0;i<7;i++){const t=i%Uo*qo+Vo,e=Math.floor(i/Uo)*Ko+$o;this.cmd(Xn.createRectangle,this.arrayID[i],"",qo,Wo,t,e),this.cmd(Xn.createLabel,this.arrayLabelID[i],i,t,e+Wo),this.cmd(Xn.setForegroundColor,this.arrayLabelID[i],sl)}this.cmd(Xn.createLabel,t,"Front",130,120),this.cmd(Xn.createRectangle,this.frontID,0,qo,Wo,Go,Xo),this.cmd(Xn.createLabel,e,"Size",230,120),this.cmd(Xn.createRectangle,this.sizeID,0,qo,Wo,Qo,Yo),this.cmd(Xn.createLabel,this.frontPointerID,"Front",Vo,205),this.cmd(Xn.createLabel,this.leftoverLabelID,"",Zo,Jo,!0),this.cmd(Xn.createLabel,this.leftoverValID,"",tl,el,!0),this.cmd(Xn.createLabel,this.formulaLabelID,"",230,60,!0),this.highlight1ID=this.nextIndex++,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.top=0,this.front=0,this.size=0,this.nextIndex=this.resetIndex,this.arraySize=7,this.arrayData=new Array(7),this.arrayID=new Array(7),this.arrayLabelID=new Array(7);for(let t=0;t<7;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.nextIndex=this.nextIndex+9}addLastCallback(){if(this.size<this.arraySize&&""!==this.addField.value){const t=this.addField.value;this.addField.value="",this.implementAction(this.addLast.bind(this),t)}else if(this.size===this.arraySize&&""!==this.addField.value&&2*this.size<30){const t=this.addField.value;this.addField.value="",this.implementAction(this.resize.bind(this),t,!1)}else this.shake(this.addLastButton)}removeFirstCallback(){0!==this.size?this.implementAction(this.removeFirst.bind(this)):this.shake(this.removeFirstButton)}removeLastCallback(){0!==this.size?this.implementAction(this.removeLast.bind(this)):this.shake(this.removeLastButton)}addFirstCallBack(){if(this.size<this.arraySize&&""!==this.addField.value){const t=this.addField.value;this.addField.value="",this.implementAction(this.addFirst.bind(this),t)}else if(this.size===this.arraySize&&""!==this.addField.value&&2*this.size<30){const t=this.addField.value;this.addField.value="",this.implementAction(this.resize.bind(this),t,!0)}else this.shake(this.addFirstButton)}randomCallback(){const t=Math.floor(4*Math.random())+3,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0,s=Math.floor(2*Math.random());e.has(t)?i--:(e.add(t),0===s?this.implementAction(this.addFirst.bind(this),t,!0):this.implementAction(this.addLast.bind(this),t,!0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}addLast(t,e){this.commands=[],e||(this.addLastCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addLast",hl,al));const i=this.nextIndex++,s=this.nextIndex++,h=(this.front+this.size)%this.arraySize;this.highlight(0,0,this.addLastCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.arrayData[h]=t,this.cmd(Xn.createLabel,i,"Enqueuing Value: ",Zo,Jo),this.cmd(Xn.createLabel,s,t,tl,el),this.cmd(Xn.step),this.highlight(7,0,this.addLastCodeID,"code"),this.highlight(8,0,this.addLastCodeID,"english"),this.cmd(Xn.createHighlightCircle,this.highlight1ID,sl,Qo,Yo),this.cmd(Xn.step),this.cmd(Xn.setText,this.formulaLabelID,`Adding ${t} to back at index (${this.front} + ${this.size}) % ${this.arraySize}`);const a=h%Uo*qo+Vo,n=Math.floor(h/Uo)*Ko+$o;return this.cmd(Xn.move,this.highlight1ID,a,n+Wo),this.cmd(Xn.step),this.cmd(Xn.move,s,a,n),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[h],t),this.cmd(Xn.delete,s),this.cmd(Xn.delete,this.highlight1ID),this.unhighlight(7,0,this.addLastCodeID,"code"),this.unhighlight(8,0,this.addLastCodeID,"english"),this.highlight(8,0,this.addLastCodeID,"code"),this.highlight(9,0,this.addLastCodeID,"english"),this.cmd(Xn.setHighlight,this.sizeID,1),this.cmd(Xn.step),this.size=this.size+1,this.cmd(Xn.setText,this.sizeID,this.size),this.cmd(Xn.step),this.unhighlight(8,0,this.addLastCodeID,"code"),this.unhighlight(9,0,this.addLastCodeID,"english"),this.unhighlight(0,0,this.addLastCodeID),this.cmd(Xn.setHighlight,this.sizeID,0),this.cmd(Xn.delete,i),this.cmd(Xn.setText,this.formulaLabelID,""),this.nextIndex=this.nextIndex-2,e||this.removeCode(this.addLastCodeID),this.commands}addFirst(t,e){this.commands=[],e||(this.addFirstCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFirst",hl,al));const i=this.nextIndex++,s=this.nextIndex++;this.highlight(0,0,this.addFirstCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,"");const h=(this.front-1+this.arraySize)%this.arraySize,a=h%Uo*qo+Vo,n=Math.floor(h/Uo)*Ko+$o;this.arrayData[h]=t,this.cmd(Xn.createLabel,i,"Enqueuing Value: ",Zo,Jo),this.cmd(Xn.createLabel,s,t,tl,el),this.cmd(Xn.step),this.highlight(7,0,this.addFirstCodeID,"code"),this.highlight(8,0,this.addFirstCodeID),this.highlight(9,0,this.addFirstCodeID,"english"),this.cmd(Xn.createHighlightCircle,this.highlight1ID,sl,Go,Xo),this.cmd(Xn.setText,this.formulaLabelID,`Adding ${t} to front at index (${this.front} - 1) % ${this.arraySize}`),this.cmd(Xn.step),this.cmd(Xn.move,this.highlight1ID,this.front*qo+Vo,n+Wo),this.front=h;const r=h%Uo*qo+Vo,o=Math.floor(h/Uo)*Ko+$o+il;return this.cmd(Xn.setHighlight,this.frontID,1),this.cmd(Xn.setHighlight,this.frontPointerID,1),this.cmd(Xn.step),this.cmd(Xn.move,this.frontPointerID,r,o),this.cmd(Xn.move,this.highlight1ID,a,n+Wo),this.cmd(Xn.setText,this.frontID,this.front),this.cmd(Xn.step),this.unhighlight(7,0,this.addFirstCodeID,"code"),this.unhighlight(8,0,this.addFirstCodeID),this.unhighlight(9,0,this.addFirstCodeID,"english"),this.highlight(9,0,this.addFirstCodeID,"code"),this.highlight(10,0,this.addFirstCodeID,"english"),this.cmd(Xn.setHighlight,this.frontID,0),this.cmd(Xn.setHighlight,this.frontPointerID,0),this.cmd(Xn.move,s,a,n),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[h],t),this.cmd(Xn.delete,s),this.cmd(Xn.step),this.unhighlight(9,0,this.addFirstCodeID,"code"),this.unhighlight(10,0,this.addFirstCodeID,"english"),this.highlight(10,0,this.addFirstCodeID,"code"),this.highlight(11,0,this.addFirstCodeID,"english"),this.cmd(Xn.setHighlight,this.sizeID,1),this.cmd(Xn.step),this.cmd(Xn.setText,this.sizeID,this.size+1),this.cmd(Xn.step),this.unhighlight(10,0,this.addFirstCodeID,"code"),this.unhighlight(11,0,this.addFirstCodeID,"english"),this.cmd(Xn.setHighlight,this.sizeID,0),this.cmd(Xn.step),this.unhighlight(0,0,this.addFirstCodeID),this.cmd(Xn.delete,this.highlight1ID),this.cmd(Xn.delete,i),this.cmd(Xn.setText,this.formulaLabelID,""),this.size++,this.nextIndex=this.nextIndex-2,e||this.removeCode(this.addFirstCodeID),this.commands}removeFirst(){this.commands=[],this.removeFirstCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeFirst",410,40);const t=this.nextIndex++,e=this.nextIndex++;this.highlight(0,0,this.removeFirstCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.cmd(Xn.step),this.cmd(Xn.createLabel,t,"Removed Value: ",Zo,Jo),this.highlight(1,0,this.removeFirstCodeID),this.cmd(Xn.createHighlightCircle,this.highlight1ID,sl,Go,Xo),this.cmd(Xn.step);const i=this.front%Uo*qo+Vo,s=Math.floor(this.front/Uo)*Ko+$o;this.cmd(Xn.move,this.highlight1ID,i,s+Wo),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlight1ID);const h=this.arrayData[this.front];this.cmd(Xn.createLabel,e,h,i,s),this.cmd(Xn.move,e,tl,el),this.cmd(Xn.step),this.unhighlight(1,0,this.removeFirstCodeID),this.highlight(2,0,this.removeFirstCodeID),this.cmd(Xn.setText,this.arrayID[this.front],""),this.cmd(Xn.step),this.unhighlight(2,0,this.removeFirstCodeID),this.highlight(3,0,this.removeFirstCodeID),this.cmd(Xn.setHighlight,this.frontID,1),this.cmd(Xn.setHighlight,this.frontPointerID,1),this.cmd(Xn.step),this.front=(this.front+1)%this.arraySize;const a=this.front%Uo*qo+Vo,n=Math.floor(this.front/Uo)*Ko+$o+il;return this.cmd(Xn.setText,this.frontID,this.front),this.cmd(Xn.move,this.frontPointerID,a,n),this.cmd(Xn.step),this.unhighlight(3,0,this.removeFirstCodeID),this.cmd(Xn.setHighlight,this.frontID,0),this.cmd(Xn.setHighlight,this.frontPointerID,0),this.cmd(Xn.setText,this.leftoverLabelID,"Removed Value: "),this.cmd(Xn.setText,this.leftoverValID,h),this.cmd(Xn.setText,this.formulaLabelID,""),this.cmd(Xn.delete,t),this.cmd(Xn.delete,e),this.cmd(Xn.step),this.highlight(4,0,this.removeFirstCodeID),this.highlight(5,0,this.removeFirstCodeID),this.cmd(Xn.setHighlight,this.sizeID,1),this.cmd(Xn.step),this.size--,this.cmd(Xn.setText,this.sizeID,this.size),this.cmd(Xn.step),this.unhighlight(4,0,this.removeFirstCodeID),this.unhighlight(5,0,this.removeFirstCodeID),this.cmd(Xn.setHighlight,this.sizeID,0),this.cmd(Xn.step),this.unhighlight(0,0,this.removeFirstCodeID),this.nextIndex=this.nextIndex-2,this.removeCode(this.removeFirstCodeID),this.commands}removeLast(){this.commands=[],this.removeLastCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"removeLast",410,40);const t=this.nextIndex++,e=this.nextIndex++,i=(this.front+this.size-1+this.arraySize)%this.arraySize;this.highlight(0,0,this.removeLastCodeID),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.cmd(Xn.step),this.cmd(Xn.createLabel,t,"Removed Value: ",Zo,Jo),this.cmd(Xn.createHighlightCircle,this.highlight1ID,sl,Go,Xo),this.cmd(Xn.createHighlightCircle,this.highlight2ID,sl,Qo,Yo),this.cmd(Xn.step);const s=i%Uo*qo+Vo,h=Math.floor(i/Uo)*Ko+$o;this.highlight(1,0,this.removeLastCodeID),this.highlight(2,0,this.removeLastCodeID,"code"),this.cmd(Xn.move,this.highlight1ID,s,h+Wo),this.cmd(Xn.move,this.highlight2ID,s,h+Wo),this.cmd(Xn.step),this.unhighlight(1,0,this.removeLastCodeID),this.unhighlight(2,0,this.removeLastCodeID,"code"),this.highlight(2,0,this.removeLastCodeID,"english"),this.highlight(3,0,this.removeLastCodeID,"code"),this.cmd(Xn.delete,this.highlight1ID),this.cmd(Xn.delete,this.highlight2ID);const a=this.arrayData[i];return this.cmd(Xn.createLabel,e,a,s,h),this.cmd(Xn.move,e,tl,el),this.cmd(Xn.step),this.unhighlight(2,0,this.removeLastCodeID,"english"),this.unhighlight(3,0,this.removeLastCodeID,"code"),this.highlight(3,0,this.removeLastCodeID,"english"),this.highlight(4,0,this.removeLastCodeID,"code"),this.cmd(Xn.setText,this.leftoverLabelID,"Removed Value: "),this.cmd(Xn.setText,this.leftoverValID,a),this.cmd(Xn.setText,this.formulaLabelID,""),this.cmd(Xn.setText,this.arrayID[i],""),this.cmd(Xn.delete,t),this.cmd(Xn.delete,e),this.cmd(Xn.step),this.highlight(4,0,this.removeLastCodeID,"english"),this.highlight(5,0,this.removeLastCodeID,"code"),this.cmd(Xn.setHighlight,this.sizeID,1),this.cmd(Xn.step),this.cmd(Xn.setText,this.sizeID,this.size-1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.sizeID,0),this.cmd(Xn.step),this.unhighlight(3,0,this.removeLastCodeID),this.unhighlight(4,0,this.removeLastCodeID),this.unhighlight(5,0,this.removeLastCodeID,"code"),this.unhighlight(0,0,this.removeLastCodeID),this.size--,this.nextIndex=this.nextIndex-2,this.removeCode(this.removeLastCodeID),this.commands}resize(t,e){this.commands=[],e?this.addFirstCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addFirst",hl,al):this.addLastCodeID=this.addCodeToCanvasBaseAll(this.pseudocode,"addLast",hl,al);const i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++;this.arrayIDNew=new Array(2*this.size),this.arrayLabelIDNew=new Array(2*this.size),this.arrayDataNew=new Array(2*this.size);const a=e?1:0;for(let c=0;c<2*this.size;c++)this.arrayIDNew[c]=this.nextIndex++,this.arrayLabelIDNew[c]=this.nextIndex++,c<this.size&&(this.arrayDataNew[c+a]=this.arrayData[(this.front+c)%this.arraySize]);const n=e?": elements shifted by 1":"";e?(this.highlight(0,0,this.addFirstCodeID),this.highlight(1,0,this.addFirstCodeID)):(this.highlight(0,0,this.addLastCodeID),this.highlight(1,0,this.addLastCodeID)),this.cmd(Xn.createLabel,i,"Enqueuing Value:",Zo,Jo),this.cmd(Xn.createLabel,s,t,tl,el),this.cmd(Xn.createLabel,h,`(Resize Required${n})`,e?160:60,60),this.cmd(Xn.step),e?this.highlight(2,0,this.addFirstCodeID):this.highlight(2,0,this.addLastCodeID);for(let c=0;c<2*this.size;c++){const t=c%Uo*qo+100,e=Math.floor(c/Uo)*Ko+340;this.cmd(Xn.createRectangle,this.arrayIDNew[c],"",qo,Wo,t,e),this.cmd(Xn.createLabel,this.arrayLabelIDNew[c],c,t,e+Wo),this.cmd(Xn.setForegroundColor,this.arrayLabelIDNew[c],"#0000FF")}this.cmd(Xn.step),this.highlight1ID=this.nextIndex++,this.arrayMoveID=new Array(this.size),e?(this.unhighlight(2,0,this.addFirstCodeID),this.highlight(3,0,this.addFirstCodeID),this.highlight(4,0,this.addFirstCodeID)):(this.unhighlight(2,0,this.addLastCodeID),this.highlight(3,0,this.addLastCodeID),this.highlight(4,0,this.addLastCodeID));for(let c=0;c<this.size;c++){const t=(this.front+c)%this.arraySize%Uo*qo+Vo,e=Math.floor((this.front+c)%this.arraySize/Uo)*Ko+$o,i=(c+a)%Uo*qo+100,s=Math.floor((c+a)/Uo)*Ko+340;this.arrayMoveID[c]=this.nextIndex++,this.cmd(Xn.createLabel,this.arrayMoveID[c],this.arrayData[(this.front+c)%this.arraySize],t,e),this.cmd(Xn.move,this.arrayMoveID[c],i,s),this.cmd(Xn.step)}for(let c=0;c<this.size;c++)this.cmd(Xn.delete,this.arrayMoveID[c]),this.cmd(Xn.setText,this.arrayIDNew[c+a],this.arrayDataNew[c+a]);this.cmd(Xn.step),e?(this.unhighlight(3,0,this.addFirstCodeID),this.unhighlight(4,0,this.addFirstCodeID),this.highlight(5,0,this.addFirstCodeID)):(this.unhighlight(3,0,this.addLastCodeID),this.unhighlight(4,0,this.addLastCodeID),this.highlight(5,0,this.addLastCodeID));for(let c=0;c<this.size;c++)this.cmd(Xn.delete,this.arrayID[c]),this.cmd(Xn.delete,this.arrayLabelID[c]);for(let c=0;c<2*this.size;c++){const t=c%Uo*qo+Vo,e=Math.floor(c/Uo)*Ko+$o;this.cmd(Xn.move,this.arrayIDNew[c],t,e),this.cmd(Xn.move,this.arrayLabelIDNew[c],t,e+Wo)}this.cmd(Xn.step),this.front=0,this.arrayID=this.arrayIDNew,this.arrayLabelID=this.arrayLabelIDNew,this.arrayData=this.arrayDataNew,e?(this.unhighlight(5,0,this.addFirstCodeID),this.highlight(6,0,this.addFirstCodeID)):(this.unhighlight(5,0,this.addLastCodeID),this.highlight(6,0,this.addLastCodeID)),this.cmd(Xn.setHighlight,this.frontID,1),this.cmd(Xn.setHighlight,this.frontPointerID,1),this.cmd(Xn.step),this.cmd(Xn.setText,this.frontID,this.front),this.cmd(Xn.move,this.frontPointerID,Vo,205),this.cmd(Xn.step),e?(this.unhighlight(1,0,this.addFirstCodeID),this.unhighlight(6,0,this.addFirstCodeID),this.highlight(9,0,this.addFirstCodeID)):(this.unhighlight(1,0,this.addLastCodeID),this.unhighlight(6,0,this.addLastCodeID),this.highlight(7,0,this.addLastCodeID)),this.cmd(Xn.setHighlight,this.frontID,0),this.cmd(Xn.setHighlight,this.frontPointerID,0);const r=e?this.front:(this.front+this.size)%this.arrayDataNew.length;this.cmd(Xn.delete,h),this.cmd(Xn.delete,s);const o=this.nextIndex++;this.cmd(Xn.createLabel,o,t,tl,el),this.cmd(Xn.step),e?this.cmd(Xn.createHighlightCircle,this.highlight1ID,sl,Go,Xo):this.cmd(Xn.createHighlightCircle,this.highlight1ID,sl,Qo,Yo),this.cmd(Xn.step);const l=r%Uo*qo+Vo,d=Math.floor(r/Uo)*Ko+$o;return this.cmd(Xn.move,this.highlight1ID,this.front*qo+Vo,d+Wo),this.cmd(Xn.step),this.cmd(Xn.move,this.highlight1ID,l,d+Wo),this.cmd(Xn.step),this.cmd(Xn.move,o,l,d),this.cmd(Xn.step),this.cmd(Xn.delete,o),this.cmd(Xn.delete,this.highlight1ID),this.arrayData[r]=t,this.cmd(Xn.setText,this.arrayID[r],t),this.cmd(Xn.step),e?(this.unhighlight(9,0,this.addFirstCodeID),this.highlight(10,0,this.addFirstCodeID)):(this.unhighlight(7,0,this.addLastCodeID),this.highlight(8,0,this.addLastCodeID)),this.cmd(Xn.setHighlight,this.sizeID,1),this.cmd(Xn.step),this.cmd(Xn.setText,this.sizeID,this.size+1),this.cmd(Xn.step),e?(this.unhighlight(0,0,this.addFirstCodeID),this.unhighlight(10,0,this.addFirstCodeID)):(this.unhighlight(0,0,this.addLastCodeID),this.unhighlight(8,0,this.addLastCodeID)),this.cmd(Xn.setHighlight,this.sizeID,0),this.cmd(Xn.delete,i),this.cmd(Xn.setText,this.leftoverLabelID,""),this.arraySize=2*this.size,this.size++,this.nextIndex=this.nextIndex-this.size,e?this.removeCode(this.addFirstCodeID):this.removeCode(this.addLastCodeID),this.commands}clearAll(){this.addField.value="",this.commands=[],this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,"");for(let t=0;t<this.arraySize;t++)this.cmd(Xn.setText,this.arrayID[t],"");this.front=0,this.size=0,this.cmd(Xn.setText,this.frontID,"0"),this.cmd(Xn.setText,this.sizeID,"0"),this.cmd(Xn.setPosition,this.frontPointerID,Vo,205);for(let t=7;t<this.arraySize;t++)this.cmd(Xn.delete,this.arrayID[t]),this.cmd(Xn.delete,this.arrayLabelID[t]);return this.arraySize=7,this.commands}},!0],DequeLL:["Deque (LinkedList)",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.commands=[],this.tail_pos_y=i-30,this.tail_label_y=this.tail_pos_y,this.setup(),this.initialIndex=this.nextIndex}addControls(){this.controls=[],this.addField=er("Text",""),this.addField.style.textAlign="center",this.addField.onkeydown=this.returnSubmit(this.addField,null,4,!0),this.controls.push(this.addField),this.addFirstButton=er("Button","Add First"),this.addFirstButton.onclick=this.addFirstCallback.bind(this),this.controls.push(this.addFirstButton),Yn("or"),this.addLastButton=er("Button","Add Last"),this.addLastButton.onclick=this.addLastCallback.bind(this),this.controls.push(this.addLastButton),ir(),this.removeFirstButton=er("Button","Remove First"),this.removeFirstButton.onclick=this.removeFirstCallback.bind(this),this.controls.push(this.removeFirstButton),Yn("or"),this.removeLastButton=er("Button","Remove Last"),this.removeLastButton.onclick=this.removeLastCallback.bind(this),this.controls.push(this.removeLastButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){this.implementAction(this.clearAll.bind(this));const e=t.get("data").split(",").filter((t=>""!==t.trim()));e.reverse(),e.forEach((t=>{this.implementAction(this.add.bind(this),t.substring(0,4),0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.linkedListElemID=new Array(32),this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.leftoverValID=this.nextIndex++,this.cmd(Xn.createLabel,this.headLabelID,"Head",130,100),this.cmd(Xn.createRectangle,this.headID,"",30,30,180,100),this.cmd(Xn.createLabel,this.tailLabelID,"Tail",130,this.tail_label_y),this.cmd(Xn.createRectangle,this.tailID,"",30,30,180,this.tail_pos_y),this.cmd(Xn.setNull,this.headID,1),this.cmd(Xn.setNull,this.tailID,1),this.cmd(Xn.createLabel,this.leftoverLabelID,"",60,30),this.cmd(Xn.createLabel,this.leftoverValID,"",130,30),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.size=0,this.nextIndex=this.initialIndex}addFirstCallback(){if(""!==this.addField.value){const t=parseInt(this.addField.value);this.addField.value="",this.implementAction(this.add.bind(this),t,0)}else this.shake(this.addFirstButton)}addLastCallback(){if(""!==this.addField.value){const t=parseInt(this.addField.value);this.addField.value="",this.implementAction(this.add.bind(this),t,this.size)}else this.shake(this.addLastButton)}removeFirstCallback(){this.size>0?this.implementAction(this.remove.bind(this),0):this.shake(this.removeFirstButton)}removeLastCallback(){this.size>0?this.implementAction(this.remove.bind(this),this.size-1):this.shake(this.removeLastButton)}randomCallback(){const t=Math.floor(4*Math.random())+2,e=new Set;this.implementAction(this.clearAll.bind(this));for(let i=0;i<t;i++){const t=Math.floor(17*Math.random())+0;e.has(t)?i--:(e.add(t),this.implementAction(this.add.bind(this),t,0)),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}add(t,e){this.commands=[];const i=this.nextIndex++,s=this.nextIndex++;for(let h=this.size-1;h>=e;h--)this.arrayData[h+1]=this.arrayData[h],this.linkedListElemID[h+1]=this.linkedListElemID[h];return this.arrayData[e]=t,this.linkedListElemID[e]=this.nextIndex++,this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.cmd(Xn.createDoublyLinkedListNode,this.linkedListElemID[e],"",100,30,200,50,.25),this.cmd(Xn.createLabel,i,"Enqueuing Value: ",60,30),this.cmd(Xn.createLabel,s,t,130,30),this.cmd(Xn.step),this.cmd(Xn.move,s,200,50),this.cmd(Xn.step),this.cmd(Xn.setText,this.linkedListElemID[e],t),this.cmd(Xn.delete,s),0===e&&(this.cmd(Xn.setPrevNull,this.linkedListElemID[e],1),this.cmd(Xn.connect,this.headID,this.linkedListElemID[e])),e===this.size&&(this.cmd(Xn.setNextNull,this.linkedListElemID[e],1),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[e])),0!==this.size&&(0===e?(this.cmd(Xn.setPrevNull,this.linkedListElemID[e+1],0),this.cmd(Xn.connectNext,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.cmd(Xn.connectPrev,this.linkedListElemID[e+1],this.linkedListElemID[e]),this.cmd(Xn.disconnect,this.headID,this.linkedListElemID[e+1])):e===this.size?(this.cmd(Xn.setNextNull,this.linkedListElemID[e-1],0),this.cmd(Xn.connectNext,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Xn.connectPrev,this.linkedListElemID[e],this.linkedListElemID[e-1]),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[e-1])):(this.cmd(Xn.disconnect,this.linkedListElemID[e-1],this.linkedListElemID[e+1]),this.cmd(Xn.disconnect,this.linkedListElemID[e+1],this.linkedListElemID[e-1]),this.cmd(Xn.connectNext,this.linkedListElemID[e-1],this.linkedListElemID[e]),this.cmd(Xn.connectPrev,this.linkedListElemID[e],this.linkedListElemID[e-1]),this.cmd(Xn.connectNext,this.linkedListElemID[e],this.linkedListElemID[e+1]),this.cmd(Xn.connectPrev,this.linkedListElemID[e+1],this.linkedListElemID[e]))),this.cmd(Xn.step),this.size=this.size+1,this.resetNodePositions(),this.cmd(Xn.delete,i),this.cmd(Xn.step),this.commands}remove(t){this.commands=[],t=parseInt(t);const e=this.nextIndex++,i=this.nextIndex++;this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,"");const s=100+150*t;if(this.cmd(Xn.createLabel,e,"Removed Value: ",60,30),this.cmd(Xn.createLabel,i,this.arrayData[t],s,200),this.cmd(Xn.move,i,130,30),this.cmd(Xn.step),1!==this.size)if(0===t)this.cmd(Xn.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(Xn.setPrevNull,this.linkedListElemID[t+1],1),this.cmd(Xn.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(Xn.connect,this.headID,this.linkedListElemID[t+1]);else if(t===this.size-1)this.cmd(Xn.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Xn.setNextNull,this.linkedListElemID[t-1],1),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[t]),this.cmd(Xn.connect,this.tailID,this.linkedListElemID[t-1]);else{const e=t%8*150+100,i=140;this.cmd(Xn.move,this.linkedListElemID[t],e,i),this.cmd(Xn.step),this.cmd(Xn.disconnect,this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd(Xn.disconnect,this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd(Xn.connectNext,this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd(Xn.connectPrev,this.linkedListElemID[t+1],this.linkedListElemID[t-1])}else this.cmd(Xn.disconnect,this.headID,this.linkedListElemID[t]),this.cmd(Xn.disconnect,this.tailID,this.linkedListElemID[t]);this.cmd(Xn.setText,this.leftoverLabelID,"Removed Value: "),this.cmd(Xn.setText,this.leftoverValID,this.arrayData[t]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,e),this.cmd(Xn.step),this.cmd(Xn.delete,this.linkedListElemID[t]);for(let h=t;h<this.size;h++)this.arrayData[h]=this.arrayData[h+1],this.linkedListElemID[h]=this.linkedListElemID[h+1];return this.size=this.size-1,this.resetNodePositions(),this.commands}resetNodePositions(){for(let t=0;t<this.size;t++){const e=t%8*150+100,i=100*Math.floor(t/8)+200;this.cmd(Xn.move,this.linkedListElemID[t],e,i)}}clearAll(){this.addField.value="",this.commands=[];for(let t=0;t<this.size;t++)this.cmd(Xn.delete,this.linkedListElemID[t]);return this.size=0,this.cmd(Xn.setNull,this.headID,1),this.cmd(Xn.setNull,this.tailID,1),this.cmd(Xn.setText,this.leftoverLabelID,""),this.cmd(Xn.setText,this.leftoverValID,""),this.commands}}],BST:["Binary Search Tree",Mr,!0],Heap:["Heap (PriorityQueue)",class extends nr{constructor(t){super(t),this.addControls(),this.nextIndex=0,this.array_size=8,this.order="smaller",this.setup()}addControls(){this.controls=[],this.insertField=er("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=er("Button","Enqueue"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),ir(),this.removeButton=er("Button","Dequeue"),this.removeButton.onclick=this.removeCallback.bind(this),this.controls.push(this.removeButton),ir();const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 31 elements & no elements > 999',t);const e=sr(!0,t);this.buildHeapField=er("Text","",e),this.buildHeapField.onkeydown=this.returnSubmit(this.buildHeapField,this.buildHeapCallback.bind(this),50,!1),this.controls.push(this.buildHeapField),this.buildHeapButton=er("Button","BuildHeap",e),this.buildHeapButton.onclick=this.buildHeapCallback.bind(this),this.controls.push(this.buildHeapButton),this.randomButton=er("Button","Random",e),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir();const i=tr(["MinHeap","MaxHeap"],"MinHeap/MaxHeap");this.minHeapButton=i[0],this.minHeapButton.onclick=this.minHeapCallback.bind(this),this.minHeapButton.checked=!0,this.maxHeapButton=i[1],this.maxHeapButton.onclick=this.maxHeapCallback.bind(this),this.isMinHeap=!0,this.controls.push(this.minHeapButton),this.controls.push(this.maxHeapButton)}createArray(){this.commands=[],this.arrayData=new Array(this.array_size),this.arrayLabels=new Array(this.array_size),this.arrayRects=new Array(this.array_size),this.circleObjs=new Array(this.array_size),this.arrayXPositions=new Array(this.array_size),this.currentHeapSize=0;for(let t=0;t<this.array_size;t++)this.arrayXPositions[t]=30+t*ml,this.arrayLabels[t]=this.nextIndex++,this.arrayRects[t]=this.nextIndex++,this.circleObjs[t]=this.nextIndex++,this.cmd(Xn.createRectangle,this.arrayRects[t],"",ml,25,this.arrayXPositions[t],gl),this.cmd(Xn.createLabel,this.arrayLabels[t],t,this.arrayXPositions[t],75),this.cmd(Xn.setForegroundColor,this.arrayLabels[t],"#0000FF");return this.cmd(Xn.setText,this.arrayRects[0],"null"),this.commands}setURLData(t){if(t.has("type")){const e=t.get("type");"min"===e?(this.isMinHeap=!0,this.minHeapButton.checked=!0,this.maxHeapButton.checked=!1):"max"===e&&(this.isMinHeap=!1,this.maxHeapButton.checked=!0,this.minHeapButton.checked=!1)}if(t.has("data")){const e=t.get("data");this.buildHeapField.value=e,this.buildHeapCallback()}}setup(){this.swapLabel1=this.nextIndex++,this.swapLabel2=this.nextIndex++,this.swapLabel3=this.nextIndex++,this.swapLabel4=this.nextIndex++,this.descriptLabel1=this.nextIndex++,this.descriptLabel2=this.nextIndex++,this.descriptLabel3=this.nextIndex++,this.resetIndex=this.nextIndex,this.infoLabelID=this.nextIndex++,this.createArray(),this.cmd(Xn.createLabel,this.descriptLabel1,"",20,10,0),this.cmd(Xn.createLabel,this.descriptLabel3,"",300,10,0),this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}insertCallback(){const t=this.normalizeNumber(this.insertField.value,4);""!==t?(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t))):this.shake(this.insertButton)}removeCallback(){this.implementAction(this.remove.bind(this))}clearCallback(){this.implementAction(this.clear.bind(this)),this.implementAction(this.resize.bind(this),8,!1)}buildHeapCallback(){const t=this.buildHeapField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.buildHeap.bind(this),t)}randomCallback(){const t=Math.floor(14*Math.random())+5;let e="";for(let i=0;i<t;i++)e+=(Math.floor(13*Math.random())+1).toString(),i<t-1&&(e+=",");this.buildHeapField.value=e}minHeapCallback(){this.isMinHeap||(this.clearCallback(),this.isMinHeap=!0,this.order="smaller")}maxHeapCallback(){this.isMinHeap&&(this.clearCallback(),this.isMinHeap=!1,this.order="larger")}clear(t){for(t||(this.buildHeapField.value=""),this.insertField.value="",this.commands=[];this.currentHeapSize>0;)this.cmd(Xn.delete,this.circleObjs[this.currentHeapSize]),this.cmd(Xn.setText,this.arrayRects[this.currentHeapSize],""),this.currentHeapSize--;return this.cmd(Xn.setText,this.descriptLabel1,""),this.cmd(Xn.setText,this.infoLabelID,""),this.commands}reset(){this.currentHeapSize=0,this.array_size=8,this.nextIndex=this.resetIndex,this.infoLabelID=this.nextIndex++,this.arrayData=new Array(this.array_size),this.arrayLabels=new Array(this.array_size),this.arrayRects=new Array(this.array_size),this.circleObjs=new Array(this.array_size),this.arrayXPositions=new Array(this.array_size);for(let t=0;t<this.array_size;t++)this.arrayXPositions[t]=30+t*ml,this.arrayLabels[t]=this.nextIndex++,this.arrayRects[t]=this.nextIndex++,this.circleObjs[t]=this.nextIndex++}swap(t,e){this.cmd(Xn.setText,this.arrayRects[t],""),this.cmd(Xn.setText,this.arrayRects[e],""),this.cmd(Xn.setText,this.circleObjs[t],""),this.cmd(Xn.setText,this.circleObjs[e],""),this.cmd(Xn.createLabel,this.swapLabel1,this.arrayData[t],this.arrayXPositions[t],gl),this.cmd(Xn.createLabel,this.swapLabel2,this.arrayData[e],this.arrayXPositions[e],gl),this.cmd(Xn.createLabel,this.swapLabel3,this.arrayData[t],pl[t],fl[t]),this.cmd(Xn.createLabel,this.swapLabel4,this.arrayData[e],pl[e],fl[e]),this.cmd(Xn.move,this.swapLabel1,this.arrayXPositions[e],gl),this.cmd(Xn.move,this.swapLabel2,this.arrayXPositions[t],gl),this.cmd(Xn.move,this.swapLabel3,pl[e],fl[e]),this.cmd(Xn.move,this.swapLabel4,pl[t],fl[t]);const i=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=i,this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayRects[t],this.arrayData[t]),this.cmd(Xn.setText,this.arrayRects[e],this.arrayData[e]),this.cmd(Xn.setText,this.circleObjs[t],this.arrayData[t]),this.cmd(Xn.setText,this.circleObjs[e],this.arrayData[e]),this.cmd(Xn.delete,this.swapLabel1),this.cmd(Xn.delete,this.swapLabel2),this.cmd(Xn.delete,this.swapLabel3),this.cmd(Xn.delete,this.swapLabel4)}setIndexHighlight(t,e){this.cmd(Xn.setHighlight,this.circleObjs[t],e),this.cmd(Xn.setHighlight,this.arrayRects[t],e)}pushDown(t){let e;for(;2*t<=this.currentHeapSize;){if(e=2*t,2*t+1<=this.currentHeapSize&&(this.cmd(Xn.setText,this.descriptLabel3,`Finding ${this.order} of two children`),this.setIndexHighlight(2*t,1),this.setIndexHighlight(2*t+1,1),this.cmd(Xn.step),this.setIndexHighlight(2*t,0),this.setIndexHighlight(2*t+1,0),this.downheapCheckRightChild(t)&&(e=2*t+1)),this.cmd(Xn.setText,this.descriptLabel3,"Comparing child to parent"),this.setIndexHighlight(t,1),this.setIndexHighlight(e,1),this.cmd(Xn.step),this.setIndexHighlight(t,0),this.setIndexHighlight(e,0),this.cmd(Xn.setText,this.descriptLabel3,""),!this.downheapCompare(e,t))return;this.swap(e,t),t=e}}downheapCheckRightChild(t){if(this.isMinHeap){if(this.arrayData[2*t+1]<this.arrayData[2*t])return!0}else if(this.arrayData[2*t+1]>this.arrayData[2*t])return!0}downheapCompare(t,e){if(this.isMinHeap){if(this.arrayData[t]<this.arrayData[e])return!0}else if(this.arrayData[t]>this.arrayData[e])return!0}remove(){return this.commands=[],this.cmd(Xn.setText,this.descriptLabel1,""),0===this.currentHeapSize?(this.shake(this.removeButton),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.descriptLabel1,"Heap is empty, cannot dequeue"),this.commands):(this.cmd(Xn.setText,this.descriptLabel1,"Removing element:"),this.cmd(Xn.createLabel,this.descriptLabel2,this.arrayData[1],pl[1],fl[1],0),this.cmd(Xn.setText,this.circleObjs[1],""),this.cmd(Xn.move,this.descriptLabel2,120,40),this.cmd(Xn.step),this.cmd(Xn.delete,this.descriptLabel2),this.cmd(Xn.setText,this.descriptLabel1,"Removing element: "+this.arrayData[1]),this.arrayData[1]="",this.currentHeapSize>1?(this.cmd(Xn.setText,this.arrayRects[1],""),this.cmd(Xn.setText,this.arrayRects[this.currentHeapSize],""),this.swap(1,this.currentHeapSize),this.cmd(Xn.delete,this.circleObjs[this.currentHeapSize]),this.currentHeapSize--,this.pushDown(1)):(this.cmd(Xn.setText,this.arrayRects[1],""),this.cmd(Xn.delete,this.circleObjs[this.currentHeapSize]),this.currentHeapSize--),this.commands)}buildHeap(t){if(this.commands=[],!t.length)return this.shake(this.buildHeapButton),this.cmd(Xn.setText,this.infoLabelID,'BuildHeap list must contain integers such as "3,1,2"'),this.commands;if(t.length>31)return this.cmd(Xn.setText,this.infoLabelID,`BuildHeap list cannot contain more than 31 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.cmd(Xn.setText,this.infoLabelID,"BuildHeap list cannot contain non-numeric values or numbers > 999"),this.commands;this.buildHeapField.value="",this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,31),this.arrayData=[...new Set(this.arrayData)],this.arrayData.unshift(0),this.currentHeapSize=this.arrayData.length-1;const e=Math.min(32,2*this.currentHeapSize+1);this.array_size!==e&&(this.commands=this.resize(e,!1)),this.cmd(Xn.setText,this.descriptLabel1,"Adding data to array"),this.cmd(Xn.step);for(let s=1;s<=this.currentHeapSize;s++)this.cmd(Xn.createCircle,this.circleObjs[s],this.arrayData[s],pl[s],fl[s]),this.cmd(Xn.setText,this.arrayRects[s],this.arrayData[s]),s>1&&this.cmd(Xn.connect,this.circleObjs[Math.floor(s/2)],this.circleObjs[s]);this.cmd(Xn.step),this.cmd(Xn.setText,this.descriptLabel1,"Enforcing order property using downheap");let i=this.currentHeapSize;for(;i>0;)this.pushDown(i),i-=1;return this.cmd(Xn.step),this.cmd(Xn.setText,this.descriptLabel1,"BuildHeap complete!"),this.commands}insertElement(t){if(this.commands=[],this.cmd(Xn.setText,this.descriptLabel1,""),this.currentHeapSize===this.array_size-1){if(this.currentHeapSize>=31)return this.cmd(Xn.setText,this.descriptLabel1,"Array would normally resize here, but there's not enough space on the screen for a larger heap. So here's a cute emoji of jack instead: V\u2022\u1d25\u2022V"),this.commands;{const t=Math.min(32,2*this.array_size);this.commands=this.resize(t,!0)}}this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.descriptLabel1,"Enqueueing Element: "+t),this.cmd(Xn.step),this.cmd(Xn.setText,this.descriptLabel1,"Enqueueing Element: "),this.currentHeapSize++,this.arrayData[this.currentHeapSize]=t,this.cmd(Xn.createCircle,this.circleObjs[this.currentHeapSize],"",pl[this.currentHeapSize],fl[this.currentHeapSize]),this.cmd(Xn.createLabel,this.descriptLabel2,t,120,45,1),this.currentHeapSize>1&&this.cmd(Xn.connect,this.circleObjs[Math.floor(this.currentHeapSize/2)],this.circleObjs[this.currentHeapSize]),this.cmd(Xn.move,this.descriptLabel2,pl[this.currentHeapSize],fl[this.currentHeapSize]),this.cmd(Xn.step),this.cmd(Xn.setText,this.circleObjs[this.currentHeapSize],t),this.cmd(Xn.delete,this.descriptLabel2),this.cmd(Xn.setText,this.arrayRects[this.currentHeapSize],t);let e=this.currentHeapSize,i=Math.floor(e/2);for(e>1&&(this.setIndexHighlight(e,1),this.setIndexHighlight(i,1),this.cmd(Xn.setText,this.descriptLabel3,"Comparing child to parent"),this.cmd(Xn.step),this.setIndexHighlight(e,0),this.setIndexHighlight(i,0));e>1&&this.upheapCompare(e,i);)this.swap(e,i),e=i,i=Math.floor(i/2),e>1&&(this.setIndexHighlight(e,1),this.setIndexHighlight(i,1),this.cmd(Xn.setText,this.descriptLabel3,"Comparing child to parent"),this.cmd(Xn.step),this.setIndexHighlight(e,0),this.setIndexHighlight(i,0));return this.cmd(Xn.setText,this.descriptLabel1,""),this.cmd(Xn.setText,this.descriptLabel3,""),this.commands}resize(t,e){this.commands=[];const i=this.nextIndex++;e&&(this.cmd(Xn.createLabel,i,"Resize Required: size == array.length - 1",400,20),this.cmd(Xn.step),32===t?this.cmd(Xn.setText,i,"Resizing to 32 (Max array size)"):this.cmd(Xn.setText,i,"Resizing to 2 * array.length"));const s=this.array_size;this.array_size=t,this.newArrayData=new Array(this.array_size),this.newArrayLabels=new Array(this.array_size),this.newArrayRects=new Array(this.array_size),this.newCircleObjs=new Array(this.array_size),this.newArrayXPositions=new Array(this.array_size);for(let h=0;h<this.array_size;h++)this.newArrayLabels[h]=this.nextIndex++,this.newArrayRects[h]=this.nextIndex++,this.newArrayXPositions[h]=30+h*ml,this.newCircleObjs[h]=h<s?this.circleObjs[h]:this.nextIndex++,this.newArrayData[h]=this.arrayData[h];if(e){for(let t=0;t<this.array_size;t++)this.cmd(Xn.createRectangle,this.newArrayRects[t],"",ml,25,this.newArrayXPositions[t],100),this.cmd(Xn.createLabel,this.newArrayLabels[t],t,this.newArrayXPositions[t],125),this.cmd(Xn.setForegroundColor,this.newArrayLabels[t],"#0000FF");this.cmd(Xn.step),this.arrayMoveID=new Array(this.oldSize);for(let t=0;t<=this.currentHeapSize;t++)this.arrayMoveID[t]=this.nextIndex++,0===t?this.cmd(Xn.createLabel,this.arrayMoveID[t],"null",this.arrayXPositions[t],gl):this.cmd(Xn.createLabel,this.arrayMoveID[t],this.arrayData[t],this.arrayXPositions[t],gl),this.cmd(Xn.move,this.arrayMoveID[t],this.newArrayXPositions[t],100);this.cmd(Xn.step);for(let t=0;t<s;t++)this.cmd(Xn.delete,this.arrayMoveID[t]),this.cmd(Xn.setText,this.newArrayRects[t],this.newArrayData[t]);this.cmd(Xn.setText,this.newArrayRects[0],"null"),this.cmd(Xn.step)}for(let h=0;h<s;h++)this.cmd(Xn.delete,this.arrayLabels[h]),this.cmd(Xn.delete,this.arrayRects[h]);if(this.cmd(Xn.step),this.arrayData=this.newArrayData,this.arrayLabels=this.newArrayLabels,this.arrayXPositions=this.newArrayXPositions,this.arrayRects=this.newArrayRects,this.circleObjs=this.newCircleObjs,e){for(let t=0;t<this.array_size;t++)this.cmd(Xn.move,this.arrayRects[t],this.arrayXPositions[t],gl),this.cmd(Xn.move,this.arrayLabels[t],this.arrayXPositions[t],75);this.cmd(Xn.delete,i)}else{for(let t=0;t<this.array_size;t++)this.cmd(Xn.createRectangle,this.arrayRects[t],"",ml,25,this.arrayXPositions[t],gl),this.cmd(Xn.createLabel,this.arrayLabels[t],t,this.arrayXPositions[t],75),this.cmd(Xn.setForegroundColor,this.newArrayLabels[t],"#0000FF");this.cmd(Xn.setText,this.arrayRects[0],"null")}return this.commands}upheapCompare(t,e){if(this.isMinHeap){if(this.arrayData[t]<this.arrayData[e])return!0}else if(this.arrayData[t]>this.arrayData[e])return!0}disableUI(){this.controls.forEach((t=>t.disabled=!0))}enableUI(){this.controls.forEach((t=>t.disabled=!1))}}],SkipList:["SkipList",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1),e=sr(!0,t),i=sr(!0,t);ir();const s=sr(!1),h=sr(!0,s),a=sr(!0,s);Yn("Add",e),this.addValueField=er("Text","",e),this.addValueField.style.textAlign="center",this.addValueField.setAttribute("placeholder","Value"),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,this.addWithHeadsCallback.bind(this),4,!0),this.controls.push(this.addValueField),Yn("with",e),this.headsField=er("Text","",e),this.headsField.style.textAlign="center",this.headsField.setAttribute("placeholder","#"),this.headsField.onkeydown=this.returnSubmit(this.headsField,this.addWithHeadsCallback.bind(this),4,!0),this.controls.push(this.headsField),Yn("heads (Max 4)",e),this.addWithHeadsButton=er("Button","Add",i),this.addWithHeadsButton.onclick=this.addWithHeadsCallback.bind(this),this.controls.push(this.addWithHeadsButton),Yn("Add",h),this.addValueFieldRandom=er("Text","",h),this.addValueFieldRandom.style.textAlign="center",this.addValueFieldRandom.setAttribute("placeholder","Value"),this.addValueFieldRandom.onkeydown=this.returnSubmit(this.addValueFieldRandom,this.addRandomlyCallback.bind(this),4,!0),this.controls.push(this.addValueFieldRandom),Yn("with random coin flip",h),this.addRandomlyButton=er("Button","Add",a),this.addRandomlyButton.onclick=this.addRandomlyCallback.bind(this),this.controls.push(this.addRandomlyButton),ir(),this.removeField=er("Text",""),this.removeField.style.textAlign="center",this.removeField.onkeydown=this.returnSubmit(this.removeField,this.removeCallback.bind(this),4,!0),this.controls.push(this.removeField),this.removeButton=er("Button","Remove"),this.removeButton.onclick=this.removeCallback.bind(this),this.controls.push(this.removeButton),ir(),this.getField=er("Text",""),this.getField.style.textAlign="center",this.getField.onkeydown=this.returnSubmit(this.getField,this.getCallback.bind(this),4,!0),this.controls.push(this.getField),this.getButton=er("Button","Get"),this.getButton.onclick=this.getCallback.bind(this),this.controls.push(this.getButton),ir();const n=sr(!1);this.randomButton=er("Button","Random",n),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=er("Button","Clear",n),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}setURLData(t){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.addValueFieldRandom.value=t,this.addRandomlyCallback(),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}setup(){this.commands=[],this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.seed=Math.floor(100*Math.random())%Fd.length,this.seedStart=this.seed,this.cmd(Xn.createSkipListNode,this.nodeID[0][0],Pd,Bd,Bd,Ad,_d),this.cmd(Xn.createSkipListNode,this.nodeID[1][0],"\u221e",Bd,Bd,180,_d),this.cmd(Xn.connectSkipList,this.nodeID[0][0],this.nodeID[1][0],3),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.seed=this.seedStart}addRandomlyCallback(){if(""!==this.addValueFieldRandom.value){const t=parseInt(this.addValueFieldRandom.value);this.addValueFieldRandom.value="",this.headsField.value="",this.implementAction(this.add.bind(this),t)}else this.shake(this.addRandomlyButton)}addWithHeadsCallback(){if(""!==this.addValueField.value&&""!==this.headsField.value){const t=parseInt(this.addValueField.value);this.addValueField.value="";const e=parseInt(this.headsField.value);this.headsField.value="",this.implementAction(this.add.bind(this),t,e)}else this.shake(this.addWithHeadsButton)}removeCallback(){if(""!==this.removeField.value){const t=parseInt(this.removeField.value);this.removeField.value="",this.implementAction(this.remove.bind(this),t)}else this.shake(this.removeButton)}getCallback(){if(""!==this.getField.value){const t=parseInt(this.getField.value);this.getField.value="",this.implementAction(this.get.bind(this),t)}else this.shake(this.getButton)}randomCallback(){const t=Math.floor(7*Math.random())+2;this.implementAction(this.clearAll.bind(this));for(let e=0;e<t;e++){const t=Math.floor(5*Math.random())+0;this.implementAction(this.add.bind(this),Math.floor(51*Math.random())+0,t),this.animationManager.skipForward(),this.animationManager.clearHistory()}}clearCallback(){this.implementAction(this.clearAll.bind(this))}add(t,e){this.commands=[],void 0===e&&(e=Fd[this.seed++%Fd.length]),e=Math.min(e,4);const i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,a=this.nextIndex++,n=this.nextIndex++;let r="";for(let m=0;m<e;m++)r+="H";r+="T",this.cmd(Xn.createLabel,i,"Value to add:",50,23),this.cmd(Xn.createLabel,s,t,120,23),this.cmd(Xn.createLabel,h,"Coin Flipper:",50,37),this.cmd(Xn.createLabel,a,r,120,37),this.cmd(Xn.createLabel,n,"",250,30),this.cmd(Xn.step);for(let m=this.nodeID[0].length;m<=e;m++){const t=this.nodeID.length-1;this.data[0][m]=Number.NEGATIVE_INFINITY,this.nodeID[0][m]=this.nextIndex++,this.cmd(Xn.createSkipListNode,this.nodeID[0][m],Pd,Bd,Bd,Ad,_d-zd*m),this.data[t][m]=Number.POSITIVE_INFINITY,this.nodeID[t][m]=this.nextIndex++,this.cmd(Xn.createSkipListNode,this.nodeID[t][m],"\u221e",Bd,Bd,Ad+zd*t,_d-zd*m),this.cmd(Xn.connectSkipList,this.nodeID[0][m],this.nodeID[t][m],3),this.cmd(Xn.connectSkipList,this.nodeID[0][m-1],this.nodeID[0][m],0),this.cmd(Xn.connectSkipList,this.nodeID[t][m-1],this.nodeID[t][m],0),this.cmd(Xn.step)}let o=1;for(;t>this.data[o][0];)o++;if(t!==this.data[o][0]){for(let t=this.nodeID.length-1;t>=o;t--)this.nodeID[t+1]=this.nodeID[t],this.data[t+1]=this.data[t];this.nodeID[o]=[],this.data[o]=[]}let l=0,d=this.nodeID[0].length-1;const c=this.nextIndex++;this.cmd(Xn.createHighlightCircle,c,"#FF0000",Ad,_d-zd*d),this.cmd(Xn.setHighlight,c,1),this.cmd(Xn.step);let u=!1;for(;d>=0;){let e=this.getNextCol(l,d);if(t===this.data[e][d]){l=e,u=!0;break}for(;t>this.data[e][d];)this.cmd(Xn.move,c,Ad+zd*e,_d-zd*d),this.cmd(Xn.step),l=e,e=this.getNextCol(l,d);if(t===this.data[e][d]){l=e,u=!0;break}d--,d>=0&&(this.cmd(Xn.move,c,Ad+zd*l,_d-zd*d),this.cmd(Xn.step))}for(u?(this.cmd(Xn.move,c,Ad+zd*l,_d-zd*d),this.cmd(Xn.step),this.cmd(Xn.setText,n,"Duplicate found!"),this.cmd(Xn.step)):this.shiftColumns(o),d++,this.cmd(Xn.createCircle,this.nextIndex++,"",-100,-100,0);d<=e;){this.cmd(Xn.setText,n,"Adding data"),this.cmd(Xn.step),this.data[o][d]=t,this.nodeID[o][d]=this.nextIndex++,this.cmd(Xn.createSkipListNode,this.nodeID[o][d],t,Bd,Bd,Ad+zd*o,_d-zd*d);const e=this.getPrevCol(o,d),i=this.getNextCol(o,d);this.cmd(Xn.disconnect,this.nodeID[e][d],this.nodeID[i][d]),this.cmd(Xn.connectSkipList,this.nodeID[e][d],this.nodeID[o][d],3),this.cmd(Xn.connectSkipList,this.nodeID[o][d],this.nodeID[i][d],3),0!==d&&this.cmd(Xn.connectSkipList,this.nodeID[o][d-1],this.nodeID[o][d],0),this.cmd(Xn.step),this.cmd(Xn.move,c,Ad+zd*o,_d-zd*d),this.cmd(Xn.step),d++}return this.cmd(Xn.delete,i),this.cmd(Xn.delete,s),this.cmd(Xn.delete,h),this.cmd(Xn.delete,a),this.cmd(Xn.delete,c),this.cmd(Xn.delete,n),this.size++,this.commands}remove(t){this.commands=[];const e=parseInt(t),i=this.nextIndex++,s=this.nextIndex++;this.cmd(Xn.createLabel,i,"Value to remove:",50,23),this.cmd(Xn.createLabel,s,e,120,23),this.cmd(Xn.step);let h=0,a=this.nodeID[0].length-1,n=-1;const r=this.nextIndex++;for(this.cmd(Xn.createHighlightCircle,r,"#FF0000",Ad,_d-zd*a),this.cmd(Xn.step);a>=0;){let t=this.getNextCol(h,a);for(;e>this.data[t][a];)this.cmd(Xn.move,r,Ad+zd*t,_d-zd*a),this.cmd(Xn.step),h=t,t=this.getNextCol(h,a);if(e===this.data[t][a])for(n=t,h=t,this.cmd(Xn.move,r,Ad+zd*h,_d-zd*a),this.cmd(Xn.step);a>=0;){t=this.getNextCol(h,a);const e=this.getPrevCol(h,a);this.cmd(Xn.disconnect,this.nodeID[e][a],this.nodeID[h][a]),this.cmd(Xn.disconnect,this.nodeID[h][a],this.nodeID[t][a]),null!=this.nodeID[h][a+1]&&this.cmd(Xn.disconnect,this.nodeID[h][a+1],this.nodeID[h][a]),this.cmd(Xn.connectSkipList,this.nodeID[e][a],this.nodeID[t][a],3),this.cmd(Xn.delete,this.nodeID[h][a]),this.cmd(Xn.step),a--,-1!==a&&(this.cmd(Xn.move,r,Ad+zd*h,_d-zd*a),this.cmd(Xn.step))}else a--,-1!==a&&(this.cmd(Xn.move,r,Ad+zd*h,_d-zd*a),this.cmd(Xn.step))}if(this.cmd(Xn.delete,i),this.cmd(Xn.delete,s),this.cmd(Xn.delete,r),-1!==n){for(let t=n;t<this.nodeID.length-1;t++)this.nodeID[t]=this.nodeID[t+1],this.data[t]=this.data[t+1];this.nodeID.pop(),this.data.pop(),this.shiftColumns(n)}let o=1;for(let l=1;l<this.nodeID.length-1;l++)o=Math.max(o,this.nodeID[l].length);for(let l=this.nodeID[0].length-1;l>=o;l--){this.data[0].pop();const t=this.nodeID[0].pop();this.cmd(Xn.delete,t);const e=this.nodeID.length-1;this.data[e].pop();const i=this.nodeID[e].pop();this.cmd(Xn.delete,i)}return this.cmd(Xn.step),this.size--,this.commands}get(t){this.commands=[];const e=parseInt(t);let i=0,s=this.nodeID[0].length-1;const h=this.nextIndex++;for(this.cmd(Xn.createHighlightCircle,h,"#FF0000",Ad,_d-zd*s),this.cmd(Xn.setHighlight,h,1),this.cmd(Xn.step);s>=0&&e!==this.data[i][s];){let t=this.getNextCol(i,s);for(;e>=this.data[t][s];)this.cmd(Xn.move,h,Ad+zd*t,_d-zd*s),this.cmd(Xn.step),i=t,t=this.getNextCol(i,s);e!==this.data[i][s]&&(s--,this.cmd(Xn.move,h,Ad+zd*i,_d-zd*s),this.cmd(Xn.step))}return this.cmd(Xn.delete,h),this.commands}shiftColumns(t){for(;t<this.nodeID.length;t++)for(let e=0;e<this.nodeID[t].length;e++)null!=this.nodeID[t][e]&&this.cmd(Xn.move,this.nodeID[t][e],Ad+zd*t,_d-zd*e);this.cmd(Xn.step)}getNextCol(t,e){for(t++;null==this.data[t][e];)t++;return t}getPrevCol(t,e){for(t--;null==this.data[t][e];)t--;return t}clearAll(){this.addValueField.value="",this.removeField.value="",this.getField.value="",this.headsField.value="",this.addValueFieldRandom.value="",this.commands=[];for(let t=0;t<this.nodeID.length;t++)for(let e=0;e<this.nodeID[t].length;e++)this.cmd(Xn.delete,this.nodeID[t][e]);return this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.cmd(Xn.createSkipListNode,this.nodeID[0][0],Pd,Bd,Bd,Ad,_d),this.cmd(Xn.createSkipListNode,this.nodeID[1][0],"\u221e",Bd,Bd,180,_d),this.cmd(Xn.connectSkipList,this.nodeID[0][0],this.nodeID[1][0],3),this.cmd(Xn.step),this.commands}}],OpenHash:["HashMap (Probing)",class extends bo{constructor(t,e,i){super(t,e,i),this.elements_per_row=14,this.setup()}addControls(){super.addControls(),this.probeTypeLabel=Yn("Probe Type:",this.dropDownLabelGroup),this.probeTypeDropDown=Jn([["linear","Linear Probing: i = i_0 + probe_count"],["quadratic","Quadratic Probing: i = i_0 + probe_count^2"],["double","Double Hashing: i = i_0  + (probe_count * hash2(elem))"]],"Probing Type",this.dropDownGroup),this.probeTypeDropDown.style.width="132px",this.probeTypeDropDown.onchange=this.checkProbeType.bind(this),ir(),this.hashTypeParentGroup=sr(!1),this.hashTypeLabelGroup=sr(!0,this.hashTypeParentGroup),this.hashTypedropDownGroup=sr(!0,this.hashTypeParentGroup),this.hashTypeLabel=Yn("Hash Type:",this.hashTypeLabelGroup),this.hashTypeDropDown=Jn([["Integers","Hash Integers"],["Strings","Hash Strings"],["True","True Hash Function"]],"Hash Type",this.hashTypedropDownGroup),this.hashTypeDropDown.onchange=this.checkHashType.bind(this),ir(),this.randomButton=er("Button","Random",this.randomGroup),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.currentProbeType="linear",this.initialCapacityField.value=7}checkProbeType(){"linear"===this.probeTypeDropDown.value?this.implementAction(this.changeProbeType.bind(this),"linear"):"quadratic"===this.probeTypeDropDown.value?this.implementAction(this.changeProbeType.bind(this),"quadratic"):"double"===this.probeTypeDropDown.value&&this.implementAction(this.changeProbeType.bind(this),"double")}changeProbeType(t){if("linear"===t){this.currentProbeType="linear";for(let t=0;t<this.table_size;t++)this.skipDist[t]=t+1}else if("quadratic"===t){this.currentProbeType="quadratic";for(let t=0;t<this.table_size;t++)this.skipDist[t]=(t+1)*(t+1)}else"double"===t&&(this.currentProbeType="double");return this.commands=this.resetAll(),this.commands}setURLData(t){if(t.has("probeType")){const e=t.get("probeType").trim();"linear"!==e&&"quadratic"!==e&&"double"!==e||(this.probeTypeDropDown.value=e,this.checkProbeType())}super.setURLData(t)}randomCallback(){const t=this.table_size*this.load_factor-1,e=Math.floor(Math.random()*(t-2+1))+2;this.implementAction(this.resetAll.bind(this));for(let i=0;i<e;i++){let t,e;if("integers"===this.hashType)t=Math.floor(17*Math.random())+0,e=Math.floor(17*Math.random())+0;else if("strings"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}else if("true"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ;:/?=+=_-*&^%$#@!";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}this.implementAction(this.insertElement.bind(this),t.toString(),e),this.animationManager.skipForward(),this.animationManager.clearHistory()}}insertElement(t,e){const i=new Lo(t,e),s=i.elem;this.commands=[],(this.size+1)/this.table_size>this.load_factor&&2*this.table_size+1<Co&&this.resize(!1),this.cmd(Xn.setText,this.ExplainLabel,"Inserting element: "+s),this.cmd(Xn.step);let h=this.doHash(t);if(h=this.getEmptyIndex(h,t),-2===h&&2*this.table_size<Co)this.resize(!0),h=this.doHash(t),h=this.getEmptyIndex(h,t);else if(-2===h)return this.cmd(Xn.setText,this.ExplainLabel,"Array would normally resize after length number of probes,\n\t\t\t\thowever there just isn't enough space on the screen to resize. \n\t\t\t\tSo here's a cute emoji of jack instead: V\u2022\u1d25\u2022V"),this.commands;this.hashTableValues[h]&&this.hashTableValues[h].key===t&&!this.deleted[h]&&(this.cmd(Xn.setText,this.ExplainLabel,"Key "+t+" is already in HashMap, updating value.",""),this.size--);const a=this.nextIndex++;return this.cmd(Xn.createLabel,a,s,20,25),this.cmd(Xn.move,a,this.indexXPos[h],this.indexYPos[h]-yo),this.cmd(Xn.step),this.cmd(Xn.delete,a),this.cmd(Xn.setText,this.hashTableVisual[h],s),this.cmd(Xn.setHighlight,this.hashTableVisual[h],0),this.hashTableValues[h]=i,this.empty[h]=!1,this.deleted[h]=!1,this.size++,this.cmd(Xn.setText,this.ExplainLabel,""),this.cmd(Xn.setText,this.DelIndexLabel,""),this.commands}resetSkipDist(t,e){const i=this.nextLowestPrime-this.currHash%this.nextLowestPrime;this.cmd(Xn.createLabel,e,`hash2(${String(t)}) = ${this.nextLowestPrime} - ${String(this.currHash)} % ${this.nextLowestPrime} = ${String(i)}`,270,70,0),this.skipDist[0]=i;for(let s=1;s<this.table_size;s++)this.skipDist[s]=this.skipDist[s-1]+i;return i}getEmptyIndex(t,e){let i=-1,s=1;"double"===this.currentProbeType&&(i=this.nextIndex++,s=this.resetSkipDist(e,i));let h=0,a=-1;const n=t;for(this.cmd(Xn.setHighlight,this.hashTableVisual[t],1);h<this.table_size&&!this.empty[t]&&this.hashTableValues[t].key!==e;)this.cmd(Xn.setText,this.ExplainLabel,"Index occupied, so probe forward"),this.cmd(Xn.step),-1===a&&this.deleted[t]&&(this.cmd(Xn.setText,this.ExplainLabel,"Storing index of first deleted element"),this.cmd(Xn.setText,this.DelIndexLabel,"First Deleted Index: "+t),a=t,this.cmd(Xn.step)),this.cmd(Xn.setHighlight,this.hashTableVisual[t],0),this.cmd(Xn.setText,this.ExplainLabel,""),t=(n+this.skipDist[h])%this.table_size,"quadratic"===this.currentProbeType&&(s=h+1),this.cmd(Xn.setText,this.HashIndexID,`Index to probe: (${n} + ${h+1}*${s}) % ${this.table_size} = `+(n+this.skipDist[h])%this.table_size),this.cmd(Xn.setHighlight,this.hashTableVisual[t],1),this.empty[t]?this.cmd(Xn.setText,this.ExplainLabel,"Encountered null spot, so terminate loop"):this.hashTableValues[t].key===e&&this.cmd(Xn.setText,this.ExplainLabel,"Encountered matching key, so terminate loop"),h++,this.cmd(Xn.step);return this.cmd(Xn.setText,this.HashIndexID,""),-1!==i&&(this.cmd(Xn.delete,i),this.nextIndex--),this.empty[t]||this.hashTableValues[t].key!==e||this.deleted[t]?h===this.table_size&&-1===a?(this.cmd(Xn.setHighlight,this.hashTableVisual[t],0),-2):(-1!==a?(this.cmd(Xn.setHighlight,this.hashTableVisual[t],0),this.cmd(Xn.setText,this.ExplainLabel,"Inserting at earliest DEL spot"),t=a):null==this.hashTableValues[t]?this.cmd(Xn.setText,this.ExplainLabel,"Inserting at null spot"):this.hashTableValues[t].key===e&&this.cmd(Xn.setText,this.ExplainLabel,"Inserting at DEL spot with same key"),this.cmd(Xn.setHighlight,this.hashTableVisual[t],1),this.cmd(Xn.step),-1!==a?a:t):(this.cmd(Xn.setHighlight,this.hashTableVisual[t],0),t)}getElemIndex(t,e){let i=-1,s=1;"double"===this.currentProbeType&&(i=this.nextIndex++,s=this.resetSkipDist(e,i));const h=t;let a=-1,n=t,r=0;for(let o=0;o<this.table_size;o++){if(this.cmd(Xn.setHighlight,this.hashTableVisual[n],1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.hashTableVisual[n],0),!this.empty[n]&&!this.deleted[n]&&this.hashTableValues[n].key===e){a=n;break}if(this.empty[n]||this.deleted[n]&&this.hashTableValues[n].key===e)break;if(!this.deleted[n]&&(r++,r===this.size))break;"quadratic"===this.currentProbeType&&(s=o+1),this.cmd(Xn.setText,this.HashIndexID,`Index to probe: (${h} + ${o+1}*${s}) % ${this.table_size} = `+(h+this.skipDist[o])%this.table_size),n=(t+this.skipDist[o])%this.table_size}return this.cmd(Xn.setText,this.HashIndexID,""),-1!==i&&(this.cmd(Xn.delete,i),this.nextIndex--),a}deleteElement(t){this.commands=[],this.cmd(Xn.setText,this.ExplainLabel,"Deleting element with key: "+t);let e=this.doHash(t);if(e=this.getElemIndex(e,t),e>=0){const t=this.hashTableValues[e].elem;this.cmd(Xn.setText,this.ExplainLabel,"Deleting element: "+t+"  Element deleted"),this.cmd(Xn.setText,this.hashTableVisual[e],`DEL ${t}`),this.deleted[e]=!0,this.size--}else this.cmd(Xn.setText,this.ExplainLabel,"Deleting element with key: "+t+"  Key not in table");return this.commands}findElement(t){this.commands=[],this.cmd(Xn.setText,this.ExplainLabel,"Finding Key: "+t);const e=this.doHash(t),i=this.getElemIndex(e,t);return-1!==i?this.cmd(Xn.setText,this.ExplainLabel,"Found Key: "+t+"  Value: "+this.hashTableValues[i].val):this.cmd(Xn.setText,this.ExplainLabel,"Finding Key: "+t+"  Not Found!"),this.commands}resize(t){this.cmd(Xn.setText,this.ExplainLabel,""),this.cmd(Xn.setText,this.DelIndexLabel,"");const e=this.nextIndex++;if(t?this.cmd(Xn.createLabel,e,`(Resize Required): ${this.table_size} elements probed`,400,20):this.cmd(Xn.createLabel,e,`(Resize Required): (Size + 1.0 / length) > Load Factor --\x3e (${this.size} + 1 / ${this.table_size}) > ${this.load_factor}`,400,20),this.table_size=2*this.table_size+1,2*this.table_size+1>Co&&(this.load_factor=.99,this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`)),this.cmd(Xn.step),this.oldHashTableVisual=this.hashTableVisual,this.oldHashTableValues=this.hashTableValues,this.oldskipDist=this.skipDist,this.oldempty=this.empty,this.olddeleted=this.deleted,this.oldIndexXPos=this.indexXPos,this.oldIndexYPos=this.indexYPos,this.oldindexLabelID=this.indexLabelID,this.hashTableValues=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.skipDist=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.indexLabelID=new Array(this.table_size),"linear"===this.currentProbeType)for(let s=0;s<this.table_size;s++)this.skipDist[s]=s+1;else if("quadratic"===this.currentProbeType)for(let s=0;s<this.table_size;s++)this.skipDist[s]=(s+1)*(s+1);for(let s=0;s<this.table_size;s++){this.hashTableVisual[s]=this.nextIndex++,this.empty[s]=!0,this.deleted[s]=!1;const t=vo+s%this.elements_per_row*Do,e=240+70*Math.floor(s/this.elements_per_row);this.cmd(Xn.createRectangle,this.hashTableVisual[s],"",Do,yo,t,e),this.indexLabelID[s]=this.nextIndex++,this.indexXPos[s]=t,this.indexYPos[s]=e+yo,this.cmd(Xn.createLabel,this.indexLabelID[s],s,this.indexXPos[s],this.indexYPos[s]),this.cmd(Xn.setForegroundColor,this.indexLabelID[s],wo)}this.cmd(Xn.step);let i=0;for(let s=0;s<this.table_size/2&&i<this.size;s++){if(this.cmd(Xn.setHighlight,this.oldHashTableVisual[s],1),this.cmd(Xn.step),!this.oldempty[s]&&!this.olddeleted[s]){const t=this.oldHashTableValues[s];let e=this.doHash(t.key);if(e=this.getEmptyIndex(e,t.key),-1!==e){const h=this.nextIndex++;this.cmd(Xn.createLabel,h,t.elem,this.oldIndexXPos[s],this.oldIndexYPos[s]-yo),this.cmd(Xn.move,h,this.indexXPos[e],this.indexYPos[e]-yo),this.cmd(Xn.step),this.cmd(Xn.delete,h),this.cmd(Xn.setText,this.hashTableVisual[e],t.elem),this.cmd(Xn.setHighlight,this.hashTableVisual[e],0),this.hashTableValues[e]=t,this.empty[e]=!1,this.deleted[e]=!1,i++}}this.cmd(Xn.setHighlight,this.oldHashTableVisual[s],0)}this.cmd(Xn.delete,e);for(let s=0;s<this.table_size;s++){const t=vo+s%this.elements_per_row*Do,e=110+70*Math.floor(s/this.elements_per_row);s<(this.table_size-1)/2&&(this.cmd(Xn.delete,this.oldHashTableVisual[s]),this.cmd(Xn.delete,this.oldindexLabelID[s])),this.cmd(Xn.move,this.hashTableVisual[s],t,e),this.cmd(Xn.move,this.indexLabelID[s],t,e+yo),this.indexYPos[s]=e+yo}return this.commands}changeLoadFactor(t){return this.commands=[],2*this.table_size+1<=Co?(this.load_factor=t,this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`)):this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}\n(Array length too large for resize)`),this.cmd(Xn.step),this.commands}resizeInitialTableCall(){this.clearCallback()}setup(){this.resetIndex=this.nextIndex,this.table_size=7,this.nextLowestPrime=11,this.load_factor=ko,this.skipDist=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.size=0,this.indexLabelID=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++,this.commands=[];for(let t=0;t<this.table_size;t++){this.skipDist[t]=t+1,this.hashTableVisual[t]=this.nextIndex++,this.empty[t]=!0,this.deleted[t]=!1;const e=vo+t%this.elements_per_row*Do,i=110+70*Math.floor(t/this.elements_per_row);this.cmd(Xn.createRectangle,this.hashTableVisual[t],"",Do,yo,e,i),this.indexLabelID[t]=this.nextIndex++,this.indexXPos[t]=e,this.indexYPos[t]=i+yo,this.cmd(Xn.createLabel,this.indexLabelID[t],t,this.indexXPos[t],this.indexYPos[t]),this.cmd(Xn.setForegroundColor,this.indexLabelID[t],wo)}this.cmd(Xn.createLabel,this.ExplainLabel,"",10,40,0),this.cmd(Xn.createLabel,this.HashIndexID,"",570,75),this.cmd(Xn.createLabel,this.DelIndexLabel,"",10,60,0),this.cmd(Xn.createLabel,this.loadFactorID,`Load Factor: ${this.load_factor}`,15,15,!1),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}resetAll(){this.commands=super.resetAll(),this.size=0;for(let t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableValues[t]=void 0,this.cmd(Xn.setText,this.hashTableVisual[t],"");return this.commands}reset(){this.nextIndex=this.resetIndex,this.table_size=7,this.load_factor=ko,this.size=0,this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.indexLabelID=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.HashIndexID=this.nextIndex++,this.DelIndexLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++;for(let t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.hashTableVisual[t]=this.nextIndex++,this.indexLabelID[t]=this.nextIndex++;super.reset()}clear(){this.commands=[],this.resetAll();for(let i=0;i<this.table_size;i++)this.cmd(Xn.delete,this.hashTableVisual[i]),this.cmd(Xn.delete,this.indexLabelID[i]);this.table_size=parseInt(this.initialCapacityField.value)?Math.min(Math.max(0,parseInt(this.initialCapacityField.value)),Co):7,2*this.table_size+1>Co?(this.load_factor=.99,this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}\n(Array length too large for resize)`),this.cmd(Xn.step)):(this.load_factor=ko,this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`),this.cmd(Xn.step)),this.empty=Array(this.table_size),this.deleted=Array(this.table_size);const t=Array(this.table_size),e=Array(this.table_size);this.hashTableValues=Array(this.table_size);for(let i=0;i<this.table_size;i++){t[i]=this.nextIndex++;const s=vo+i%this.elements_per_row*Do,h=110+70*Math.floor(i/this.elements_per_row);this.cmd(Xn.createRectangle,t[i],"",Do,yo,s,h),e[i]=this.nextIndex++,this.indexXPos[i]=s,this.indexYPos[i]=h+yo,this.cmd(Xn.createLabel,e[i],i,this.indexXPos[i],this.indexYPos[i]),this.cmd(Xn.setForegroundColor,e[i],wo),this.empty[i]=!0,this.deleted[i]=!1,this.hashTableValues[i]=void 0}return this.size=0,this.hashTableVisual=t,this.indexLabelID=e,this.commands}resetCallback(){}disableUI(){super.disableUI()}enableUI(){super.enableUI()}}],ClosedHash:["HashMap (Chaining)",class extends bo{constructor(t,e,i){super(t,e,i),this.nextIndex=0,this.POINTER_ARRAY_ELEM_Y=i-Xl,this.setup()}addControls(){super.addControls(),this.restartButton.onclick=this.resizeInitialTableCall.bind(this),this.hashTypeLabel=Yn("Hash Type:",this.dropDownLabelGroup),this.hashTypeDropDown=Jn([["Integers","Hash Integers"],["Strings","Hash Strings"],["True","True Hash Function"]],"Hash Type",this.dropDownParentGroup),this.hashTypeDropDown.onchange=this.checkHashType.bind(this),this.hashType="integers",ir(),this.randomGroup=sr(!1),this.randomButton=er("Button","Random",this.randomGroup),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton)}setup(){this.initialCapacityField.value=7,this.hashTableVisual=new Array(7),this.hashTableIndices=new Array(7),this.hashTableValues=new Array(7),this.indexXPos=new Array(7),this.indexYPos=new Array(7),this.ExplainLabel=this.nextIndex++,this.loadFactorID=this.nextIndex++,this.size=0,this.table_size=7,this.load_factor=Jl,this.resetIndex=this.nextIndex,this.commands=[];for(let t=0;t<7;t++){let e=this.nextIndex++;this.cmd(Xn.createRectangle,e,"",Xl,Ql,Yl,Zl+t*Ql),this.hashTableVisual[t]=e,this.cmd(Xn.setNull,this.hashTableVisual[t],1),e=this.nextIndex++,this.hashTableIndices[t]=e,this.hashTableValues[t]=null,this.indexXPos[t]=20,this.indexYPos[t]=Zl+t*Ql,this.cmd(Xn.createLabel,e,t,this.indexXPos[t],this.indexYPos[t]),this.cmd(Xn.setForegroundColor,e,td)}this.cmd(Xn.createLabel,this.loadFactorID,`Load Factor: ${this.load_factor}`,15,15,!1),this.cmd(Xn.createLabel,this.ExplainLabel,"",550,15,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}randomCallback(){const t=this.table_size*this.load_factor-1,e=Math.floor(Math.random()*(t-2+1))+2;this.implementAction(this.resetAll.bind(this));for(let i=0;i<e;i++){let t,e;if("integers"===this.hashType)t=Math.floor(17*Math.random())+0,e=Math.floor(17*Math.random())+0;else if("strings"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}else if("true"===this.hashType){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ[];',./{}|:<>?=+=_-)(*&^%$#@!";t=i.charAt(Math.floor(Math.random()*i.length)),e=Math.floor(17*Math.random())+0}this.implementAction(this.insertElement.bind(this),t.toString(),e),this.animationManager.skipForward(),this.animationManager.clearHistory()}}resizeInitialTableCall(){this.implementAction(this.resizeInitialTable.bind(this))}resizeInitialTable(){this.commands=[],this.resetAll(),this.oldHashTableVisual=this.hashTableVisual,this.oldHashTableIndices=this.hashTableIndices;for(let t=0;t<this.table_size;t++)this.cmd(Xn.setNull,this.oldHashTableVisual[t],1),this.cmd(Xn.delete,this.oldHashTableVisual[t]),this.cmd(Xn.delete,this.oldHashTableIndices[t]);""!==this.initialCapacityField&&(this.table_size=parseInt(this.initialCapacityField.value)?Math.min(Math.max(0,parseInt(this.initialCapacityField.value)),30):7),2*this.table_size+1>30?(this.load_factor=.99,this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}\n(Array length too large for resize)`),this.cmd(Xn.step)):(this.load_factor=Jl,this.cmd(Xn.step)),this.hashTableVisual=new Array(this.table_size),this.hashTableIndices=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size);for(let t=0;t<this.table_size;t++){let e=this.nextIndex++;this.cmd(Xn.createRectangle,e,"",Xl,Ql,Yl,Zl+t*Ql),this.hashTableVisual[t]=e,this.cmd(Xn.setNull,this.hashTableVisual[t],1),e=this.nextIndex++,this.hashTableIndices[t]=e,this.indexXPos[t]=20,this.indexYPos[t]=Zl+t*Ql,this.cmd(Xn.createLabel,e,t,this.indexXPos[t],this.indexYPos[t]),this.cmd(Xn.setForegroundColor,e,td)}if(0!==this.size){for(let t=0;t<this.hashTableValues.length;t++){let e=this.hashTableValues[t];if(null!=e)for(this.cmd(Xn.delete,e.graphicID);null!=e.next;)e=e.next,this.cmd(Xn.delete,e.graphicID)}this.hashTableValues=new Array(7),this.size=0}return this.commands}insertElement(t,e){const i=`<${t}, ${e}>`;this.commands=[],this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`),(this.size+1)/this.table_size>this.load_factor&&2*this.table_size+1<30&&this.resize(),this.cmd(Xn.setText,this.ExplainLabel,"Inserting element "+i);const s=new ed(t,e,this.nextIndex++,60,40);this.cmd(Xn.createLinkedListNode,s.graphicID,i,110,20,60,40,.25,0,1);const h=this.doHash(t);let a,n=!1,r=null;if(null!=this.hashTableValues[h]){this.cmd(Xn.setText,this.ExplainLabel,"Searching for duplicates of "+t);const e=this.nextIndex++;let i=this.hashTableValues[h];for(this.cmd(Xn.createLabel,e,"",550,45,0);null!=i&&!n;){if(this.cmd(Xn.setHighlight,i.graphicID,1),i.key===t){this.cmd(Xn.setText,e,i.key+" == "+t),a=i,n=!0,this.cmd(Xn.step),this.cmd(Xn.setHighlight,i.graphicID,0);break}this.cmd(Xn.setText,e,i.key+" != "+t),this.cmd(Xn.step),this.cmd(Xn.setHighlight,i.graphicID,0),r=i,i=i.next}this.cmd(Xn.delete,e),this.nextIndex--}else this.cmd(Xn.setNull,s.graphicID,1),this.cmd(Xn.setNull,this.hashTableVisual[h],0);return n?(this.cmd(Xn.setText,this.ExplainLabel,"Key "+t+" is already in HashMap, updating value."),this.cmd(Xn.delete,a.graphicID),s.next=a.next,null!=r?(r.next=s,this.cmd(Xn.connect,r.graphicID,s.graphicID)):(this.cmd(Xn.disconnect,this.hashTableVisual[h],this.hashTableValues[h].graphicID),this.cmd(Xn.connect,this.hashTableVisual[h],s.graphicID),this.hashTableValues[h]=s),null!=s.next?this.cmd(Xn.connect,s.graphicID,s.next.graphicID):this.cmd(Xn.setNull,s.graphicID,1),this.repositionList(h,this.hashTableValues[h]),this.cmd(Xn.step)):(this.cmd(Xn.setText,this.ExplainLabel,"Duplicate of "+t+" not found!"),this.cmd(Xn.step),null!=this.hashTableValues[h]&&(this.cmd(Xn.connect,s.graphicID,this.hashTableValues[h].graphicID),this.cmd(Xn.disconnect,this.hashTableVisual[h],this.hashTableValues[h].graphicID)),this.cmd(Xn.connect,this.hashTableVisual[h],s.graphicID),s.next=this.hashTableValues[h],this.hashTableValues[h]=s,this.repositionList(h,this.hashTableValues[h]),this.size++),this.cmd(Xn.setText,this.ExplainLabel,""),this.commands}repositionList(t,e){let i=155;const s=Zl+t*Ql;for(;null!=e;)e.x=i,e.y=s,this.cmd(Xn.move,e.graphicID,e.x,e.y),i+=130,e=e.next}repositionResizeList(t){let e=755;const i=50+t*Ql;let s=this.hashTableValues[t];for(;null!=s;)s.x=e,s.y=i,this.cmd(Xn.move,s.graphicID,s.x,s.y),e+=130,s=s.next}deleteElement(t){this.commands=[],this.cmd(Xn.setText,this.ExplainLabel,"Deleting entry with key: "+t);const e=this.doHash(t);if(null==this.hashTableValues[e])return this.cmd(Xn.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Key not in table"),this.commands;if(this.cmd(Xn.setHighlight,this.hashTableValues[e].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.hashTableValues[e].graphicID,0),this.hashTableValues[e].key===t)return null!=this.hashTableValues[e].next?this.cmd(Xn.connect,this.hashTableVisual[e],this.hashTableValues[e].next.graphicID):this.cmd(Xn.setNull,this.hashTableVisual[e],1),this.cmd(Xn.delete,this.hashTableValues[e].graphicID),this.hashTableValues[e]=this.hashTableValues[e].next,this.repositionList(e,this.hashTableValues[e]),this.size--,this.commands;let i=this.hashTableValues[e],s=this.hashTableValues[e].next,h=!1;for(;null!=s&&!h;)this.cmd(Xn.setHighlight,s.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,s.graphicID,0),s.key===t?(h=!0,this.cmd(Xn.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Entry deleted"),null!=s.next?this.cmd(Xn.connect,i.graphicID,s.next.graphicID):this.cmd(Xn.setNull,i.graphicID,1),i.next=i.next.next,this.cmd(Xn.delete,s.graphicID),this.repositionList(e,this.hashTableValues[e]),this.size--):(i=s,s=s.next);return h||this.cmd(Xn.setText,this.ExplainLabel,"Deleting entry with key: "+t+"  Key not in table"),this.commands}findElement(t){this.commands=[],this.cmd(Xn.setText,this.ExplainLabel,"Finding entry with key: "+t);const e=this.doHash(t),i=this.nextIndex++;let s=!1,h=this.hashTableValues[e],a=null;for(this.cmd(Xn.createLabel,i,"",10,40,0);null!=h&&!s;)this.cmd(Xn.setHighlight,h.graphicID,1),h.key===t?(this.cmd(Xn.setText,i,h.key+"=="+t),s=!0,a=h.val):this.cmd(Xn.setText,i,h.key+"!="+t),this.cmd(Xn.step),this.cmd(Xn.setHighlight,h.graphicID,0),h=h.next;return s?this.cmd(Xn.setText,this.ExplainLabel,"Found entry with key: "+t+"  Value: "+a):this.cmd(Xn.setText,this.ExplainLabel,"Finding entry with key: "+t+"  Not Found!"),this.cmd(Xn.delete,i),this.nextIndex--,this.commands}resize(){this.commands=[],this.cmd(Xn.setText,this.ExplainLabel,"");const t=this.nextIndex++;this.cmd(Xn.createLabel,t,`(Resize Required): (Size + 1.0 / length) > Load Factor --\x3e (${this.size} + 1.0 / ${this.table_size}) > ${this.load_factor}`,800,20),this.table_size=2*this.table_size+1,2*this.table_size+1>30&&(this.load_factor=.99,this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`)),this.cmd(Xn.step),this.oldHashTableVisual=this.hashTableVisual,this.oldHashTableValues=this.hashTableValues,this.oldHashTableIndices=this.hashTableIndices,this.oldIndexXPos=this.indexXPos,this.oldIndexYPos=this.indexYPos,this.hashTableValues=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableIndices=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size);for(let e=0;e<this.table_size;e++){let t=this.nextIndex++;this.cmd(Xn.createRectangle,t,"",Xl,Ql,670,50+e*Ql),this.hashTableVisual[e]=t,this.cmd(Xn.setNull,this.hashTableVisual[e],1),t=this.nextIndex++,this.hashTableIndices[e]=t,this.hashTableValues[e]=null,this.indexXPos[e]=620,this.indexYPos[e]=50+e*Ql,this.cmd(Xn.createLabel,t,e,this.indexXPos[e],this.indexYPos[e]),this.cmd(Xn.setForegroundColor,t,td)}for(let e=0;e<(this.table_size-1)/2;e++){for(this.cmd(Xn.setHighlight,this.oldHashTableVisual[e],1),this.cmd(Xn.step);null!=this.oldHashTableValues[e];){this.cmd(Xn.setHighlight,this.oldHashTableVisual[e],0);const t=this.oldHashTableValues[e];this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.move,t.graphicID,60,40),this.oldHashTableValues[e]=this.oldHashTableValues[e].next,this.cmd(Xn.disconnect,this.oldHashTableVisual[e],t.graphicID),null!=this.oldHashTableValues[e]?(this.cmd(Xn.connect,this.oldHashTableVisual[e],this.oldHashTableValues[e].graphicID),this.cmd(Xn.disconnect,t.graphicID,this.oldHashTableValues[e].graphicID),this.repositionList(e,this.oldHashTableValues[e])):this.cmd(Xn.setNull,this.oldHashTableVisual[e],1),this.cmd(Xn.step);const i=this.doHash(t.key);t.next=this.hashTableValues[i],this.cmd(Xn.setNull,t.graphicID,1),this.cmd(Xn.setNull,this.hashTableVisual[i],0),null!=t.next&&(this.cmd(Xn.disconnect,this.hashTableVisual[i],t.next.graphicID),this.cmd(Xn.connect,t.graphicID,t.next.graphicID)),this.cmd(Xn.connect,this.hashTableVisual[i],t.graphicID),this.hashTableValues[i]=t,this.repositionResizeList(i),this.cmd(Xn.setHighlight,t.graphicID,0)}this.cmd(Xn.setHighlight,this.oldHashTableVisual[e],0)}this.cmd(Xn.step);for(let e=0;e<(this.table_size-1)/2;e++)this.cmd(Xn.setNull,this.oldHashTableVisual[e],1),this.cmd(Xn.delete,this.oldHashTableVisual[e]),this.cmd(Xn.delete,this.oldHashTableIndices[e]);for(let e=0;e<this.table_size;e++){const t=Yl,i=Zl+e*Ql;this.indexXPos[e]=20,this.indexYPos[e]=Zl+e*Ql,this.cmd(Xn.move,this.hashTableVisual[e],t,i),this.cmd(Xn.move,this.hashTableIndices[e],t-Xl,i);let s=0,h=this.hashTableValues[e];for(;null!=h;)this.cmd(Xn.move,h.graphicID,t+85+130*s,i),s++,h=h.next}this.cmd(Xn.delete,t),this.cmd(Xn.step)}changeLoadFactor(t){return this.commands=[],2*this.table_size+1<=30?(this.load_factor=t,this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}`)):this.cmd(Xn.setText,this.loadFactorID,`Load Factor: ${this.load_factor}\n(Array length too large for resize)`),this.cmd(Xn.step),this.commands}resetAll(){let t;this.commands=super.resetAll(),this.size=0;for(let e=0;e<this.hashTableValues.length;e++)if(t=this.hashTableValues[e],null!=t){for(;null!=t;)this.cmd(Xn.delete,t.graphicID),t=t.next;this.hashTableValues[e]=null,this.cmd(Xn.setNull,this.hashTableVisual[e],1)}return this.commands}reset(){this.nextIndex=this.resetIndex,this.table_size=7,this.load_factor=Jl,this.size=0,this.hashTableVisual=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.hashTableIndices=new Array(7),this.indexXPos=new Array(7),this.indexYPos=new Array(7);for(let t=0;t<this.table_size;t++)this.hashTableValues[t]=null,this.hashTableVisual[t]=this.nextIndex++,this.hashTableIndices[t]=this.nextIndex++;super.reset()}clear(){this.commands=[];for(let t=0;t<this.hashTableValues.length;t++){const e=this.hashTableValues[t];null!=e&&this.cmd(Xn.delete,e.graphicID),t>=7?(this.cmd(Xn.delete,this.hashTableVisual[t],1),this.cmd(Xn.delete,this.hashTableIndices[t])):this.cmd(Xn.setNull,this.hashTableVisual[t],1)}return this.hashTableValues=new Array(7),this.size=0,this.commands}disableUI(){super.disableUI()}enableUI(){super.enableUI()}}],SplayTree:["SplayTree",class extends nr{constructor(t,e,i){super(t,e,i),this.startingX=e/2,this.first_print_pos_y=i-40,this.print_max=e-10,this.addControls(),this.nextIndex=0,this.commands=[],this.cmd(Xn.createLabel,0,"",20,10,0),this.nextIndex=1,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}addControls(){this.controls=[],this.insertField=er("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=er("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),ir(),this.deleteField=er("Text",""),this.deleteField.style.textAlign="center",this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=er("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),ir(),this.findField=er("Text",""),this.findField.style.textAlign="center",this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),ir(),this.printButton=er("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){t.get("data").split(",").filter((t=>""!==t.trim())).forEach((t=>{this.implementAction(this.insertElement.bind(this),parseInt(t),!0),this.animationManager.skipForward(),this.animationManager.clearHistory()}))}reset(){this.nextIndex=1,this.treeRoot=null}insertCallback(){let t=this.insertField.value;t=this.normalizeNumber(t,4),""!==t?(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t))):this.shake(this.insertButton)}deleteCallback(){let t=this.deleteField.value;""!==t?(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),parseInt(t))):this.shake(this.deleteButton)}randomCallback(){const t=Math.floor(11*Math.random())+2;this.implementAction(this.clear.bind(this));for(let e=0;e<t;e++)this.implementAction(this.insertElement.bind(this),Math.floor(17*Math.random())+0),this.animationManager.skipForward(),this.animationManager.clearHistory()}splay(t){return null!=this.treeRoot&&(this.treeRoot.data===t||(t<this.treeRoot.data?null!=this.treeRoot.left&&(this.treeRoot.left.data===t?(this.singleRotateRight(this.treeRoot),!0):t<this.treeRoot.left.data?null==this.treeRoot.left.left?(this.singleRotateRight(this.treeRoot),this.splay(t)):(this.zigZigRight(this.treeRoot),this.splay(t)):null==this.treeRoot.left.right?(this.singleRotateRight(this.treeRoot),this.splay(t)):(this.doubleRotateRight(this.treeRoot),this.splay(t))):null!=this.treeRoot.right&&(this.treeRoot.right.data===t?(this.singleRotateLeft(this.treeRoot),!0):t>this.treeRoot.right.data?null==this.treeRoot.right.right?(this.singleRotateLeft(this.treeRoot),this.splay(t)):(this.zigZigLeft(this.treeRoot),this.splay(t)):null==this.treeRoot.right.left?(this.singleRotateLeft(this.treeRoot),this.splay(t)):(this.doubleRotateLeft(this.treeRot),this.splay(t)))))}printCallback(){this.implementAction(this.printTree.bind(this))}printTree(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;const t=this.nextIndex;this.cmd(Xn.createHighlightCircle,this.highlightID,Rd,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Xn.delete,this.highlightID),this.cmd(Xn.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Xn.delete,e);this.nextIndex=this.highlightID}return this.commands}printTreeRec(t){this.cmd(Xn.step),null!=t.left&&(this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step));const e=this.nextIndex++;this.cmd(Xn.createLabel,e,t.data,t.x,t.y),this.cmd(Xn.setForegroundColor,e,"#007700"),this.cmd(Xn.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Xn.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=20),null!=t.right&&(this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd(Xn.move,this.highlightID,t.x,t.y),this.cmd(Xn.step))}clearCallback(){this.implementAction(this.clear.bind(this))}clear(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}recClear(t){null!=t&&(this.cmd(Xn.delete,t.graphicID),this.recClear(t.left),this.recClear(t.right))}findCallback(){const t=this.normalizeNumber(this.findField.value,4);""!==t?(this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))):this.shake(this.findButton)}findElement(t){this.commands=[],this.highlightID=this.nextIndex++;return this.doFind(this.treeRoot,t)?this.cmd(Xn.setText,0,"Element "+t+" found."):this.cmd(Xn.setText,0,"Element "+t+" not found."),this.commands}doFind(t,e){return this.cmd(Xn.setText,0,"Searching for "+e),null!=t?(this.cmd(Xn.setHighlight,t.graphicID,1),t.data===e?(this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd(Xn.step),this.cmd(Xn.setText,0,"Splaying found node to root of tree"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.splayUp(t),!0):t.data>e?(this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),null!=t.left?(this.cmd(Xn.createHighlightCircle,this.highlightID,Rd,t.x,t.y),this.cmd(Xn.move,this.highlightID,t.left.x,t.left.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID),this.doFind(t.left,e)):(this.splayUp(t),!1)):(this.cmd(Xn.setText,0,"Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),null!=t.right?(this.cmd(Xn.createHighlightCircle,this.highlightID,Rd,t.x,t.y),this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID),this.doFind(t.right,e)):(this.splayUp(t),!1))):(this.cmd(Xn.setText,0,"Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd(Xn.step),this.cmd(Xn.setText,0,"Searching for "+e+" :  (Element not found)"),!1)}insertElement(t){if(this.commands=[],this.cmd(Xn.setText,0,"Inserting "+t),this.highlightID=this.nextIndex++,null==this.treeRoot)this.cmd(Xn.createCircle,this.nextIndex,t,this.startingX,50),this.cmd(Xn.setForegroundColor,this.nextIndex,Nd),this.cmd(Xn.setBackgroundColor,this.nextIndex,jd),this.cmd(Xn.step),this.treeRoot=new Od(t,this.nextIndex,this.startingX,50),this.nextIndex+=1;else{this.cmd(Xn.createCircle,this.nextIndex,t,100,100),this.cmd(Xn.setForegroundColor,this.nextIndex,Nd),this.cmd(Xn.setBackgroundColor,this.nextIndex,jd),this.cmd(Xn.step);const e=new Od(t,this.nextIndex,100,100);this.nextIndex+=1,this.cmd(Xn.setHighlight,e.graphicID,1),this.insert(e,this.treeRoot),this.resizeTree(),this.cmd(Xn.setText,0,"Splay inserted element to root of tree"),this.cmd(Xn.step),this.splayUp(e)}return this.cmd(Xn.setText,0,""),this.commands}insert(t,e){let i=!1;this.cmd(Xn.setHighlight,e.graphicID,1),this.cmd(Xn.setHighlight,t.graphicID,1),t.data<e.data?this.cmd(Xn.setText,0,t.data+" < "+e.data+".  Looking at left subtree"):t.data>e.data?this.cmd(Xn.setText,0,t.data+" >= "+e.data+".  Looking at right subtree"):(this.cmd(Xn.setText,0,t.data+" = "+e.data+". Ignoring duplicate"),i=!0),this.cmd(Xn.step),this.cmd(Xn.setHighlight,e.graphicID,0),this.cmd(Xn.setHighlight,t.graphicID,0),i?this.cmd(Xn.delete,t.graphicID,0):t.data<e.data?null==e.left?(this.cmd(Xn.setText,0,"Found null tree, inserting element"),this.cmd(Xn.setHighlight,t.graphicID,0),e.left=t,t.parent=e,this.cmd(Xn.connect,e.graphicID,t.graphicID,Ed)):(this.cmd(Xn.createHighlightCircle,this.highlightID,Rd,e.x,e.y),this.cmd(Xn.move,this.highlightID,e.left.x,e.left.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID),this.insert(t,e.left)):null==e.right?(this.cmd(Xn.setText,0,"Found null tree, inserting element"),this.cmd(Xn.setHighlight,t.graphicID,0),e.right=t,t.parent=e,this.cmd(Xn.connect,e.graphicID,t.graphicID,Ed),t.x=e.x+25,t.y=e.y+50,this.cmd(Xn.move,t.graphicID,t.x,t.y)):(this.cmd(Xn.createHighlightCircle,this.highlightID,Rd,e.x,e.y),this.cmd(Xn.move,this.highlightID,e.right.x,e.right.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.highlightID),this.insert(t,e.right))}deleteElement(t){return this.commands=[],this.cmd(Xn.setText,0,"Deleting "+t),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),this.highlightID=this.nextIndex++,this.treeDelete(this.treeRoot,t),this.cmd(Xn.setText,0,""),this.commands}treeDelete(t,e){this.cmd(Xn.setText,0,"Finding "+e+" and splaying to rooot"),this.cmd(Xn.step);const i=this.doFind(this.treeRoot,e);if(this.cmd(Xn.setText,0,"Removing root, leaving left and right trees"),this.cmd(Xn.step),i)if(null==this.treeRoot.right)this.cmd(Xn.delete,this.treeRoot.graphicID),this.cmd(Xn.setText,0,"No right tree, make left tree the root."),this.cmd(Xn.step),this.treeRoot=this.treeRoot.left,this.treeRoot.parent=null,this.resizeTree();else if(null==this.treeRoot.left)this.cmd(Xn.delete,this.treeRoot.graphicID),this.cmd(Xn.setText,0,"No left tree, make right tree the root."),this.cmd(Xn.step),this.treeRoot=this.treeRoot.right,this.treeRoot.parent=null,this.resizeTree();else{const t=this.treeRoot.right,e=this.treeRoot.left,i=this.treeRoot.graphicID;this.cmd(Xn.disconnect,this.treeRoot.graphicID,e.graphicID),this.cmd(Xn.disconnect,this.treeRoot.graphicID,t.graphicID),this.cmd(Xn.setAlpha,this.treeRoot.graphicID,0),this.cmd(Xn.setText,0,"Splay largest element in left tree to root"),this.cmd(Xn.step),e.parent=null;const s=this.findMax(e);this.splayUp(s),this.cmd(Xn.setText,0,"Left tree now has no right subtree, connect left and right trees"),this.cmd(Xn.step),this.cmd(Xn.connect,s.graphicID,t.graphicID,Ed),s.parent=null,s.right=t,t.parent=s,this.treeRoot=s,this.cmd(Xn.delete,i),this.resizeTree()}}singleRotateRight(t){const e=t,i=t.left,s=i.right;this.cmd(Xn.setText,0,"Zig Right"),this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.step),null!=s&&(this.cmd(Xn.disconnect,i.graphicID,s.graphicID),this.cmd(Xn.connect,e.graphicID,s.graphicID,Ed),s.parent=e),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,Ed),i.parent=e.parent,null==e.parent?this.treeRoot=i:(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID,Ed),this.cmd(Xn.connect,e.parent.graphicID,i.graphicID,Ed),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.right=e,e.parent=i,e.left=s,this.resizeTree()}zigZigRight(t){const e=t,i=t.left,s=t.left.left,h=s.right,a=i.right;this.cmd(Xn.setText,0,"Zig-Zig Right"),this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.setEdgeHighlight,i.graphicID,s.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,0),this.cmd(Xn.setEdgeHighlight,i.graphicID,s.graphicID,0),null!=e.parent?(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID),this.cmd(Xn.connect,e.parent.graphicID,s.graphicID,Ed),e.isLeftChild()?e.parent.left=s:e.parent.right=s):this.treeRoot=s,null!=h&&(this.cmd(Xn.disconnect,s.graphicID,h.graphicID),this.cmd(Xn.connect,i.graphicID,h.graphicID,Ed),h.parent=i),null!=a&&(this.cmd(Xn.disconnect,i.graphicID,a.graphicID),this.cmd(Xn.connect,e.graphicID,a.graphicID,Ed),a.parent=e),this.cmd(Xn.disconnect,i.graphicID,s.graphicID),this.cmd(Xn.connect,s.graphicID,i.graphicID,Ed),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,Ed),s.right=i,s.parent=e.parent,i.parent=s,i.left=h,i.right=e,e.parent=i,e.left=a,this.resizeTree()}zigZigLeft(t){const e=t,i=t.right,s=t.right.right,h=i.left,a=s.left;this.cmd(Xn.setText,0,"Zig-Zig Left"),this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.setEdgeHighlight,i.graphicID,s.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,0),this.cmd(Xn.setEdgeHighlight,i.graphicID,s.graphicID,0),null!=e.parent?(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID),this.cmd(Xn.connect,e.parent.graphicID,s.graphicID,Ed),e.isLeftChild()?e.parent.left=s:e.parent.right=s):this.treeRoot=s,null!=h&&(this.cmd(Xn.disconnect,i.graphicID,h.graphicID),this.cmd(Xn.connect,e.graphicID,h.graphicID,Ed),h.parent=e),null!=a&&(this.cmd(Xn.disconnect,s.graphicID,a.graphicID),this.cmd(Xn.connect,i.graphicID,a.graphicID,Ed),a.parent=i),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.disconnect,i.graphicID,s.graphicID),this.cmd(Xn.connect,s.graphicID,i.graphicID,Ed),this.cmd(Xn.connect,i.graphicID,e.graphicID,Ed),s.parent=e.parent,e.right=h,i.left=e,e.parent=i,i.right=a,s.left=i,i.parent=s,this.resizeTree()}singleRotateLeft(t){const e=t,i=t.right,s=i.left;this.cmd(Xn.setText,0,"Zig Left"),this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.step),null!=s&&(this.cmd(Xn.disconnect,i.graphicID,s.graphicID),this.cmd(Xn.connect,e.graphicID,s.graphicID,Ed),s.parent=e),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,Ed),i.parent=e.parent,null==e.parent?this.treeRoot=i:(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID,Ed),this.cmd(Xn.connect,e.parent.graphicID,i.graphicID,Ed),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.left=e,e.parent=i,e.right=s,this.resizeTree()}splayUp(t){null!=t.parent&&(null==t.parent.parent?t.isLeftChild()?this.singleRotateRight(t.parent):this.singleRotateLeft(t.parent):t.isLeftChild()&&!t.parent.isLeftChild()?(this.doubleRotateLeft(t.parent.parent),this.splayUp(t)):!t.isLeftChild()&&t.parent.isLeftChild()?(this.doubleRotateRight(t.parent.parent),this.splayUp(t)):t.isLeftChild()?(this.zigZigRight(t.parent.parent),this.splayUp(t)):(this.zigZigLeft(t.parent.parent),this.splayUp(t)))}findMax(t){if(null!=t.right){for(this.highlightID=this.nextIndex++,this.cmd(Xn.createHighlightCircle,this.highlightID,Rd,t.x,t.y),this.cmd(Xn.step);null!=t.right;)this.cmd(Xn.move,this.highlightID,t.right.x,t.right.y),this.cmd(Xn.step),t=t.right;return this.cmd(Xn.delete,this.highlightID),t}return t}doubleRotateRight(t){this.cmd(Xn.setText,0,"Zig-Zag Right");const e=t.left,i=t.left.right,s=t,h=i.left,a=i.right;this.cmd(Xn.setEdgeHighlight,s.graphicID,e.graphicID,1),this.cmd(Xn.setEdgeHighlight,e.graphicID,i.graphicID,1),this.cmd(Xn.step),null!=h&&(this.cmd(Xn.disconnect,i.graphicID,h.graphicID),h.parent=e,e.right=h,this.cmd(Xn.connect,e.graphicID,h.graphicID,Ed)),null!=a&&(this.cmd(Xn.disconnect,i.graphicID,a.graphicID),a.parent=s,s.left=h,this.cmd(Xn.connect,s.graphicID,a.graphicID,Ed)),null==s.parent?(i.parent=null,this.treeRoot=i):(this.cmd(Xn.disconnect,s.parent.graphicID,s.graphicID),this.cmd(Xn.connect,s.parent.graphicID,i.graphicID,Ed),s.isLeftChild()?s.parent.left=i:s.parent.right=i,i.parent=s.parent,s.parent=i),this.cmd(Xn.disconnect,s.graphicID,e.graphicID),this.cmd(Xn.disconnect,e.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,Ed),this.cmd(Xn.connect,i.graphicID,s.graphicID,Ed),i.left=e,e.parent=i,i.right=s,s.parent=i,e.right=h,s.left=a,this.resizeTree()}doubleRotateLeft(t){this.cmd(Xn.setText,0,"Zig-Zag Left");const e=t,i=t.right.left,s=t.right,h=i.left,a=i.right;this.cmd(Xn.setEdgeHighlight,e.graphicID,s.graphicID,1),this.cmd(Xn.setEdgeHighlight,s.graphicID,i.graphicID,1),this.cmd(Xn.step),null!=h&&(this.cmd(Xn.disconnect,i.graphicID,h.graphicID),h.parent=e,e.right=h,this.cmd(Xn.connect,e.graphicID,h.graphicID,Ed)),null!=a&&(this.cmd(Xn.disconnect,i.graphicID,a.graphicID),a.parent=s,s.left=h,this.cmd(Xn.connect,s.graphicID,a.graphicID,Ed)),null==e.parent?(i.parent=null,this.treeRoot=i):(this.cmd(Xn.disconnect,e.parent.graphicID,e.graphicID),this.cmd(Xn.connect,e.parent.graphicID,i.graphicID,Ed),e.isLeftChild()?e.parent.left=i:e.parent.right=i,i.parent=e.parent,e.parent=i),this.cmd(Xn.disconnect,e.graphicID,s.graphicID),this.cmd(Xn.disconnect,s.graphicID,i.graphicID),this.cmd(Xn.connect,i.graphicID,e.graphicID,Ed),this.cmd(Xn.connect,i.graphicID,s.graphicID,Ed),i.left=e,e.parent=i,i.right=s,s.parent=i,e.right=h,s.left=a,this.resizeTree()}resizeTree(){let t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,50,0),this.animateNewPositions(this.treeRoot),this.cmd(Xn.step))}setNewPositions(t,e,i,s){null!=t&&(t.y=i,-1===s?e-=t.rightWidth:1===s&&(e+=t.leftWidth),t.x=e,this.setNewPositions(t.left,e,i+50,-1),this.setNewPositions(t.right,e,i+50,1))}animateNewPositions(t){null!=t&&(this.cmd(Xn.move,t.graphicID,t.x,t.y),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}resizeWidths(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),25),t.rightWidth=Math.max(this.resizeWidths(t.right),25),t.leftWidth+t.rightWidth)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}],AVL:["AVL",or],BTree:["2-4 Tree",class extends nr{constructor(t,e,i){super(t,e,i),this.nextIndex=0,this.starting_x=e/2,this.preemptiveSplit=!1,this.addControls(),this.max_keys=3,this.min_keys=1,this.split_index=1,this.max_degree=4,this.messageID=this.nextIndex++,this.cmd(Xn.createLabel,this.messageID,"",5,10,0),this.moveLabel1ID=this.nextIndex++,this.moveLabel2ID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.commands=[],this.resetIndex=4,this.first_print_pos_y=i-60,this.xPosOfNextLabel=100,this.yPosOfNextLabel=200}addControls(){this.controls=[],this.insertField=er("Text",""),this.insertField.style.textAlign="center",this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.controls.push(this.insertField),this.insertButton=er("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),ir(),this.deleteField=er("Text",""),this.deleteField.style.textAlign="center",this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4,!0),this.controls.push(this.deleteField),this.deleteButton=er("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),ir(),this.findField=er("Text",""),this.findField.style.textAlign="center",this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4,!0),this.controls.push(this.findField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),ir();const t=sr(!1);this.randomButton=er("Button","Random",t),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),this.clearButton=er("Button","Clear",t),this.clearButton.onclick=()=>this.clearCallback(),this.controls.push(this.clearButton),ir(),Yn("Promote");const e=tr(["second","third"],"Split Index");this.splitSecondSelect=e[0],this.splitThirdSelect=e[1],this.splitSecondSelect.onclick=()=>this.split_index=1,this.splitThirdSelect.onclick=()=>this.split_index=2,this.splitSecondSelect.checked=!0,this.split_index=1,ir();const i=tr(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=i[0],this.succButton=i[1],this.predButton.onclick=this.predCallback.bind(this),this.succButton.onclick=this.succCallback.bind(this),this.succButton.checked=!0,this.predSucc="succ",ir();const s=sr(!1);Yn('| separated list of nodes with comma separated keys (e.g. "1,3|0|2|4")',s);const h=sr(!0,s);this.buildTreeField=er("Text","",h),this.buildTreeField.onkeydown=this.returnSubmit(this.buildTreeField,this.buildTreeCallback.bind(this),30,!1,!0),this.controls.push(this.buildTreeField),this.buildTreeButton=er("Button","Build Tree",h),this.buildTreeButton.onclick=this.buildTreeCallback.bind(this),this.controls.push(this.buildTreeButton)}setURLData(t){if(t.has("promote")){const e=t.get("promote");"second"===e?(this.split_index=1,this.splitSecondSelect.checked=!0,this.splitThirdSelect.checked=!1):"third"===e&&(this.split_index=2,this.splitSecondSelect.checked=!1,this.splitThirdSelect.checked=!0)}if(t.has("predSucc")){const e=t.get("predSucc");"pred"===e?(this.predSucc="pred",this.predButton.checked=!0):"succ"===e&&(this.predSucc="succ",this.succButton.checked=!0)}if(t.has("data")){const e=t.get("data");this.buildTreeField.value=e,this.buildTreeCallback()}}buildTreeCallback(){const t=this.buildTreeField.value;this.implementAction(this.clearTree.bind(this)),this.insertField.value="",this.implementAction(this.buildTree.bind(this),t)}buildTree(t){this.commands=[],this.cmd(Xn.setText,this.infoLabelID,"");const e=t.split("|").map((t=>t.split(",").map((t=>parseInt(t)))));this.treeRoot=new Gr(this.nextIndex++,this.starting_x,$r),this.cmd(Xn.createBTreeNode,this.treeRoot.graphicID,qr,20,1,this.starting_x,$r,Ur,Wr),this.treeRoot.keys=e[0],this.treeRoot.numKeys=e[0].length,this.treeRoot.children=[],this.cmd(Xn.setText,this.treeRoot.graphicID,e[0].join("   "),0),this.cmd(Xn.setNumElements,this.treeRoot.graphicID,e[0].length),this.resizeTree();for(let s=0;s<e[0].length;s++)this.cmd(Xn.setText,this.treeRoot.graphicID,e[0][s],s),this.treeRoot.numKeys=e[0].length;for(let s=1;s<e.length;s++){const t=new Gr(this.nextIndex++,this.starting_x,$r);t.keys=e[s],t.numKeys=e[s].length,t.children=[],this.buildTreeRecurse(this.treeRoot,e[s][0],t)}const i=this.treeHasProblem(this.treeRoot,0,new Set);return i?(this.commands=[],this.cmd(Xn.setText,this.infoLabelID,i),this.reset(),this.shake(this.buildTreeButton),this.commands):(this.cmd(Xn.setText,this.messageID,""),this.commands)}treeHasProblem(t,e,i){if(null==t)return"";if(t.numKeys>this.max_keys)return`Nodes can have at most ${this.max_keys} keys`;for(let s=0;s<t.numKeys-1;s++)if(t.keys[s]>=t.keys[s+1])return`Tree must respect order property within nodes. ${t.keys[s]} >= ${t.keys[s+1]}`;if(t.isLeaf)return i.add(e),i.size>1?"All leaf nodes must be at the same depth.":"";if(t.numKeys!==t.children.length-1)return`Node with ${t.numKeys} keys must have ${t.numKeys+1} children if not a leaf`;for(let s=0;s<t.numKeys;s++){const e=t.keys[s],i=t.children[s],h=t.children[s+1];for(const t of i.keys)if(t>=e)return`Tree must respect order property. ${t} >= ${e}`;for(const t of h.keys)if(t<=e)return`Tree must respect order property. ${t} <= ${e}`}for(const s of t.children){const t=this.treeHasProblem(s,e+1,i);if(t)return t}return""}buildTreeRecurse(t,e,i){let s=0;for(;s<t.numKeys&&t.keys[s]<e;)s++;const h=t.children[s];if(null==h){t.isLeaf=!1,t.children.push(i),i.y=t.y+100,i.x=t.x+150*(s-1.5),i.parent=t,this.cmd(Xn.createBTreeNode,i.graphicID,qr,20,1,i.x,i.y,Ur,Wr),this.cmd(Xn.setNumElements,i.graphicID,i.keys.length),this.resizeTree();for(let t=0;t<i.keys.length;t++)this.cmd(Xn.setText,i.graphicID,i.keys[t],t);this.cmd(Xn.connect,t.graphicID,i.graphicID,Wr,0,0,"",s)}else this.buildTreeRecurse(h,e,i)}reset(){this.nextIndex=this.resetIndex,this.max_degree=4,this.max_keys=3,this.min_keys=1,this.split_index=1,this.treeRoot=null,this.ignoreInputs=!0,this.ignoreInputs=!1}enableUI(){let t;for(t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}maxDegreeChangedHandler(t){this.max_degree!==t&&(this.implementAction(this.changeDegree.bind(this),t),this.animationManager.skipForward(),this.animationManager.clearHistory())}predCallback(){"pred"!==this.predSucc&&(this.predSucc="pred")}succCallback(){"succ"!==this.predSucc&&(this.predSucc="succ")}insertCallback(){const t=this.normalizeNumber(this.insertField.value,4);""!==t?(this.insertField.value="",this.implementAction(this.insertElement.bind(this),parseInt(t))):this.shake(this.insertButton)}deleteCallback(){let t=this.deleteField.value;""!==t&&this.treeRoot?(t=this.normalizeNumber(this.deleteField.value,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),parseInt(t))):this.shake(this.deleteButton)}randomCallback(){const t=Math.floor(17*Math.random())+4;this.implementAction(this.clearTree.bind(this));for(let e=0;e<t;e++)this.implementAction(this.insertElement.bind(this),Math.floor(17*Math.random())+0),this.animationManager.skipForward(),this.animationManager.clearHistory()}clearCallback(){this.implementAction(this.clearTree.bind(this))}premtiveSplitCallback(){this.preemptiveSplit!==this.premptiveSplitBox.checked&&this.implementAction(this.changePreemtiveSplit.bind(this),this.premptiveSplitBox.checked)}changePreemtiveSplit(t){return this.commands=[],this.cmd(Xn.step),this.preemptiveSplit=t,this.premptiveSplitBox.checked!==this.preemptiveSplit&&(this.premptiveSplitBox.checked=this.preemptiveSplit),this.commands}printCallback(){this.treeRoot?this.implementAction(this.printTree.bind(this)):this.shake(this.printButton)}printTree(){this.commands=[],this.cmd(Xn.setText,this.messageID,"Printing tree");const t=this.nextIndex;this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd(Xn.step);for(let e=t;e<this.nextIndex;e++)this.cmd(Xn.delete,e);return this.nextIndex=t,this.cmd(Xn.setText,this.messageID,""),this.commands}printTreeRec(t){let e;if(this.cmd(Xn.setHighlight,t.graphicID,1),t.isLeaf){for(let i=0;i<t.numKeys;i++)e=this.nextIndex++,this.cmd(Xn.createLabel,e,t.keys[i],this.getLabelX(t,i),t.y),this.cmd(Xn.setForegroundColor,e,Kr),this.cmd(Xn.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Xn.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>990&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=20);this.cmd(Xn.setHighlight,t.graphicID,0)}else{this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[0].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[0].graphicID,0),this.printTreeRec(t.children[0]);for(let i=0;i<t.numKeys;i++)this.cmd(Xn.setHighlight,t.graphicID,1),e=this.nextIndex++,this.cmd(Xn.createLabel,e,t.keys[i],this.getLabelX(t,i),t.y),this.cmd(Xn.setForegroundColor,e,Kr),this.cmd(Xn.move,e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd(Xn.step),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>990&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=20),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i+1].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i+1].graphicID,0),this.printTreeRec(t.children[i+1]);this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0)}}clearTree(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",this.commands=[],this.deleteTree(this.treeRoot),this.treeRoot=null,this.nextIndex=this.resetIndex,this.commands}deleteTree(t){if(null!=t){if(!t.isLeaf)for(let e=0;e<=t.numKeys;e++)t.children[e]&&(this.cmd(Xn.disconnect,t.graphicID,t.children[e].graphicID),this.deleteTree(t.children[e]));this.cmd(Xn.delete,t.graphicID)}}changeDegree(t){this.commands=[],this.deleteTree(this.treeRoot),this.treeRoot=null,this.nextIndex=this.resetIndex;const e=t;return this.ignoreInputs=!0,this.maxDegreeRadioButtons[e-4].checked=!0,this.ignoreInputs=!1,this.max_degree=e,this.max_keys=e-1,this.min_keys=Math.floor((e+1)/2)-1,this.split_index=Math.floor((e-1)/2),0===this.commands.length&&this.cmd(Xn.step),e%2!==0&&this.preemptiveSplit&&(this.preemptiveSplit=!1,this.premptiveSplitBox.checked=!1),this.commands}findCallback(){const t=this.normalizeNumber(this.findField.value,4);""!==t?(this.findField.value="",this.implementAction(this.findElement.bind(this),parseInt(t))):this.shake(this.findButton)}findElement(t){return this.commands=[],this.cmd(Xn.setText,this.messageID,"Finding "+t),this.findInTree(this.treeRoot,t),this.commands}findInTree(t,e){if(null!=t){let i;for(this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.step),i=0;i<t.numKeys&&t.keys[i]<e;i++);i===t.numKeys?t.isLeaf?(this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setText,this.messageID,"Element "+e+" is not in the tree")):(this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),this.findInTree(t.children[t.numKeys],e)):t.keys[i]>e?t.isLeaf?(this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setText,this.messageID,"Element "+e+" is not in the tree")):(this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i].graphicID,0),this.findInTree(t.children[i],e)):(this.cmd(Xn.setTextColor,t.graphicID,"#FF0000",i),this.cmd(Xn.setText,this.messageID,"Element "+e+" found"),this.cmd(Xn.step),this.cmd(Xn.setTextColor,t.graphicID,Wr,i),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.step))}else this.cmd(Xn.setText,this.messageID,"Element "+e+" is not in the tree")}insertElement(t){return this.commands=[],this.cmd(Xn.setText,this.messageID,"Inserting "+t),this.cmd(Xn.step),null==this.treeRoot?(this.treeRoot=new Gr(this.nextIndex++,this.starting_x,$r),this.cmd(Xn.createBTreeNode,this.treeRoot.graphicID,qr,20,1,this.starting_x,$r,Ur,Wr),this.treeRoot.keys[0]=t,this.cmd(Xn.setText,this.treeRoot.graphicID,t,0)):(this.preemptiveSplit?(this.treeRoot.numKeys===this.max_keys&&(this.split(this.treeRoot),this.resizeTree(),this.cmd(Xn.step)),this.insertNotFull(this.treeRoot,t)):this.insert(this.treeRoot,t),this.treeRoot.isLeaf||this.resizeTree()),this.cmd(Xn.setText,this.messageID,""),this.commands}insertNotFull(t,e){if(t.keys.includes(e)&&t.keys.findIndex((t=>t===e))<t.numKeys)return this.cmd(Xn.setText,0,`${e} == ${e}. Ignoring duplicate!`),this.cmd(Xn.step),void this.cmd(Xn.setHighlight,t.graphicID,0);if(this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.step),t.isLeaf){this.cmd(Xn.setText,this.messageID,"Inserting "+e+".  Inserting into a leaf"),t.numKeys++,this.cmd(Xn.setNumElements,t.graphicID,t.numKeys);let i=t.numKeys-1;for(;i>0&&t.keys[i-1]>e;)t.keys[i]=t.keys[i-1],this.cmd(Xn.setText,t.graphicID,t.keys[i],i),i--;t.keys[i]=e,this.cmd(Xn.setText,t.graphicID,t.keys[i],i),this.cmd(Xn.setHighlight,t.graphicID,0),this.resizeTree()}else{let i=0;for(;i<t.numKeys&&t.keys[i]<e;)i++;if(this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i].graphicID,0),this.cmd(Xn.setHighlight,t.graphicID,0),t.children[i].numKeys===this.max_keys){const s=this.split(t.children[i]);this.resizeTree(),this.cmd(Xn.step),this.insertNotFull(s,e)}else this.insertNotFull(t.children[i],e)}}insert(t,e){if(this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.step),t.keys.includes(e)&&t.keys.findIndex((t=>t===e))<t.numKeys)return this.cmd(Xn.setText,0,`${e} == ${e}. Ignoring duplicate!`),this.cmd(Xn.step),void this.cmd(Xn.setHighlight,t.graphicID,0);if(t.isLeaf){this.cmd(Xn.setText,this.messageID,"Inserting "+e+".  Inserting into a leaf"),t.numKeys++,this.cmd(Xn.setNumElements,t.graphicID,t.numKeys);let i=t.numKeys-1;for(;i>0&&t.keys[i-1]>e;)t.keys[i]=t.keys[i-1],this.cmd(Xn.setText,t.graphicID,t.keys[i],i),i--;t.keys[i]=e,this.cmd(Xn.setText,t.graphicID,t.keys[i],i),this.cmd(Xn.setHighlight,t.graphicID,0),this.resizeTree(),this.insertRepair(t)}else{let i=0;for(;i<t.numKeys&&t.keys[i]<e;)i++;this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i].graphicID,0),this.cmd(Xn.setHighlight,t.graphicID,0),this.insert(t.children[i],e)}}insertRepair(t){if(!(t.numKeys<=this.max_keys))if(null!=t.parent){const e=this.split(t);this.insertRepair(e)}else this.treeRoot=this.split(t)}split(t){this.cmd(Xn.setText,this.messageID,"Node now contains too many elements.  Splitting ..."),this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0);const e=new Gr(this.nextIndex++,t.x+100,t.y);e.numKeys=t.numKeys-this.split_index-1;const i=t.keys[this.split_index];let s,h;if(null!=t.parent){for(s=t.parent,h=0;h<s.numKeys+1&&s.children[h]!==t;h++);if(h===s.numKeys+1)throw new Error("Couldn't find which child we were!");this.cmd(Xn.setNumElements,s.graphicID,s.numKeys+1);for(let t=s.numKeys;t>h;t--)s.children[t+1]=s.children[t],this.cmd(Xn.disconnect,s.graphicID,s.children[t].graphicID),this.cmd(Xn.connect,s.graphicID,s.children[t].graphicID,Wr,0,0,"",t+1),s.keys[t]=s.keys[t-1],this.cmd(Xn.setText,s.graphicID,s.keys[t],t);s.numKeys++,s.keys[h]=i,this.cmd(Xn.setText,s.graphicID,"",h),this.moveLabel1ID=this.nextIndex++,this.cmd(Xn.createLabel,this.moveLabel1ID,i,this.getLabelX(t,this.split_index),t.y),this.cmd(Xn.setForegroundColor,this.moveLabel1ID,Wr),this.cmd(Xn.move,this.moveLabel1ID,this.getLabelX(s,h),s.y),s.children[h+1]=e,e.parent=s}this.cmd(Xn.createBTreeNode,e.graphicID,qr,20,t.numKeys-this.split_index-1,t.x,t.y,Ur,Wr);for(let n=this.split_index+1;n<t.numKeys+1;n++)e.children[n-this.split_index-1]=t.children[n],null!=t.children[n]&&(e.isLeaf=!1,this.cmd(Xn.disconnect,t.graphicID,t.children[n].graphicID),this.cmd(Xn.connect,e.graphicID,e.children[n-this.split_index-1].graphicID,Wr,0,0,"",n-this.split_index-1),null!=t.children[n]&&(t.children[n].parent=e),t.children[n]=null);for(let n=this.split_index+1;n<t.numKeys;n++)e.keys[n-this.split_index-1]=t.keys[n],this.cmd(Xn.setText,e.graphicID,e.keys[n-this.split_index-1],n-this.split_index-1);const a=t;a.numKeys=this.split_index;for(let n=this.split_index;n<t.numKeys;n++)this.cmd(Xn.setText,t.graphicID,"",n);return this.cmd(Xn.setNumElements,t.graphicID,this.split_index),null!=t.parent?(this.cmd(Xn.connect,s.graphicID,e.graphicID,Wr,0,0,"",h+1),this.resizeTree(),this.cmd(Xn.step),this.cmd(Xn.delete,this.moveLabel1ID),this.cmd(Xn.setText,s.graphicID,i,h),t.parent):(this.treeRoot=new Gr(this.nextIndex++,this.starting_x,$r),this.cmd(Xn.createBTreeNode,this.treeRoot.graphicID,qr,20,1,this.starting_x,$r,Ur,Wr),this.treeRoot.keys[0]=i,this.cmd(Xn.setText,this.treeRoot.graphicID,i,0),this.treeRoot.children[0]=a,this.treeRoot.children[1]=e,a.parent=this.treeRoot,e.parent=this.treeRoot,this.cmd(Xn.connect,this.treeRoot.graphicID,a.graphicID,Wr,0,0,"",0),this.cmd(Xn.connect,this.treeRoot.graphicID,e.graphicID,Wr,0,0,"",1),this.treeRoot.isLeaf=!1,this.treeRoot)}deleteElement(t){return this.commands=[],this.cmd(Xn.setText,0,"Deleting "+t),this.cmd(Xn.step),this.cmd(Xn.setText,0,""),this.highlightID=this.nextIndex++,this.cmd(Xn.setText,0,""),this.preemptiveSplit?this.doDeleteNotEmpty(this.treeRoot,t):this.doDelete(this.treeRoot,t),this.treeRoot&&0===this.treeRoot.numKeys&&(this.cmd(Xn.step),this.cmd(Xn.delete,this.treeRoot.graphicID),this.treeRoot=this.treeRoot.children[0],this.treeRoot.parent=null,this.resizeTree()),this.commands}doDeleteNotEmpty(t,e){if(null!=t){let i,s;for(this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.step),s=0;s<t.numKeys&&t.keys[s]<e;s++);if(s===t.numKeys)t.isLeaf?this.cmd(Xn.setHighlight,t.graphicID,0):(this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),t.children[t.numKeys].numKeys===this.min_keys?t.children[t.numKeys-1].numKeys>this.min_keys?(i=this.stealFromLeft(t.children[t.numKeys],t.numKeys),this.doDeleteNotEmpty(i,e)):(i=this.mergeRight(t.children[t.numKeys-1]),this.doDeleteNotEmpty(i,e)):this.doDeleteNotEmpty(t.children[t.numKeys],e));else if(t.keys[s]>e)t.isLeaf?this.cmd(Xn.setHighlight,t.graphicID,0):(this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[s].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[s].graphicID,0),t.children[s].numKeys>this.min_keys?this.doDeleteNotEmpty(t.children[s],e):t.children[s+1].numKeys>this.min_keys?(i=this.stealFromRight(t.children[s],s),this.doDeleteNotEmpty(i,e)):(i=this.mergeRight(t.children[s]),this.doDeleteNotEmpty(i,e)));else if(this.cmd(Xn.setTextColor,t.graphicID,"FF0000",s),this.cmd(Xn.step),t.isLeaf){this.cmd(Xn.setTextColor,t.graphicID,Wr,s);for(let e=s;e<t.numKeys-1;e++)t.keys[e]=t.keys[e+1],this.cmd(Xn.setText,t.graphicID,t.keys[e],e);t.numKeys--,this.cmd(Xn.setText,t.graphicID,"",t.numKeys),this.cmd(Xn.setNumElements,t.graphicID,t.numKeys),this.cmd(Xn.setHighlight,t.graphicID,0),this.resizeTree(),this.cmd(Xn.setText,this.messageID,"")}else{this.cmd(Xn.setText,this.messageID,"Checking to see if tree to left of element to delete \nhas an extra key"),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[s].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[s].graphicID,0);let h=t.children[s];if(t.children[s].numKeys===this.min_keys){if(this.cmd(Xn.setText,this.messageID,"Tree to left of element to delete does not have an extra key.  \nLooking to the right ..."),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[s+1].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[s+1].graphicID,0),t.children[s+1].numKeys===this.min_keys)return this.cmd(Xn.setText,this.messageID,"Neither subtree has extra nodes.  Mergeing around the key to delete, \nand recursively deleting ..."),this.cmd(Xn.step),this.cmd(Xn.setTextColor,t.graphicID,Wr,s),i=this.mergeRight(t.children[s]),void this.doDeleteNotEmpty(i,e);{this.cmd(Xn.setText,this.messageID,"Tree to right of element to delete does have an extra key. \nFinding the smallest key in that subtree ..."),this.cmd(Xn.step);let e=t.children[s+1];for(;!e.isLeaf;)this.cmd(Xn.setHighlight,e.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,e.graphicID,0),e=e.children[0].numKeys===this.min_keys?e.children[1].numKeys===this.min_keys?this.mergeRight(e.children[0]):this.stealFromRight(e.children[0],0):e.children[0];for(this.cmd(Xn.setHighlight,e.graphicID,1),t.keys[s]=e.keys[0],this.cmd(Xn.setTextColor,t.graphicID,Wr,s),this.cmd(Xn.setText,t.graphicID,"",s),this.cmd(Xn.setText,e.graphicID,"",0),this.cmd(Xn.createLabel,this.moveLabel1ID,e.keys[0],this.getLabelX(e,0),e.y),this.cmd(Xn.move,this.moveLabel1ID,this.getLabelX(t,s),t.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.moveLabel1ID),this.cmd(Xn.setText,t.graphicID,t.keys[s],s),s=1;s<e.numKeys;s++)e.keys[s-1]=e.keys[s],this.cmd(Xn.setText,e.graphicID,e.keys[s-1],s-1);this.cmd(Xn.setText,e.graphicID,"",e.numKeys-1),e.numKeys--,this.cmd(Xn.setHighlight,e.graphicID,0),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setNumElements,e.graphicID,e.numKeys),this.resizeTree(),this.cmd(Xn.setText,this.messageID,"")}}else{for(this.cmd(Xn.setText,this.messageID,"Tree to left of element to delete does have \nan extra key. Finding the largest key in that subtree ..."),this.cmd(Xn.step);!h.isLeaf;)this.cmd(Xn.setHighlight,h.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,h.graphicID,0),h.children[h.numKeys].numKeys===this.min_keys?(h.children[h.numKeys-1]>this.min_keys&&(h=this.stealFromLeft(h.children[h.numKeys],h.numKeys)),h=this.mergeRight(h.children[h.numKeys-1])):h=h.children[h.numKeys];this.cmd(Xn.setHighlight,h.graphicID,1),t.keys[s]=h.keys[h.numKeys-1],this.cmd(Xn.setTextColor,t.graphicID,Wr,s),this.cmd(Xn.setText,t.graphicID,"",s),this.cmd(Xn.setText,h.graphicID,"",h.numKeys-1),this.cmd(Xn.createLabel,this.moveLabel1ID,t.keys[s],this.getLabelX(h,h.numKeys-1),h.y),this.cmd(Xn.move,this.moveLabel1ID,this.getLabelX(t,s),t.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.moveLabel1ID),this.cmd(Xn.setText,t.graphicID,t.keys[s],s),h.numKeys--,this.cmd(Xn.setHighlight,h.graphicID,0),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setNumElements,h.graphicID,h.numKeys),this.resizeTree(),this.cmd(Xn.setText,this.messageID,"")}}}}doDelete(t,e){if(null!=t){let i;for(this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.step),i=0;i<t.numKeys&&t.keys[i]<e;i++);if(i===t.numKeys)t.isLeaf?this.cmd(Xn.setHighlight,t.graphicID,0):(this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[t.numKeys].graphicID,0),this.doDelete(t.children[t.numKeys],e));else if(t.keys[i]>e)t.isLeaf?this.cmd(Xn.setHighlight,t.graphicID,0):(this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i].graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setEdgeHighlight,t.graphicID,t.children[i].graphicID,0),this.doDelete(t.children[i],e));else if(this.cmd(Xn.setTextColor,t.graphicID,"#FF0000",i),this.cmd(Xn.step),t.isLeaf){this.cmd(Xn.setTextColor,t.graphicID,Wr,i);for(let e=i;e<t.numKeys-1;e++)t.keys[e]=t.keys[e+1],this.cmd(Xn.setText,t.graphicID,t.keys[e],e);t.numKeys--,this.cmd(Xn.setText,t.graphicID,"",t.numKeys),this.cmd(Xn.setNumElements,t.graphicID,t.numKeys),this.cmd(Xn.setHighlight,t.graphicID,0),this.repairAfterDelete(t)}else{let e;if("pred"===this.predSucc){for(e=t.children[i];!e.isLeaf;)this.cmd(Xn.setHighlight,e.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,e.graphicID,0),e=e.children[e.numKeys];this.cmd(Xn.setHighlight,e.graphicID,1),t.keys[i]=e.keys[e.numKeys-1],this.cmd(Xn.setTextColor,t.graphicID,Wr,i),this.cmd(Xn.setText,t.graphicID,"",i),this.cmd(Xn.setText,e.graphicID,"",e.numKeys-1),this.cmd(Xn.createLabel,this.moveLabel1ID,t.keys[i],this.getLabelX(e,e.numKeys-1),e.y)}else{for(e=t.children[i+1];!e.isLeaf;)this.cmd(Xn.setHighlight,e.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,e.graphicID,0),e=e.children[0];this.cmd(Xn.setHighlight,e.graphicID,1),t.keys[i]=e.keys[0],this.cmd(Xn.setTextColor,t.graphicID,Wr,i),this.cmd(Xn.setText,t.graphicID,"",i),this.cmd(Xn.setText,e.graphicID,"",0),this.cmd(Xn.createLabel,this.moveLabel1ID,t.keys[i],this.getLabelX(e,0),e.y)}if(this.cmd(Xn.move,this.moveLabel1ID,this.getLabelX(t,i),t.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.moveLabel1ID),this.cmd(Xn.setText,t.graphicID,t.keys[i],i),e.numKeys--,this.cmd(Xn.setHighlight,e.graphicID,0),this.cmd(Xn.setHighlight,t.graphicID,0),"succ"===this.predSucc)for(let t=0;t<e.numKeys;t++)e.keys[t]=e.keys[t+1],this.cmd(Xn.setText,e.graphicID,e.keys[t],t);this.cmd(Xn.setNumElements,e.graphicID,e.numKeys),this.repairAfterDelete(e)}}}mergeRight(t){this.cmd(Xn.setText,this.messageID,"Merging node");const e=t.parent;let i=0;for(i=0;e.children[i]!==t;i++);const s=e.children[i+1];this.cmd(Xn.setHighlight,t.graphicID,1),this.cmd(Xn.setHighlight,e.graphicID,1),this.cmd(Xn.setHighlight,s.graphicID,1),this.cmd(Xn.step),this.cmd(Xn.setNumElements,t.graphicID,t.numKeys+s.numKeys+1),t.x=(t.x+s.x)/2,this.cmd(Xn.setPosition,t.graphicID,t.x,t.y),t.keys[t.numKeys]=e.keys[i];const h=t.numKeys;this.cmd(Xn.setText,t.graphicID,"",t.numKeys),this.cmd(Xn.createLabel,this.moveLabel1ID,e.keys[i],this.getLabelX(e,i),e.y);for(let a=0;a<s.numKeys;a++)t.keys[t.numKeys+1+a]=s.keys[a],this.cmd(Xn.setText,t.graphicID,t.keys[t.numKeys+1+a],t.numKeys+1+a),this.cmd(Xn.setText,s.graphicID,"",a);if(!t.isLeaf)for(let a=0;a<=s.numKeys;a++)this.cmd(Xn.disconnect,s.graphicID,s.children[a].graphicID),t.children[t.numKeys+1+a]=s.children[a],t.children[t.numKeys+1+a].parent=t,this.cmd(Xn.connect,t.graphicID,t.children[t.numKeys+1+a].graphicID,Wr,0,0,"",t.numKeys+1+a);this.cmd(Xn.disconnect,e.graphicID,s.graphicID);for(let a=i+1;a<e.numKeys;a++)this.cmd(Xn.disconnect,e.graphicID,e.children[a+1].graphicID),e.children[a]=e.children[a+1],this.cmd(Xn.connect,e.graphicID,e.children[a].graphicID,Wr,0,0,"",a),e.keys[a-1]=e.keys[a],this.cmd(Xn.setText,e.graphicID,e.keys[a-1],a-1);return this.cmd(Xn.setText,e.graphicID,"",e.numKeys-1),e.numKeys--,this.cmd(Xn.setNumElements,e.graphicID,e.numKeys),this.cmd(Xn.setHighlight,t.graphicID,0),this.cmd(Xn.setHighlight,e.graphicID,0),this.cmd(Xn.delete,s.graphicID),t.numKeys=t.numKeys+s.numKeys+1,this.cmd(Xn.move,this.moveLabel1ID,this.getLabelX(t,h),t.y),this.cmd(Xn.step),this.cmd(Xn.delete,this.moveLabel1ID),this.cmd(Xn.setText,t.graphicID,t.keys[h],h),this.cmd(Xn.setText,this.messageID,""),t}stealFromRight(t,e){const i=t.parent;this.cmd(Xn.setNumElements,t.graphicID,t.numKeys+1),this.cmd(Xn.setText,this.messageID,"Stealing from right sibling");const s=i.children[e+1];t.numKeys++,this.cmd(Xn.setNumElements,t.graphicID,t.numKeys),this.cmd(Xn.setText,t.graphicID,"",t.numKeys-1),this.cmd(Xn.setText,i.graphicID,"",e),this.cmd(Xn.setText,s.graphicID,"",0);const h=this.nextIndex++,a=this.nextIndex++;if(this.cmd(Xn.createLabel,h,s.keys[0],this.getLabelX(s,0),s.y),this.cmd(Xn.createLabel,a,i.keys[e],this.getLabelX(i,e),i.y),this.cmd(Xn.setForegroundColor,h,Wr),this.cmd(Xn.setForegroundColor,a,Wr),this.cmd(Xn.move,h,this.getLabelX(i,e),i.y),this.cmd(Xn.move,a,this.getLabelX(t,t.numKeys-1),t.y),this.cmd(Xn.step),this.cmd(Xn.delete,h),this.cmd(Xn.delete,a),t.keys[t.numKeys-1]=i.keys[e],i.keys[e]=s.keys[0],this.cmd(Xn.setText,t.graphicID,t.keys[t.numKeys-1],t.numKeys-1),this.cmd(Xn.setText,i.graphicID,i.keys[e],e),!t.isLeaf){t.children[t.numKeys]=s.children[0],t.children[t.numKeys].parent=t,this.cmd(Xn.disconnect,s.graphicID,s.children[0].graphicID),this.cmd(Xn.connect,t.graphicID,t.children[t.numKeys].graphicID,Wr,0,0,"",t.numKeys);for(let t=1;t<s.numKeys+1;t++)this.cmd(Xn.disconnect,s.graphicID,s.children[t].graphicID),s.children[t-1]=s.children[t],this.cmd(Xn.connect,s.graphicID,s.children[t-1].graphicID,Wr,0,0,"",t-1)}for(let n=1;n<s.numKeys;n++)s.keys[n-1]=s.keys[n],this.cmd(Xn.setText,s.graphicID,s.keys[n-1],n-1);return this.cmd(Xn.setText,s.graphicID,"",s.numKeys-1),s.numKeys--,this.cmd(Xn.setNumElements,s.graphicID,s.numKeys),this.resizeTree(),this.cmd(Xn.setText,this.messageID,""),t}stealFromLeft(t,e){const i=t.parent;t.numKeys++,this.cmd(Xn.setNumElements,t.graphicID,t.numKeys),this.cmd(Xn.setText,this.messageID,"Node has too few keys.  Stealing from left sibling.");for(let n=t.numKeys-1;n>0;n--)t.keys[n]=t.keys[n-1],this.cmd(Xn.setText,t.graphicID,t.keys[n],n);const s=i.children[e-1];this.cmd(Xn.setText,t.graphicID,"",0),this.cmd(Xn.setText,i.graphicID,"",e-1),this.cmd(Xn.setText,s.graphicID,"",s.numKeys-1);const h=this.nextIndex++,a=this.nextIndex++;if(this.cmd(Xn.createLabel,h,s.keys[s.numKeys-1],this.getLabelX(s,s.numKeys-1),s.y),this.cmd(Xn.createLabel,a,i.keys[e-1],this.getLabelX(i,e-1),i.y),this.cmd(Xn.setForegroundColor,h,Wr),this.cmd(Xn.setForegroundColor,a,Wr),this.cmd(Xn.move,h,this.getLabelX(i,e-1),i.y),this.cmd(Xn.move,a,this.getLabelX(t,0),t.y),this.cmd(Xn.step),this.cmd(Xn.delete,h),this.cmd(Xn.delete,a),!t.isLeaf){for(let e=t.numKeys;e>0;e--)this.cmd(Xn.disconnect,t.graphicID,t.children[e-1].graphicID),t.children[e]=t.children[e-1],this.cmd(Xn.connect,t.graphicID,t.children[e].graphicID,Wr,0,0,"",e);t.children[0]=s.children[s.numKeys],this.cmd(Xn.disconnect,s.graphicID,s.children[s.numKeys].graphicID),this.cmd(Xn.connect,t.graphicID,t.children[0].graphicID,Wr,0,0,"",0),s.children[s.numKeys]=null,t.children[0].parent=t}return t.keys[0]=i.keys[e-1],this.cmd(Xn.setText,t.graphicID,t.keys[0],0),i.keys[e-1]=s.keys[s.numKeys-1],this.cmd(Xn.setText,i.graphicID,i.keys[e-1],e-1),this.cmd(Xn.setText,s.graphicID,"",s.numKeys-1),s.numKeys--,this.cmd(Xn.setNumElements,s.graphicID,s.numKeys),this.resizeTree(),this.cmd(Xn.setText,this.messageID,""),t}repairAfterDelete(t){if(t.numKeys<this.min_keys)if(null==t.parent)0===t.numKeys&&(this.cmd(Xn.step),this.cmd(Xn.delete,t.graphicID),this.treeRoot=t.children[0],null!=this.treeRoot&&(this.treeRoot.parent=null),this.resizeTree());else{const e=t.parent;let i,s;for(i=0;e.children[i]!==t;i++);i>0&&e.children[i-1].numKeys>this.min_keys?this.stealFromLeft(t,i):i<e.numKeys&&e.children[i+1].numKeys>this.min_keys?this.stealFromRight(t,i):0===i?(s=this.mergeRight(t),this.repairAfterDelete(s.parent)):(s=this.mergeRight(e.children[i-1]),this.repairAfterDelete(s.parent))}}getLabelX(t,e){return t.x-qr*t.numKeys/2+20+e*qr}resizeTree(){this.resizeWidths(this.treeRoot),this.setNewPositions(this.treeRoot,this.starting_x,$r),this.animateNewPositions(this.treeRoot)}setNewPositions(t,e,i){if(null!=t&&(t.y=i,t.x=e,!t.isLeaf)){const s=e-t.width/2;let h=0;for(let e=0;e<t.numKeys+1;e++)this.setNewPositions(t.children[e],s+h+t.widths[e]/2,i+50),h+=t.widths[e]}}animateNewPositions(t){if(null==t)return;let e;for(e=0;e<t.numKeys+1;e++)this.animateNewPositions(t.children[e]);this.cmd(Xn.move,t.graphicID,t.x,t.y)}resizeWidths(t){if(null==t)return 0;if(t.isLeaf){for(let e=0;e<t.numKeys+1;e++)t.widths[e]=0;return t.width=t.numKeys*qr+15,t.width}{let e=0;for(let i=0;i<t.numKeys+1;i++)t.widths[i]=this.resizeWidths(t.children[i]),e+=t.widths[i];return e=Math.max(e,t.numKeys*qr+15),t.width=e,e}}}],BubbleSort:["Bubble Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir(),this.lastSwapCheckbox=Zn("Enable last swap optimization",!0),this.lastSwapCheckbox.onclick=this.toggleLastSwap.bind(this),this.controls.push(this.lastSwapCheckbox)}setURLData(t){if(t.has("lastSwap")){"0"===t.get("lastSwap")&&(this.toggleLastSwap(),this.lastSwapCheckbox.checked=!1)}if(t.has("data")){const e=t.get("data");this.listField.value=e,this.sortCallback()}}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Xn.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=dr.BubbleSort,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,200),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.compCount=0,this.swapCount=0,this.arrayData=[],this.arrayID=[],this.displayData=[]}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}toggleLastSwap(){this.implementAction(this.clear.bind(this)),ho?(this.cmd(Xn.setText,this.codeID.code[3][0],"  while start < end and sorted is false"),this.cmd(Xn.setText,this.codeID.code[4][0],"    sorted \u2190 true"),this.cmd(Xn.setText,this.codeID.code[8][0],"        sorted \u2190 false"),this.cmd(Xn.setText,this.codeID.code[11][0],"    end \u2190 end - 1"),this.cmd(Xn.setText,this.codeID.english[3][0],"  while (start < end and not sorted):"),this.cmd(Xn.setText,this.codeID.english[4][0],"    mark sorted as true"),this.cmd(Xn.setText,this.codeID.english[8][0],"        mark sorted as false"),this.cmd(Xn.setText,this.codeID.english[11][0],"    decrement end")):(this.cmd(Xn.setText,this.codeID.code[3][0],"  while start < end"),this.cmd(Xn.setText,this.codeID.code[4][0],"    swapped \u2190 start"),this.cmd(Xn.setText,this.codeID.code[8][0],"        swapped \u2190 j"),this.cmd(Xn.setText,this.codeID.code[11][0],"    end \u2190 swapped"),this.cmd(Xn.setText,this.codeID.english[3][0],"  while (start < end):"),this.cmd(Xn.setText,this.codeID.english[4][0],"    lastSwapped points to start"),this.cmd(Xn.setText,this.codeID.english[8][0],"        lastSwapped points to j"),this.cmd(Xn.setText,this.codeID.english[11][0],"    end points to lastSwapped")),ho=!ho}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.swapCount=0,this.displayData=[],t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers "),this.commands;this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18);const e=this.arrayData.length,i=new Map,s=new Map;for(let r=0;r<e;r++){const t=i.has(this.arrayData[r])?i.get(this.arrayData[r]):0;t>0&&s.set(this.arrayData[r],"a"),i.set(this.arrayData[r],t+1)}for(let r=0;r<e;r++){this.arrayID[r]=this.nextIndex++;const t=r*so+eo,e=io;let i=this.arrayData[r].toString();if(s.has(this.arrayData[r])){const t=s.get(this.arrayData[r]);i+=t,s.set(this.arrayData[r],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[r]=i,this.cmd(Xn.createRectangle,this.arrayID[r],i,so,50,t,e)}this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",eo,io),this.cmd(Xn.setHighlight,this.iPointerID,1),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#0000FF",150,io),this.cmd(Xn.setHighlight,this.jPointerID,1),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID);let h=!0,a=this.arrayData.length-1,n=0;this.highlight(3,0,this.codeID),this.cmd(Xn.step);do{this.highlight(4,0,this.codeID),this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),h=!0,this.highlight(5,0,this.codeID);for(let t=0;t<a;t++)this.movePointers(t,t+1),this.highlight(6,0,this.codeID),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.step),this.unhighlight(6,0,this.codeID),this.arrayData[t]>this.arrayData[t+1]&&(this.swap(t,t+1),h=!1,n=t);if(this.unhighlight(5,0,this.codeID),this.highlight(11,0,this.codeID),ho?a=n:a--,!h)for(let t=a+1;t<this.arrayData.length;t++)this.cmd(Xn.setBackgroundColor,this.arrayID[t],"#2ECC71");this.cmd(Xn.step),this.unhighlight(11,0,this.codeID)}while(!h);this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.delete,this.jPointerID),this.unhighlight(3,0,this.codeID),this.cmd(Xn.step);for(let r=0;r<this.arrayData.length;r++)this.cmd(Xn.setBackgroundColor,this.arrayID[r],"#2ECC71");return this.cmd(Xn.step),this.commands}movePointers(t,e){const i=t*so+eo;this.cmd(Xn.move,this.iPointerID,i,io);const s=e*so+eo;this.cmd(Xn.move,this.jPointerID,s,io),this.cmd(Xn.step)}swap(t,e){this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Xn.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#FF0000");const i=this.nextIndex++,s=t*so+eo;this.cmd(Xn.createLabel,i,this.displayData[t],s,io);const h=this.nextIndex++,a=e*so+eo;this.cmd(Xn.createLabel,h,this.displayData[e],a,io),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.move,i,a,io),this.cmd(Xn.move,h,s,io),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,h);let n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd(Xn.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#0000FF"),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID),this.cmd(Xn.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],CocktailSort:["Cocktail Shaker Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir(),this.lastSwapCheckbox=Zn("Enable last swap optimization",!0),this.lastSwapCheckbox.onclick=this.toggleLastSwap.bind(this),this.controls.push(this.lastSwapCheckbox)}setURLData(t){if(t.has("lastSwap")){"0"===t.get("lastSwap")&&(this.toggleLastSwap(),this.lastSwapCheckbox.checked=!1)}if(t.has("data")){const e=t.get("data");this.listField.value=e,this.sortCallback()}}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Xn.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=dr.CocktailSort,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,180),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.compCount=0,this.swapCount=0,this.arrayData=[],this.arrayID=[],this.displayData=[]}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}toggleLastSwap(){Ao?(this.implementAction(this.clear.bind(this)),this.cmd(Xn.setText,this.codeID.code[2][0],"  sorted \u2190 false"),this.cmd(Xn.setText,this.codeID.code[3][0],"  while start < end and sorted is false"),this.cmd(Xn.setText,this.codeID.code[4][0],"    sorted \u2190 true"),this.cmd(Xn.setText,this.codeID.code[8][0],"        sorted \u2190 false"),this.cmd(Xn.setText,this.codeID.code[11][0],"    end \u2190 end - 1"),this.cmd(Xn.setText,this.codeID.code[15][0],"        sorted \u2190 false"),this.cmd(Xn.setText,this.codeID.code[18][0],"    start \u2190 start + 1"),this.cmd(Xn.setText,this.codeID.english[2][0],"  mark sorted as false"),this.cmd(Xn.setText,this.codeID.english[3][0],"  while (start < end and not sorted):"),this.cmd(Xn.setText,this.codeID.english[4][0],"    mark sorted as true"),this.cmd(Xn.setText,this.codeID.english[8][0],"        mark sorted as false"),this.cmd(Xn.setText,this.codeID.english[11][0],"    decrement end"),this.cmd(Xn.setText,this.codeID.english[15][0],"        mark sorted as false"),this.cmd(Xn.setText,this.codeID.english[18][0],"    increment start")):(this.implementAction(this.clear.bind(this)),this.cmd(Xn.setText,this.codeID.code[2][0],"  swapped \u2190 start"),this.cmd(Xn.setText,this.codeID.code[3][0],"  while start < end"),this.cmd(Xn.setText,this.codeID.code[4][0],"    swapped \u2190 start"),this.cmd(Xn.setText,this.codeID.code[8][0],"        swapped \u2190 i"),this.cmd(Xn.setText,this.codeID.code[11][0],"    end \u2190 swapped"),this.cmd(Xn.setText,this.codeID.code[15][0],"        swapped \u2190 i"),this.cmd(Xn.setText,this.codeID.code[18][0],"    start \u2190 swapped"),this.cmd(Xn.setText,this.codeID.english[2][0],"  lastSwapped points to start"),this.cmd(Xn.setText,this.codeID.english[3][0],"  while (start < end):"),this.cmd(Xn.setText,this.codeID.english[4][0],"    lastSwapped points to start"),this.cmd(Xn.setText,this.codeID.english[8][0],"        lastSwapped points to i"),this.cmd(Xn.setText,this.codeID.english[11][0],"    end points to lastSwapped"),this.cmd(Xn.setText,this.codeID.english[15][0],"        lastSwapped points to i"),this.cmd(Xn.setText,this.codeID.english[18][0],"    starts points to lastSwapped")),Ao=!Ao}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.swapCount=0,this.displayData=[],t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=this.arrayData.length,i=new Map,s=new Map;for(let o=0;o<e;o++){const t=i.has(this.arrayData[o])?i.get(this.arrayData[o]):0;t>0&&s.set(this.arrayData[o],"a"),i.set(this.arrayData[o],t+1)}for(let o=0;o<e;o++){this.arrayID[o]=this.nextIndex++;const t=o*Fo+To,e=So;let i=this.arrayData[o].toString();if(s.has(this.arrayData[o])){const t=s.get(this.arrayData[o]);i+=t,s.set(this.arrayData[o],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[o]=i,this.cmd(Xn.createRectangle,this.arrayID[o],i,Fo,50,t,e)}this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",To,So),this.cmd(Xn.setHighlight,this.iPointerID,1),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#0000FF",150,So),this.cmd(Xn.setHighlight,this.jPointerID,1),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID);let h=!0,a=0,n=this.arrayData.length-1,r=0;this.highlight(3,0,this.codeID),this.cmd(Xn.step);do{this.highlight(4,0,this.codeID),this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),h=!0;for(let t=a;t<n;t++)this.movePointers(t,t+1),this.highlight(6,0,this.codeID),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.step),this.unhighlight(6,0,this.codeID),this.arrayData[t]>this.arrayData[t+1]&&(this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.swap(t,t+1),h=!1,r=t),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID),this.cmd(Xn.step);if(this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.highlight(11,0,this.codeID),Ao?n=r:n--,this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),!h){for(let t=n+1;t<this.arrayData.length;t++)this.cmd(Xn.setBackgroundColor,this.arrayID[t],"#2ECC71");this.cmd(Xn.step)}if(this.highlight(12,0,this.codeID),this.cmd(Xn.step),!h){h=!0;for(let t=n;t>a;t--)this.movePointers(t-1,t),this.highlight(13,0,this.codeID),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.step),this.unhighlight(13,0,this.codeID),+this.arrayData[t]<+this.arrayData[t-1]&&(this.highlight(14,0,this.codeID),this.highlight(15,0,this.codeID),this.swap(t,t-1),h=!1,r=t),this.unhighlight(14,0,this.codeID),this.unhighlight(15,0,this.codeID),this.cmd(Xn.step);if(this.highlight(18,0,this.codeID),Ao?a=r:a++,this.cmd(Xn.step),this.unhighlight(18,0,this.codeID),!h){for(let t=a-1;t>=0;t--)this.cmd(Xn.setBackgroundColor,this.arrayID[t],"#2ECC71");this.cmd(Xn.step)}}this.unhighlight(12,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step)}while(!h);this.unhighlight(3,0,this.codeID),this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.delete,this.jPointerID),this.cmd(Xn.step);for(let o=0;o<this.arrayData.length;o++)this.cmd(Xn.setBackgroundColor,this.arrayID[o],"#2ECC71");return this.cmd(Xn.step),this.commands}movePointers(t,e){const i=t*Fo+To;this.cmd(Xn.move,this.iPointerID,i,120);const s=e*Fo+To;this.cmd(Xn.move,this.jPointerID,s,120),this.cmd(Xn.step)}swap(t,e){this.cmd(Xn.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#FF0000");const i=this.nextIndex++,s=t*Fo+To;this.cmd(Xn.createLabel,i,this.displayData[t],s,120);const h=this.nextIndex++,a=e*Fo+To;this.cmd(Xn.createLabel,h,this.displayData[e],a,120),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.move,i,a,120),this.cmd(Xn.move,h,s,120),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,h);let n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd(Xn.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Xn.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],InsertionSort:["Insertion Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Xn.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=dr.InsertionSort,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,200),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0,t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=this.arrayData.length,i=new Map,s=new Map;for(let h=0;h<e;h++){const t=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;t>0&&s.set(this.arrayData[h],"a"),i.set(this.arrayData[h],t+1)}for(let h=0;h<e;h++){this.arrayID[h]=this.nextIndex++;const t=h*bl+Il,e=xl;let i=this.arrayData[h].toString();if(s.has(this.arrayData[h])){const t=s.get(this.arrayData[h]);i+=t,s.set(this.arrayData[h],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[h]=i,this.cmd(Xn.createRectangle,this.arrayID[h],i,bl,50,t,e)}this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",Il,xl),this.cmd(Xn.setHighlight,this.iPointerID,1),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#0000FF",150,xl),this.cmd(Xn.setHighlight,this.jPointerID,1),this.highlight(0,0,this.codeID),this.cmd(Xn.step),this.unhighlight(0,0,this.codeID),this.highlight(2,0,this.codeID);for(let h=1;h<this.arrayData.length;h++){this.cmd(Xn.step),this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);for(let t=h;t>=1&&(this.movePointers(t-1,t),this.unhighlight(3,0,this.codeID),this.unhighlight(6,0,this.codeID),this.highlight(4,2,this.codeID),this.cmd(Xn.step),this.unhighlight(4,2,this.codeID),this.highlight(4,4,this.codeID),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.step),this.unhighlight(4,4,this.codeID),this.arrayData[t]<this.arrayData[t-1]);t--)this.highlight(5,0,this.codeID),this.swap(t,t-1),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Xn.step);this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID),this.unhighlight(6,0,this.codeID),1===h&&this.cmd(Xn.setBackgroundColor,this.arrayID[0],"#2ECC71"),this.cmd(Xn.setBackgroundColor,this.arrayID[h],"#2ECC71"),this.cmd(Xn.step)}return this.unhighlight(2,0,this.codeID),this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.delete,this.jPointerID),this.cmd(Xn.step),this.commands}movePointers(t,e){const i=t*bl+Il;this.cmd(Xn.move,this.iPointerID,i,130);const s=e*bl+Il;this.cmd(Xn.move,this.jPointerID,s,130),this.cmd(Xn.step)}swap(t,e){this.cmd(Xn.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#FF0000");const i=this.nextIndex++,s=t*bl+Il;this.cmd(Xn.createLabel,i,this.displayData[t],s,130);const h=this.nextIndex++,a=e*bl+Il;this.cmd(Xn.createLabel,h,this.displayData[e],a,130),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.move,i,a,130),this.cmd(Xn.move,h,s,130),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,h);let n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd(Xn.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Xn.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],SelectionSort:["Selection Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir();const i=tr(["Maximum","Minimum"],"Max/Min");this.minButton=i[1],this.minButton.onclick=this.minCallback.bind(this),this.controls.push(this.minButton),this.maxButton=i[0],this.maxButton.onclick=this.maxCallback.bind(this),this.controls.push(this.maxButton),this.maxButton.checked=!0,this.isMin=!1}setURLData(t){if(t.has("type")){const e=t.get("type");"min"===e?(this.isMin=!0,this.minButton.checked=!0,this.maxButton.checked=!1):"max"===e&&(this.isMin=!1,this.minButton.checked=!1,this.maxButton.checked=!0)}if(t.has("data")){const e=t.get("data");this.listField.value=e,this.sortCallback()}}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Xn.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=dr.SelectionSort,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,200),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}minCallback(){this.isMin||(this.implementAction(this.clear.bind(this)),this.cmd(Xn.setText,this.codeID.code[2][0],"  for i \u2190 0, length:"),this.cmd(Xn.setText,this.codeID.code[3][0],"    min \u2190 i"),this.cmd(Xn.setText,this.codeID.code[4][0],"    for j \u2190 i + 1, length:"),this.cmd(Xn.setText,this.codeID.code[5][0],"      if array[j] < array[min]:"),this.cmd(Xn.setText,this.codeID.code[6][0],"        min \u2190 j"),this.cmd(Xn.setText,this.codeID.code[9][0],"    swap array[min], array[i]"),this.cmd(Xn.setText,this.codeID.english[2][0],"  for (i from start to end):"),this.cmd(Xn.setText,this.codeID.english[3][0],"    initialize min value"),this.cmd(Xn.setText,this.codeID.english[4][0],"    for (j from i to end):"),this.cmd(Xn.setText,this.codeID.english[5][0],"      if (array[j] < min value):"),this.cmd(Xn.setText,this.codeID.english[6][0],"        min value is array[j]"),this.cmd(Xn.setText,this.codeID.english[9][0],"    swap min value with array[i]"),this.isMin=!0)}maxCallback(){this.isMin&&(this.implementAction(this.clear.bind(this)),this.cmd(Xn.setText,this.codeID.code[2][0],"  for i \u2190 length - 1, 0:"),this.cmd(Xn.setText,this.codeID.code[3][0],"    max \u2190 i"),this.cmd(Xn.setText,this.codeID.code[4][0],"    for j \u2190 i - 1, 0:"),this.cmd(Xn.setText,this.codeID.code[5][0],"      if array[j] > array[max]:"),this.cmd(Xn.setText,this.codeID.code[6][0],"        max \u2190 j"),this.cmd(Xn.setText,this.codeID.code[9][0],"    swap array[max], array[i]"),this.cmd(Xn.setText,this.codeID.english[2][0],"  for (i from end to start):"),this.cmd(Xn.setText,this.codeID.english[3][0],"    initialize max value"),this.cmd(Xn.setText,this.codeID.english[4][0],"    for (j from start to i):"),this.cmd(Xn.setText,this.codeID.english[5][0],"      if (array[j] > max value):"),this.cmd(Xn.setText,this.codeID.english[6][0],"        max value is array[j]"),this.cmd(Xn.setText,this.codeID.english[9][0],"    swap max value with array[i]"),this.isMin=!1)}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.compCount=0,this.swapCount=0,this.displayData=[],t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(1,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18);const e=this.arrayData.length;this.displayData=new Array(e);const i=new Map,s=new Map;for(let n=0;n<e;n++){const t=i.has(this.arrayData[n])?i.get(this.arrayData[n]):0;t>0&&s.set(this.arrayData[n],"a"),i.set(this.arrayData[n],t+1)}for(let n=0;n<e;n++){this.arrayID[n]=this.nextIndex++;const t=n*Sd+Ld,e=Td;let i=this.arrayData[n].toString();if(s.has(this.arrayData[n])){const t=s.get(this.arrayData[n]);i+=t,s.set(this.arrayData[n],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[n]=i,this.cmd(Xn.createRectangle,this.arrayID[n],i,Sd,50,t,e)}let h=0;this.isMin||(h=Sd*(this.arrayData.length-1)),this.cmd(Xn.createHighlightCircle,this.iPointerID,"#FF0000",Ld+h,Td),h=Sd,this.isMin||(h=Sd*(this.arrayData.length-2)),this.cmd(Xn.setHighlight,this.iPointerID,1),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#0000FF",Ld+h,Td),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.cmd(Xn.setHighlight,this.jPointerID,1),this.highlight(2,0,this.codeID),this.cmd(Xn.step);for(let n=0;n<this.arrayData.length-1;n++){this.highlight(3,0,this.codeID);let t=n;this.isMin||(t=this.arrayData.length-1-n);let e=t;this.cmd(Xn.setBackgroundColor,this.arrayID[e],"#FFFF00"),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.step);for(let i=n+1;i<this.arrayData.length;i++){let t=i;this.isMin||(t=this.arrayData.length-1-i),this.movePointers(e,t),this.compare(this.arrayData[t],this.arrayData[e])&&(this.cmd(Xn.setBackgroundColor,this.arrayID[e],"#FFFFFF"),this.highlight(6,0,this.codeID),this.cmd(Xn.step),e=t,this.movePointers(e,t),this.cmd(Xn.setBackgroundColor,this.arrayID[e],"#FFFF00"),this.cmd(Xn.step),this.unhighlight(6,0,this.codeID))}this.unhighlight(4,0,this.codeID),this.swap(t,e),this.cmd(Xn.setBackgroundColor,this.arrayID[e],"#FFFFFF"),this.cmd(Xn.step),this.cmd(Xn.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.cmd(Xn.step)}this.unhighlight(2,0,this.codeID),this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.delete,this.jPointerID),this.cmd(Xn.step);let a=this.arrayID.length-1;return this.isMin||(a=0),this.cmd(Xn.setBackgroundColor,this.arrayID[a],"#2ECC71"),this.commands}compare(t,e){return this.highlight(5,0,this.codeID),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.isMin?t<e:t>e}movePointers(t,e){const i=t*Sd+Ld;this.cmd(Xn.move,this.iPointerID,i,130);const s=e*Sd+Ld;this.cmd(Xn.move,this.jPointerID,s,130),this.cmd(Xn.step)}swap(t,e){this.highlight(9,0,this.codeID);const i=this.nextIndex++,s=t*Sd+Ld;this.cmd(Xn.createLabel,i,this.displayData[t],s,130);const h=this.nextIndex++,a=e*Sd+Ld;this.cmd(Xn.createLabel,h,this.displayData[e],a,130),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.move,i,a,130),this.cmd(Xn.move,h,s,130),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,h);let n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.unhighlight(9,0,this.codeID)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],Quicksort:["Quicksort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir();const i=tr(["Random pivot","Perfect pivot","Min element","Set index"],"Traversals");vd=sr(!1),this.loadFieldLabel=Yn("Pivot Index",vd);const s=sr(!0,vd),h=sr(!0,s);this.setPivotField=er("Text","",h),this.setPivotField.setAttribute("value","0"),this.setPivotField.size=1,vd.setAttribute("style","display:none"),this.setPivotField.addEventListener("input",(function(){let t=parseInt(this.value.trim());t=isNaN(t)?0:Math.min(Math.max(t,0),17),this.value=t,kd=t})),this.randomPivotSelect=i[0],this.perfectPivotSelect=i[1],this.minPivotSelect=i[2],this.setPivotSelect=i[3],this.randomPivotSelect.onclick=()=>this.setPivotType("random"),this.perfectPivotSelect.onclick=()=>this.setPivotType("perfect"),this.minPivotSelect.onclick=()=>this.setPivotType("min"),this.setPivotSelect.onclick=()=>this.setPivotType("set"),this.randomPivotSelect.checked=!0,this.setPivotType("random"),this.controls.push(this.randomPivotSelect),this.controls.push(this.perfectPivotSelect),this.controls.push(this.minPivotSelect),this.controls.push(this.setPivotSelect),ir()}setPivotType(t){this.pivotType=t,vd.setAttribute("style","display:none"),"set"===this.pivotType&&vd.setAttribute("style","display:block")}setURLData(t){if(t.has("pivot")){const e=t.get("pivot");"random"!==e&&"perfect"!==e&&"min"!==e&&"set"!==e||(this.randomPivotSelect.checked="random"===e,this.perfectPivotSelect.checked="perfect"===e,this.minPivotSelect.checked="min"===e,this.setPivotSelect.checked="set"===e,"set"===e&&(this.setPivotField.value=t.has("index")?t.get("index"):0,this.setPivotField.dispatchEvent(new Event("input"))),this.setPivotType(e))}if(t.has("data")){const e=t.get("data");this.listField.value=e,this.sortCallback()}}setup(){this.commands=[],this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.iLabel=0,this.jLabel=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Xn.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.pseudocode=dr.Quicksort,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,180),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.iLabel=0,this.jLabel=0,this.pPointerID=0,this.compCount=0,this.swapCount=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0,t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const e=new Map,i=new Map;for(let s=0;s<this.arrayData.length;s++){const t=e.has(this.arrayData[s])?e.get(this.arrayData[s]):0;t>0&&i.set(this.arrayData[s],"a"),e.set(this.arrayData[s],t+1)}for(let s=0;s<this.arrayData.length;s++){this.arrayData[s]=parseInt(this.arrayData[s]),this.arrayID[s]=this.nextIndex++;const t=s*yd+bd,e=Dd;let h=this.arrayData[s].toString();if(i.has(this.arrayData[s])){const t=i.get(this.arrayData[s]);h+=t,i.set(this.arrayData[s],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[s]=h,this.cmd(Xn.createRectangle,this.arrayID[s],h,yd,50,t,e)}return this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.pPointerID=this.nextIndex++,this.iLabel=this.nextIndex++,this.jLabel=this.nextIndex++,this.helper(0,this.arrayData.length-1),this.commands}helper(t,e){if(t>e)return;this.highlight(0,0,this.codeID);for(let o=t;o<=e;o++)this.cmd(Xn.setBackgroundColor,this.arrayID[o],"#99CCFF");if(this.cmd(Xn.step),this.unhighlight(0,0),t===e)return this.cmd(Xn.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.cmd(Xn.step),void this.unhighlight(0,0,this.codeID);let i;if(this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),"min"===this.pivotType){let s=t;for(let i=t+1;i<=e;i++)this.arrayData[i]<this.arrayData[s]&&(s=i);i=s}else if("set"===this.pivotType)i=Math.min(t+kd,e);else if("perfect"===this.pivotType){const s=this.arrayData.slice(t,e+1);s.sort(((t,e)=>t-e));const h=Math.floor(s.length/2);i=this.arrayData.indexOf(s[h])}else"random"===this.pivotType&&(i=Math.floor(Math.random()*(e-t))+t+1);const s=i*yd+bd;this.cmd(Xn.createHighlightCircle,this.pPointerID,"#FFFF00",s,Dd),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.swapPivot(i,t),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);let h=t+1,a=e;const n=h*yd+bd,r=a*yd+bd;for(this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",n,Dd),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#0000FF",r,Dd),this.cmd(Xn.createLabel,this.iLabel,"i",n,80,void 0,!1,!0),this.cmd(Xn.createLabel,this.jLabel,"j",r,80,void 0,!1,!0),h===a?(this.cmd(Xn.setText,this.iLabel,""),this.cmd(Xn.setText,this.jLabel,"i, j")):(this.cmd(Xn.setText,this.iLabel,"i"),this.cmd(Xn.setText,this.jLabel,"j")),this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID);h<=a;){for(this.cmd(Xn.step),this.highlight(6,0,this.codeID),this.highlight(6,2,this.codeID),this.cmd(Xn.step),this.unhighlight(6,2,this.codeID),this.highlight(6,4,this.codeID),this.cmd(Xn.step);h<=a&&this.arrayData[t]>=this.arrayData[h];)this.unhighlight(6,4,this.codeID),this.highlight(7,0,this.codeID),h++,this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(h,a),this.unhighlight(7,0,this.codeID),this.highlight(6,2,this.codeID),h<=a&&(this.cmd(Xn.step),this.unhighlight(6,2,this.codeID),this.highlight(6,4,this.codeID)),this.cmd(Xn.step);for(this.unhighlight(6,0,this.codeID),this.unhighlight(6,2,this.codeID),this.unhighlight(6,4,this.codeID),h<=a&&(this.cmd(Xn.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount)),this.highlight(9,0,this.codeID),this.cmd(Xn.step),this.highlight(9,2,this.codeID),h<=a&&(this.cmd(Xn.step),this.unhighlight(9,2,this.codeID),this.highlight(9,4,this.codeID)),this.cmd(Xn.step);h<=a&&this.arrayData[t]<=this.arrayData[a];)this.unhighlight(9,4,this.codeID),this.highlight(10,0,this.codeID),a--,this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(h,a),this.unhighlight(10,0,this.codeID),this.highlight(9,2,this.codeID),h<=a&&(this.cmd(Xn.step),this.unhighlight(9,2,this.codeID),this.highlight(9,4,this.codeID)),this.cmd(Xn.step);this.unhighlight(9,0,this.codeID),this.unhighlight(9,2,this.codeID),this.unhighlight(9,4,this.codeID),h<=a&&(this.cmd(Xn.setForegroundColor,this.jPointerID,"#FF0000"),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.step)),h<=a&&(this.highlight(13,0,this.codeID),this.swap(h,a),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),h++,a--,this.movePointers(h,a),this.unhighlight(14,0,this.codeID))}this.unhighlight(5,0,this.codeID),this.highlight(17,0,this.codeID),this.swapPivot(t,a,!0),this.unhighlight(17,0,this.codeID),this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.delete,this.jPointerID),this.cmd(Xn.delete,this.pPointerID),this.cmd(Xn.delete,this.iLabel),this.cmd(Xn.delete,this.jLabel),this.cmd(Xn.step);for(let o=t;o<=e;o++)this.cmd(Xn.setBackgroundColor,this.arrayID[o],"#FFFFFF");this.cmd(Xn.setBackgroundColor,this.arrayID[a],"#2ECC71"),this.cmd(Xn.step),this.highlight(18,0,this.codeID),this.cmd(Xn.step),this.unhighlight(18,0,this.codeID),this.helper(t,a-1),this.highlight(19,0,this.codeID),this.cmd(Xn.step),this.unhighlight(19,0,this.codeID),this.helper(a+1,e)}movePointers(t,e){const i=t*yd+bd;this.cmd(Xn.move,this.iPointerID,i,Dd),this.cmd(Xn.move,this.iLabel,i,80);const s=e*yd+bd;this.cmd(Xn.move,this.jPointerID,s,Dd),this.cmd(Xn.move,this.jLabel,s,80),t===e?(this.cmd(Xn.setText,this.iLabel,""),this.cmd(Xn.setText,this.jLabel,"i, j")):(this.cmd(Xn.setText,this.iLabel,"i"),this.cmd(Xn.setText,this.jLabel,"j")),this.cmd(Xn.step)}swapPivot(t,e,i){if(t===e)return;const s=this.nextIndex++,h=e*yd+bd;this.cmd(Xn.createLabel,s,this.displayData[e],h,Dd);const a=this.nextIndex++,n=t*yd+bd;this.cmd(Xn.createLabel,a,this.displayData[t],n,Dd),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.move,a,h,Dd),this.cmd(Xn.move,this.pPointerID,h,Dd),this.cmd(Xn.move,s,n,Dd),i&&this.cmd(Xn.move,this.jPointerID,n,Dd),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.delete,a),this.cmd(Xn.delete,s);let r=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=r,r=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=r}swap(t,e){const i=this.nextIndex++,s=t*yd+bd;this.cmd(Xn.createLabel,i,this.displayData[t],s,Dd);const h=this.nextIndex++,a=e*yd+bd;this.cmd(Xn.createLabel,h,this.displayData[e],a,Dd),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.move,i,a,Dd),this.cmd(Xn.move,h,s,Dd),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,h);let n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd(Xn.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Xn.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],Quickselect:["Quickselect (k\u1d57\u02b0 Select)",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.runCallback.bind(this),60,!1),this.controls.push(this.listField),Yn("k\u1d57\u02b0 element (1 indexed)",e),this.kField=er("Text","",e),this.kField.style.textAlign="center",this.kField.onkeydown=this.returnSubmit(this.kField,this.runCallback.bind(this),2,!0),this.controls.push(this.kField),this.findButton=er("Button","Run",e),this.findButton.onclick=this.runCallback.bind(this),this.controls.push(this.findButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9;k=4","Sorted"],["9,8,7,6,5,4,3,2,1;k=4","Reverse Sorted"],["2,3,4,5,6,7,8,9,1;k=4","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir();const i=tr(["Random pivot","Perfect pivot","Min element","Set index"],"Traversals");Id=sr(!1),this.loadFieldLabel=Yn("Pivot Index",Id);const s=sr(!0,Id),h=sr(!0,s);this.setPivotField=er("Text","",h),this.setPivotField.setAttribute("value","0"),this.setPivotField.size=1,Id.setAttribute("style","display:none"),this.setPivotField.addEventListener("input",(function(){let t=parseInt(this.value.trim());t=isNaN(t)?0:Math.min(Math.max(t,0),17),this.value=t,xd=t})),this.randomPivotSelect=i[0],this.perfectPivotSelect=i[1],this.minPivotSelect=i[2],this.setPivotSelect=i[3],this.randomPivotSelect.onclick=()=>this.setPivotType("random"),this.perfectPivotSelect.onclick=()=>this.setPivotType("perfect"),this.minPivotSelect.onclick=()=>this.setPivotType("min"),this.setPivotSelect.onclick=()=>this.setPivotType("set"),this.randomPivotSelect.checked=!0,this.setPivotType("random"),this.controls.push(this.randomPivotSelect),this.controls.push(this.perfectPivotSelect),this.controls.push(this.minPivotSelect),this.controls.push(this.setPivotSelect),ir()}setPivotType(t){this.pivotType=t,Id.setAttribute("style","display:none"),"set"===this.pivotType&&Id.setAttribute("style","display:block")}setURLData(t){if(t.has("pivot")){const e=t.get("pivot");"random"!==e&&"perfect"!==e&&"min"!==e&&"set"!==e||(this.randomPivotSelect.checked="random"===e,this.perfectPivotSelect.checked="perfect"===e,this.minPivotSelect.checked="min"===e,this.setPivotSelect.checked="set"===e,"set"===e&&(this.setPivotField.value=t.has("index")?t.get("index"):0,this.setPivotField.dispatchEvent(new Event("input"))),this.setPivotType(e))}(t.has("data")||t.has("k"))&&(this.listField.value=t.get("data"),this.kField.value=t.get("k"),this.runCallback())}setup(){this.commands=[],this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.swapCountID=this.nextIndex++,this.swapCount=0,this.cmd(Xn.createLabel,this.swapCountID,"Swap Count: "+this.swapCount,350,50),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=dr.Quickselect,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,100),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0,this.compCount=0,this.swapCount=0}runCallback(){const t=this.listField.value.split(",").filter((t=>""!==t)),e=this.kField.value;this.implementAction(this.clear.bind(this),!0),this.implementAction(this.run.bind(this),t,e)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",");this.listField.value=e,this.kField.value=Math.floor(Math.random()*t+1)}else e=t.substring(0,t.indexOf(";")),this.kField.value=parseInt(t.substring(t.indexOf("=")+1));this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.compCount=0,this.swapCount=0,t||(this.listField.value="",this.kField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+this.swapCount),this.commands}run(t,e){if(this.commands=[],!t.length)return this.shake(this.findButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.findButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.findButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;if(e<1||e>t.length)return this.shake(this.findButton),this.cmd(Xn.setText,this.infoLabelID,"k\u1d57\u02b0 element to select must be an integer between 1 and "+t.length),this.commands;this.k=Number(e),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,18),this.displayData=new Array(this.arrayData.length);const i=new Map,s=new Map;for(let h=0;h<this.arrayData.length;h++){const t=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;t>0&&s.set(this.arrayData[h],"a"),i.set(this.arrayData[h],t+1)}for(let h=0;h<this.arrayData.length;h++){this.arrayData[h]=parseInt(this.arrayData[h]),this.arrayID[h]=this.nextIndex++;const t=h*fd+gd,e=pd;let i=this.arrayData[h].toString();if(s.has(this.arrayData[h])){const t=s.get(this.arrayData[h]);i+=t,s.set(this.arrayData[h],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[h]=i,this.cmd(Xn.createRectangle,this.arrayID[h],i,fd,50,t,e)}return this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.pPointerID=this.nextIndex++,this.helper(0,this.arrayData.length-1),this.commands}helper(t,e){if(t>e)return;this.highlight(0,0,this.codeID);for(let o=t;o<=e;o++)this.cmd(Xn.setBackgroundColor,this.arrayID[o],"#99CCFF");if(this.cmd(Xn.step),t===e)return this.cmd(Xn.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.cmd(Xn.step),void this.unhighlight(0,0,this.codeID);let i;if(this.unhighlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),"min"===this.pivotType){let s=t;for(let i=t+1;i<=e;i++)this.arrayData[i]<this.arrayData[s]&&(s=i);i=s}else if("set"===this.pivotType)i=Math.min(t+xd,e);else if("perfect"===this.pivotType){const s=this.arrayData.slice(t,e+1);s.sort(((t,e)=>t-e));const h=Math.floor(s.length/2);i=this.arrayData.indexOf(s[h])}else"random"===this.pivotType&&(i=Math.floor(Math.random()*(e-t))+t+1);const s=i*fd+gd;this.cmd(Xn.createHighlightCircle,this.pPointerID,"#FFFF00",s,pd),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.swapPivot(i,t),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);let h=t+1,a=e;const n=h*fd+gd,r=a*fd+gd;for(this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",n,pd),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#0000FF",r,pd),this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID);h<=a;){for(this.cmd(Xn.step),this.highlight(6,0,this.codeID),this.highlight(6,2,this.codeID),this.cmd(Xn.step),this.unhighlight(6,2,this.codeID),this.highlight(6,4,this.codeID),this.cmd(Xn.step);h<=a&&this.arrayData[t]>=this.arrayData[h];)this.unhighlight(6,4,this.codeID),this.highlight(7,0,this.codeID),h++,this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(h,a),this.unhighlight(7,0,this.codeID),this.highlight(6,2,this.codeID),h<=a&&(this.cmd(Xn.step),this.unhighlight(6,2,this.codeID),this.highlight(6,4,this.codeID)),this.cmd(Xn.step);for(this.unhighlight(6,0,this.codeID),this.unhighlight(6,2,this.codeID),this.unhighlight(6,4,this.codeID),h<=a&&(this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.setForegroundColor,this.iPointerID,"#FF0000"),this.cmd(Xn.step)),this.highlight(9,0,this.codeID),this.cmd(Xn.step),this.highlight(9,2,this.codeID),h<=a&&(this.cmd(Xn.step),this.unhighlight(9,2,this.codeID),this.highlight(9,4,this.codeID)),this.cmd(Xn.step);h<=a&&this.arrayData[t]<=this.arrayData[a];)this.unhighlight(9,4,this.codeID),this.highlight(10,0,this.codeID),a--,this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.movePointers(h,a),this.unhighlight(10,0,this.codeID),this.highlight(9,2,this.codeID),h<=a&&(this.cmd(Xn.step),this.unhighlight(9,2,this.codeID),this.highlight(9,4,this.codeID)),this.cmd(Xn.step);this.unhighlight(9,0,this.codeID),this.unhighlight(9,2,this.codeID),this.unhighlight(9,4,this.codeID),h<=a&&(this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.setForegroundColor,this.jPointerID,"#FF0000"),this.cmd(Xn.step)),h<=a&&(this.highlight(13,0,this.codeID),this.swap(h,a),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),h++,a--,this.movePointers(h,a),this.unhighlight(14,0,this.codeID))}this.unhighlight(5,0,this.codeID),this.highlight(17,0,this.codeID),this.swapPivot(t,a,!0),this.unhighlight(17,0,this.codeID),this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.delete,this.jPointerID),this.cmd(Xn.delete,this.pPointerID),this.cmd(Xn.step);for(let o=t;o<=e;o++)this.cmd(Xn.setBackgroundColor,this.arrayID[o],"#FFFFFF");this.highlight(18,0,this.codeID),this.cmd(Xn.step),this.k-1===a?(this.unhighlight(18,0,this.codeID),this.highlight(19,0,this.codeID),this.cmd(Xn.setBackgroundColor,this.arrayID[a],"#2ECC71"),this.cmd(Xn.step),this.unhighlight(19,0,this.codeID)):(this.unhighlight(18,0,this.codeID),this.highlight(20,0,this.codeID),this.cmd(Xn.setBackgroundColor,this.arrayID[a],"#4DA6ff"),this.cmd(Xn.step),this.k-1<a?(this.unhighlight(20,0,this.codeID),this.highlight(21,0,this.codeID),this.cmd(Xn.step),this.unhighlight(21,0,this.codeID),this.helper(t,a-1)):(this.unhighlight(20,0,this.codeID),this.highlight(23,0,this.codeID),this.cmd(Xn.step),this.unhighlight(23,0,this.codeID),this.helper(a+1,e)))}movePointers(t,e){const i=t*fd+gd;this.cmd(Xn.move,this.iPointerID,i,pd);const s=e*fd+gd;this.cmd(Xn.move,this.jPointerID,s,pd),this.cmd(Xn.step)}swapPivot(t,e,i){if(t===e)return;const s=this.nextIndex++,h=e*fd+gd;this.cmd(Xn.createLabel,s,this.displayData[e],h,pd);const a=this.nextIndex++,n=t*fd+gd;this.cmd(Xn.createLabel,a,this.displayData[t],n,pd),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.move,a,h,pd),this.cmd(Xn.move,this.pPointerID,h,pd),this.cmd(Xn.move,s,n,pd),i&&this.cmd(Xn.move,this.jPointerID,n,pd),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.delete,a),this.cmd(Xn.delete,s);let r=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=r,r=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=r}swap(t,e){const i=this.nextIndex++,s=t*fd+gd;this.cmd(Xn.createLabel,i,this.displayData[t],s,pd);const h=this.nextIndex++,a=e*fd+gd;this.cmd(Xn.createLabel,h,this.displayData[e],a,pd),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.move,i,a,pd),this.cmd(Xn.move,h,s,pd),this.cmd(Xn.setText,this.swapCountID,"Swap Count: "+ ++this.swapCount),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,h);let n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd(Xn.setForegroundColor,this.iPointerID,"#0000FF"),this.cmd(Xn.setForegroundColor,this.jPointerID,"#0000FF"),this.cmd(Xn.step)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],MergeSort:["MergeSort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["1,2,3,4,5,6,7,8,9","Sorted"],["9,8,7,6,5,4,3,2,1","Reverse Sorted"],["2,3,4,5,6,7,8,9,1","Almost Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"Comparison Count: "+this.compCount,100,50),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=dr.MergeSort,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",50,80),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.compCount=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return this.arrayData=[],this.displayData=[],this.arrayID=[],this.compCount=0,t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.commands}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>15)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 15 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(0,0,this.codeID),this.arrayID=[],this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,15),this.displayData=new Array(this.arrayData.length);const e=new Map,i=new Map;for(let s=0;s<this.arrayData.length;s++){const t=e.has(this.arrayData[s])?e.get(this.arrayData[s]):0;t>0&&i.set(this.arrayData[s],"a"),e.set(this.arrayData[s],t+1)}for(let s=0;s<this.arrayData.length;s++){const t=s*Kl+ql,e=Wl;this.arrayID.push(this.nextIndex);let h=this.arrayData[s].toString();if(i.has(this.arrayData[s])){const t=i.get(this.arrayData[s]);h+=t,i.set(this.arrayData[s],String.fromCharCode(t.charCodeAt(0)+1))}this.displayData[s]=h,this.cmd(Xn.createRectangle,this.nextIndex++,h,Kl,50,t,e)}if(this.cmd(Xn.step),this.unhighlight(0,0,this.codeID),1!==this.arrayData.length){this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID);const t=Math.ceil((this.arrayData.length-1)/2);this.highlight(4,0,this.codeID),this.leftHelper(0,t-1,-15,0,1),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.rightHelper(t,this.arrayData.length-1,Gl,0,1),this.unhighlight(5,0,this.codeID),this.merge(0,this.arrayData.length-1,t,0,0,-15,Gl,this.arrayID)}else this.cmd(Xn.setBackgroundColor,this.arrayID[0],"#2ECC71"),this.cmd(Xn.step);return this.commands}leftHelper(t,e,i,s,h){if(this.cmd(Xn.step),t>e)return;this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.highlight(0,0,this.codeID);const a=this.drawArrayAndCopy(t,e,i,s,h);if(this.unhighlight(0,0,this.codeID),t!==e){this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID);const s=Math.ceil((t+e)/2),n=h<2?30:14;this.highlight(4,0,this.codeID),this.leftHelper(t,s-1,i-n,i,h+1),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.leftHelper(s,e,i,i,h+1),this.unhighlight(5,0,this.codeID),this.merge(t,e,s,h,i,i-n,i,a)}else this.cmd(Xn.setBackgroundColor,a[t],"#2ECC71"),this.cmd(Xn.step)}rightHelper(t,e,i,s,h){if(this.cmd(Xn.step),t>e)return;this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.highlight(0,0,this.codeID);const a=this.drawArrayAndCopy(t,e,i,s,h);if(this.unhighlight(0,0,this.codeID),t!==e){this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID);const s=Math.ceil((t+e)/2),n=h<2?30:14;this.highlight(4,0,this.codeID),this.rightHelper(t,s-1,i,i,h+1),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.rightHelper(s,e,i+n,i,h+1),this.unhighlight(5,0,this.codeID),this.merge(t,e,s,h,i,i,i+n,a)}else this.cmd(Xn.setBackgroundColor,a[t],"#2ECC71"),this.cmd(Xn.step)}drawArrayAndCopy(t,e,i,s,h){const a=[];for(let n=t;n<=e;n++){const t=n*Kl+ql+i,e=Wl+h*Ul;a[n]=this.nextIndex,this.arrayID.push(this.nextIndex),this.cmd(Xn.createRectangle,this.nextIndex++,"",Kl,50,t,e)}this.cmd(Xn.step);for(let n=t;n<=e;n++)this.copyData(n,n,s,i,h-1,h,this.displayData[n],a[n],-1);return a}merge(t,e,i,s,h,a,n,r){const o=new Array(this.arrayData.length),l=new Array(this.arrayData.length);for(let y=t;y<=e;y++)o[y]=this.arrayData[y],l[y]=this.displayData[y];this.highlight(6,0,this.codeID);const d=Wl+(s+1)*Ul,c=this.nextIndex++,u=t*Kl+ql+a;this.cmd(Xn.createHighlightCircle,c,"#0000FF",u,d);const m=this.nextIndex++,g=i*Kl+ql+n;this.cmd(Xn.createHighlightCircle,m,"#0000FF",g,d);const p=this.nextIndex++,f=t*Kl+ql+h,I=Wl+s*Ul;this.cmd(Xn.createHighlightCircle,p,"#0000FF",f,I),this.cmd(Xn.step),this.unhighlight(6,0,this.codeID),this.highlight(7,0,this.codeID),this.cmd(Xn.step);let x=t,b=i,D=t;for(;x<i&&b<=e;)this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(8,0,this.codeID),this.cmd(Xn.step),this.unhighlight(8,0,this.codeID),o[x]<=o[b]?(this.highlight(9,0,this.codeID),this.copyData(x,D,a,h,s+1,s,l[x],r[D],c),this.unhighlight(9,0,this.codeID),this.arrayData[D]=o[x],this.displayData[D]=l[x],x++,this.highlight(10,0,this.codeID),x<i&&this.movePointer(x,s+1,a,c),this.cmd(Xn.step),this.unhighlight(10,0,this.codeID)):(this.highlight(11,0,this.codeID),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.copyData(b,D,n,h,s+1,s,l[b],r[D],m),this.unhighlight(12,0,this.codeID),this.arrayData[D]=o[b],this.displayData[D]=l[b],b++,this.highlight(13,0,this.codeID),b<=e&&this.movePointer(b,s+1,n,m),this.cmd(Xn.step),this.unhighlight(13,0,this.codeID)),D++,this.highlight(15,0,this.codeID),this.movePointer(D,s,h,p),this.cmd(Xn.step),this.unhighlight(15,0,this.codeID);for(this.unhighlight(7,0,this.codeID),this.highlight(17,0,this.codeID),this.cmd(Xn.step);x<i;)this.highlight(18,0,this.codeID),this.copyData(x,D,a,h,s+1,s,l[x],r[D],c),this.unhighlight(18,0,this.codeID),this.highlight(19,0,this.codeID),this.highlight(20,0,this.codeID),this.arrayData[D]=o[x],this.displayData[D]=l[x],D++,x++,D<=e&&(this.movePointer(x,s+1,a,c),this.movePointer(D,s,h,p)),this.cmd(Xn.step),this.unhighlight(19,0,this.codeID),this.unhighlight(20,0,this.codeID);for(this.unhighlight(17,0,this.codeID),this.highlight(22,0,this.codeID),this.cmd(Xn.step);b<=e;)this.highlight(23,0,this.codeID),this.copyData(b,D,n,h,s+1,s,l[b],r[D],m),this.unhighlight(23,0,this.codeID),this.highlight(24,0,this.codeID),this.highlight(25,0,this.codeID),this.arrayData[D]=o[b],this.displayData[D]=l[b],b++,D++,D<=e&&(this.movePointer(b,s+1,n,m),this.movePointer(D,s,h,p)),this.cmd(Xn.step),this.unhighlight(24,0,this.codeID),this.unhighlight(25,0,this.codeID);this.unhighlight(22,0,this.codeID),this.cmd(Xn.delete,c),this.cmd(Xn.delete,m),this.cmd(Xn.delete,p),this.cmd(Xn.step)}copyData(t,e,i,s,h,a,n,r,o){-1!==o&&(this.cmd(Xn.setForegroundColor,o,"#FF0000"),this.cmd(Xn.step));const l=t*Kl+ql+i,d=Wl+h*Ul,c=this.nextIndex++;this.cmd(Xn.createLabel,c,n,l,d);const u=e*Kl+ql+s,m=Wl+a*Ul;this.cmd(Xn.move,c,u,m),this.cmd(Xn.step),this.cmd(Xn.setText,r,n),this.cmd(Xn.delete,c),-1!==o&&(this.cmd(Xn.setBackgroundColor,r,"#2ECC71"),this.cmd(Xn.setForegroundColor,o,"#0000FF"),this.cmd(Xn.step))}movePointer(t,e,i,s){const h=t*Kl+ql+i,a=Wl+e*Ul;this.cmd(Xn.move,s,h,a)}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],LSDRadix:["LSD Radix Sort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 18 elements & no elements > 6 digits.',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["603,509,701,404,307,909,102,800,401","Zero in 10's Place"],["362980,46,99,76,69,80,35,28,11","One Long Number"],["191,225,326,421,537,676,760,845,924","Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir(),this.negativeNumbersCheckbox=Zn("Sort negative numbers",!1),this.negativeNumbersCheckbox.onclick=this.toggleNegativeNumbers.bind(this),this.controls.push(this.negativeNumbersCheckbox)}setURLData(t){if(t.has("negative")){"1"===t.get("negative")&&(this.negativeNumbersCheckbox.checked=!0,this.toggleNegativeNumbers())}if(t.has("data")){const e=t.get("data");this.listField.value=e,this.sortCallback()}}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=dr.LSDRadixSort,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",15,100),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[]}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5;let i=1;Ml&&(i=-500);const s=500;e="";for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}clearCallback(){this.implementAction(this.clear.bind(this))}toggleNegativeNumbers(){Ml=!Ml,this.implementAction(this.clear.bind(this)),Ml?(this.cmd(Xn.setText,this.codeID.code[1][0],"  buckets \u2190 array of 19 lists"),this.cmd(Xn.setText,this.codeID.code[7][0],"      b \u2190 array[j] / div % 10 + 9"),this.cmd(Xn.setText,this.codeID.code[11][0],"    for b \u2190 0, 18:"),this.cmd(Xn.setText,this.codeID.english[1][0],"  buckets is an array containing 19 lists"),this.cmd(Xn.setText,this.codeID.english[7][0],"      b is (num at array[j] / base % 10 + 9)"),this.cmd(Xn.setText,this.codeID.english[11][0],"    for each bucket:")):(this.cmd(Xn.setText,this.codeID.code[1][0],"  buckets \u2190 array of 10 lists"),this.cmd(Xn.setText,this.codeID.code[7][0],"      b \u2190 array[j] / div % 10"),this.cmd(Xn.setText,this.codeID.code[11][0],"    for b \u2190 0, 9:"),this.cmd(Xn.setText,this.codeID.english[1][0],"  buckets is an array containing 10 lists"),this.cmd(Xn.setText,this.codeID.english[7][0],"      b is (num at array[j] / base % 10)"),this.cmd(Xn.setText,this.codeID.english[11][0],"    for each bucket:"))}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);for(let e=0;e<this.bucketsID.length;e++)for(let t=0;t<this.bucketsID[e].length;t++)this.cmd(Xn.delete,this.bucketsID[e][t]);return t||(this.listField.value=""),this.cmd(Xn.setText,this.infoLabelID,""),this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.commands}sort(t){if(this.highlight(0,0,this.codeID),this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>18)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 18 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values"),this.commands;if(t.filter((t=>Math.abs(t)>999999)).length>0)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain numbers with more than 6 digits"),this.commands;if(!Ml&&t.filter((t=>t<0)).length>0)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data cannot contain negative numbers unless "Sort negative numbers" is enabled'),this.commands;this.arrayID=[],this.arrayData=t.map((t=>parseInt(t,10))).filter((t=>!Number.isNaN(t))).slice(0,18);const e=this.arrayData.length,i=new Map,s=new Map;for(let r=0;r<e;r++){const t=i.has(this.arrayData[r])?i.get(this.arrayData[r]):0;t>0&&s.set(this.arrayData[r],"a"),i.set(this.arrayData[r],t+1)}for(let r=0;r<e;r++){this.arrayID[r]=this.nextIndex++;const t=r*Pl+Bl,e=zl;let i=this.arrayData[r].toString();if(s.has(this.arrayData[r])){const t=s.get(this.arrayData[r]);i+=t,s.set(this.arrayData[r],String.fromCharCode(t.charCodeAt(0)+1))}this.arrayDisplay[r]=i,this.cmd(Xn.createRectangle,this.arrayID[r],i,Pl,50,t,e)}if(this.bucketsData=[],this.bucketsID=[],this.cmd(Xn.step),this.unhighlight(0,0,this.codeID),this.highlight(1,0,this.codeID),Ml)for(let r=0;r<19;r++){this.bucketsData[r]=[],this.bucketsID[r]=[],this.bucketsDisplay[r]=[],this.bucketsID[r].push(this.nextIndex++);const t=(r-9)*Pl+Rl,e=Nl;this.cmd(Xn.createRectangle,this.bucketsID[r][0],r-9,jl,Ol,t,e),this.cmd(Xn.setBackgroundColor,this.bucketsID[r],"#D3D3D3")}else for(let r=0;r<10;r++){this.bucketsData[r]=[],this.bucketsID[r]=[],this.bucketsDisplay[r]=[],this.bucketsID[r].push(this.nextIndex++);const t=r*Pl+El,e=Nl;this.cmd(Xn.createRectangle,this.bucketsID[r][0],r,jl,Ol,t,e),this.cmd(Xn.setBackgroundColor,this.bucketsID[r],"#D3D3D3")}this.cmd(Xn.setText,this.infoLabelID,"Searching for number with greatest magnitude"),this.cmd(Xn.createHighlightCircle,this.iPointerID,"#FF0000",Bl,zl,21.5),this.cmd(Xn.setHighlight,this.iPointerID,1),this.cmd(Xn.createHighlightCircle,this.jPointerID,"#0000FF",535,zl,21.5),this.cmd(Xn.setHighlight,this.jPointerID,1),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.highlight(2,0,this.codeID);let h=0;for(let r=1;r<this.arrayData.length;r++)this.movePointers(h,r),Math.abs(this.arrayData[r])>Math.abs(this.arrayData[h])&&(h=r,this.movePointers(h,r));this.cmd(Xn.delete,this.iPointerID),this.cmd(Xn.delete,this.jPointerID),this.cmd(Xn.setBackgroundColor,this.arrayID[h],"#FFFF00");let a=Math.floor(Math.log10(Math.abs(this.arrayData[h])))+1;a=a||1;const n=this.arrayData[h];this.cmd(Xn.setText,this.infoLabelID,n+" the has largest magnitude with a number of digits k = "+a),this.cmd(Xn.step),this.unhighlight(2,0,this.codeID),this.cmd(Xn.setBackgroundColor,this.arrayID[h],"#FFFFFF"),this.highlight(5,0,this.codeID);for(let r=0;r<a;r++){this.cmd(Xn.setText,this.infoLabelID,"Getting digits at index "+r+" (0-aligned)"),this.cmd(Xn.createHighlightCircle,this.iPointerID,"#0000FF",Bl,zl,21.5),this.cmd(Xn.setHighlight,this.iPointerID,1),this.cmd(Xn.step),this.highlight(6,0,this.codeID);for(let e=0;e<this.arrayData.length;e++){this.cmd(Xn.move,this.iPointerID,Bl+e*Pl,zl),this.cmd(Xn.step),this.highlight(7,0,this.codeID),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID);const t=this.nextIndex++,i=this.arrayData[e],s=this.arrayDisplay[e],h=this.nthDigit(i,r),a=Ml?9:0;this.bucketsID[h+a].push(t),this.bucketsData[h+a].push(i),this.bucketsDisplay[h+a].push(s);const n=this.bucketsData[h+a].length;Ml?this.cmd(Xn.createRectangle,t,s,jl,Ol,Rl+h*jl,Nl+n*Ol+n*Hl):this.cmd(Xn.createRectangle,t,s,jl,Ol,El+h*jl,Nl+n*Ol+n*Hl),this.cmd(Xn.connect,this.bucketsID[h+a][this.bucketsID[h+a].length-2],t,0,0,1,"",2),this.cmd(Xn.step),this.unhighlight(8,0,this.codeID)}this.unhighlight(6,0,this.codeID),this.cmd(Xn.delete,this.iPointerID),this.highlight(10,0,this.codeID),this.cmd(Xn.step),this.unhighlight(10,0,this.codeID),this.highlight(11,0,this.codeID);let t=0;if(this.cmd(Xn.step),Ml){for(let e=0;e<19;e++){const i=this.bucketsID[e],s=this.bucketsData[e],h=this.bucketsDisplay[e];for(this.highlight(12,0,this.codeID);s.length;){this.cmd(Xn.step),this.highlight(13,0,this.codeID);const a=this.nextIndex++,n=i.splice(1,1)[0],r=s.shift(),o=h.shift();if(this.cmd(Xn.createLabel,a,o,Rl+(e-9)*jl,175),this.cmd(Xn.move,a,Bl+t*Pl,zl),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],o),this.cmd(Xn.delete,a),this.cmd(Xn.delete,n),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),s.length){this.cmd(Xn.connect,i[0],i[1]);for(let t=1;t<i.length;t++)this.cmd(Xn.move,i[t],Rl+(e-9)*jl,Nl+t*Ol+t*Hl)}this.cmd(Xn.step),this.arrayData[t]=r,this.arrayDisplay[t]=o,t++,this.unhighlight(14,0,this.codeID)}this.unhighlight(12,0,this.codeID)}this.unhighlight(11,0,this.codeID)}else{for(let e=0;e<10;e++){const i=this.bucketsID[e],s=this.bucketsData[e],h=this.bucketsDisplay[e];for(this.highlight(12,0,this.codeID);s.length;){this.cmd(Xn.step),this.highlight(13,0,this.codeID);const a=this.nextIndex++,n=i.splice(1,1)[0],r=s.shift(),o=h.shift();if(this.cmd(Xn.createLabel,a,o,El+e*jl,175),this.cmd(Xn.move,a,Bl+t*Pl,zl),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],o),this.cmd(Xn.delete,a),this.cmd(Xn.delete,n),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),s.length){this.cmd(Xn.connect,i[0],i[1]);for(let t=1;t<i.length;t++)this.cmd(Xn.move,i[t],El+e*jl,Nl+t*Ol+t*Hl)}this.cmd(Xn.step),this.arrayData[t]=r,this.arrayDisplay[t]=o,t++,this.unhighlight(14,0,this.codeID)}this.unhighlight(12,0,this.codeID)}this.unhighlight(11,0,this.codeID),this.highlight(17,0,this.codeID),this.cmd(Xn.step),this.unhighlight(17,0,this.codeID)}}return this.unhighlight(5,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,""),this.commands}movePointers(t,e){const i=t*Pl+Bl;this.cmd(Xn.move,this.iPointerID,i,70);const s=e*Pl+Bl;this.cmd(Xn.move,this.jPointerID,s,70),this.cmd(Xn.step)}swap(t,e){const i=this.nextIndex++,s=t*Pl+Bl;this.cmd(Xn.createLabel,i,this.displayData[t],s,70);const h=this.nextIndex++,a=e*Pl+Bl;this.cmd(Xn.createLabel,h,this.displayData[e],a,70),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.setText,this.arrayID[e],""),this.cmd(Xn.move,i,a,70),this.cmd(Xn.move,h,s,70),this.cmd(Xn.step),this.cmd(Xn.setText,this.arrayID[t],this.displayData[e]),this.cmd(Xn.setText,this.arrayID[e],this.displayData[t]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,h);let n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n}nthDigit(t,e){const i=Math.sign(t);return t=Math.abs(t),t=Math.floor(t/Math.pow(10,e)),t%=10,-1===i&&(t*=-1),t}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],HeapSort:["HeapSort",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[];const t=sr(!1);Yn('Comma separated list (e.g. "3,1,2"). Max 15 elements & no elements > 999',t);const e=sr(!0,t);this.listField=er("Text","",e),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.sortButton=er("Button","Sort",e),this.sortButton.onclick=this.sortCallback.bind(this),this.controls.push(this.sortButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["0,2,4,7,3,6,11,10,9,8","Valid MinHeap"],["11,10,6,9,8,0,4,7,2,3","Valid MaxHeap"],["1,2,3,4,5,6,7,8,9","Sorted"],["Random","Random"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){const e=t.get("data");this.listField.value=e,this.sortCallback()}setup(){this.commands=[],this.arrayData=[],this.arrayID=[],this.heapArrayData=[],this.heapArrayID=[],this.heapArrayLabelID=[],this.heapTreeObj=[],this.infoLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=dr.HeapSort,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",15,100),this.resetIndex=this.nextIndex,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}sort(t){if(this.commands=[],!t.length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,'Data must contain integers such as "3,1,2"'),this.commands;if(t.length>15)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,`Data cannot contain more than 15 numbers (you put ${t.length})`),this.commands;if(t.map(Number).filter((t=>t>999||Number.isNaN(t))).length)return this.shake(this.sortButton),this.cmd(Xn.setText,this.infoLabelID,"Data cannot contain non-numeric values or numbers > 999"),this.commands;this.highlight(0,0,this.codeID),this.arrayData=t.map(Number).filter((t=>!Number.isNaN(t))).slice(0,15);const e=this.arrayData.length,i=new Array(e),s=new Map,h=new Map;for(let n=0;n<e;n++){const t=s.has(this.arrayData[n])?s.get(this.arrayData[n]):0;t>0&&h.set(this.arrayData[n],"a"),s.set(this.arrayData[n],t+1)}for(let n=0;n<e;n++){this.arrayID[n]=this.nextIndex++;const t=50*n+400,e=50;let s=this.arrayData[n].toString();if(h.has(this.arrayData[n])){const t=h.get(this.arrayData[n]);s+=t,h.set(this.arrayData[n],String.fromCharCode(t.charCodeAt(0)+1))}i[n]=s,this.cmd(Xn.createRectangle,this.arrayID[n],s,50,50,t,e)}this.arrayData=i,this.cmd(Xn.step),this.unhighlight(0,0,this.codeID),this.highlight(1,0,this.codeID),this.createHeap(this.arrayData),this.cmd(Xn.step),this.cmd(Xn.setText,this.infoLabelID,"BuildHeap the new array");let a=Math.floor(this.currentHeapSize/2);for(;a>0;)this.pushDown(a),a-=1;for(this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,""),this.highlight(2,0,this.codeID);this.currentHeapSize>0;)this.highlight(3,0,this.codeID),this.remove(),this.unhighlight(3,0,this.codeID),this.cmd(Xn.step);this.unhighlight(2,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.step);for(let n=0;n<e+1;n++)this.cmd(Xn.delete,this.heapArrayID[n]),this.cmd(Xn.delete,this.heapArrayLabelID[n]);return this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.commands}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e="";if("Random"===t){const t=Math.floor(9*Math.random())+5,i=1,s=14;for(let h=0;h<t;h++)e+=(Math.floor(Math.random()*(s-i))+i).toString(),h<t-1&&(e+=",")}else e=t;this.exampleDropdown.value="",this.listField.value=e}createHeap(t){const e=t.length+1;this.cmd(Xn.setText,this.infoLabelID,"Array-backed heap created"),this.heapArrayXPositions=new Array(e),this.heapArrayData=t.slice(),this.heapArrayData.unshift(null),this.currentHeapSize=e-1;for(let i=0;i<e;i++)this.heapArrayXPositions[i]=400+40*i,this.heapArrayID[i]=this.nextIndex++,this.heapArrayLabelID[i]=this.nextIndex++,this.heapTreeObj[i]=this.nextIndex++,this.cmd(Xn.createRectangle,this.heapArrayID[i],this.heapArrayData[i],40,30,this.heapArrayXPositions[i],Kd),this.cmd(Xn.createLabel,this.heapArrayLabelID[i],i,this.heapArrayXPositions[i],180),this.cmd(Xn.setForegroundColor,this.heapArrayLabelID[i],"#0000FF"),i>0&&(this.cmd(Xn.createCircle,this.heapTreeObj[i],this.heapArrayData[i],Gd[i],Xd[i]),this.cmd(Xn.setText,this.heapArrayID[i],this.heapArrayData[i]),i>1&&this.cmd(Xn.connect,this.heapTreeObj[Math.floor(i/2)],this.heapTreeObj[i]));return this.commands}remove(){const t=this.arrayData.length-this.currentHeapSize,e=this.heapArrayData[1],i=this.nextIndex;return this.cmd(Xn.setText,this.infoLabelID,""),this.highlight(3,0),this.highlight(3,1),this.highlight(3,2),this.cmd(Xn.setText,this.heapArrayID[1],""),this.cmd(Xn.createLabel,i,e,Gd[1],Xd[1],0),this.cmd(Xn.setText,this.heapTreeObj[1],""),this.cmd(Xn.setText,this.arrayID[t],""),this.cmd(Xn.move,i,50*t+400-5,45),this.cmd(Xn.step),this.cmd(Xn.setBackgroundColor,this.arrayID[t],"#2ECC71"),this.arrayData[t]=e,this.cmd(Xn.setText,this.arrayID[t],e),this.cmd(Xn.delete,i),this.cmd(Xn.step),this.heapArrayData[1]="",this.unhighlight(3,0),this.unhighlight(3,2),this.cmd(Xn.setText,this.infoLabelID,"Downheap to maintain order"),this.currentHeapSize>1?(this.cmd(Xn.setHighlight,this.heapArrayID[1],1),this.cmd(Xn.setHighlight,this.heapArrayID[this.currentHeapSize],1),this.cmd(Xn.setHighlight,this.heapTreeObj[1],1),this.cmd(Xn.setHighlight,this.heapTreeObj[this.currentHeapSize],1),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.heapArrayID[1],0),this.cmd(Xn.setHighlight,this.heapArrayID[this.currentHeapSize],0),this.cmd(Xn.setHighlight,this.heapTreeObj[1],0),this.cmd(Xn.setHighlight,this.heapTreeObj[this.currentHeapSize],0),this.swap(1,this.currentHeapSize),this.cmd(Xn.delete,this.heapTreeObj[this.currentHeapSize]),this.cmd(Xn.step),this.currentHeapSize--,this.currentHeapSize>0&&this.pushDown(1)):(this.cmd(Xn.setText,this.heapArrayID[1],""),this.cmd(Xn.delete,this.heapTreeObj[this.currentHeapSize]),this.cmd(Xn.step),this.currentHeapSize--),this.unhighlight(3,1),this.cmd(Xn.step),this.commands}pushDown(t){let e;for(;2*t<=this.currentHeapSize;){if(e=2*t,2*t+1<=this.currentHeapSize&&(this.setIndexHighlight(2*t,1),this.setIndexHighlight(2*t+1,1),this.cmd(Xn.step),this.setIndexHighlight(2*t,0),this.setIndexHighlight(2*t+1,0),this.downheapCheckRightChild(t)&&(e=2*t+1)),this.setIndexHighlight(t,1),this.setIndexHighlight(e,1),this.cmd(Xn.step),this.setIndexHighlight(t,0),this.setIndexHighlight(e,0),!this.downheapCompare(e,t))return;this.swap(e,t),t=e}}downheapCheckRightChild(t){return this.compareWithLetters(this.heapArrayData[2*t+1],this.heapArrayData[2*t])}downheapCompare(t,e){return this.compareWithLetters(this.heapArrayData[t],this.heapArrayData[e])}compareWithLetters(t,e){return parseInt(t)<parseInt(e)}swap(t,e){const i=this.nextIndex++,s=this.nextIndex++,h=this.nextIndex++,a=this.nextIndex++;this.cmd(Xn.setText,this.heapArrayID[t],""),this.cmd(Xn.setText,this.heapArrayID[e],""),this.cmd(Xn.setText,this.heapTreeObj[t],""),this.cmd(Xn.setText,this.heapTreeObj[e],""),this.cmd(Xn.createLabel,i,this.heapArrayData[t],this.heapArrayXPositions[t],Kd),this.cmd(Xn.createLabel,s,this.heapArrayData[e],this.heapArrayXPositions[e],Kd),this.cmd(Xn.createLabel,h,this.heapArrayData[t],Gd[t],Xd[t]),this.cmd(Xn.createLabel,a,this.heapArrayData[e],Gd[e],Xd[e]),this.cmd(Xn.move,i,this.heapArrayXPositions[e],Kd),this.cmd(Xn.move,s,this.heapArrayXPositions[t],Kd),this.cmd(Xn.move,h,Gd[e],Xd[e]),this.cmd(Xn.move,a,Gd[t],Xd[t]);const n=this.heapArrayData[t];this.heapArrayData[t]=this.heapArrayData[e],this.heapArrayData[e]=n,this.cmd(Xn.step),this.cmd(Xn.setText,this.heapArrayID[t],this.heapArrayData[t]),this.cmd(Xn.setText,this.heapArrayID[e],this.heapArrayData[e]),this.cmd(Xn.setText,this.heapTreeObj[t],this.heapArrayData[t]),this.cmd(Xn.setText,this.heapTreeObj[e],this.heapArrayData[e]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,s),this.cmd(Xn.delete,h),this.cmd(Xn.delete,a),this.nextIndex-=4}setIndexHighlight(t,e){this.cmd(Xn.setHighlight,this.heapTreeObj[t],e),this.cmd(Xn.setHighlight,this.heapArrayID[t],e)}clear(t){this.commands=[];for(let e=0;e<this.arrayID.length;e++)this.cmd(Xn.delete,this.arrayID[e]);return t||(this.listField.value=""),this.arrayData=[],this.arrayID=[],this.heapArrayData=[],this.heapArrayID=[],this.heapArrayLabelID=[],this.cmd(Xn.setText,this.infoLabelID,""),this.commands}reset(){this.nextIndex=this.resetIndex,this.arrayData=[],this.arrayID=[],this.heapArrayData=[],this.heapArrayID=[],this.heapArrayLabelID=[],this.heapTreeObj=[],this.currentHeapSize=0}sortCallback(){const t=this.listField.value.split(",").filter((t=>""!==t));this.implementAction(this.clear.bind(this),!0),this.implementAction(this.sort.bind(this),t)}clearCallback(){this.implementAction(this.clear.bind(this))}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],BruteForce:["Brute Force",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Yn("Text:"),this.textField=er("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),26,!1),this.controls.push(this.textField),Yn("Pattern:"),this.patternField=er("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),26,!1),this.controls.push(this.patternField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["Random","Random"],["aaaa in aaaaaaaaaaaaa","aaaa in aaaaaaaaaaaaa"],["aaab in aaaaaaaaaaaaa","aaab in aaaaaaaaaaaaa"],["baaa in aaaaaaaaaaaaa","baaa in aaaaaaaaaaaaa"],["aaaa in aaabaaabaaaba","aaaa in aaabaaabaaaba"],["aaab in aaabaaabaaaba","aaab in aaabaaabaaaba"],["baaa in aaabaaabaaaba","baaa in aaabaaabaaaba"],["abab in abacabacababa","abab in abacabacababa"],["lack in sphinxofblackquartz","lack in sphinxofblackquartz"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){this.textField.value=t.get("text"),this.patternField.value=t.get("pattern"),this.findCallback()}setup(){this.commands=[],this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0,0),this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"",575,30,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.comparisonCountID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.compCount=0,this.codeID=[]}findCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.textField.value,e=this.patternField.value;this.implementAction(this.find.bind(this),t,e)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e,i;if("Random"===t)i=this.generateRandomString(3,"abc"),e=this.generateRandomString(15,"abc",i);else{const s=t.split(" in ");e=s[1],i=s[0]}this.textField.value=e,this.patternField.value=i,this.exampleDropdown.value=""}generateRandomString(t,e,i){let s="";if(i){const h=Math.floor(Math.random()*(t-i.length+1));for(let a=0;a<t;a++)if(a>=h&&a<h+i.length)s+=i[a-h];else{s+=e[Math.floor(Math.random()*e.length)]}}else for(let h=0;h<t;h++){s+=e[Math.floor(Math.random()*e.length)]}return s}clearCallback(){this.implementAction(this.clear.bind(this))}find(t,e){if(this.commands=[],!t||!e)return this.shake(this.findButton),this.cmd(Xn.setText,this.infoLabelID,"Text and pattern must not be empty"),this.commands;if(t.length<e.length)return this.cmd(Xn.setText,this.infoLabelID,"Pattern is longer than text, no matches exist"),this.commands;const i=t.length-e.length+1;this.cellSize=i<=14?30:i<=17?25:20;const s=Jr+t.length*this.cellSize+10;this.pseudocode=dr.BruteForce,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",s,120),this.cmd(Xn.move,this.comparisonCountID,s,30),this.textRowID=new Array(t.length),this.comparisonMatrixID=new Array(i);for(let c=0;c<i;c++)this.comparisonMatrixID[c]=new Array(t.length);let h,a;for(let c=0;c<t.length;c++)h=c*this.cellSize+Jr,a=35,this.textRowID[c]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,c,h,a);for(let c=1;c<=i;c++)h=50,a=c*this.cellSize+to,this.rowCountID[c]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,`Row ${c}`,h,a);for(let c=0;c<t.length;c++)h=c*this.cellSize+Jr,a=to,this.textRowID[c+t.length]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex,t.charAt(c),this.cellSize,this.cellSize,h,a),this.cmd(Xn.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(let c=0;c<i;c++)for(let e=0;e<t.length;e++)h=e*this.cellSize+Jr,a=(c+1)*this.cellSize+to,this.comparisonMatrixID[c][e]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,h,a);const n=this.nextIndex++,r=this.nextIndex++;this.cmd(Xn.createHighlightCircle,n,"#0000FF",Jr,to,this.cellSize/2),this.cmd(Xn.createHighlightCircle,r,"#0000FF",Jr,to+this.cellSize,this.cellSize/2);let o=0,l=0,d=0;for(this.highlight(2,0,this.codeID),this.cmd(Xn.step);o<=t.length-e.length;){for(let t=o;t<o+e.length;t++)this.cmd(Xn.setText,this.comparisonMatrixID[d][t],e.charAt(t-o),h,a);for(this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.step);l<e.length&&e.charAt(l)===t.charAt(o+l);){if(this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[d][o+l],"#2ECC71"),l++,this.highlight(5,0,this.codeID),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),l!==e.length){const t=(o+l)*this.cellSize+Jr;this.cmd(Xn.move,n,t,to);const e=(d+1)*this.cellSize+to;this.cmd(Xn.move,r,t,e)}this.cmd(Xn.step)}if(this.unhighlight(4,0,this.codeID),l<e.length&&this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(7,0,this.codeID),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID),l!==e.length?this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[d][o+l],"#E74C3C"):(this.highlight(8,0,this.codeID),this.cmd(Xn.step),this.unhighlight(8,0,this.codeID)),o++,l=0,d++,o<=t.length-e.length){const t=(o+l)*this.cellSize+Jr;this.cmd(Xn.move,n,t,to);const e=(d+1)*this.cellSize+to;this.cmd(Xn.move,r,t,e),this.cmd(Xn.step)}}return this.unhighlight(2,0,this.codeID),this.cmd(Xn.delete,n),this.cmd(Xn.delete,r),this.commands}clear(t){this.commands=[];for(let e=0;e<this.textRowID.length;e++)this.cmd(Xn.delete,this.textRowID[e]);this.textRowID=[];for(let e=0;e<this.comparisonMatrixID.length;e++)for(let t=0;t<this.comparisonMatrixID[e].length;t++)this.cmd(Xn.delete,this.comparisonMatrixID[e][t]);for(let e=1;e<this.rowCountID.length;e++)this.cmd(Xn.delete,this.rowCountID[e]);return this.rowCountID=[],t||(this.textField.value="",this.patternField.value=""),this.comparisonMatrixID=[],this.removeCode(this.codeID),this.codeID=[],this.compCount=0,this.cmd(Xn.setText,this.comparisonCountID,""),this.cmd(Xn.setText,this.infoLabelID,""),this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],BoyerMoore:["Boyer-Moore",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Yn("Text:"),this.textField=er("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),26,!1),this.controls.push(this.textField),Yn("Pattern:"),this.patternField=er("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),26,!1),this.controls.push(this.patternField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Yn("or"),this.blotButton=er("Button","Build Last Occurrence Table"),this.blotButton.onclick=this.buildLastOccurrenceTableCallback.bind(this),this.controls.push(this.blotButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["Random","Random"],["aaaa in aaaaaaaaaaaaa","aaaa in aaaaaaaaaaaaa"],["aaab in aaaaaaaaaaaaa","aaab in aaaaaaaaaaaaa"],["baaa in aaaaaaaaaaaaa","baaa in aaaaaaaaaaaaa"],["aaaa in aaabaaabaaaba","aaaa in aaabaaabaaaba"],["aaab in aaabaaabaaaba","aaab in aaabaaabaaaba"],["baaa in aaabaaabaaaba","baaa in aaabaaabaaaba"],["abab in abacabacababa","abab in abacabacababa"],["lack in sphinxofblackquartz","lack in sphinxofblackquartz"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),ir(),this.galilButton=Zn("Galil Rule Optimization",!1),this.galilButton.onclick=this.toggleGalilRule.bind(this),this.controls.push(this.galilButton)}setURLData(t){if(t.has("galil")){"1"===t.get("galil")&&(this.galilButton.checked=!0,this.toggleGalilRule())}(t.has("text")||t.has("pattern"))&&(this.textField.value=t.get("text"),this.patternField.value=t.get("pattern"),this.findCallback())}setup(){this.commands=[],this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.patternTableLabelID=this.nextIndex++,this.patternTableCharacterID=[],this.patternTableIndexID=[],this.lastTableLabelID=this.nextIndex++,this.lastTableCharacterID=[],this.lastTableValueID=[],this.codeID=[],this.galilRuleEnabled=!1,this.comparisonCountID=this.nextIndex++,this.periodLabelID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"",575,15,0),this.period=1,this.cmd(Xn.createLabel,this.periodLabelID,"",575,35,0),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.patternTableLabelID=this.nextIndex++,this.patternTableCharacterID=[],this.patternTableIndexID=[],this.lastTableLabelID=this.nextIndex++,this.lastTableCharacterID=[],this.lastTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.periodLabelID=this.nextIndex++,this.compCount=0,this.period=1}findCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.textField.value,e=this.patternField.value;this.implementAction(this.find.bind(this),t,e)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e,i;if("Random"===t)i=this.generateRandomString(3,"abc"),e=this.generateRandomString(15,"abc",i);else{const s=t.split(" in ");e=s[1],i=s[0]}this.textField.value=e,this.patternField.value=i,this.exampleDropdown.value=""}generateRandomString(t,e,i){let s="";if(i){const h=Math.floor(Math.random()*(t-i.length+1));for(let a=0;a<t;a++)if(a>=h&&a<h+i.length)s+=i[a-h];else{s+=e[Math.floor(Math.random()*e.length)]}}else for(let h=0;h<t;h++){s+=e[Math.floor(Math.random()*e.length)]}return s}buildLastOccurrenceTableCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.patternField.value;this.implementAction(this.onlyBuildLastOccurrenceTable.bind(this),0,t)}clearCallback(){this.implementAction(this.clear.bind(this))}toggleGalilRule(){this.galilRuleEnabled=!this.galilRuleEnabled}find(t,e){if(this.codeID&&this.removeCode(this.codeID),this.commands=[],!t||!e)return this.shake(this.findButton),this.cmd(Xn.setText,this.infoLabelID,"Text and pattern must not be empty"),this.commands;if(t.length<e.length)return this.cmd(Xn.setText,this.infoLabelID,"Pattern is longer than text, no matches exist"),this.commands;const i=this.getMaxRows(t,e);this.cellSize=i<=14?30:i<=17?25:20,this.textRowID=new Array(t.length),this.rowCountID=new Array(i),this.comparisonMatrixID=new Array(i);for(let m=0;m<i;m++)this.comparisonMatrixID[m]=new Array(t.length);let s,h;for(let m=0;m<t.length;m++)s=m*this.cellSize+Xr,h=35,this.textRowID[m]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,m,s,h);for(let m=1;m<=i;m++)s=50,h=m*this.cellSize+Qr,this.rowCountID[m]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,`Row ${m}`,s,h);for(let m=0;m<t.length;m++)s=m*this.cellSize+Xr,h=Qr,this.textRowID[m+t.length]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex,t.charAt(m),this.cellSize,this.cellSize,s,h),this.cmd(Xn.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(let m=0;m<i;m++)for(let e=0;e<t.length;e++)s=e*this.cellSize+Xr,h=(m+1)*this.cellSize+Qr,this.comparisonMatrixID[m][e]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,s,h);const a=this.buildLastTable(t.length,e);this.removeCode(this.codeID),this.galilRuleEnabled?(this.buildFailureTable(t.length,e),this.codeID=this.addCodeToCanvasBaseAll(dr.BoyerMoore,"galil",Xr+t.length*this.cellSize+10,205,14)):this.codeID=this.addCodeToCanvasBaseAll(dr.BoyerMoore,"find",Xr+t.length*this.cellSize+10,205);const n=this.nextIndex++,r=this.nextIndex++;this.cmd(Xn.createHighlightCircle,n,"#0000FF",Xr+(e.length-1)*this.cellSize,Qr,this.cellSize/2),this.cmd(Xn.createHighlightCircle,r,"#0000FF",Xr+(e.length-1)*this.cellSize,Qr+this.cellSize,this.cellSize/2);let o=0,l=e.length-1,d=0,c=0,u=this.galilRuleEnabled?1:0;for(this.highlight(u+4,0,this.codeID);o<=t.length-e.length;){u=this.galilRuleEnabled?1:0;for(let t=o;t<o+e.length;t++)this.cmd(Xn.setText,this.comparisonMatrixID[d][t],e.charAt(t-o),s,h),t-o<c&&this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[d][t],"#FFFF4D");for(this.highlight(u+5,0,this.codeID),this.cmd(Xn.step),this.unhighlight(u+5,0,this.codeID),this.highlight(u+6,0,this.codeID);l>=c&&e.charAt(l)===t.charAt(o+l);)if(this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[d][o+l],"#2ECC71"),l--,this.highlight(u+7,0,this.codeID),this.cmd(Xn.step),this.unhighlight(u+7,0,this.codeID),l>=0){const t=(o+l)*this.cellSize+Xr;this.cmd(Xn.move,n,t,Qr);const e=(d+1)*this.cellSize+Qr;this.cmd(Xn.move,r,t,e),this.cmd(Xn.step)}if(this.unhighlight(u+6,0,this.codeID),this.highlight(u+9,0,this.codeID),this.cmd(Xn.step),this.unhighlight(u+9,0,this.codeID),l<c)this.highlight(u+10,0,this.codeID),this.highlight(u+11,0,this.codeID),this.galilRuleEnabled?(this.highlight(u+12,0,this.codeID),o+=this.period,c=e.length-this.period):o++,this.cmd(Xn.step),this.unhighlight(u+10,0,this.codeID),this.unhighlight(u+11,0,this.codeID),this.unhighlight(u+12,0,this.codeID);else{let e;this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),0!==c&&(c=0),u=this.galilRuleEnabled?2:0,this.highlight(12+u,0,this.codeID),this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[d][o+l],"#E74C3C"),this.cmd(Xn.step),this.unhighlight(12+u,0,this.codeID),this.highlight(13+u,0,this.codeID),e=t.charAt(o+l)in a?a[t.charAt(o+l)]:-1,this.cmd(Xn.step),this.unhighlight(13+u,0,this.codeID),this.highlight(14+u,0,this.codeID),this.cmd(Xn.step),this.unhighlight(14+u,0,this.codeID),e<l?(this.highlight(15+u,0,this.codeID),o+=l-e):(this.highlight(16+u,0,this.codeID),this.cmd(Xn.step),this.unhighlight(16+u,0,this.codeID),this.highlight(17+u,0,this.codeID),o++),this.cmd(Xn.step),this.unhighlight(15+u,0,this.codeID),this.unhighlight(17+u,0,this.codeID),this.highlight(19+u,0,this.codeID),this.cmd(Xn.step),this.unhighlight(19+u,0,this.codeID)}if(l=e.length-1,d++,o<=t.length-e.length){const t=(o+l)*this.cellSize+Xr;this.cmd(Xn.move,n,t,Qr);const e=(d+1)*this.cellSize+Qr;this.cmd(Xn.move,r,t,e)}}return u=this.galilRuleEnabled?1:0,this.unhighlight(u+4,0,this.codeID),this.cmd(Xn.step),this.cmd(Xn.delete,n),this.cmd(Xn.delete,r),this.commands}getMaxRows(t,e){if(this.galilRuleEnabled){const t=[];t[0]=0;let i=0,s=1;for(;s<e.length;)e.charAt(i)===e.charAt(s)?(i++,t[s]=i,s++):0===i?(t[s]=i,s++):i=t[i-1];this.period=e.length-t[e.length-1]}const i={};for(let r=0;r<e.length;r++)i[e.charAt(r)]=r;let s=0,h=e.length-1,a=0,n=0;for(;s<=t.length-e.length;){for(;h>=n&&e.charAt(h)===t.charAt(s+h);)h--;if(h<n)this.galilRuleEnabled?(s+=this.period,n=e.length-this.period):s++;else{let e;0!==n&&(n=0),e=t.charAt(s+h)in i?i[t.charAt(s+h)]:-1,e<h?s+=h-e:s++}h=e.length-1,a++}return a}onlyBuildLastOccurrenceTable(t,e){return this.commands=[],e?(this.cellSize=30,this.buildLastTable(t,e),this.commands):(this.shake(this.blotButton),this.cmd(Xn.setText,this.infoLabelID,"Pattern must not be empty"),this.commands)}buildLastTable(t,e){const i=Xr+t*this.cellSize+10;this.cmd(Xn.createLabel,this.patternTableLabelID,"Pattern:",i,75,0),this.cmd(Xn.createLabel,this.lastTableLabelID,"Last occurence table:",i,150,0),this.cmd(Xn.move,this.comparisonCountID,i,15),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.codeID=this.addCodeToCanvasBaseAll(dr.BoyerMoore,"lastTable",i,205);const s=Xr+t*this.cellSize+80;this.patternTableCharacterID=new Array(e.length),this.patternTableIndexID=new Array(e.length);for(let l=0;l<e.length;l++){const t=s+l*this.cellSize;this.patternTableCharacterID[l]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex++,e.charAt(l),this.cellSize,this.cellSize,t,80),this.patternTableIndexID[l]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,l,t,80+this.cellSize)}const h={},a=Xr+t*this.cellSize+155;this.lastTableCharacterID=[],this.lastTableValueID=[];let n=0;const r=this.nextIndex++;this.cmd(Xn.createHighlightCircle,r,"#0000FF",s,80,this.cellSize/2),this.cmd(Xn.setHighlight,r,1),this.highlight(2,0,this.codeID);for(let l=0;l<e.length;l++){this.cmd(Xn.step);let t=s+l*this.cellSize;this.cmd(Xn.move,r,t,80),this.highlight(3,0,this.codeID),h[e.charAt(l)]?(this.cmd(Xn.setText,h[e.charAt(l)][1],l),this.cmd(Xn.setHighlight,h[e.charAt(l)][1],1),h[e.charAt(l)][0]=l):(t=a+n*this.cellSize,this.lastTableCharacterID.push(this.nextIndex),this.cmd(Xn.createRectangle,this.nextIndex,e.charAt(l),this.cellSize,this.cellSize,t,Zr),this.cmd(Xn.setBackgroundColor,this.nextIndex++,"#D3D3D3"),this.lastTableValueID.push(this.nextIndex),this.cmd(Xn.createRectangle,this.nextIndex,l,this.cellSize,this.cellSize,t,Zr+this.cellSize),this.cmd(Xn.setHighlight,this.nextIndex,1),n++,h[e.charAt(l)]=[l,this.nextIndex++]),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.cmd(Xn.setHighlight,h[e.charAt(l)][1],0)}this.unhighlight(2,0,this.codeID),this.cmd(Xn.delete,r);const o=a+n*this.cellSize;return this.lastTableCharacterID.push(this.nextIndex),this.cmd(Xn.createRectangle,this.nextIndex,"*",this.cellSize,this.cellSize,o,Zr),this.cmd(Xn.setBackgroundColor,this.nextIndex++,"#D3D3D3"),this.lastTableValueID.push(this.nextIndex),this.cmd(Xn.createRectangle,this.nextIndex++,"-1",this.cellSize,this.cellSize,o,Zr+this.cellSize),this.highlight(5,0,this.codeID),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),Object.keys(h).map((t=>h[t]=h[t][0])),h}buildFailureTable(t,e){const i=this.nextIndex;this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[];const s=Xr+t*this.cellSize+10;this.cmd(Xn.createLabel,this.failureTableLabelID,"Failure table:",s,225,0),this.cmd(Xn.move,this.periodLabelID,s,35),this.cmd(Xn.setText,this.periodLabelID,"Period = pattern.length - FT[pattern.length - 1]"),this.codeID=this.addCodeToCanvasBaseAll(dr.KMP,"failureTable",s,275,14);const h=Xr+t*this.cellSize+110;this.failureTableCharacterID=new Array(e.length),this.failureTableValueID=new Array(e.length);for(let c=0;c<e.length;c++){const t=h+c*this.cellSize;this.failureTableCharacterID[c]=this.nextIndex++,this.cmd(Xn.createRectangle,this.failureTableCharacterID[c],e.charAt(c),this.cellSize,this.cellSize,t,Yr),this.cmd(Xn.setBackgroundColor,this.failureTableCharacterID[c],"#D3D3D3"),this.failureTableValueID[c]=this.nextIndex++,this.cmd(Xn.createRectangle,this.failureTableValueID[c],"",this.cellSize,this.cellSize,t,Yr+this.cellSize)}this.cmd(Xn.step);const a=this.nextIndex++,n=this.nextIndex++;this.cmd(Xn.createHighlightCircle,a,"#0000FF",h,Yr,this.cellSize/2),this.cmd(Xn.createHighlightCircle,n,"#FF0000",h+this.cellSize,Yr,this.cellSize/2),this.cmd(Xn.setText,this.failureTableValueID[0],0),this.highlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID);const r=[];r[0]=0;let o=0,l=1;for(this.highlight(5,0,this.codeID);l<e.length;)this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(6,0,this.codeID),this.cmd(Xn.step),this.unhighlight(6,0,this.codeID),e.charAt(o)===e.charAt(l)?(this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),o++,r[l]=o,this.cmd(Xn.setText,this.failureTableValueID[l],o),l++,l<e.length&&(this.cmd(Xn.move,a,h+o*this.cellSize,Yr),this.cmd(Xn.move,n,h+l*this.cellSize,Yr)),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID)):(this.highlight(9,0,this.codeID),this.cmd(Xn.step),this.unhighlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Xn.step),this.unhighlight(10,0,this.codeID),0===o?(this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),r[l]=o,this.cmd(Xn.setText,this.failureTableValueID[l],o),l++,l<e.length&&this.cmd(Xn.move,n,h+l*this.cellSize,Yr),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID)):(this.highlight(14,0,this.codeID),this.cmd(Xn.step),this.unhighlight(14,0,this.codeID),this.highlight(15,0,this.codeID),o=r[o-1],this.cmd(Xn.move,a,h+o*this.cellSize,Yr),this.cmd(Xn.step),this.unhighlight(15,0,this.codeID)));this.unhighlight(5,0,this.codeID),this.highlight(18,0,this.codeID),this.cmd(Xn.step),this.unhighlight(18,0,this.codeID),this.cmd(Xn.setText,this.periodLabelID,"Period = "+e.length+" - "+r[e.length-1]);const d=this.nextIndex++;this.cmd(Xn.createHighlightCircle,d,"#FF0000",h+this.cellSize*(e.length-1),Yr+this.cellSize,this.cellSize/2),this.cmd(Xn.step),this.period=e.length-r[e.length-1],this.cmd(Xn.setText,this.periodLabelID,"Period = "+this.period),this.cmd(Xn.delete,d),0!==this.failureTableValueID.length&&this.cmd(Xn.delete,this.failureTableLabelID);for(let c=0;c<this.failureTableCharacterID.length;c++)this.cmd(Xn.delete,this.failureTableCharacterID[c]),this.cmd(Xn.delete,this.failureTableValueID[c]);return this.cmd(Xn.delete,a),this.cmd(Xn.delete,n),this.removeCode(this.codeID),this.nextIndex=i,r}clear(t){this.commands=[];for(let e=0;e<this.textRowID.length;e++)this.cmd(Xn.delete,this.textRowID[e]);this.textRowID=[];for(let e=1;e<this.rowCountID.length;e++)this.cmd(Xn.delete,this.rowCountID[e]);this.rowCountID=[];for(let e=0;e<this.comparisonMatrixID.length;e++)for(let t=0;t<this.comparisonMatrixID[e].length;t++)this.cmd(Xn.delete,this.comparisonMatrixID[e][t]);this.comparisonMatrixID=[],0!==this.patternTableCharacterID.length&&this.cmd(Xn.delete,this.patternTableLabelID);for(let e=0;e<this.patternTableCharacterID.length;e++)this.cmd(Xn.delete,this.patternTableCharacterID[e]),this.cmd(Xn.delete,this.patternTableIndexID[e]);this.patternTableCharacterID=[],this.patternTableIndexID=[],0!==this.lastTableCharacterID.length&&this.cmd(Xn.delete,this.lastTableLabelID);for(let e=0;e<this.lastTableCharacterID.length;e++)this.cmd(Xn.delete,this.lastTableCharacterID[e]),this.cmd(Xn.delete,this.lastTableValueID[e]);return this.removeCode(this.codeID),t||(this.textField.value="",this.patternField.value=""),this.compCount=0,this.cmd(Xn.setText,this.comparisonCountID,""),this.cmd(Xn.setText,this.periodLabelID,""),this.cmd(Xn.setText,this.infoLabelID,""),this.lastTableCharacterID=[],this.lastTableValueID=[],this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.period=1,this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],KMP:["KMP",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Yn("Text:"),this.textField=er("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),26,!1),this.controls.push(this.textField),Yn("Pattern:"),this.patternField=er("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),26,!1),this.controls.push(this.patternField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),Yn("or"),this.bftButton=er("Button","Build Failure Table"),this.bftButton.onclick=this.buildFailureTableCallback.bind(this),this.controls.push(this.bftButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["Random","Random"],["aaaa in aaaaaaaaaaaaa","aaaa in aaaaaaaaaaaaa"],["aaab in aaaaaaaaaaaaa","aaab in aaaaaaaaaaaaa"],["baaa in aaaaaaaaaaaaa","baaa in aaaaaaaaaaaaa"],["aaaa in aaabaaabaaaba","aaaa in aaabaaabaaaba"],["aaab in aaabaaabaaaba","aaab in aaabaaabaaaba"],["baaa in aaabaaabaaaba","baaa in aaabaaabaaaba"],["abab in abacabacababa","abab in abacabacababa"],["lack in sphinxofblackquartz","lack in sphinxofblackquartz"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){this.textField.value=t.get("text"),this.patternField.value=t.get("pattern"),this.findCallback()}setup(){this.commands=[],this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"",575,30,0),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=dr.KMP,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[],this.codeID=[],this.comparisonCountID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.compCount=0}findCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.textField.value,e=this.patternField.value;this.implementAction(this.find.bind(this),t,e)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e,i;if("Random"===t)i=this.generateRandomString(3,"abc"),e=this.generateRandomString(15,"abc",i);else{const s=t.split(" in ");e=s[1],i=s[0]}this.textField.value=e,this.patternField.value=i,this.exampleDropdown.value=""}generateRandomString(t,e,i){let s="";if(i){const h=Math.floor(Math.random()*(t-i.length+1));for(let a=0;a<t;a++)if(a>=h&&a<h+i.length)s+=i[a-h];else{s+=e[Math.floor(Math.random()*e.length)]}}else for(let h=0;h<t;h++){s+=e[Math.floor(Math.random()*e.length)]}return s}buildFailureTableCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.patternField.value;this.implementAction(this.onlyBuildFailureTable.bind(this),0,t)}clearCallback(){this.implementAction(this.clear.bind(this))}find(t,e){if(this.commands=[],!t||!e)return this.shake(this.findButton),this.cmd(Xn.setText,this.infoLabelID,"Text and pattern must not be empty"),this.commands;if(t.length<e.length)return this.cmd(Xn.setText,this.infoLabelID,"Pattern is longer than text, no matches exist"),this.commands;const i=this.getMaxRows(t,e);this.cellSize=i<=14?30:i<=17?25:20,this.textRowID=new Array(t.length),this.comparisonMatrixID=new Array(i);for(let p=0;p<i;p++)this.comparisonMatrixID[p]=new Array(t.length);let s,h;for(let p=0;p<t.length;p++)s=p*this.cellSize+Dl,h=35,this.textRowID[p]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,p,s,h);for(let p=1;p<=i;p++)s=50,h=p*this.cellSize+yl,this.rowCountID[p]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,`Row ${p}`,s,h);for(let p=0;p<t.length;p++)s=p*this.cellSize+Dl,h=yl,this.textRowID[p+t.length]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex,t.charAt(p),this.cellSize,this.cellSize,s,h),this.cmd(Xn.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(let p=0;p<i;p++)for(let e=0;e<t.length;e++)s=e*this.cellSize+Dl,h=(p+1)*this.cellSize+yl,this.comparisonMatrixID[p][e]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,s,h);const a=this.buildFailureTable(t.length,e);this.removeCode(this.codeID);const n=Dl+t.length*this.cellSize+110;this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",Dl+t.length*this.cellSize+10,195);const r=this.nextIndex++,o=this.nextIndex++,l=this.nextIndex++,d=this.nextIndex++,c=this.nextIndex++;this.cmd(Xn.createHighlightCircle,r,"#0000FF",Dl,yl,this.cellSize/2),this.cmd(Xn.createHighlightCircle,o,"#0000FF",Dl,yl+this.cellSize,this.cellSize/2),this.cmd(Xn.createHighlightCircle,l,"#FF0000",Dl,yl+this.cellSize,this.cellSize/2),this.cmd(Xn.createHighlightCircle,d,"#FF0000",n,vl,this.cellSize/2),this.cmd(Xn.createHighlightCircle,c,"#FF0000",n,vl+this.cellSize,this.cellSize/2),this.cmd(Xn.setAlpha,l,0),this.cmd(Xn.setAlpha,d,0),this.cmd(Xn.setAlpha,c,0);let u=0,m=0,g=0;for(this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID);u<=t.length-e.length;){for(let t=u;t<u+e.length;t++)this.cmd(Xn.setText,this.comparisonMatrixID[g][t],e.charAt(t-u),s,h),t-u<m&&this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[g][t],"#FFFF4D");for(this.cmd(Xn.step),this.highlight(5,0,this.codeID),this.cmd(Xn.setAlpha,l,0),this.cmd(Xn.setAlpha,d,0),this.cmd(Xn.setAlpha,c,0);m<e.length&&e.charAt(m)===t.charAt(u+m);)this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[g][u+m],"#2ECC71"),m++,this.highlight(6,0,this.codeID),this.cmd(Xn.step),this.unhighlight(6,0,this.codeID),m<e.length&&(s=(u+m)*this.cellSize+Dl,this.cmd(Xn.move,r,s,yl),h=(g+1)*this.cellSize+yl,this.cmd(Xn.move,o,s,h),this.cmd(Xn.step));if(this.unhighlight(5,0,this.codeID),m<e.length&&this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(8,0,this.codeID),this.cmd(Xn.step),0===m)this.unhighlight(8,0,this.codeID),this.highlight(9,0,this.codeID),this.cmd(Xn.step),this.unhighlight(9,0,this.codeID),this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[g][u],"#E74C3C"),u++;else{this.unhighlight(8,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Xn.step),this.unhighlight(10,0,this.codeID),this.highlight(11,0,this.codeID),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),m!==e.length?this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[g][u+m],"#E74C3C"):(this.highlight(12,0,this.codeID),this.cmd(Xn.step),this.unhighlight(12,0,this.codeID)),this.highlight(14,0,this.codeID);const t=a[m-1];this.cmd(Xn.setPosition,l,(u+m-1)*this.cellSize+Dl,(g+1)*this.cellSize+yl),this.cmd(Xn.setPosition,d,n+(m-1)*this.cellSize,vl),this.cmd(Xn.setPosition,c,n+(m-1)*this.cellSize,vl+this.cellSize),this.cmd(Xn.setAlpha,l,1),this.cmd(Xn.setAlpha,d,1),this.cmd(Xn.setAlpha,c,1),this.cmd(Xn.step),this.unhighlight(14,0,this.codeID),this.highlight(15,0,this.codeID),this.highlight(16,0,this.codeID),u+=m-t,m=t}g++,u<=t.length-e.length&&(s=(u+m)*this.cellSize+Dl,this.cmd(Xn.move,r,s,yl),h=(g+1)*this.cellSize+yl,this.cmd(Xn.move,o,s,h)),this.cmd(Xn.step),this.unhighlight(15,0,this.codeID),this.unhighlight(16,0,this.codeID)}return this.unhighlight(4,0,this.codeID),this.cmd(Xn.delete,r),this.cmd(Xn.delete,o),this.cmd(Xn.delete,l),this.cmd(Xn.delete,d),this.cmd(Xn.delete,c),this.commands}getMaxRows(t,e){const i=[];i[0]=0;let s=0,h=1;for(;h<e.length;)e.charAt(s)===e.charAt(h)?(s++,i[h]=s,h++):0===s?(i[h]=s,h++):s=i[s-1];s=0,h=0;let a=0;for(;s<=t.length-e.length;){for(;h<e.length&&e.charAt(h)===t.charAt(s+h);)h++;if(0===h)s++;else{const t=i[h-1];s+=h-t,h=t}a++}return a}onlyBuildFailureTable(t,e){return this.commands=[],e?(this.cellSize=30,this.buildFailureTable(t,e),this.commands):(this.shake(this.bftButton),this.cmd(Xn.setText,this.infoLabelID,"Pattern must not be empty"),this.commands)}buildFailureTable(t,e){const i=Dl+t*this.cellSize+10;this.cmd(Xn.createLabel,this.failureTableLabelID,"Failure table:",i,110,0),this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"failureTable",i,195),this.cmd(Xn.move,this.comparisonCountID,i,30),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount);const s=Dl+t*this.cellSize+110;this.failureTableCharacterID=new Array(e.length),this.failureTableValueID=new Array(e.length);for(let l=0;l<e.length;l++){const t=s+l*this.cellSize;this.failureTableCharacterID[l]=this.nextIndex++,this.cmd(Xn.createRectangle,this.failureTableCharacterID[l],e.charAt(l),this.cellSize,this.cellSize,t,vl),this.cmd(Xn.setBackgroundColor,this.failureTableCharacterID[l],"#D3D3D3"),this.failureTableValueID[l]=this.nextIndex++,this.cmd(Xn.createRectangle,this.failureTableValueID[l],"",this.cellSize,this.cellSize,t,vl+this.cellSize)}this.cmd(Xn.step);const h=this.nextIndex++,a=this.nextIndex++;this.cmd(Xn.createHighlightCircle,h,"#0000FF",s,vl,this.cellSize/2),this.cmd(Xn.createHighlightCircle,a,"#FF0000",s+this.cellSize,vl,this.cellSize/2),this.cmd(Xn.setText,this.failureTableValueID[0],0),this.highlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID);const n=[];n[0]=0;let r=0,o=1;for(this.highlight(5,0,this.codeID);o<e.length;)this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.highlight(6,0,this.codeID),this.cmd(Xn.step),this.unhighlight(6,0,this.codeID),e.charAt(r)===e.charAt(o)?(this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),r++,n[o]=r,this.cmd(Xn.setText,this.failureTableValueID[o],r),o++,o<e.length&&(this.cmd(Xn.move,h,s+r*this.cellSize,vl),this.cmd(Xn.move,a,s+o*this.cellSize,vl)),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID)):(this.highlight(9,0,this.codeID),this.cmd(Xn.step),this.unhighlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Xn.step),this.unhighlight(10,0,this.codeID),0===r?(this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),n[o]=r,this.cmd(Xn.setText,this.failureTableValueID[o],r),o++,o<e.length&&this.cmd(Xn.move,a,s+o*this.cellSize,vl),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID)):(this.highlight(13,0,this.codeID),this.cmd(Xn.step),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID),r=n[r-1],this.cmd(Xn.move,h,s+r*this.cellSize,vl),this.cmd(Xn.step),this.unhighlight(14,0,this.codeID)));return this.unhighlight(5,0,this.codeID),this.highlight(18,0,this.codeID),this.cmd(Xn.step),this.unhighlight(18,0,this.codeID),this.cmd(Xn.delete,h),this.cmd(Xn.delete,a),n}clear(t){this.commands=[];for(let e=0;e<this.textRowID.length;e++)this.cmd(Xn.delete,this.textRowID[e]);this.textRowID=[];for(let e=1;e<this.rowCountID.length;e++)this.cmd(Xn.delete,this.rowCountID[e]);this.rowCountID=[];for(let e=0;e<this.comparisonMatrixID.length;e++)for(let t=0;t<this.comparisonMatrixID[e].length;t++)this.cmd(Xn.delete,this.comparisonMatrixID[e][t]);this.comparisonMatrixID=[],0!==this.failureTableValueID.length&&this.cmd(Xn.delete,this.failureTableLabelID);for(let e=0;e<this.failureTableCharacterID.length;e++)this.cmd(Xn.delete,this.failureTableCharacterID[e]),this.cmd(Xn.delete,this.failureTableValueID[e]);return this.removeCode(this.codeID),this.codeID=[],t||(this.textField.value="",this.patternField.value=""),this.compCount=0,this.cmd(Xn.setText,this.comparisonCountID,""),this.cmd(Xn.setText,this.infoLabelID,""),this.failureTableCharacterID=[],this.failureTableValueID=[],this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],RabinKarp:["Rabin-Karp",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Yn("Text:"),this.textField=er("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),26,!1),this.controls.push(this.textField),Yn("Pattern"),this.patternField=er("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),26,!1),this.controls.push(this.patternField),this.findButton=er("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.baseField=er("Text",""),this.baseField.style.textAlign="center",this.baseField.onkeydown=this.returnSubmit(this.baseField,this.findCallback.bind(this),4,!0),this.controls.push(this.baseField),this.baseButton=er("Button","Change Base"),this.baseButton.onclick=this.baseCallback.bind(this),this.controls.push(this.baseButton),ir(),this.exampleDropdown=Jn([["","Select Example"],["Random","Random"],["aaaa in aaaaaaaaaaaaa","aaaa in aaaaaaaaaaaaa"],["aaab in aaaaaaaaaaaaa","aaab in aaaaaaaaaaaaa"],["baaa in aaaaaaaaaaaaa","baaa in aaaaaaaaaaaaa"],["aaaa in aaabaaabaaaba","aaaa in aaabaaabaaaba"],["aaab in aaabaaabaaaba","aaab in aaabaaabaaaba"],["baaa in aaabaaabaaaba","baaa in aaabaaabaaaba"],["abab in abacabacababa","abab in abacabacababa"],["lack in sphinxofblackquartz","lack in sphinxofblackquartz"]],"Example"),this.exampleDropdown.onchange=this.exampleCallback.bind(this),this.controls.push(this.exampleDropdown),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){if(t.has("base")){const e=parseInt(t.get("base"));Number.isInteger(e)&&e>0&&(this.baseField.value=e,this.baseCallback())}(t.has("text")||t.has("pattern"))&&(this.textField.value=t.get("text"),this.patternField.value=t.get("pattern"),this.findCallback())}setup(){this.commands=[],this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.baseLabelID=this.nextIndex++,this.characterValuesLabelID=this.nextIndex++,this.textHashLabelID=this.nextIndex++,this.textHashCalculationID=this.nextIndex++,this.patternHashLabelID=this.nextIndex++,this.patternHashCalculationID=this.nextIndex++,this.baseValue=1,this.comparisonCountID=this.nextIndex++,this.compCount=0,this.cmd(Xn.createLabel,this.comparisonCountID,"",575,30,0),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=dr.RabinKarp,this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}reset(){this.nextIndex=0,this.textRowID=[],this.rowCountID=[],this.comparisonMatrixID=[],this.baseLabelID=this.nextIndex++,this.characterValuesLabelID=this.nextIndex++,this.textHashLabelID=this.nextIndex++,this.textHashCalculationID=this.nextIndex++,this.patternHashLabelID=this.nextIndex++,this.patternHashCalculationID=this.nextIndex++,this.comparisonCountID=this.nextIndex++,this.infoLabelID=this.nextIndex++,this.compCount=0,this.codeID=[]}findCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.textField.value,e=this.patternField.value;this.implementAction(this.find.bind(this),t,e)}baseCallback(){const t=parseInt(this.baseField.value);this.implementAction(this.changeBase.bind(this),t)}exampleCallback(){const t=this.exampleDropdown.value;if(this.exampleDropdown.options[0].text=this.exampleDropdown.options[this.exampleDropdown.selectedIndex].text,!t)return;let e,i;if("Random"===t)i=this.generateRandomString(3,"abc"),e=this.generateRandomString(15,"abc",i);else{const s=t.split(" in ");e=s[1],i=s[0]}this.textField.value=e,this.patternField.value=i,this.exampleDropdown.value=""}generateRandomString(t,e,i){let s="";if(i){const h=Math.floor(Math.random()*(t-i.length+1));for(let a=0;a<t;a++)if(a>=h&&a<h+i.length)s+=i[a-h];else{s+=e[Math.floor(Math.random()*e.length)]}}else for(let h=0;h<t;h++){s+=e[Math.floor(Math.random()*e.length)]}return s}changeBase(t){return this.commands=[],t&&0!==t?(this.cmd(Xn.setText,this.infoLabelID,"Base set to "+t),this.baseValue=t):(this.shake(this.baseButton),this.cmd(Xn.setText,this.infoLabelID,"Base must be a non-zero integer")),this.commands}clearCallback(){this.implementAction(this.clear.bind(this))}find(t,e){if(this.commands=[],t=t.replace(/[^a-zA-Z]/g,"").toLowerCase(),e=e.replace(/[^a-zA-Z]/g,"").toLowerCase(),!t||!e)return this.shake(this.findButton),this.cmd(Xn.setText,this.infoLabelID,"Text and pattern must be lowercase letters"),this.commands;if(t.length<e.length)return this.cmd(Xn.setText,this.infoLabelID,"Pattern is longer than text, no matches exist"),this.commands;const i=t.length-e.length+1;this.cellSize=i<=14?30:i<=17?25:20,this.textRowID=new Array(t.length),this.rowCountID=new Array(i),this.comparisonMatrixID=new Array(i);for(let f=0;f<i;f++)this.comparisonMatrixID[f]=new Array(t.length);let s,h;for(let f=0;f<t.length;f++)s=f*this.cellSize+Cd,h=35,this.textRowID[f]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,f,s,h);for(let f=1;f<=i;f++)s=50,h=f*this.cellSize+wd,this.rowCountID[f]=this.nextIndex,this.cmd(Xn.createLabel,this.nextIndex++,`Row ${f}`,s,h);for(let f=0;f<t.length;f++)s=f*this.cellSize+Cd,h=wd,this.textRowID[f+t.length]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex,t.charAt(f),this.cellSize,this.cellSize,s,h),this.cmd(Xn.setBackgroundColor,this.nextIndex++,"#D3D3D3");for(let f=0;f<i;f++)for(let e=0;e<t.length;e++)s=e*this.cellSize+Cd,h=(f+1)*this.cellSize+wd,this.comparisonMatrixID[f][e]=this.nextIndex,this.cmd(Xn.createRectangle,this.nextIndex++,"",this.cellSize,this.cellSize,s,h);const a=Cd+t.length*this.cellSize+10;this.cmd(Xn.createLabel,this.baseLabelID,`Base constant = ${this.baseValue}`,a,45,0),this.cmd(Xn.createLabel,this.characterValuesLabelID,"Character values: a = 0, b = 1, ..., z = 25",a,60,0),this.cmd(Xn.createLabel,this.textHashLabelID,"Text hash:",a,100,0),this.cmd(Xn.createLabel,this.patternHashLabelID,"Pattern hash:",a,115,0),this.cmd(Xn.move,this.comparisonCountID,a,30),this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+this.compCount),this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"find",a,180);let n="",r=0,o="",l=0;const d=Math.pow(this.baseValue,e.length-1);let c=d;for(let f=0;f<e.length;f++)r+=(t.charCodeAt(f)-97)*c,n+=`(${t.charAt(f)} * ${c}) + `,l+=(e.charCodeAt(f)-97)*c,o+=`(${e.charAt(f)} * ${c}) + `,c/=this.baseValue;n=n.substring(0,n.length-2)+" = "+r,o=o.substring(0,o.length-2)+" = "+l;const u=Cd+t.length*this.cellSize+100;this.cmd(Xn.createLabel,this.textHashCalculationID,n,u,100,0),this.cmd(Xn.createLabel,this.patternHashCalculationID,o,u,115,0);const m=this.nextIndex++,g=this.nextIndex++;this.highlight(1,0,this.codeID),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID);let p=0;for(let f=0;f<=t.length-e.length;f++){for(let t=f;t<f+e.length;t++)this.cmd(Xn.setText,this.comparisonMatrixID[p][t],e.charAt(t-f),s,h);if(this.cmd(Xn.step),this.highlight(6,0,this.codeID),this.cmd(Xn.step),l===r){this.unhighlight(6,0,this.codeID),this.highlight(7,0,this.codeID),s=f*this.cellSize+Cd,this.cmd(Xn.createHighlightCircle,m,"#0000FF",s,wd,this.cellSize/2),h=(p+1)*this.cellSize+wd,this.cmd(Xn.createHighlightCircle,g,"#0000FF",s,h,this.cellSize/2),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Xn.step);let i=0;for(;i<e.length&&e.charAt(i)===t.charAt(f+i);)this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[p][f+i],"#2ECC71"),i++,this.highlight(9,0,this.codeID),i!==e.length&&(s=(f+i)*this.cellSize+Cd,this.cmd(Xn.move,m,s,wd),h=(p+1)*this.cellSize+wd,this.cmd(Xn.move,g,s,h)),this.cmd(Xn.step),this.unhighlight(9,0,this.codeID);this.unhighlight(8,0,this.codeID),this.highlight(11,0,this.codeID),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),i!==e.length?(this.cmd(Xn.setText,this.comparisonCountID,"Comparison Count: "+ ++this.compCount),this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[p][f+i],"#E74C3C")):(this.highlight(12,0,this.codeID),this.cmd(Xn.step),this.unhighlight(12,0,this.codeID)),this.cmd(Xn.delete,m),this.cmd(Xn.delete,g),this.cmd(Xn.step)}else{for(let t=f;t<f+e.length;t++)this.cmd(Xn.setBackgroundColor,this.comparisonMatrixID[p][t],"#FFFF4D");this.cmd(Xn.step),this.unhighlight(6,0,this.codeID)}if(this.highlight(15,0,this.codeID),this.cmd(Xn.step),f<t.length-e.length){this.unhighlight(15,0,this.codeID),this.highlight(16,0,this.codeID),r=this.baseValue*(r-d*(t.charCodeAt(f)-97))+(t.charCodeAt(f+e.length)-97),n="",c=d;for(let i=0;i<e.length;i++)n+=`(${t.charAt(i+f+1)} * ${c}) + `,c/=this.baseValue;n=n.substring(0,n.length-2)+" = "+r,this.cmd(Xn.setText,this.textHashCalculationID,n),this.cmd(Xn.step),this.unhighlight(16,0,this.codeID)}this.unhighlight(15,0,this.codeID),this.highlight(18,0,this.codeID),this.cmd(Xn.step),this.unhighlight(18,0,this.codeID),p++}return this.unhighlight(5,0,this.codeID),this.commands}clear(t){this.commands=[],0!==this.textRowID.length&&(this.cmd(Xn.delete,this.baseLabelID),this.cmd(Xn.delete,this.characterValuesLabelID),this.cmd(Xn.delete,this.textHashLabelID),this.cmd(Xn.delete,this.textHashCalculationID),this.cmd(Xn.delete,this.patternHashLabelID),this.cmd(Xn.delete,this.patternHashCalculationID));for(let e=0;e<this.textRowID.length;e++)this.cmd(Xn.delete,this.textRowID[e]);this.textRowID=[];for(let e=1;e<this.rowCountID.length;e++)this.cmd(Xn.delete,this.rowCountID[e]);this.rowCountID=[];for(let e=0;e<this.comparisonMatrixID.length;e++)for(let t=0;t<this.comparisonMatrixID[e].length;t++)this.cmd(Xn.delete,this.comparisonMatrixID[e][t]);return t||(this.textField.value="",this.patternField.value="",this.baseField.value=""),this.comparisonMatrixID=[],this.compCount=0,this.cmd(Xn.setText,this.comparisonCountID,""),this.cmd(Xn.setText,this.infoLabelID,""),this.removeCode(this.codeID),this.codeID=[],this.commands}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},!0],CreateGraph:["Graph Representations",class extends Nr{constructor(t,e,i){super(t,e,i,Sr),this.addControls(),this.nextIndex=0}addControls(){Yn("Adjacency List: ");const t=sr(!1),e=sr(!0,t);this.listField=document.createElement("textarea"),this.listField.classList.add("scrollable-textbox"),this.listField.style.width="200px",this.listField.style.height="100px",this.listField.value="A->B,C,D,E\nB->A,G\nC->A\nD->A,F\nE->A,G\nF->D,G\nG->B,E,F,H\nH->G",this.listField.addEventListener("input",(function(t){if(!/^[A-H->,\n]*$/.test(this.value)){const t=this.selectionStart-1;this.value=this.value.replace(/[^A-H->,\n]/g,""),this.setSelectionRange(t,t)}})),e.appendChild(this.listField),ir(),this.runButton=er("Button","Run"),this.runButton.onclick=this.startCallback.bind(this),ir();const i=tr(["Logical Representation","Adjacency List Representation","Adjacency Matrix Representation"],"GraphRepresentation");this.logicalButton=i[0],this.logicalButton.onclick=this.graphRepChangedCallback.bind(this,1),this.adjacencyListButton=i[1],this.adjacencyListButton.onclick=this.graphRepChangedCallback.bind(this,2),this.adjacencyMatrixButton=i[2],this.adjacencyMatrixButton.onclick=this.graphRepChangedCallback.bind(this,3),this.logicalButton.checked=!0}startCallback(){if(""!==this.listField.value){const t=this.listField.value.split("\n").map((t=>{let[e,i]=t.split("->");return e=e.trim(),i=i?i.split(","):[],{node:e.trim(),neighbors:i.map((t=>t.trim()))}}));this.updateAdjMatrix(t),this.smallGraphCallback(nc)}else this.shake(this.runButton)}updateAdjMatrix(t){nc=nc.map((t=>t.map((()=>-1)))),t.forEach((t=>{let{node:e,neighbors:i}=t;const s=e.charCodeAt(0)-"A".charCodeAt(0);i.forEach((t=>{const e=t.charCodeAt(0)-"A".charCodeAt(0);nc[s][e]=1,nc[e][s]=1})),nc[s][s]=1}))}setup(t){super.setup(t),this.commands=[],this.messageID=[],this.visited=[],this.stackID=[],this.listID=[],this.visitedID=[],this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.listID=[],this.visitedID=[],this.messageID=[]}clear(){for(let t=0;t<this.size;t++)this.cmd(Xn.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(let t=0;t<this.listID.length;t++)this.cmd(Xn.delete,this.listID[t]);this.listID=[];for(let t=0;t<this.visitedID.length;t++)this.cmd(Xn.delete,this.visitedID[t]);if(this.visitedID=[],null!=this.messageID)for(let t=0;t<this.messageID.length;t++)this.cmd(Xn.delete,this.messageID[t]);this.messageID=[],this.cmd(Xn.setText,this.infoLabelID,"")}smallGraphCallback(t){this.animationManager.resetAll(),this.setup_small(t)}},!0],BFS:["Breadth-First Search",class extends Nr{constructor(t,e,i){super(t,e,i,Sr),this.addControls()}addControls(){Yn("Start vertex: "),this.startField=er("Text",""),this.startField.style.textAlign="center",this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=er("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),ir(),super.addControls()}setup(t){super.setup(t),this.commands=[],this.messageID=[],this.visited=[],this.queueID=[],this.listID=[],this.visitedID=[],this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.pseudocode=dr.BFS,this.cmd(Xn.createLabel,this.nextIndex++,"Visited Set:",25,90,0),this.cmd(Xn.createLabel,this.nextIndex++,"List:",25,40,0),this.cmd(Xn.createLabel,this.nextIndex++,"Current vertex:",25,140,0),this.cmd(Xn.createLabel,this.nextIndex++,"Queue:",25,165,0),this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"run",25,250),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.listID=[],this.messageID=[],this.visitedID=[]}startCallback(){if(""!==this.startField.value){let t=this.startField.value;this.startField.value="",t=t.toUpperCase(),this.implementAction(this.doBFS.bind(this),t)}else this.shake(this.startButton)}doBFS(t){this.commands=[];let e=t.charCodeAt(0)-65;if(e<0||e>=this.size)return this.shake(this.startButton),this.cmd(Xn.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands;for(this.clear(),this.queue=[],this.queueID=[],this.listID=[],this.visitedID=[],this.rebuildEdges(),this.cmd(Xn.setText,this.infoLabelID,"Enqueueing "+this.toStr(e)+" and adding to visited set"),this.visited[e]=!0,this.visitedID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(e),30,115),this.cmd(Xn.setBackgroundColor,this.circleID[e],jr),this.queue.push(e),this.queueID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(e),30,Or),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID);this.queue.length>0&&this.listID.length<this.size;){e=this.queue.shift(),this.highlight(6,0,this.codeID),this.highlight(7,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,"Dequeueing "+this.toStr(e)+" and adding to list"),this.cmd(Xn.setTextColor,this.queueID[0],"#0000FF"),this.cmd(Xn.move,this.queueID[0],115,146);for(let t=1;t<this.queueID.length;t++)this.cmd(Xn.move,this.queueID[t],30+20*(t-1),Or);this.listID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(e),30+20*(this.listID.length-1),65),this.visitVertex(e),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Xn.step),this.unhighlight(8,0,this.codeID);for(let t=0;t<this.size;t++)this.adj_matrix[e][t]>0&&(this.highlightEdge(e,t,1),this.highlight(9,0,this.codeID),this.cmd(Xn.step),this.highlight(10,0,this.codeID),this.cmd(Xn.step),this.visited[t]?this.cmd(Xn.setText,this.infoLabelID,this.toStr(t)+" has already been visited, skipping"):(this.unhighlight(10,0,this.codeID),this.highlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.visited[t]=!0,this.visitedID.push(this.nextIndex),this.cmd(Xn.setText,this.infoLabelID,this.toStr(t)+" has not yet been visited, enqueueing and adding to visited set"),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.visitedID.length-1),115),this.cmd(Xn.setBackgroundColor,this.circleID[t],jr),this.queue.push(t),this.queueID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.queue.length-1),Or)),this.unhighlight(10,0,this.codeID),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.unhighlight(12,0,this.codeID),this.highlightEdge(e,t,0)),this.unhighlight(9,0,this.codeID);this.unhighlight(8,0,this.codeID),this.cmd(Xn.delete,this.queueID.shift()),this.leaveVertex()}return this.unhighlight(6,0,this.codeID),this.queue.length>0?this.cmd(Xn.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(Xn.setText,this.infoLabelID,"Queue is empty, done"),this.commands}clear(){for(let t=0;t<this.size;t++)this.cmd(Xn.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(let t=0;t<this.listID.length;t++)this.cmd(Xn.delete,this.listID[t]);for(let t=0;t<this.visitedID.length;t++)this.cmd(Xn.delete,this.visitedID[t]);if(null!=this.messageID)for(let t=0;t<this.messageID.length;t++)this.cmd(Xn.delete,this.messageID[t]);this.messageID=[]}},!0],DFS:["Depth-First Search",class extends Nr{constructor(t,e,i){super(t,e,i,Sr),this.addControls(),this.physicalStack=!1}addControls(){Yn("Start vertex: "),this.startField=er("Text",""),this.startField.style.textAlign="center",this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.controls.push(this.startField),this.startButton=er("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),ir();const t=tr(["Recursion","Stack"],"StackType");this.recursiveStackButton=t[0],this.recursiveStackButton.onclick=this.stackCallback.bind(this,!1),this.recursiveStackButton.checked=!0,this.controls.push(this.recursiveStackButton),this.physicalStackButton=t[1],this.physicalStackButton.onclick=this.stackCallback.bind(this,!0),this.controls.push(this.physicalStackButton),ir(),super.addControls()}setup(t){super.setup(t),this.commands=[],this.messageID=[],this.visited=[],this.stackID=[],this.listID=[],this.visitedID=[],this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.cmd(Xn.createLabel,this.nextIndex++,"Visited Set:",25,95,0),this.cmd(Xn.createLabel,this.nextIndex++,"List:",25,45,0),this.cmd(Xn.createLabel,this.nextIndex++,"Current vertex:",25,145,0),this.stackLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.stackLabelID,this.physicalStack?"Stack:":"Recursive stack:   Recursive calls:",25,170,0),this.pseudocode=dr.DFS,this.physicalStack?this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"iterative",1e3,50):this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"recursive",1e3,50),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.listID=[],this.visitedID=[],this.messageID=[]}stackCallback(t){this.physicalStack!==t&&(this.physicalStack=t,this.animationManager.resetAll(),this.setup(this.adj_matrix))}startCallback(){if(""!==this.startField.value){let t=this.startField.value;this.startField.value="",t=t.toUpperCase(),this.physicalStack?this.implementAction(this.doDFSStack.bind(this),t):this.implementAction(this.doDFSRecursive.bind(this),t)}else this.shake(this.startButton)}doDFSStack(t){this.commands=[];let e=t.charCodeAt(0)-65;if(e<0||e>=this.size)return this.shake(this.startButton),this.cmd(Xn.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands;this.clear(),this.visited=new Array(this.size),this.stack=[],this.stackID=[],this.listID=[],this.visitedID=[],this.stackStartY=this.isLarge?465:335,this.stackSpacing=this.isLarge?16:20,this.rebuildEdges(),this.cmd(Xn.setText,this.infoLabelID,"Pushing "+this.toStr(e)+" and adding to visited set"),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID);let i=this.nextIndex++;for(this.visited[e]=!0,this.visitedID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(e),30,zo),this.cmd(Xn.setBackgroundColor,this.circleID[e],Bo),this.stack.push(e),this.stackID.push(i),this.cmd(Xn.createLabel,i,this.toStr(e),40,this.stackStartY),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID);this.stack.length>0&&this.listID.length<this.size;){e=this.stack.pop(),i=this.stackID.pop(),this.highlight(4,0,this.codeID),this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,"Popping "+this.toStr(e)+" and adding to list"),this.cmd(Xn.setTextColor,i,_o),this.cmd(Xn.move,i,115,151),this.listID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(e),30+20*(this.listID.length-1),70),this.visitVertex(e),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.highlight(6,0,this.codeID);for(let t=0;t<this.size;t++)this.adj_matrix[e][t]>0&&(this.highlightEdge(e,t,1),this.highlight(7,0,this.codeID),this.cmd(Xn.step),this.visited[t]?(this.unhighlight(7,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,this.toStr(t)+" has already been visited, skipping")):(this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.visited[t]=!0,this.visitedID.push(this.nextIndex),this.cmd(Xn.setText,this.infoLabelID,this.toStr(t)+" has not yet been visited, pushing and adding to visited set"),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.visitedID.length-1),zo),this.cmd(Xn.setBackgroundColor,this.circleID[t],Bo),this.stack.push(t),this.stackID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(t),40,this.stackStartY-(this.stack.length-1)*this.stackSpacing)),this.cmd(Xn.step),this.unhighlight(8,0,this.codeID));this.unhighlight(6,0,this.codeID),this.cmd(Xn.delete,i),this.leaveVertex()}return this.unhighlight(3,0,this.codeID),this.stack.length>0?this.cmd(Xn.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(Xn.setText,this.infoLabelID,"Stack is empty, done"),this.commands}doDFSRecursive(t){this.commands=[];const e=t.charCodeAt(0)-65;return e<0||e>=this.size?(this.shake(this.startButton),this.cmd(Xn.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands):(this.clear(),this.visited=new Array(this.size),this.listID=[],this.visitedID=[],this.stackStartY=this.isLarge?465:335,this.stackSpacing=this.isLarge?16:20,this.recursionSpacingX=this.isLarge?10:20,this.recursionSpacingY=this.isLarge?15:20,this.currentID=this.nextIndex++,this.rebuildEdges(),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.createLabel,this.currentID,"",115,151),this.cmd(Xn.setTextColor,this.currentID,_o),this.cmd(Xn.setText,this.infoLabelID,"About to recurse to "+this.toStr(t)),this.cmd(Xn.step),this.visitVertex(e),this.dfsVisit(e,125),this.cmd(Xn.setText,this.infoLabelID,"Returned from "+this.toStr(e)+", done"),this.cmd(Xn.delete,this.currentID),this.leaveVertex(),this.commands)}dfsVisit(t,e){this.cmd(Xn.setText,this.infoLabelID,"Visiting "+this.toStr(t)+" and adding to list"),this.cmd(Xn.setText,this.currentID,this.toStr(t)),this.stackID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(t),40,this.stackStartY-(this.stackID.length-1)*this.stackSpacing);const i=this.nextIndex++;this.messageID.push(i),this.cmd(Xn.createLabel,i,"DFS("+this.toStr(t)+")",e,185+(this.messageID.length-1)*this.recursionSpacingY,0),this.listID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.listID.length-1),70),this.visited[t]=!0,this.visitedID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(t),30+20*(this.visitedID.length-1),zo),this.cmd(Xn.setBackgroundColor,this.circleID[t],Bo),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.highlight(3,0,this.codeID);for(let s=0;s<this.size;s++)this.adj_matrix[t][s]>0&&(this.highlight(4,0,this.codeID),this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),this.visited[s]?(this.unhighlight(4,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,"Vertex "+this.toStr(s)+" already visited, skipping"),this.cmd(Xn.step)):(this.highlight(5,0,this.codeID),this.highlightEdge(t,s,1,"red"),this.cmd(Xn.setText,this.infoLabelID,"About to recurse to "+this.toStr(s)),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.unhighlight(3,0,this.codeID),this.leaveVertex(),this.visitVertex(s),this.dfsVisit(s,e+this.recursionSpacingX),this.highlight(3,0,this.codeID),this.leaveVertex(),this.visitVertex(t),this.cmd(Xn.setText,this.infoLabelID,"Returned from "+this.toStr(s)+" to "+this.toStr(t)),this.cmd(Xn.step)));this.unhighlight(3,0,this.codeID),this.cmd(Xn.delete,this.stackID.pop())}clear(){for(let t=0;t<this.size;t++)this.cmd(Xn.setBackgroundColor,this.circleID[t],"#FFFFFF"),this.visited[t]=!1;for(let t=0;t<this.listID.length;t++)this.cmd(Xn.delete,this.listID[t]);this.listID=[];for(let t=0;t<this.visitedID.length;t++)this.cmd(Xn.delete,this.visitedID[t]);if(this.visitedID=[],null!=this.messageID)for(let t=0;t<this.messageID.length;t++)this.cmd(Xn.delete,this.messageID[t]);this.messageID=[],this.cmd(Xn.setText,this.infoLabelID,"")}},!0],Dijkstra:["Dijkstra's",class extends Nr{constructor(t,e,i){super(t,e,i,Fr,!1,!1,!0),this.addControls()}addControls(){Yn("Start vertex: "),this.startField=er("Text",""),this.startField.style.textAlign="center",this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=er("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),ir(),super.addControls()}setup(t){super.setup(t),this.commands=[],this.vertexID=new Array(this.size),this.distance=new Array(this.size),this.distanceID=new Array(this.size),this.visited=[],this.visitedID=[],this.pq=new nl,this.pseudocode=dr.Dijkstras,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"run",1015,70),this.tableEntryHeight=this.isLarge?17:20;for(let e=0;e<this.size;e++)this.vertexID[e]=this.nextIndex++,this.distanceID[e]=this.nextIndex++,this.cmd(Xn.createRectangle,this.vertexID[e],this.toStr(e),ll,this.tableEntryHeight,50,dl+e*this.tableEntryHeight),this.cmd(Xn.createRectangle,this.distanceID[e],"",ll,this.tableEntryHeight,100,dl+e*this.tableEntryHeight),this.cmd(Xn.setTextColor,this.vertexID[e],Pr);this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.cmd(Xn.createLabel,this.nextIndex++,"Visited Set:",25,40,0),this.cmd(Xn.createLabel,this.nextIndex++,"Current vertex:",25,85,0),this.cmd(Xn.createLabel,this.nextIndex++,"Priority Queue:",25,110,0),this.cmd(Xn.createLabel,this.nextIndex++,"Distance Map:",75,160),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.comparisonMessageID=this.nextIndex++,this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.messageID=[],this.visitedID=[],this.pq=new nl}startCallback(){if(""!==this.startField.value){let t=this.startField.value;this.startField.value="",t=t.toUpperCase(),this.implementAction(this.doDijkstra.bind(this),t)}else this.shake(this.startButton)}doDijkstra(t){this.commands=[];let e=t.charCodeAt(0)-65;if(e<0||e>=this.size)return this.shake(this.startButton),this.cmd(Xn.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands;let i=this.nextIndex++;for(this.clear(),this.visitedID=[],this.distance[e]=0,this.cmd(Xn.setText,this.distanceID[e],0),this.pq=new nl,this.pq.enqueue(e,i,0),this.cmd(Xn.createLabel,i,"("+this.toStr(e)+", 0)",rl,ol,0),this.cmd(Xn.setText,this.infoLabelID,"Enqueueing "+this.toStr(e)+" with distance 0 and updating distance map"),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(3,0,this.codeID),this.highlight(4,0,this.codeID),this.highlight(5,0,this.codeID),this.cmd(Xn.step),this.unhighlight(4,0,this.codeID),this.unhighlight(5,0,this.codeID),this.highlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID),this.unhighlight(8,0,this.codeID);this.visited.includes(!1)&&0!==this.pq.size();){this.unhighlight(15,0,this.codeID),[e,i]=this.pq.dequeue(),this.cmd(Xn.setText,this.infoLabelID,"Dequeueing "+this.toStr(e)),this.cmd(Xn.move,i,110,85),this.cmd(Xn.setText,i,this.toStr(e)),this.cmd(Xn.setTextColor,i,"#0000FF");let t=this.pq.getIDs();for(let e=0;e<this.pq.size();e++)this.cmd(Xn.move,t[e],rl+e%9*42,ol+25*Math.floor(e/9));if(this.visitVertex(e),this.highlight(9,0,this.codeID),this.cmd(Xn.step),this.highlight(10,0,this.codeID),this.cmd(Xn.step),this.unhighlight(10,0,this.codeID),this.highlight(11,0,this.codeID),this.cmd(Xn.step),this.visited[e])this.cmd(Xn.setText,this.infoLabelID,this.toStr(e)+" has already been visited, skipping"),this.cmd(Xn.step);else{this.unhighlight(11,0,this.codeID),this.highlight(12,0,this.codeID),this.highlight(13,0,this.codeID),this.visited[e]=!0,this.cmd(Xn.setText,this.infoLabelID,"Adding "+this.toStr(e)+" to visited set"),this.visitedID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(e),30+20*(this.visitedID.length-1),65),this.cmd(Xn.setBackgroundColor,this.circleID[e],"#99CCFF"),this.cmd(Xn.step),this.cmd(Xn.setText,this.infoLabelID,"Updating neighbors of vertex "+this.toStr(e)),this.unhighlight(12,0,this.codeID),this.unhighlight(13,0,this.codeID),this.highlight(14,0,this.codeID);for(let i=0;i<this.size;i++)if(this.unhighlight(16,0,this.codeID),this.highlight(15,0,this.codeID),this.adj_matrix[e][i]>=0){if(this.highlightEdge(e,i,1),this.visited[i])this.cmd(Xn.setText,this.infoLabelID,this.toStr(i)+" has already been visited, skipping"),this.cmd(Xn.step);else{this.cmd(Xn.setText,this.infoLabelID,"Comparing distances"),this.cmd(Xn.setHighlight,this.distanceID[e],1),this.cmd(Xn.setHighlight,this.distanceID[i],1);const s=this.distance[e],h=this.adj_matrix[e][i],a=s+h,n=this.distance[i],r=n>=0?String(this.distance[i]):"INF";if(n<0||a<n){this.distance[i]=a,this.cmd(Xn.createLabel,this.comparisonMessageID,"New distance ("+s+" + "+h+" = "+a+") is less than old distance ("+r+"), updating",135,dl+i*this.tableEntryHeight-5,0),this.highlight(16,0,this.codeID),this.cmd(Xn.step),this.unhighlight(15,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,"Updating distance"),this.cmd(Xn.setText,this.distanceID[i],this.distance[i]),this.cmd(Xn.setHighlight,this.distanceID[e],0),this.cmd(Xn.setHighlight,this.distanceID[i],0),this.cmd(Xn.step),this.cmd(Xn.delete,this.comparisonMessageID),this.pq.enqueue(i,this.nextIndex,a),this.cmd(Xn.setText,this.infoLabelID,"Enqueueing "+this.toStr(i)+" with distance "+a),this.cmd(Xn.createLabel,this.nextIndex++,"("+this.toStr(i)+", "+a+")",rl+(this.pq.size()-1)%9*42,ol+25*Math.floor((this.pq.size()-1)/9),0),this.unhighlight(16,0,this.codeID),this.cmd(Xn.step);const n=this.pq.getIDs();if(String(t)!==String(n.slice(0,-1))){for(let t=0;t<this.pq.size();t++)this.cmd(Xn.move,n[t],rl+t%9*42,ol+25*Math.floor(t/9));this.cmd(Xn.step)}t=n}else this.cmd(Xn.createLabel,this.comparisonMessageID,"New distance ("+s+" + "+h+" = "+a+") is greater than or equal to old distance ("+r+"), skipping",135,dl+i*this.tableEntryHeight-5,0),this.cmd(Xn.delete,this.comparisonMessageID),this.cmd(Xn.setHighlight,this.distanceID[e],0),this.cmd(Xn.setHighlight,this.distanceID[i],0)}this.highlightEdge(e,i,0)}this.unhighlight(14,0,this.codeID)}this.leaveVertex(),this.cmd(Xn.delete,i),this.unhighlight(5,0,this.codeID)}return this.unhighlight(9,0,this.codeID),this.unhighlight(15,0,this.codeID),this.highlight(21,0,this.codeID),this.cmd(Xn.step),this.unhighlight(21,0,this.codeID),this.pq.size()>0?this.cmd(Xn.setText,this.infoLabelID,"All vertices have been visited, done"):this.cmd(Xn.setText,this.infoLabelID,"Priority queue is empty, done"),this.commands}clear(){for(let e=0;e<this.size;e++)this.cmd(Xn.setBackgroundColor,this.circleID[e],"#FFFFFF"),this.cmd(Xn.setText,this.distanceID[e],"INF"),this.visited[e]=!1,this.distance[e]=-1;for(let e=0;e<this.visitedID.length;e++)this.cmd(Xn.delete,this.visitedID[e]);const t=this.pq.getIDs();for(const e of t)this.cmd(Xn.delete,e);if(null!=this.messageID)for(let e=0;e<this.messageID.length;e++)this.cmd(Xn.delete,this.messageID[e]);this.messageID=[]}},!0],Prim:["Prim's",class extends Nr{constructor(t,e,i){super(t,e,i,Ar,!1,!1,!0),this.addControls()}addControls(){Yn("Start vertex: "),this.startField=er("Text",""),this.startField.style.textAlign="center",this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.controls.push(this.startField),this.startButton=er("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),ir(),super.addControls(!1)}setup(t){super.setup(t),this.commands=[],this.messageID=null,this.visited=[],this.visitedID=[],this.pq=new nl,this.pseudocode=dr.Prims,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"run",50,200),this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.cmd(Xn.createLabel,this.nextIndex++,"Visited Set:",25,40,0),this.cmd(Xn.createLabel,this.nextIndex++,"Current edge:",25,90,0),this.cmd(Xn.createLabel,this.nextIndex++,"Priority Queue:",25,115,0),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++,this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.messageID=[],this.visitedID=[],this.pq=new nl}startCallback(){if(""!==this.startField.value){let t=this.startField.value;this.startField.value="",t=t.toUpperCase(),this.implementAction(this.doPrim.bind(this),t)}else this.shake(this.startButton)}doPrim(t){this.commands=[];const e=t.charCodeAt(0)-65;if(e<0||e>=this.size)return this.shake(this.startButton),this.cmd(Xn.setText,this.infoLabelID,t+" is not a vertex in the graph"),this.commands;this.clear(),this.visitedID=[],this.visitVertex(e),this.visited[e]=!0,this.visitedID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(e),30,65),this.cmd(Xn.setBackgroundColor,this.circleID[e],id),this.cmd(Xn.setText,this.infoLabelID,"Adding "+this.toStr(e)+" to visited set"),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID),this.unhighlight(2,0,this.codeID),this.unhighlight(1,0,this.codeID),this.highlight(4,0,this.codeID),this.pq=new nl;let i=[];this.cmd(Xn.setText,this.infoLabelID,"Enqueuing edges of "+this.toStr(e));for(let s=0;s<this.size;s++){const t=this.adj_matrix[e][s];if(t>=0){this.highlightEdge(e,s,1),this.cmd(Xn.createLabel,this.nextIndex,"("+this.toStr(e)+this.toStr(s)+", "+t+")",45+this.pq.size()%8*50,sd+25*Math.floor(this.pq.size()/8)),this.pq.enqueue([e,s],this.nextIndex++,t),this.cmd(Xn.step);const h=this.pq.getIDs();if(String(i)!==String(h.slice(0,-1))){for(let t=0;t<this.pq.size();t++)this.cmd(Xn.move,h[t],45+t%8*50,sd+25*Math.floor(t/8));this.cmd(Xn.step)}i=h,this.highlightEdge(e,s,0)}}for(this.unhighlight(4,0,this.codeID),this.leaveVertex(),this.highlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.unhighlight(6,0,this.codeID),this.highlight(8,0,this.codeID);this.visited.includes(!1)&&0!==this.pq.size();){const[t,e]=this.pq.dequeue();let s=this.toStr(t[0])+this.toStr(t[1]);this.cmd(Xn.setText,this.infoLabelID,"Dequeued "+s+", with destination "+this.toStr(t[1])),this.cmd(Xn.move,e,110,96),this.cmd(Xn.setText,e,this.toStr(t[0])+this.toStr(t[1])),this.cmd(Xn.setTextColor,e,"#0000FF"),i=this.pq.getIDs();for(let h=0;h<this.pq.size();h++)this.cmd(Xn.move,i[h],45+h%8*50,sd+25*Math.floor(h/8));if(this.highlightEdge(t[0],t[1],1),this.visitVertex(t[1]),this.cmd(Xn.step),this.visited[t[1]])this.highlightEdge(t[0],t[1],0),this.cmd(Xn.setText,this.infoLabelID,this.toStr(t[1])+" has already been visited, skipping"),this.cmd(Xn.step);else{this.cmd(Xn.setText,this.infoLabelID,"Adding "+s+" to MST"),this.highlightEdge(t[0],t[1],0),this.setEdgeColor(t[0],t[1],"#3399FF"),this.setEdgeThickness(t[0],t[1],4),this.highlight(9,0,this.codeID),this.cmd(Xn.step),this.unhighlight(9,0,this.codeID),this.highlight(10,0,this.codeID),this.cmd(Xn.step),this.unhighlight(10,0,this.codeID),this.visited[t[1]]=!0,this.cmd(Xn.setText,this.infoLabelID,"Adding "+this.toStr(t[1])+" to visited set"),this.visitedID.push(this.nextIndex),this.cmd(Xn.createLabel,this.nextIndex++,this.toStr(t[1]),30+20*(this.visitedID.length-1),65),this.cmd(Xn.setBackgroundColor,this.circleID[t[1]],id),this.highlight(11,0,this.codeID),this.cmd(Xn.step),this.unhighlight(11,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,"Enqueuing edges of "+this.toStr(t[1])),this.highlight(12,0,this.codeID),this.cmd(Xn.step),this.unhighlight(12,0,this.codeID),this.highlight(13,0,this.codeID);for(let e=0;e<this.size;e++)if(this.adj_matrix[t[1]][e]>=0){if(this.highlightEdge(t[1],e,1),this.cmd(Xn.setHighlight,this.circleID[e],1),this.highlight(14,0,this.codeID),this.cmd(Xn.step),this.visited[e])this.unhighlight(14,0,this.codeID),this.highlight(15,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,"Vertex "+this.toStr(e)+" has already been visited, skipping"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.circleID[e],0),this.unhighlight(15,0,this.codeID);else{this.unhighlight(14,0,this.codeID),this.cmd(Xn.setText,this.infoLabelID,"Vertex "+this.toStr(e)+" has not yet been visited"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.circleID[e],0),s=this.toStr(t[1])+this.toStr(e),this.cmd(Xn.setText,this.infoLabelID,"Enqueueing edge "+s+" with weight "+this.adj_matrix[t[1]][e]),this.cmd(Xn.createLabel,this.nextIndex,"("+s+", "+this.adj_matrix[t[1]][e]+")",45+this.pq.size()%8*50,sd+25*Math.floor(this.pq.size()/8)),this.pq.enqueue([t[1],e],this.nextIndex++,this.adj_matrix[t[1]][e]),this.cmd(Xn.step);const h=this.pq.getIDs();if(String(i)!==String(h.slice(0,-1))){for(let t=0;t<this.pq.size();t++)this.cmd(Xn.move,h[t],45+t%8*50,sd+25*Math.floor(t/8));this.cmd(Xn.step)}i=h}this.highlightEdge(t[1],e,0)}this.unhighlight(13,0,this.codeID)}this.leaveVertex(),this.cmd(Xn.delete,e)}return this.unhighlight(8,0,this.codeID),this.pq.size()>0?this.cmd(Xn.setText,this.infoLabelID,"MST has correct amount of edges / all vertices have been visited, done"):this.cmd(Xn.setText,this.infoLabelID,"Priority queue is empty, done"),this.highlight(20,0,this.codeID),this.cmd(Xn.step),this.unhighlight(20,0,this.codeID),this.commands}clear(){this.recolorGraph();for(let e=0;e<this.size;e++)this.cmd(Xn.setBackgroundColor,this.circleID[e],"#FFFFFF"),this.visited[e]=!1;for(let e=0;e<this.visitedID.length;e++)this.cmd(Xn.delete,this.visitedID[e]);const t=this.pq.getIDs();for(const e of t)this.cmd(Xn.delete,e);if(null!=this.messageID)for(let e=0;e<this.messageID.length;e++)this.cmd(Xn.delete,this.messageID[e]);this.messageID=[]}},!0],Kruskal:["Kruskal's",class extends Nr{constructor(t,e,i){super(t,e,i,Ar,!1,!1,!0),this.addControls()}addControls(){this.startButton=er("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),this.controls.push(this.startButton),ir(),super.addControls(!1)}setup(t){let e;for(super.setup(t),this.messageID=[],this.commands=[],this.setID=new Array(this.size),this.setIndexID=new Array(this.size),this.setData=new Array(this.size),this.edgesListLeftID=[],this.edgesListRightID=[],e=0;e<this.size;e++)this.setID[e]=this.nextIndex++,this.setIndexID[e]=this.nextIndex++,this.cmd(Xn.createRectangle,this.setIndexID[e],this.toStr(e),Cl,wl,Ll,Tl+e*wl),this.cmd(Xn.createRectangle,this.setID[e],"",Cl,wl,102,Tl+e*wl),this.cmd(Xn.setTextColor,this.setIndexID[e],Pr);this.messageLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.messageLabelID,"",30,15,0),this.cmd(Xn.createLabel,this.nextIndex++,"Disjoint Set:",77,73,1),this.cmd(Xn.createLabel,this.nextIndex++,"Vertex",Ll,88,1),this.cmd(Xn.createLabel,this.nextIndex++,"Set ID",102,88,1),this.cmd(Xn.createLabel,this.nextIndex++,"Current edge:",kl,67,0),this.cmd(Xn.createLabel,this.nextIndex++,"Priority Queue:",145,92,0),this.pseudocode=dr.Kruskals,this.codeID=this.addCodeToCanvasBaseAll(this.pseudocode,"run",985,30),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.lastIndex=this.nextIndex}reset(){this.nextIndex=this.lastIndex,this.messageID=[],this.edgesListLeft=[],this.edgesListRight=[],this.edgesListLeftID=[],this.edgesListRightID=[]}startCallback(){this.implementAction(this.doKruskal.bind(this))}doKruskal(){this.commands=[];for(let p=0;p<this.edgesListLeftID.length;p++)this.cmd(Xn.delete,this.edgesListLeftID[p]),this.cmd(Xn.delete,this.edgesListRightID[p]);let t,e,i;for(this.edgesListLeftID=[],this.edgesListRightID=[],this.edgesListLeft=[],this.edgesListRight=[],t=0;t<this.size;t++)this.setData[t]=t+1,this.cmd(Xn.setText,this.setID[t],t+1),!this.isLarge&&this.cmd(Xn.setBackgroundColor,this.setID[t],Br[t]);for(this.recolorGraph(),this.highlight(1,0,this.codeID),this.highlight(2,0,this.codeID),this.cmd(Xn.setText,this.messageLabelID,"Enqueueing all edges into Priority Queue"),t=0;t<this.size;t++)for(e=t+1;e<this.size;e++)this.adj_matrix[t][e]>=0&&(this.edgesListLeftID.push(this.nextIndex++),this.edgesListRightID.push(this.nextIndex++),i=this.edgesListLeftID.length-1,this.edgesListLeft.push(t),this.edgesListRight.push(e),this.cmd(Xn.createLabel,this.edgesListLeftID[i],this.toStr(t)+" ",Al+Math.floor(i/9)*Fl,_l+i%9*Sl),this.cmd(Xn.createLabel,this.edgesListRightID[i]," "+this.toStr(e),190+Math.floor(i/9)*Fl,_l+i%9*Sl),this.cmd(Xn.connect,this.edgesListLeftID[i],this.edgesListRightID[i],Er,0,0,this.adj_matrix[t][e]));this.cmd(Xn.step),this.unhighlight(1,0,this.codeID),this.unhighlight(2,0,this.codeID);const s=this.edgesListLeftID.length;let h,a,n,r;for(t=1;t<s;t++){for(h=this.edgesListLeftID[t],a=this.edgesListRightID[t],n=this.edgesListLeft[t],r=this.edgesListRight[t],e=t;e>0&&this.adj_matrix[this.edgesListLeft[e-1]][this.edgesListRight[e-1]]>this.adj_matrix[n][r];)this.edgesListLeft[e]=this.edgesListLeft[e-1],this.edgesListRight[e]=this.edgesListRight[e-1],this.edgesListLeftID[e]=this.edgesListLeftID[e-1],this.edgesListRightID[e]=this.edgesListRightID[e-1],e-=1;this.edgesListLeft[e]=n,this.edgesListRight[e]=r,this.edgesListLeftID[e]=h,this.edgesListRightID[e]=a}for(t=0;t<s;t++)this.cmd(Xn.move,this.edgesListLeftID[t],Al+Math.floor(t/9)*Fl,_l+t%9*Sl),this.cmd(Xn.move,this.edgesListRightID[t],190+Math.floor(t/9)*Fl,_l+t%9*Sl);this.highlight(3,0,this.codeID),this.cmd(Xn.step),this.unhighlight(3,0,this.codeID);const o=this.nextIndex++,l=this.nextIndex++,d=this.nextIndex++,c=this.nextIndex++,u=this.nextIndex++;let m=0,g=0;for(this.cmd(Xn.createLabel,o,"",30,40,0),this.cmd(Xn.createLabel,l,"",100,40,0),this.highlight(4,0,this.codeID);m<this.size-1&&g<s;){for(this.cmd(Xn.setText,this.messageLabelID,"Dequeueing "+this.toStr(this.edgesListLeft[g])+this.toStr(this.edgesListRight[g])),this.cmd(Xn.move,this.edgesListLeftID[g],235,73),this.cmd(Xn.move,this.edgesListRightID[g],275,73),t=g+1;t<s;t++){const e=t-g-1;this.cmd(Xn.move,this.edgesListLeftID[t],Al+Math.floor(e/9)*Fl,_l+e%9*Sl),this.cmd(Xn.move,this.edgesListRightID[t],190+Math.floor(e/9)*Fl,_l+e%9*Sl)}this.highlightEdge(this.edgesListLeft[g],this.edgesListRight[g],1),this.highlight(5,0,this.codeID),this.cmd(Xn.step),this.unhighlight(5,0,this.codeID),this.highlight(6,0,this.codeID),this.cmd(Xn.setText,this.messageLabelID,"Looking at disjoint set"),this.cmd(Xn.setText,o,"find("+this.toStr(this.edgesListLeft[g])+") = "),this.cmd(Xn.createHighlightCircle,d,"#FF9999",233,73,12),this.cmd(Xn.step);const e=this.edgesListLeft[g],i=this.setData[e];this.cmd(Xn.move,d,Ll,Tl+this.edgesListLeft[g]*wl),this.cmd(Xn.setText,o,"find("+this.toStr(this.edgesListLeft[g])+") = "+i),this.cmd(Xn.step),this.cmd(Xn.setText,l,"find("+this.toStr(this.edgesListRight[g])+") = "),this.cmd(Xn.createHighlightCircle,c,"#FF0000",276,73,12),this.cmd(Xn.step);const h=this.edgesListRight[g],a=this.setData[h];if(this.cmd(Xn.move,c,Ll,Tl+this.edgesListRight[g]*wl),this.cmd(Xn.setText,l,"find("+this.toStr(this.edgesListRight[g])+") = "+a),this.cmd(Xn.step),this.unhighlight(6,0,this.codeID),i!==a){this.highlight(6,0,this.codeID),this.cmd(Xn.setText,this.messageLabelID,"Vertices in different sets.  Add edge to MST."),this.highlightEdge(this.edgesListLeft[g],this.edgesListRight[g],0),m++,this.setEdgeColor(this.edgesListLeft[g],this.edgesListRight[g],"#3399FF"),this.setEdgeThickness(this.edgesListLeft[g],this.edgesListRight[g],4),this.highlight(7,0,this.codeID),this.cmd(Xn.step),this.unhighlight(7,0,this.codeID),this.highlight(8,0,this.codeID),this.cmd(Xn.setText,this.messageLabelID,"Union sets "+i+" and "+a),this.cmd(Xn.setText,o,"union("+this.toStr(e)+", "+this.toStr(h)+")"),this.cmd(Xn.setText,l,""),this.cmd(Xn.step);const t=Math.min(i,a),s=Math.max(i,a);let n=!0;for(let e=0;e<this.size;e++)this.setData[e]===s&&(n?(n=!1,this.cmd(Xn.createHighlightCircle,u,"#0000FF",102,Tl+e*wl,12),this.cmd(Xn.setHighlight,u,1)):this.cmd(Xn.move,u,102,Tl+e*wl),this.cmd(Xn.step),this.setData[e]=t,this.cmd(Xn.setText,this.setID[e],t),!this.isLarge&&this.cmd(Xn.setBackgroundColor,this.setID[e],Br[t-1]),this.cmd(Xn.step));this.unhighlight(8,0,this.codeID),this.cmd(Xn.delete,u),this.unhighlight(6,0,this.codeID)}else this.cmd(Xn.setText,this.messageLabelID,"Vertices in the same set, skip edge"),this.cmd(Xn.step);this.highlightEdge(this.edgesListLeft[g],this.edgesListRight[g],0),this.cmd(Xn.delete,d),this.cmd(Xn.delete,c),this.cmd(Xn.delete,this.edgesListLeftID[g]),this.cmd(Xn.delete,this.edgesListRightID[g]),this.cmd(Xn.setText,o,""),this.cmd(Xn.setText,l,""),g++}return this.unhighlight(4,0,this.codeID),this.cmd(Xn.delete,o),this.cmd(Xn.delete,l),this.edgesListLeftID=this.edgesListLeftID.slice(g),this.edgesListRightID=this.edgesListRightID.slice(g),m===this.size-1?this.cmd(Xn.setText,this.messageLabelID,"MST has correct amount of edges, done"):this.cmd(Xn.setText,this.messageLabelID,"Priority queue is empty, done"),this.commands}},!0],LCS:["LCS",class extends nr{constructor(t,e,i){super(t,e,i),this.addControls(),this.nextIndex=0,this.setup()}addControls(){this.controls=[],Yn("S1:"),this.S1Field=er("Text",""),this.S1Field.onkeydown=this.returnSubmit(this.S1Field,this.runCallback.bind(this),13,!1),this.controls.push(this.S1Field),Yn("S2:"),this.S2Field=er("Text",""),this.S2Field.onkeydown=this.returnSubmit(this.S2Field,this.runCallback.bind(this),13,!1),this.controls.push(this.S2Field),this.tableButton=er("Button","Run"),this.tableButton.onclick=this.runCallback.bind(this),this.controls.push(this.tableButton),ir(),this.randomButton=er("Button","Random"),this.randomButton.onclick=this.randomCallback.bind(this),this.controls.push(this.randomButton),ir(),this.clearButton=er("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}setURLData(t){this.S1Field.value=t.get("s1"),this.S2Field.value=t.get("s2"),this.runCallback()}setup(){this.infoLabelID=this.nextIndex++,this.cmd(Xn.createLabel,this.infoLabelID,"",25,15,0),this.code=[["procedure ","LCS(S1, S2, matrix)"],["  matrix \u2190 create new 2D array of length S1.length by S2.length"],["  for y \u2190 1, to S1.length, loop"],["    for x \u2190 1 to S2.length, loop"],["      if ","(S1[y] == S2[x])"],["        matrix[y][x] = 1 + ","matrix[y - 1][x - 1]"],["      else"],["        matrix[y][x] = max(","matrix[y - 1][x]",","," matrix[y][x - 1]",")"],["    end for"],["  end for"],["  currY \u2190 S1.length"],["  currX \u2190 S2.length"],["  list \u2190 create new List()"],["  while currY > 0 and currX > 0, loop:"],[["   if "],["matrix[currY - 1][currX] == matrix[currY][currX - 1] "]],[["      and "],["matrix[currY][currX] != matrix [currY - 1][currX - 1]"]],["        list.addFront(S1[currY])"],["        currX--"],["        currY--"],["   else"],[["     if "],["matrix[currY - 1][currX] > matrix[currY][currX - 1]"]],["       currX--"],["      else"],["        currY--"],["  end while"],["end procedure"]],this.codeID=this.addCodeToCanvasBase(this.code,25,50),this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.initialIndex=this.nextIndex,this.oldIDs=[],this.commands=[]}reset(){this.oldIDs=[],this.nextIndex=this.initialIndex}clearCallback(){this.implementAction(this.clear.bind(this))}clear(t){return this.commands=[],t||(this.S1Field.value="",this.S2Field.value=""),this.clearOldIDs(),this.commands}runCallback(){this.implementAction(this.clear.bind(this),!0);const t=this.S1Field.value,e=this.S2Field.value;this.implementAction(this.run.bind(this),e,t)}randomCallback(){const t=["ABCBDAB","XMJYAUZ","AGGTAB","ABCDEFG","1234567890","HUMAN","KITTEN","SOFTWARE","COMPUTER","SUPERMAN"],e=Math.floor(Math.random()*t.length);this.S1Field.value=t[e],this.S2Field.value=["BDCAB","MZJAWXU","GXTXAYB","ACDFG","102030405060708090","CHIMPANZEE","SITTING","HARDWARE","COMMUTER","SPIDERMAN"][e]}run(t,e){if(this.commands=[],!t||!e)return this.shake(this.tableButton),this.cmd(Xn.setText,this.infoLabelID,"S1 and S2 must be non-empty strings"),this.commands;this.buildTable(t,e);const i=this.nextIndex++,s=t.length,h=e.length;let a,n;for(a=0;a<=s;a++)this.cmd(Xn.setText,this.tableID[a][0],"0"),this.tableVals[a][0]=0;for(a=0;a<=h;a++)this.cmd(Xn.setText,this.tableID[0][a],"0"),this.tableVals[0][a]=0;for(this.cmd(Xn.step),n=0;n<h;n++)for(a=0;a<s;a++)this.cmd(Xn.setHighlight,this.tableID[a+1][n+1],1),this.cmd(Xn.setHighlight,this.S1TableID[a],1),this.cmd(Xn.setHighlight,this.S2TableID[n],1),this.highlight(4,1),this.cmd(Xn.setText,this.infoLabelID,"Comparing "+t.charAt(a)+" and "+e.charAt(n)),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.S1TableID[a],0),this.cmd(Xn.setHighlight,this.S2TableID[n],0),this.unhighlight(4,1),t.charAt(a)===e.charAt(n)?(this.highlight(5,0),this.highlight(5,1),this.cmd(Xn.setHighlight,this.tableID[a+1-1][n+1-1],1),this.cmd(Xn.setText,this.infoLabelID,"Match, increment from the diagonal"),this.cmd(Xn.step),this.cmd(Xn.createLabel,i,this.tableVals[a][n]+1,this.tableXPos[a][n],this.tableYPos[a][n]),this.cmd(Xn.bringToTop,i,1),this.cmd(Xn.move,i,this.tableXPos[a+1][n+1],this.tableYPos[a+1][n+1]),this.cmd(Xn.step),this.cmd(Xn.delete,i),this.unhighlight(5,0),this.unhighlight(5,1),this.cmd(Xn.setHighlight,this.tableID[a+1-1][n+1-1],0),this.tableVals[a+1][n+1]=this.tableVals[a][n]+1,this.cmd(Xn.setText,this.tableID[a+1][n+1],this.tableVals[a+1][n+1])):(this.highlight(7,0),this.highlight(7,1),this.highlight(7,2),this.highlight(7,3),this.highlight(7,4),this.cmd(Xn.setHighlight,this.tableID[a][n+1],1),this.cmd(Xn.setHighlight,this.tableID[a+1][n],1),this.cmd(Xn.setText,this.infoLabelID,"Mismatch, copy greatest value from left or above"),this.cmd(Xn.step),this.unhighlight(7,0),this.unhighlight(7,2),this.unhighlight(7,4),this.tableVals[a][n+1]>this.tableVals[a+1][n]?(this.cmd(Xn.setHighlight,this.tableID[a+1][n],0),this.unhighlight(7,1),this.tableVals[a+1][n+1]=this.tableVals[a][n+1],this.cmd(Xn.createLabel,i,this.tableVals[a][n+1],this.tableXPos[a][n+1],this.tableYPos[a][n+1])):(this.unhighlight(7,3),this.cmd(Xn.setHighlight,this.tableID[a][n+1],0),this.tableVals[a+1][n+1]=this.tableVals[a+1][n],this.cmd(Xn.createLabel,i,this.tableVals[a+1][n],this.tableXPos[a+1][n],this.tableYPos[a+1][n])),this.cmd(Xn.bringToTop,i,1),this.cmd(Xn.move,i,this.tableXPos[a+1][n+1],this.tableYPos[a+1][n+1]),this.cmd(Xn.step),this.cmd(Xn.setText,this.tableID[a+1][n+1],this.tableVals[a+1][n+1]),this.cmd(Xn.delete,i),this.tableVals[a][n+1]>this.tableVals[a+1][n]?(this.unhighlight(7,3),this.cmd(Xn.setHighlight,this.tableID[a][n+1],0)):(this.unhighlight(7,1),this.cmd(Xn.setHighlight,this.tableID[a+1][n],0))),this.cmd(Xn.setHighlight,this.tableID[a+1][n+1],0);return this.highlight(9,0),this.highlight(10,0),this.highlight(11,0),this.highlight(12,0),this.cmd(Xn.setText,this.infoLabelID,"Finished building table, can now find LCS"),this.cmd(Xn.step),this.buildLCSFromTable(t,e),this.unhighlight(24,0),this.highlight(25,0),this.cmd(Xn.setText,this.infoLabelID,""),this.cmd(Xn.step),this.unhighlight(25,0),this.commands}buildTable(t,e){const i=t.length,s=e.length;let h,a;for(this.tableID=new Array(i+1),this.tableVals=new Array(i+1),this.tableXPos=new Array(i+1),this.tableYPos=new Array(i+1),this.S1TableID=new Array(i),h=0;h<=i;h++){h>0&&(this.S1TableID[h-1]=this.nextIndex++,this.cmd(Xn.createLabel,this.S1TableID[h-1],t.charAt(h-1),Ho+h*jo,20),this.oldIDs.push(this.S1TableID[h-1]));const e=this.nextIndex++;this.oldIDs.push(e),this.cmd(Xn.createLabel,e,h-1===-1?"\u2205":h-1,Ho+h*jo,50),this.cmd(Xn.setForegroundColor,e,"#0000FF")}for(this.S2TableID=new Array(s),h=0;h<=s;h++){h>0&&(this.S2TableID[h-1]=this.nextIndex++,this.cmd(Xn.createLabel,this.S2TableID[h-1],e.charAt(h-1),565,80+h*Oo),this.oldIDs.push(this.S2TableID[h-1]));const t=this.nextIndex++;this.oldIDs.push(t),this.cmd(Xn.createLabel,t,h-1===-1?"\u2205":h-1,605,80+h*Oo),this.cmd(Xn.setForegroundColor,t,"#0000FF")}for(h=0;h<=i;h++)for(this.tableID[h]=new Array(s+1),this.tableVals[h]=new Array(s+1),this.tableXPos[h]=new Array(s+1),this.tableYPos[h]=new Array(s+1),a=0;a<=s;a++)this.tableID[h][a]=this.nextIndex++,this.tableVals[h][a]=-1,this.oldIDs.push(this.tableID[h][a]),this.tableXPos[h][a]=Ho+h*jo,this.tableYPos[h][a]=80+a*Oo,this.cmd(Xn.createRectangle,this.tableID[h][a],"",jo,Oo,this.tableXPos[h][a],this.tableYPos[h][a])}clearOldIDs(){for(let t=0;t<this.oldIDs.length;t++)this.cmd(Xn.delete,this.oldIDs[t]);this.oldIDs=[],this.nextIndex=this.initialIndex,this.cmd(Xn.setText,this.infoLabelID,"")}buildLCSFromTable(t,e){let i=this.tableVals.length-1,s=this.tableVals[0].length-1;const h=[],a=this.nextIndex++;this.oldIDs.push(a),this.cmd(Xn.createLabel,a,"Longest Common Subsequence:",20,Mo,0),this.cmd(Xn.setForegroundColor,a,"#49AB40");const n=this.nextIndex++;this.oldIDs.push(n),this.cmd(Xn.createLabel,n,"Length of LCS:",20,500,0),this.cmd(Xn.setForegroundColor,n,"#49AB40");const r=this.nextIndex++;this.oldIDs.push(r),this.cmd(Xn.createLabel,r,"0",105,500,0),this.cmd(Xn.setForegroundColor,r,"#FF0000");for(let o=1;o<=t.length;o++)for(let t=1;t<=e.length;t++){const e=this.tableVals[o][t]!==this.tableVals[o][t-1],i=this.tableVals[o][t]!==this.tableVals[o-1][t];(e||i)&&this.cmd(Xn.setRectangleEdgeThickness,this.tableID[o][t],[e,!1,!1,i])}for(this.cmd(Xn.step),this.unhighlight(9,0),this.unhighlight(10,0),this.unhighlight(11,0),this.unhighlight(12,0);i>0&&s>0;){this.cmd(Xn.setBackgroundColor,this.tableID[i][s],"#99CCFF"),this.cmd(Xn.step),this.unhighlight(14,1),this.unhighlight(15,1);for(let t=16;t<24;t++)this.unhighlight(t,0);if(this.highlight(14,1),this.cmd(Xn.setHighlight,this.tableID[i-1][s],1),this.cmd(Xn.setHighlight,this.tableID[i][s-1],1),this.cmd(Xn.step),this.unhighlight(14,1),this.cmd(Xn.setHighlight,this.tableID[i-1][s],0),this.cmd(Xn.setHighlight,this.tableID[i][s-1],0),this.tableVals[i-1][s]===this.tableVals[i][s-1]&&(this.highlight(15,1),this.cmd(Xn.setHighlight,this.tableID[i][s],1),this.cmd(Xn.setHighlight,this.tableID[i-1][s-1],1),this.cmd(Xn.step),this.unhighlight(15,1),this.cmd(Xn.setHighlight,this.tableID[i][s],0),this.cmd(Xn.setHighlight,this.tableID[i-1][s-1],0)),this.tableVals[i-1][s]===this.tableVals[i][s-1]&&this.tableVals[i-1][s]!==this.tableVals[i][s]?(this.cmd(Xn.setHighlight,this.S1TableID[i-1],1),this.cmd(Xn.setHighlight,this.S2TableID[s-1],1),this.cmd(Xn.setText,this.infoLabelID,"Hit a corner, move diagonally and add current character to LCS"),this.cmd(Xn.step),this.cmd(Xn.setHighlight,this.S1TableID[i-1],0),this.cmd(Xn.setHighlight,this.S2TableID[s-1],0)):this.tableVals[i-1][s]>this.tableVals[i][s-1]?(this.highlight(20,1),this.cmd(Xn.setHighlight,this.tableID[i-1][s],1),this.cmd(Xn.setHighlight,this.tableID[i][s-1],1),this.cmd(Xn.step),this.unhighlight(20,1),this.cmd(Xn.setHighlight,this.tableID[i-1][s],0),this.cmd(Xn.setHighlight,this.tableID[i][s-1],0),this.highlight(21,0),this.cmd(Xn.setText,this.infoLabelID,"Move left")):(this.highlight(23,0),this.cmd(Xn.setText,this.infoLabelID,"Move up")),this.tableVals[i-1][s]===this.tableVals[i][s-1]&&this.tableVals[i-1][s]!==this.tableVals[i][s]){const e=this.nextIndex++;this.oldIDs.push(e),h.push(e),this.cmd(Xn.createLabel,e,t.charAt(i-1),20+10*(h.length-1)+184,481),this.cmd(Xn.setForegroundColor,e,"#0000FF"),this.cmd(Xn.setText,r,h.length);for(let t=h.length-1;t>=0;t--)this.cmd(Xn.move,h[t],20+10*(h.length-1-t)+184,481);this.highlight(16,0),this.highlight(17,0),this.highlight(18,0),i-=1,s-=1}else this.tableVals[i-1][s]>this.tableVals[i][s-1]?(i-=1,this.highlight(21,0)):(s-=1,this.highlight(23,0))}for(let o=16;o<24;o++)this.unhighlight(o,0);this.highlight(24,0),this.cmd(Xn.step)}enableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}disableUI(){for(let t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},!0,"Longest Common Subsequence"],Floyd:["Floyd-Warshall",class extends Nr{constructor(t,e,i){super(t,e,i,[],!1,!1,!0),this.addControls()}addControls(){this.startButton=er("Button","Run"),this.startButton.onclick=this.startCallback.bind(this),ir(),super.addControls(),this.smallGraphButton.onclick=this.smallGraphCallback.bind(this),this.largeGraphButton.onclick=this.largeGraphCallback.bind(this)}reset(){for(let t=0;t<this.size;t++)for(let e=0;e<this.size;e++)this.costTable[t][e]=this.adj_matrix[t][e],this.costTable[t][e]>=0?this.pathTable[t][e]=t:this.pathTable[t][e]=-1}smallGraphCallback(){8!==this.size&&(this.animationManager.resetAll(),this.animationManager.setAllLayers([0,32,this.currentLayer]),this.logicalButton.disabled=!1,this.adjacencyListButton.disabled=!1,this.adjacencyMatrixButton.disabled=!1,this.setup_small())}largeGraphCallback(){}getCostLabel(t,e){return e=void 0!==e&&e,t>=0?String(t):8===this.size||e?"INF":""}setup_small(){this.cost_table_width=30,this.cost_table_height=30,this.cost_table_start_x=40,this.cost_table_start_y=70,this.path_table_width=30,this.path_table_height=30,this.path_table_start_x=330,this.path_table_start_y=70,this.node_1_x_pos=50,this.node_1_y_pos=400,this.node_2_x_pos=150,this.node_2_y_pos=350,this.node_3_x_pos=250,this.node_3_y_pos=400,this.message_x=400,this.message_y=350,super.setup_small()}setup_large(){this.cost_table_width=20,this.cost_table_height=20,this.cost_table_start_x=40,this.cost_table_start_y=50,this.path_table_width=20,this.path_table_height=20,this.path_table_start_x=500,this.path_table_start_y=50,this.node_1_x_pos=50,this.node_1_y_pos=500,this.node_2_x_pos=150,this.node_2_y_pos=450,this.node_3_x_pos=250,this.node_3_y_pos=500,this.message_x=300,this.message_y=450,super.setup_large()}setup(){let t;for(super.setup(),this.commands=[],this.costTable=new Array(this.size),this.pathTable=new Array(this.size),this.costTableID=new Array(this.size),this.pathTableID=new Array(this.size),this.pathIndexXID=new Array(this.size),this.pathIndexYID=new Array(this.size),this.costIndexXID=new Array(this.size),this.costIndexYID=new Array(this.size),this.node1ID=this.nextIndex++,this.node2ID=this.nextIndex++,this.node3ID=this.nextIndex++,t=0;t<this.size;t++)this.costTable[t]=new Array(this.size),this.pathTable[t]=new Array(this.size),this.costTableID[t]=new Array(this.size),this.pathTableID[t]=new Array(this.size);const e=this.nextIndex++,i=this.nextIndex++;for(this.cmd(Xn.createLabel,e,"Cost Table",this.cost_table_start_x,this.cost_table_start_y-2*this.cost_table_height,0),this.cmd(Xn.createLabel,i,"Path Table",this.path_table_start_x,this.path_table_start_y-2*this.path_table_height,0),t=0;t<this.size;t++){this.pathIndexXID[t]=this.nextIndex++,this.pathIndexYID[t]=this.nextIndex++,this.costIndexXID[t]=this.nextIndex++,this.costIndexYID[t]=this.nextIndex++,this.cmd(Xn.createLabel,this.pathIndexXID[t],t,this.path_table_start_x+t*this.path_table_width,this.path_table_start_y-this.path_table_height),this.cmd(Xn.setTextColor,this.pathIndexXID[t],"#0000FF"),this.cmd(Xn.createLabel,this.pathIndexYID[t],t,this.path_table_start_x-this.path_table_width,this.path_table_start_y+t*this.path_table_height),this.cmd(Xn.setTextColor,this.pathIndexYID[t],"#0000FF"),this.cmd(Xn.createLabel,this.costIndexXID[t],t,this.cost_table_start_x+t*this.cost_table_width,this.cost_table_start_y-this.cost_table_height),this.cmd(Xn.setTextColor,this.costIndexXID[t],"#0000FF"),this.cmd(Xn.createLabel,this.costIndexYID[t],t,this.cost_table_start_x-this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.cmd(Xn.setTextColor,this.costIndexYID[t],"#0000FF");for(let e=0;e<this.size;e++)this.costTable[t][e]=this.adj_matrix[t][e],this.costTable[t][e]>=0?this.pathTable[t][e]=t:this.pathTable[t][e]=-1,this.costTableID[t][e]=this.nextIndex++,this.pathTableID[t][e]=this.nextIndex++,this.cmd(Xn.createRectangle,this.costTableID[t][e],this.getCostLabel(this.costTable[t][e],!0),this.cost_table_width,this.cost_table_height,this.cost_table_start_x+e*this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.cmd(Xn.createRectangle,this.pathTableID[t][e],this.pathTable[t][e],this.path_table_width,this.path_table_height,this.path_table_start_x+e*this.path_table_width,this.path_table_start_y+t*this.path_table_height)}this.animationManager.startNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),18===this.size&&this.animationManager.setAllLayers([0])}startCallback(){this.implementAction(this.doFloydWarshall.bind(this))}doFloydWarshall(){this.commands=[];const t=this.nextIndex,e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;this.cmd(Xn.createCircle,this.node1ID,"",this.node_1_x_pos,this.node_1_y_pos),this.cmd(Xn.createCircle,this.node2ID,"",this.node_2_x_pos,this.node_2_y_pos),this.cmd(Xn.createCircle,this.node3ID,"",this.node_3_x_pos,this.node_3_y_pos),this.cmd(Xn.createLabel,e,"",this.message_x,this.message_y,0);for(let h=0;h<this.size;h++)for(let t=0;t<this.size;t++)for(let a=0;a<this.size;a++)t!==a&&a!==h&&t!==h&&(this.cmd(Xn.setText,this.node1ID,t),this.cmd(Xn.setText,this.node2ID,h),this.cmd(Xn.setText,this.node3ID,a),this.cmd(Xn.connect,this.node1ID,this.node2ID,"#009999",-.1,1,this.getCostLabel(this.costTable[t][h],!0)),this.cmd(Xn.connect,this.node2ID,this.node3ID,"#9900CC",-.1,1,this.getCostLabel(this.costTable[h][a],!0)),this.cmd(Xn.connect,this.node1ID,this.node3ID,"#CC0000",0,1,this.getCostLabel(this.costTable[t][a],!0)),this.cmd(Xn.setHighlight,this.costTableID[t][h],1),this.cmd(Xn.setHighlight,this.costTableID[h][a],1),this.cmd(Xn.setHighlight,this.costTableID[t][a],1),this.cmd(Xn.setTextColor,this.costTableID[t][h],"#009999"),this.cmd(Xn.setTextColor,this.costTableID[h][a],"#9900CC"),this.cmd(Xn.setTextColor,this.costTableID[t][a],"#CC0000"),this.costTable[t][h]>=0&&this.costTable[h][a]>=0&&(this.costTable[t][a]<0||this.costTable[t][h]+this.costTable[h][a]<this.costTable[t][a])?(this.cmd(Xn.setText,e,this.getCostLabel(this.costTable[t][h],!0)+" + "+this.getCostLabel(this.costTable[h][a],!0)+" < "+this.getCostLabel(this.costTable[t][a],!0)),this.cmd(Xn.step),this.costTable[t][a]=this.costTable[t][h]+this.costTable[h][a],this.cmd(Xn.setText,this.pathTableID[t][a],""),this.cmd(Xn.setText,this.costTableID[t][a],""),this.cmd(Xn.createLabel,i,this.pathTable[h][a],this.path_table_start_x+a*this.path_table_width,this.path_table_start_y+h*this.path_table_height),this.cmd(Xn.move,i,this.path_table_start_x+a*this.path_table_width,this.path_table_start_y+t*this.path_table_height),this.cmd(Xn.createLabel,s,this.costTable[t][a],this.message_x,this.message_y),this.cmd(Xn.setHighlight,s,1),this.cmd(Xn.move,s,this.cost_table_start_x+a*this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.pathTable[t][a]=this.pathTable[h][a],this.cmd(Xn.step),this.cmd(Xn.setText,this.costTableID[t][a],this.costTable[t][a]),this.cmd(Xn.setText,this.pathTableID[t][a],this.pathTable[t][a]),this.cmd(Xn.delete,i),this.cmd(Xn.delete,s)):(this.cmd(Xn.setText,e,"!("+this.getCostLabel(this.costTable[t][h],!0)+" + "+this.getCostLabel(this.costTable[h][a],!0)+" < "+this.getCostLabel(this.costTable[t][a],!0)+")"),this.cmd(Xn.step)),this.cmd(Xn.setTextColor,this.costTableID[t][h],"#000000"),this.cmd(Xn.setTextColor,this.costTableID[h][a],"#000000"),this.cmd(Xn.setTextColor,this.costTableID[t][a],"#000000"),this.cmd(Xn.disconnect,this.node1ID,this.node2ID),this.cmd(Xn.disconnect,this.node2ID,this.node3ID),this.cmd(Xn.disconnect,this.node1ID,this.node3ID),this.cmd(Xn.setHighlight,this.costTableID[t][h],0),this.cmd(Xn.setHighlight,this.costTableID[h][a],0),this.cmd(Xn.setHighlight,this.costTableID[t][a],0));return this.cmd(Xn.delete,this.node1ID),this.cmd(Xn.delete,this.node2ID),this.cmd(Xn.delete,this.node3ID),this.cmd(Xn.delete,e),this.nextIndex=t,this.commands}}]},oc=[...3===(new Date).getMonth()&&(new Date).getDate()<=2?["LVA","NonLinearProbing","DropSort","SleepSort","MiracleSort","BogoSort","FredSort"]:[],"Lists","ArrayList","LinkedList","DoublyLinkedList","CircularlyLinkedList","Stacks, Queues and Deques","StackArray","StackLL","QueueArray","QueueLL","DequeArray","DequeLL","Trees and SkipList","BST","Heap","AVL","BTree","SplayTree","SkipList","HashMaps","ClosedHash","OpenHash","Sorting and Quickselect","BubbleSort","CocktailSort","InsertionSort","SelectionSort","Quicksort","Quickselect","MergeSort","LSDRadix","HeapSort","String Searching","BruteForce","BoyerMoore","KMP","RabinKarp","Graph Algorithms","CreateGraph","BFS","DFS","Dijkstra","Prim","Kruskal","Dynamic Programming","LCS","Floyd"],lc={ArrayList:["LinkedList","StackArray","QueueArray","DequeArray"],LinkedList:["ArrayList","DoublyLinkedList","CircularlyLinkedList","StackLL","QueueLL","DequeLL"],DoublyLinkedList:["LinkedList","CircularlyLinkedList","StackLL","QueueLL","DequeLL"],CircularlyLinkedList:["LinkedList","DoublyLinkedList","StackLL","QueueLL","DequeLL"],StackArray:["StackLL","QueueArray","DequeArray","ArrayList"],StackLL:["StackArray","QueueLL","DequeLL","LinkedList","DoublyLinkedList","CircularlyLinkedList"],QueueArray:["QueueLL","StackArray","DequeArray","ArrayList"],QueueLL:["QueueArray","StackLL","DequeLL","LinkedList","DoublyLinkedList","CircularlyLinkedList"],DequeArray:["DequeLL","StackArray","QueueArray","ArrayList"],DequeLL:["DequeArray","StackLL","QueueLL","LinkedList","DoublyLinkedList","CircularlyLinkedList"],BST:["AVL","Heap","SplayTree","SkipList","BTree"],Heap:["BST","AVL","SplayTree","BTree","HeapSort"],SkipList:["BST","AVL","BTree"],OpenHash:["ClosedHash"],ClosedHash:["OpenHash"],SplayTree:["BST","AVL","Heap"],AVL:["BST","Heap","SplayTree"],BTree:["BST","Heap","SkipList"],BubbleSort:["InsertionSort","SelectionSort","CocktailSort"],CocktailSort:["BubbleSort","InsertionSort","SelectionSort"],InsertionSort:["BubbleSort","SelectionSort","CocktailSort"],SelectionSort:["BubbleSort","InsertionSort","CocktailSort"],Quicksort:["MergeSort","Quickselect","HeapSort"],Quickselect:["Quicksort"],MergeSort:["Quicksort","HeapSort"],LSDRadix:["HeapSort","MergeSort"],HeapSort:["MergeSort","Quicksort","LSDRadix","Heap"],BruteForce:["BoyerMoore","KMP","RabinKarp"],BoyerMoore:["BruteForce","KMP","RabinKarp"],KMP:["BruteForce","BoyerMoore","RabinKarp"],RabinKarp:["BruteForce","BoyerMoore","KMP"],BFS:["DFS","Dijkstra","Prim","Kruskal"],DFS:["BFS","Dijkstra","Prim","Kruskal"],Dijkstra:["BFS","DFS","Prim","Kruskal"],Prim:["BFS","DFS","Dijkstra","Kruskal"],Kruskal:["BFS","DFS","Dijkstra","Prim"],LCS:["Floyd"],Floyd:["LCS"]},dc=[{id:"ArrayList",category:"Lists"},{id:"LinkedList",category:"Lists"},{id:"DoublyLinkedList",category:"Lists"},{id:"CircularlyLinkedList",category:"Lists"},{id:"StackArray",category:"Linear Data Structures"},{id:"StackLL",category:"Linear Data Structures"},{id:"QueueArray",category:"Linear Data Structures"},{id:"QueueLL",category:"Linear Data Structures"},{id:"DequeArray",category:"Linear Data Structures"},{id:"DequeLL",category:"Linear Data Structures"},{id:"BST",category:"Trees and SkipList"},{id:"Heap",category:"Trees and SkipList"},{id:"AVL",category:"Trees and SkipList"},{id:"BTree",category:"Trees and SkipList"},{id:"SplayTree",category:"Trees and SkipList"},{id:"SkipList",category:"Trees and SkipList"},{id:"OpenHash",category:"HashMaps"},{id:"ClosedHash",category:"HashMaps"},{id:"BubbleSort",category:"Sorting and Quickselect"},{id:"CocktailSort",category:"Sorting and Quickselect"},{id:"SelectionSort",category:"Sorting and Quickselect"},{id:"InsertionSort",category:"Sorting and Quickselect"},{id:"Quicksort",category:"Sorting and Quickselect"},{id:"Quickselect",category:"Sorting and Quickselect"},{id:"MergeSort",category:"Sorting and Quickselect"},{id:"LSDRadix",category:"Sorting and Quickselect"},{id:"HeapSort",category:"Sorting and Quickselect"},{id:"BruteForce",category:"Pattern Matching"},{id:"BoyerMoore",category:"Pattern Matching"},{id:"KMP",category:"Pattern Matching"},{id:"RabinKarp",category:"Pattern Matching"},{id:"BFS",category:"Graph Algorithms"},{id:"DFS",category:"Graph Algorithms"},{id:"Dijkstra",category:"Graph Algorithms"},{id:"Prim",category:"Graph Algorithms"},{id:"Kruskal",category:"Graph Algorithms"},{id:"LCS",category:"Dynamic Programming"},{id:"Floyd",category:"Dynamic Programming"},{id:"FredSort",category:"Sorting and Quickselect"},{id:"SleepSort",category:"Sorting and Quickselect"},{id:"MiracleSort",category:"Sorting and Quickselect"},{id:"DropSort",category:"Sorting and Quickselect"}];var cc=JSON.parse('{"ArrayList":{"Add to Front":{"worst":{"big_o":"O(n)","explanation":"Resizing the array and shifting $n$ elements are each $O(n)$.","example":"[1, 2, 3, 4] add 0"},"average":{"big_o":"O(n)","explanation":"You always have to shift $n$ elements to the right.","example":"[1, 2, 3, null] add 0"},"best":{"big_o":"O(n)","explanation":"You always have to shift $n$ elements to the right.","example":"[null, null, null, null] add 0"}},"Add to Back":{"worst":{"big_o":"O(1)*","explanation":"Typically constant time, except for the rare case where you have to resize."},"worst (unamortized)":{"big_o":"O(n)","explanation":"If the array is full, you have to resize it by making a new array."},"average":{"big_o":"O(1)","explanation":"No shifting is needed except for an occasional array resize."},"best":{"big_o":"O(1)","explanation":"No shifting is needed because the array is not full."}},"Add at Index":{"worst":{"big_o":"O(n)","explanation":"Resizing the array and shifting $n$ elements are each $O(n)$."},"average":{"big_o":"O(n)","explanation":"Some elements will be shifted to the right; on average, $n/2$ will."},"best":{"big_o":"O(1)","explanation":"Adding to the back of the array."}},"Remove from Front":{"all cases":{"big_o":"O(n)","explanation":"You always have to shift $n$ elements to the left."}},"Remove from Back":{"all cases":{"big_o":"O(1)","explanation":"No shifting or resizing is ever needed."}},"Remove at Index":{"worst":{"big_o":"O(n)","explanation":"If you remove the first element, You have to shift $n$ elements to the left."},"average":{"big_o":"O(n)","explanation":"You have to shift all elements after the index to the left."},"best":{"big_o":"O(1)","explanation":"If you remove the last element, you don\'t have to shift any elements."}}},"LinkedList":{"Add to Front (with tail)":{"all cases":{"big_o":"O(1)","explanation":"Create a new node, set its next pointer to the current head, and make the new node the head.","example":"1->2->3->null addToFront(0)"}},"Add to Back (with tail)":{"all cases":{"big_o":"O(1)","explanation":"Create a new node, set the tail\'s next pointer to the new node, and make the new node the tail.","example":"1->2->3->null addToBack(4)"}},"Add at Index (with tail)":{"worst":{"big_o":"O(n)","explanation":"Traversing to the second-to-last index is $O(n)$, and initializing and inserting the new node is $O(1)$.","example":"1->2->3->4->5->null addAtIndex(element: 5, index: 4)"},"average":{"big_o":"O(n)","explanation":"Most elements are in the middle. The runtime to traverse to a middle index increases linearly as the data grows.","example":"1->2->3->4->5->null addAtIndex(element: 6, index: 2)"},"best":{"big_o":"O(1)","explanation":"Adding at the tail or head is an $O(1)$ operation.","example":"1->2->3->4->null addAtIndex(0, 0)"}},"Remove from Front (with tail)":{"all cases":{"big_o":"O(1)","explanation":"Set the head pointer to be at the second node.","example":"1->2->3->4 removeFromFront()"}},"Remove from Back (with tail)":{"all cases":{"big_o":"O(n)","explanation":"You have to traverse to the end of the list to make the second-to-last node the tail.","example":"1->2->3->4->null removeFromBack()"}},"Remove at Index (with tail)":{"worst":{"big_o":"O(n)","explanation":"Traversing to the index is $O(n)$, while altering the pointers to remove the node is $O(1)$.","example":"1->2->3->4->5->null removeAtIndex(4)"},"average":{"big_o":"O(n)","explanation":"Traversing to the index is $O(n)$, while altering the pointers to remove the node is $O(1)$.","example":"1->2->3->4->null removeAtIndex(2)"},"best":{"big_o":"O(1)","explanation":"If index is 0 or the list has one element, time complexity is the same as removeFromFront().","example":"1->2->3->4->null removeAtIndex(0)"}},"Add to Front (without tail)":{"all cases":{"big_o":"$O(1)$","explanation":"When adding to the front of an SLL, we have direct access to the head node.","example":"head -> [NEW] -> [\'a\'] -> [\'b\'] -> ... -> [$n$]  // addToFront(NEW)"}},"Add to Back (without tail)":{"all cases":{"big_o":"O(n)","explanation":"Without a tail pointer, adding to the back of an SLL requires traversal through the entire list to reach the end.","example":"head -> [\'a\'] -> [\'b\'] -> ... -> [$n$] -> [NEW]  // addToBack(NEW)"}},"Add at Index (without tail)":{"worst":{"big_o":"O(n)","explanation":"To add at the last index, we have to traverse $n$ nodes starting at the head.","example":"head -> [\'a\'] -> [\'b\'] -> [NEW] -> [\'c\'] -> [\'d\']  // addAtIndex(2, NEW)"},"average":{"big_o":"O(n)","explanation":"To add at an index near the middle, we have to traverse $n/2$ nodes starting at the head.","example":"head -> [\'a\'] -> [\'b\'] -> [NEW] -> [\'c\'] -> [\'d\']  // addAtIndex(2, NEW)"},"best":{"big_o":"O(1)","explanation":"If adding at the front, the operation is $O(1)$ due to direct access to the head pointer.","example":"head -> [NEW] -> [\'a\'] -> [\'b\'] -> ..~|| OR ||~.. -> [$n - 1$] -> [$n$] -> [NEW] <- tail  // addAtIndex(0 OR size, NEW)"}},"Remove from Front (without tail)":{"all cases":{"big_o":"O(1)","explanation":"Removing from the front of an SLL is always $O(1)$, as you have direct access to the head pointer.","example":"head -~[DEL]~-> [\'b\'] -> ... -> [$n$]  // removeFromFront()"}},"Remove from Back (without tail)":{"all cases":{"big_o":"O(n)","explanation":"To remove the last node, we have to traverse to the second-to-last node, which is approximately $n$ steps.","example":"head -> [\'a\'] -> [\'b\'] -> ... -> [$n - 1$] -x-> [DEL]  // removeFromBack()"}},"Remove at Index (without tail)":{"worst":{"big_o":"O(n)","explanation":"To remove the last node, we have to traverse to the second-to-last node, which is approximately $n$ steps.","example":"head -> [\'a\'] -> [\'b\'] -~[DEL]~-> [\'d\'] -> [\'e\']  // removeAtIndex(2)"},"average":{"big_o":"O(n)","explanation":"On average, traversing to an index near the middle takes $n/2$ steps.","example":"head -> [\'a\'] -> [\'b\'] -~[DEL]~-> [\'d\'] -> [\'e\']  // removeAtIndex(2)"},"best":{"big_o":"O(1)","explanation":"If removing from the front, the operation is $O(1)$ as it only requires updating the head pointer.","example":"head -~[DEL]~-> [\'b\'] -> ... -> [$n$]  // removeAtIndex(0)"}}},"DoublyLinkedList":{"Add to Front":{"all cases":{"big_o":"O(1)","explanation":"Accessing the head and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] add 0"}},"Add to Back":{"all cases":{"big_o":"O(1)","explanation":"Accessing the tail and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] add 6"}},"Add at Index":{"worst":{"big_o":"O(n)","explanation":"May need to iterate $n/2$ times to reach the node if the index is in the middle.","example":"[1, 2, 3, 4, 5] index = 2"},"average":{"big_o":"O(n)","explanation":"On average, the index is between the head and tail, requiring more iterations as the data grows.","example":"[1, 2, 3, 4, 5] index = 2"},"best":{"big_o":"O(1)","explanation":"Adding at the head and tail is easy with direct access using their pointers.","example":"[1, 2, 3, 4, 5] index = 5"}},"Remove from Front":{"all cases":{"big_o":"O(1)","explanation":"Accessing the head and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] remove 1"}},"Remove from Back":{"all cases":{"big_o":"O(1)","explanation":"Accessing the tail and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] remove 5"}},"Remove at Index":{"worst":{"big_o":"O(n)","explanation":"May need to iterate $n/2$ times to reach the node if the index is in the middle.","example":"[1, 2, 3, 4, 5] index = 2"},"average":{"big_o":"O(n)","explanation":"On average, the index is between the head and tail, requiring more iterations as the data grows.","example":"[1, 2, 3, 4, 5] index = 2"},"best":{"big_o":"O(1)","explanation":"Removing at the head and tail is easy with direct access using their pointers.","example":"[1, 2, 3, 4, 5] index = 0"}}},"CircularlyLinkedList":{"Add to Front":{"all cases":{"big_o":"O(1)","explanation":"Accessing the head and adjusting the head pointer in a circular structure always takes constant time.","example":"[1, 2, 3, 4, 5] add 0"}},"Add to Back":{"all cases":{"big_o":"O(1)","explanation":"By inserting a new node in the 2nd position from the front, copying the head\'s data to this new node, putting the new data in the head node, and then moving the head pointer forward by one, we effectively add to the back in constant time.","example":"[1, 2, 3, 4, 5] add 6"}},"Add at Index":{"worst":{"big_o":"O(n)","explanation":"Traversing to the target index requires visiting all $n$ nodes in the worst case.","example":"[1, 2, 3, 4, 5] index = 2"},"average":{"big_o":"O(n)","explanation":"On average, traversing to an index near the middle is $n/2$ operations, and increases linearly as the data grows.","example":"[1, 2, 3, 4, 5] index = 2"},"best":{"big_o":"O(1)","explanation":"Inserting at the front or back.","example":"[1, 2, 3, 4, 5] index = 0"}},"Remove from Front":{"all cases":{"big_o":"O(1)","explanation":"Removing the head and adjusting pointers takes constant time.","example":"[1, 2, 3, 4, 5] remove 1"}},"Remove from Back":{"all cases":{"big_o":"O(n)","explanation":"Traversing to find the node before the tail requires visiting about $n$ nodes.","example":"[1, 2, 3, 4, 5] remove 5"}},"Remove at Index":{"worst":{"big_o":"O(n)","explanation":"Traversing to the target index requires visiting about $n$ nodes in the worst case.","example":"[1, 2, 3, 4, 5] index = 2"},"average":{"big_o":"O(n)","explanation":"On average, traversing to an index near the middle is $n/2$ operations, and increases linearly as the data grows.","example":"[1, 2, 3, 4, 5] index = 2"},"best":{"big_o":"O(1)","explanation":"Removing the front.","example":"[1, 2, 3, 4, 5] index = 0"}}},"StackArray":{"Push":{"worst":{"big_o":"O(n)","explanation":"If a resize is triggered, $n$ elements must be copied to the new backing array.","example":"[1, 2, 3] add 4"},"average":{"big_o":"O(1)","explanation":"No elements need to be shifted when adding to the back. Additionally, the average case doesn\'t involve resizing.","example":"[1, 2, null] add 3"},"best":{"big_o":"O(1)","explanation":"No elements need to be shifted when adding to the back. Additionally, the best case doesn\'t involve resizing.","example":"[1, 2, null] add 3"}},"Pop":{"all cases":{"big_o":"O(1)","explanation":"No elements need to be shifted when removing from back.","example":"[1, 2, 3] remove 3"}}},"StackLL":{"Push":{"all cases":{"big_o":"O(1)","explanation":"Create and link a new node. No shifting occurs.","example":"1 -> 2 -> 3 add 0 at head"}},"Pop":{"all cases":{"big_o":"O(1)","explanation":"Just remove the head node. No shifting occurs.","example":"1 -> 2 -> 3 remove 1"}}},"QueueArray":{"Push":{"worst":{"big_o":"O(n)","explanation":"If a resize is triggered, $n$ elements must be copied to the new backing array.","example":"[1, 2, 3] add 4"},"average":{"big_o":"O(1)","explanation":"No elements need to be shifted when adding to the back. Additionally, the average case doesn\'t involve resizing.","example":"[1, 2, null] add 3"},"best":{"big_o":"O(1)","explanation":"No elements need to be shifted when adding to the back. Additionally, the best case doesn\'t involve resizing.","example":"[1, 2, null] add 3"}},"Pop":{"all cases":{"big_o":"O(1)","explanation":"Due to the circular array implementation, no shifting is needed.","example":"[1, 2, 3] remove 1"}}},"QueueLL":{"Push":{"all cases":{"big_o":"O(1)","explanation":"Create and link a new node using the tail. No traversal or shifting is needed.","example":"1 -> 2 -> 3 add 4 at end"}},"Pop":{"all cases":{"big_o":"O(1)","explanation":"Just remove the head node. No shifting occurs.","example":"1 -> 2 -> 3 remove 1"}}},"DequeArray":{"Add to Front":{"worst":{"big_o":"O(1)*","explanation":"Rarely, the array needs to be resized.","example":"[1, 2, 3, 4] add 0"},"worst (unamortized)":{"big_o":"O(n)","explanation":"In this case, the array is being resized because the array is full.","example":"[1, 2, 3, 4] add 0"},"average":{"big_o":"O(1)","explanation":"Have a front pointer, and usually we don\'t need to resize.","example":"[null, 1, 2, 3] add 0"},"best":{"big_o":"O(1)","explanation":"Circular arrays do not shift elements; the data wraps around and we have a front pointer.","example":"[null, 1, 2, 3] add 0"}},"Add to Back":{"worst":{"big_o":"O(1)*","explanation":"Rarely, the array needs to be resized.","example":"[1, 2, 3, 4] add 5"},"worst (unamortized)":{"big_o":"O(n)","explanation":"In this case, the array is being resized because the array is full.","example":"[1, 2, 3, 4] add 5"},"average":{"big_o":"O(1)","explanation":"Usually we don\'t need to resize.","example":"[1, 2, 3, null] add 4"},"best":{"big_o":"O(1)","explanation":"Do not need to resize because the array is not full.","example":"[1, 2, 3, null] add 4"}},"Remove from Front":{"all cases":{"big_o":"O(1)","explanation":"Never need to resize when removing from an array. Simply move the front pointer forward.","example":"[1, 2, 3, 4] remove 1"}},"Remove from Back":{"all cases":{"big_o":"O(1)","explanation":"Never need to resize when removing from an array.","example":"[1, 2, 3, 4] remove 4"}}},"DequeLL":{"Add to Front":{"all cases":{"big_o":"O(1)","explanation":"Have direct access to the head.","example":"1 <--\x3e 2 <--\x3e 3, add 0"}},"Add to Back":{"all cases":{"big_o":"O(1)","explanation":"Have direct access to the tail.","example":"1 <--\x3e 2 <--\x3e 3, add 4"}},"Remove from Front":{"all cases":{"big_o":"O(1)","explanation":"Have direct access to the head.","example":"1 <--\x3e 2 <--\x3e 3, remove 1"}},"Remove from Back":{"all cases":{"big_o":"O(1)","explanation":"Have direct access to the tail, which has a previous pointer.","example":"1 <--\x3e 2 <--\x3e 3, remove 3"}}},"BST":{"Add":{"worst":{"big_o":"O(n)","explanation":"In a degenerate tree, you have to traverse around $n$ nodes.","example":"[(0 -> 1 -> 2 -> 3 -> 4 -> 5)] add 6"},"average":{"big_o":"O(log n)","explanation":"An average BST is relatively balanced, so you have to traverse around $log n$ nodes.","example":"[(3<-5->9) (2<-3->null) (7<-9->11) (1<-2->null) (null) (6<-7->null) (10<-11->12)] add 8"},"best":{"big_o":"O(1)","explanation":"$O(1)$ if adding the first node of the tree. Otherwise, in a balanced tree, you have to traverse $log n$ nodes.","example":"[(50<-100->200) (20<-50->80) (150<-200->250) (10<-20->30) (70<-80->90) (120<-150->180) (225<-250->null)] add 500"}},"Remove":{"worst":{"big_o":"O(n)","explanation":"In a degenerate tree, you have to traverse around $n$ nodes to remove a leaf.","example":"[(10 <- 23 <- 37 <- 41 <- 50)] remove 10"},"average":{"big_o":"O(log n)","explanation":"An average BST is relatively balanced, so you have to traverse around $log n$ nodes.","example":"[(-70<--20->10) (-100<--70->-50) (0<-10->null) (-200<--100->-80) (-60<--50->null) (-5<-0->5) (null)] remove -70 using predecessor"},"best":{"big_o":"O(1)","explanation":"$O(1)$ if removing the last node in the tree. Otherwise, in a balanced tree, you have to traverse $log n$ nodes.","example":"[(-60<-0->10) (-100<--60->-20) (5<-10->53) (-120<--100->-90) (-40<--20->-1) (2<-5->7) (17<-53->54)] remove -90"}},"Find":{"worst":{"big_o":"O(n)","explanation":"In a degenerate tree, you have to traverse around $n$ nodes.","example":"[(8 -> 16 -> 24 -> 32 -> 40 -> 48)] find 48"},"average":{"big_o":"O(log n)","explanation":"An average BST is relatively balanced, so you have to traverse around $log n$ nodes","example":"[(7<-17->31) (3<-7->11) (23<-31->41) (2<-3->null) (null<-11->13) (null<-23->29) (37<-41->null)] find 13"},"best":{"big_o":"O(1)","explanation":"$O(1)$ if the root. Otherwise, in a balanced tree, you have to traverse at most $log n$ nodes.","example":"[(92<-2384->626433) (14<-92->653) (83279<-626433->9399375) (3<-14->15) (589<-653->793) (50288<-83279->419716) (1058209<-9399375->74944592)] find 3"}},"Pre-Order Traversal":{"all cases":{"big_o":"O(n)","explanation":"Traversals visit all $n$ nodes in the tree.","example":"[(8<-10->40) (5<-8->null) (30<-40->80) (1<-5->null) (null<-30->null) (70<-80->90)]"}},"In-Order Traversal":{"all cases":{"big_o":"O(n)","explanation":"Traversals visit all $n$ nodes in the tree.","example":"[(50<-100->200) (null<-50->80) (150<-200->220) (null) (51<-80->null) (120<-150->180) (null<-220->null)]"}},"Post-Order Traversal":{"all cases":{"big_o":"O(n)","explanation":"Traversals visit all $n$ nodes in the tree.","example":"[(2<-9->18) (1<-2->5) (13<-18->21) (null<-1->null) (3<-5->8) (10<-13->15) (null<-21->null)]"}},"Level-Order Traversal":{"all cases":{"big_o":"O(n)","explanation":"Traversals visit all $n$ nodes in the tree.","example":"[(80<-90->100) (70<-80->null) (null<-100->110) (60<-70->null) (null) (null) (null<-110->120) (50<-60->null) (null) (null) (null) (null) (null<-120->130)]"}},"Calculate Height":{"all cases":{"big_o":"O(n)","explanation":"Finding the height requires traversing the whole tree to find the deepest node.","example":"[(30<-40->60) (0<-30->25) (null<-60->80) (null<-0->null) (33<-35->null) (null) (null<-80->null)]"}}},"ClosedHash":{"Add":{"worst":{"big_o":"O(n)","explanation":"If everything hashes to the same index, we have to traverse the entire chain structure to check for duplicates, which is $O(n)$ for an SLL. The resize case is also $O(n)$ for an SLL.","example":"[0,15,30,45,null,null,null] add 60"},"average":{"big_o":"O(1)","explanation":"$O(1)$ access to the hashed index and relatively few collisions.","example":"[0, 1, 2, null, null, null, null] add 4"},"best":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and there are no collisions.","example":"[0, 1, null, 3, null, null, null] add 2"}},"Remove":{"worst":{"big_o":"O(n)","explanation":"If everything hashes to the same index, we have to traverse the entire chain structure to find the entry, which is $O(n)$ for an SLL.","example":"[[0, 7, 14, 21], null, null, null, null, null, null] remove 21"},"average":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and relatively few collisions.","example":"[0, 1, 2, null, null, null, null] remove 1"},"best":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and there are no collisions.","example":"[0, 1, 2, null, null] remove 1"}},"Find":{"worst":{"big_o":"O(n)","explanation":"If everything hashes to the same index, we have to traverse the entire chain structure. This is $O(n)$ for an SLL.","example":"[null, [1, 8, 15], null, null, null, null, null] find 15"},"average":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and relatively few collisions.","example":"[0, 1, 2, null, null] find 0"},"best":{"big_o":"O(1)","explanation":"$O(1)$ access to hashed index and there are no collisions.","example":"[0, 1, 2, null, null] find 1"}},"Resize":{"all cases":{"big_o":"O(n)","explanation":"Resize by rehashing and adding $n$ elements to the new table, which is $O(1)$ each with an SLL chain. We do not have to check for duplicates when resizing.","example":"[0, 1, 2, 3, null, null, null] add 5"}}},"OpenHash":{"Add":{"worst":{"big_o":"O(n\xb2)","explanation":"To resize, you have to rehash and copy all $n$ entries. For each entry, you may have to probe $n$ times if they all hash to the same index.","example":"A HashMap with hashcode function always returning 1."},"average":{"big_o":"O(1)","explanation":"With a good hash function, there are few or no collisions, so on average you just add the entry to the array at its hashed index.","example":"Adding an entry with a key that has calculated index 7, and index 7 in the array is empty."},"best":{"big_o":"O(1)","explanation":"If there are no collisions, you can add the entry directly to its hashed index.","example":"Adding an entry with a key that has calculated index 7, and index 7 in the array is empty."}},"Remove":{"worst":{"big_o":"O(n)","explanation":"If every entry had the same hashcode, then when you want to remove an entry, you\'d have to probe over every other entry.","example":"A HashMap with hashcode function always returning 1."},"average":{"big_o":"O(1)","explanation":"With a good hash function, there are few or no collisions, so on average you just remove the entry at its calculated index without probing.","example":"Removing an entry with a key that has calculated index 7, and index 7 contains the key you\'re looking for."},"best":{"big_o":"O(1)","explanation":"If there are no collisions, remove the entry from its calculated index in the array.","example":"Removing an entry with a key that has calculated index 7, and index 7 contains the key you\'re looking for."}},"Find":{"worst":{"big_o":"O(n)","explanation":"If every entry had the same hashcode, then when you want to find an entry, you\'d have to probe over every other entry.","example":"A HashMap with hashcode function always returning 1."},"average":{"big_o":"O(1)","explanation":"With a good hash function, there are few or no collisions, so on average you can just find the entry at its calculated index without probing.","example":"Finding an entry with a key that has calculated index 7, and index 7 contains the key you\'re looking for."},"best":{"big_o":"O(1)","explanation":"If there are no collisions, find the entry from its calculated index in the array.","example":"Finding an entry with a key that has calculated index 7, and index 7 contains the key you\'re looking for."}},"Resize":{"worst":{"big_o":"O(n\xb2)","explanation":"When resizing a Probing HashMap, each entry has the chance to probe over once more, causing a potential $n$ probes for each of $n$ entries.","example":"A Probing HashMap at full capacity, with a hash function that only returns 1."},"average":{"big_o":"O(n)","explanation":"There are generally few collisions after a resize. Copy all $n$ entries into their new spot in the resized array.","example":"Each entry is copied over with there only being maybe 1 to 2 collisions."},"best":{"big_o":"O(n)","explanation":"In the best case, there are no collisions when resizing.","example":"Each entry is copied over to the new array without any collisions."}}},"BTree":{"Add":{"worst":{"big_o":"O(log n)","explanation":"Each level requires a promotion, therefore $O(log n)$ promotions in addition to $O(log n)$ add.","example":"20,26,33|12,16|21|27,29,32|36,37 add 31 promote second"},"average":{"big_o":"O(log n)","explanation":"Some promotions may be required after adding the element, but doing a promotion is $O(1)$ in addition to the $O(log n)$ addition.","example":"20,33|12,16|21,26,29|36,37 add 32 promote second"},"best":{"big_o":"O(log n)","explanation":"No promotions required, just adding the element to a node.","example":"20,33|12,16|26,29|36,37 add 21 promote second"}},"Remove":{"worst":{"big_o":"O(log n)","explanation":"A transfer and/or fusion is required at each level, which is $O(log n)$ extra work on top of the $O(log n)$ remove.","example":"26|20|36|12|21|27,29|37 remove 26 with predecessor"},"average":{"big_o":"O(log n)","explanation":"Some transfers and/or fusions may be required, but either is $O(1)$ in addition to the $O(log n)$ remove.","example":"26|20|29,36|12|21|27|32|37 remove 32 with predecessor"},"best":{"big_o":"O(log n)","explanation":"No transfer or fusions required, just removing the element from a node.","example":"26|20|29,33|12,16|21|27|31,32|36,37 remove 31 with predecessor"}},"Find":{"worst":{"big_o":"O(log n)","explanation":"Element doesn\'t exist in tree, so we only traverse to $log n$ nodes before not finding element.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 28"},"average":{"big_o":"O(log n)","explanation":"Most elements will exist at the bottom of the tree.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 21"},"best":{"big_o":"O(log n)","explanation":"Element exists near top of tree.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 29"}},"Calculate Height":{"all cases":{"big_o":"O(log n)","explanation":"All leaf nodes will exist at depth of $log n$.","example":"26|20|29,33|12,16|21|27|31,32|36,37 height=2"}}},"2-4 Tree":{"Add":{"worst":{"big_o":"O(log n)","explanation":"Each level requires a promotion, therefore $O(log n)$ promotions in addition to $O(log n)$ add.","example":"20,26,33|12,16|21|27,29,32|36,37 add 31 promote second"},"average":{"big_o":"O(log n)","explanation":"Some promotions may be required after adding the element, but doing a promotion is $O(1)$ in addition to the $O(log n)$ addition.","example":"20,33|12,16|21,26,29|36,37 add 32 promote second"},"best":{"big_o":"O(log n)","explanation":"No promotions required, just adding the element to a leaf node, which requires traversing $log n$ levels.","example":"20,33|12,16|26,29|36,37 add 21 promote second"}},"Remove":{"worst":{"big_o":"O(log n)","explanation":"A fusion is required at each level and propagates up, which is $O(log n)$ work plus the $O(log n)$ remove.","example":"26|20|36|12|21|27,29|37 remove 26 with predecessor"},"average":{"big_o":"O(log n)","explanation":"Some transfers and/or fusions may be required, but either is $O(1)$ in addition to the $O(log n)$ remove.","example":"26|20|29,36|12|21|27|32|37 remove 32 with predecessor"},"best":{"big_o":"O(log n)","explanation":"No transfer or fusions required. Must always traverse $log n$ levels to the leaf nodes, either to remove a leaf data or find a predecessor or successor.","example":"26|20|29,33|12,16|21|27|31,32|36,37 remove 31 with predecessor"}},"Find":{"worst":{"big_o":"O(log n)","explanation":"Element doesn\'t exist in tree, so we only traverse to $log n$ nodes before not finding element.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 28"},"average":{"big_o":"O(log n)","explanation":"Most elements will exist at the bottom of the tree.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 21"},"best":{"big_o":"O(1)","explanation":"Element exists at the root of tree.","example":"26|20|29,33|12,16|21|27|31,32|36,37 find 26"}},"Calculate Height":{"all cases":{"big_o":"O(log n)","explanation":"Because the tree is complete, all leaves are on the same (deepest) level. Traverse to any leaf node to find the height. A range of possible heights can be inferred using the number of data, but an exact answer requires traversal.","example":"26|20|29,33|12,16|21|27|31,32|36,37 height=2"}}},"Heap":{"Add":{"worst":{"big_o":"O(log n)*","explanation":"When adding a new element, in the worst case, it bubbles up to the root through $logn$ levels.","example":"Add 10 to [5,4,3]: becomes [10,5,3,4]"},"worst (unamortized)":{"big_o":"O(n)","explanation":"In the resize case, we must copy all the data to a new larger array.","example":"Add 10 to [5,4,3]: becomes [10,5,3,4]"},"average":{"big_o":"O(log n)","explanation":"New elements typically bubble up through some of the heap\'s levels, logarithmically proportional to the size.","example":"Add 6 to [8,4,3]: becomes [8,6,3,4]"},"best":{"big_o":"O(1)","explanation":"In the best case, the newly added data belongs in the leaf level and does not have to be bubbled up.","example":"???"}},"Remove":{"worst":{"big_o":"O(log n)","explanation":"After removing the root, the last element is put at the room and in the worst case must bubble down $logn$ levels.","example":"Remove 9 from [9,7,8,4,3] -> [8,7,3,4]"},"average":{"big_o":"O(log n)","explanation":"The new root typically needs to bubble down through some of the heap\'s levels, logarithmically proportional to the size.","example":"Remove from [9,6,8,4,5]: becomes [8,6,5,4]"},"best":{"big_o":"O(1)","explanation":"In the best case, we only have to downheap one level after swapping the last element to the root. This case is very rare.","example":"[1,2,3,10,11,4,5,12,13,14,15,6,7,8,9]"}},"BuildHeap":{"all cases":{"big_o":"O(n)","explanation":"Most nodes are near the bottom and require minimal adjustments. More specifically, about half of all data are on the leaf layer, and a quarter are on the second-to-last level, etc.","example":"Build from [3,1,4,5,2]: becomes [5,3,4,1,2]"}}},"AVL":{"Add":{"worst":{"big_o":"O(log n)","explanation":"Search for the insertion point at a leaf position, then perform at most one or two rotations. Since the tree is self-balancing, we never traverse more than $log n$ nodes.","example":"Current tree: [40, 30, 50, 20, null, null, null], Add 25"},"average":{"big_o":"O(log n)","explanation":"Search for the insertion point at a leaf position, then perform at most one or two rotations. Since the tree is self-balancing, we never traverse more than $log n$ nodes.","example":"Current tree: [30, 20, null], Add 10"},"best":{"big_o":"O(log n)","explanation":"Even in an ideal case, we still must traverse down $log n$ nodes to find the correct insertion point and update balance factors back up to root.","example":"Current tree: [20, 10, 30, 5, 15, 25, null], Add 35"}},"Remove":{"worst":{"big_o":"O(log n)","explanation":"Search for the node, remove it, then rebalance up to root. May need to find a predecessor/successor at a leaf node. Each rotation is $O(1)$.","example":"Current tree: [6, 3, 9, null, 4, 7, 16, null, null, null, null, 11, null], Remove 6"},"average":{"big_o":"O(log n)","explanation":"Search for the node, remove it, then rebalance up to root. AVL property ensures we never have more than $log n$ nodes to traverse or fix.","example":"Current tree: [40, 30, 50, 20, null, null, null], Remove 50"},"best":{"big_o":"O(log n)","explanation":"Even when removing a leaf node, we must still traverse down to it ($log n$) and update balance factors on the path back to root. When removing an internal/root node, we must find a predecessor/successor at a leaf node.","example":"Current tree: [50, 30, 70, 20, 40, 60, 80], Remove 20"}},"Find":{"worst":{"big_o":"O(log n)","explanation":"Must traverse from root to leaf in a balanced tree. AVL property guarantees the height is $log n$, so we never check more than $log n$ nodes.","example":"Current tree: [50, 30, 70, 20, 40, 60, 80], Find 40"},"average":{"big_o":"O(log n)","explanation":"This is a binary search through a balanced tree. Each comparison eliminates half of remaining nodes, leading to $log n$ checks. Intuitively, most data is located towards the bottom of the tree, so we still have to traverse close to $log n$ levels.","example":"Current tree: [50, 30, 70, 20, 40, 60, 80], Find 60"},"best":{"big_o":"O(1)","explanation":"Target value is at root node, requiring just one comparison and no traversal","example":"Current tree: [50, 30, 70, 20, 40, 60, 80], Find 50"}},"Calculate Height":{"all cases":{"big_o":"O(1)","explanation":"Height is stored and maintained in each node as a property, requiring just a single field access","example":"node.height or node.getHeight()"}}},"SkipList":{"Add":{"worst":{"big_o":"O(n)","explanation":"With unlucky coin flips, the SkipList can become a multi-layered LinkedList, so you have to traverse it like a LinkedList. There is $O(n)$ data to traverse once, then $O(log n)$ layers to go straight down, which simplifies to $O(n)$,","example":"3,7,15,22|3,7,15,22|3,7,15,22|3,7,15,22 add 11 with 4 heads."},"average":{"big_o":"O(log n)","explanation":"With random coin probability, SkipList may not be perfectly symmetric, but on average traversing is $O(log n)$.","example":"null,7,null,null|null,7,null,22|null,7,15,22|3,7,15,22 add 10 with random coin flip"},"best":{"big_o":"O(log n)","explanation":"With perfectly distributed coin flips, SkipList is symmetric, so traversing is $O(log n)$.","example":"null,null,10,null,null|3,null,10,null,22|3,7,10,15,22 add 19 with random coin flip"}},"Remove":{"worst":{"big_o":"O(n)","explanation":"With unlucky coin flips, the SkipList can become a multi-layered LinkedList, so you have to traverse it like a LinkedList. There is $O(n)$ data to traverse once, then $O(log n)$ layers to go straight down, which simplifies to $O(n)$,","example":"3,7,15,22|3,7,15,22|3,7,15,22|3,7,15,22 remove 15"},"average":{"big_o":"O(log n)","explanation":"With random coin probability, SkipList may not be perfectly symmetric, but on average traversing is $O(log n)$.","example":"null,7,null,null|null,7,null,22|null,7,15,22|3,7,15,22 remove 15"},"best":{"big_o":"O(log n)","explanation":"With perfectly distributed coin flips, SkipList is symmetric, so traversing is $O(log n)$. You still need to traverse down $log n$ levels to remove.","example":"null,null,10,null,null|3,null,10,null,22|3,7,10,15,22 remove 15"}},"Find":{"worst":{"big_o":"O(n)","explanation":"With unlucky coin flips, the SkipList can become a multi-layered LinkedList, so you have to traverse it like a LinkedList. There is $O(n)$ data to traverse once, then $O(log n)$ layers to go straight down, which simplifies to $O(n)$,","example":"3,7,15,22|3,7,15,22|3,7,15,22|3,7,15,22 find 22"},"average":{"big_o":"O(log n)","explanation":"With random coin probability, SkipList may not be perfectly symmetric, but on average traversing takes $O(log n)$.","example":"null,7,null,null|null,7,null,22|null,7,15,22|3,7,15,22 find 22"},"best":{"big_o":"O(1)","explanation":"The data is found immediately.","example":"3,null,10,null,null|3,null,10,null,22|3,7,10,15,22 find 3"}}},"BubbleSort":{"BubbleSort without Last Swap Optimization":{"worst":{"big_o":"O(n\xb2)","explanation":"We compare every element to every other element, which is approximately $n$ times $n$ work.","example":"[5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"On average, it performs more closely to its worst case.","example":"[1, 4, 3, 5, 2]"},"best":{"big_o":"O(n)","explanation":"If we have a separate boolean flag to check if the list is already sorted, we can detect this in one pass. Otherwise, this is $O(n\xb2)$.","example":"[1, 2, 3, 4, 5]"}},"BubbleSort with Last Swap Optimization":{"worst":{"big_o":"O(n\xb2)","explanation":"Optimization has no effect on the worst-case.","example":"[5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"While optimization does increase average runtime efficiency, it does not affect the time complexity.","example":"[1, 4, 3, 5, 2]"},"best":{"big_o":"O(n)","explanation":"The list is already sorted, which we can detect in one pass since the algorithm is adaptive.","example":"[1, 2, 3, 4, 5]"}}},"CocktailSort":{"CocktailSort without Last Swap Optimization":{"worst":{"big_o":"O(n\xb2)","explanation":"We may have to do up to $n$ swaps for each of $n$ items.","example":"[5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"On average, it performs more closely to its worst case.","example":"[1, 4, 3, 5, 2]"},"best":{"big_o":"O(n)","explanation":"If we have a separate boolean flag to check if the list is already sorted, we can detect this in one pass. Otherwise, this is $O(n\xb2)$.","example":"[1, 2, 3, 4, 5]"}},"CocktailSort with Last Swap Optimization":{"worst":{"big_o":"O(n\xb2)","explanation":"Optimization has no effect on the worst case.","example":"[5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"While optimization does increase average runtime efficiency, it does not affect the time complexity.","example":"[1, 4, 3, 5, 2]"},"best":{"big_o":"O(n)","explanation":"The list is already sorted, which we can detect in one pass since the algorithm is adaptive.","example":"[1, 2, 3, 4, 5]"}}},"InsertionSort":{"InsertionSort":{"worst":{"big_o":"O(n\xb2)","explanation":"If the initial array is reverse-sorted, we have to move each element to the beginning of the array one spot at a time, which is approximately $n$ times $n$ work.","example":"[6, 5, 4, 3, 2, 1]"},"average":{"big_o":"O(n\xb2)","explanation":"On average, it performs more closely to its worst case.","example":"[6, 1, 4, 2, 5, 3]"},"best":{"big_o":"O(n)","explanation":"If the initial array is already sorted, we check each element once and do not have to move any towards the front.","example":"[1, 2, 3, 4, 5, 6]"}}},"SelectionSort":{"SelectionSort":{"all cases":{"big_o":"O(n\xb2)","explanation":"Finding the largest or smallest element in the unsorted portion of the array requires $n$ comparisons, and we do this $n$ times.","example":"[7, 1, 8, 3, 5]"}}},"Quicksort":{"Quicksort":{"worst":{"big_o":"O(n\xb2)","explanation":"The worst pivot (min or max) is chosen each partition, devolving into a selection sort.","example":"[3, 2, 4, 1, 5] with 5 as the pivot"},"average":{"big_o":"O(n log n)","explanation":"On average, the data is split roughly in half each partition.","example":"[3, 2, 4, 1, 5, 6] with 3 as the pivot"},"best":{"big_o":"O(n log n)","explanation":"The pivot is perfect (the median) in every partition.","example":"[3, 2, 4, 1, 5] with 3 as the pivot"}}},"Quickselect":{"Quickselect":{"worst":{"big_o":"O(n\xb2)","explanation":"The minimum or maximum value of the subarray is always chosen.","example":"[25, 23, 28, 24, 30] with 23 as the pivot"},"average":{"big_o":"O(n)","explanation":"Data is split in half on average during each partition. We can discard the partition which does not contain the target.","example":"[37, 33, 34, 38, 31, 30] with 33 as the pivot"},"best":{"big_o":"O(n)","explanation":"The pivot is always the median value of the subarray.","example":"[25, 23, 28, 24, 30] with 25 as the pivot"}}},"MergeSort":{"MergeSort":{"worst":{"big_o":"O(n log n)","explanation":"Merge sort always recursively divides the array into halves (for a total of $log n$ levels) and merges each level (which is an $O(n)$ operation).","example":"[9, 2, 4, 5, 1, 8, 6, 3] divides into a total of 3 levels (log_2(8) = 3)"},"average":{"big_o":"O(n log n)","explanation":"Merge sort always recursively divides the array into halves (for a total of $log n$ levels) and merges each level (which is an $O(n)$ operation).","example":"[27, 23, 26, 20] divides into 2 levels (log_2(4) = 2)"},"best":{"big_o":"O(n log n)","explanation":"Even in the best case, merge sort still recursively divides the array into halves (for a total of $log n$ levels) and merges each level (which is an $O(n)$ operation).","example":"[1, 2, 3, 4, 5, 6, 7, 8] still divides into 3 levels (log_2(8) = 3)"}}},"FredSort":{"FredSort":{"worst":{"big_o":"O(n \u221an)","explanation":"The insertion sort portion has a time complexity of the length of the partition squared, which is $(\u221an)\xb2 = n$. This is done for each of the $\u221an$ partitions, so $O(n \u221an)$ work is done. Merging is also $O(n \u221an)$.","example":"[3, 2, 4, 1, 5] with 5 as the pivot"},"average":{"big_o":"O(n \u221an)","explanation":"Best and worst case are both $O(n \u221an)$, so average is too.","example":"[3, 2, 4, 1, 5, 6] with 3 as the pivot"},"best":{"big_o":"O(n \u221an)","explanation":"The insertion sort portion has a time complexity of just the length of the partition, which is $\u221an$. The merge portion is $O(n \u221an)$, thus the overall time complexity os $O(n \u221an)$.","example":"[3, 2, 4, 1, 5] with 3 as the pivot"}}},"DropSort":{"DropSort":{"all cases":{"big_o":"O(n)","explanation":"We always iterate through the array one time. This is a great runtime, but comes with the consequence that we lose data, so it is not a true sort."}}},"MiracleSort":{"MiracleSort":{"worst":{"big_o":"O(\u221e)","explanation":"There is no function that bounds the interminable runtime of Miracle Sort. While O(\u221e) is not appropriate Big-O notation, it gets the idea across."},"best":{"big_o":"O(n)","explanation":"If the bytes associated with each element\'s memory location are each flipped once, such that they are all put in the correct locations, this would be a linear runtime with respect to the number of elements."}}},"SleepSort":{"SleepSort":{"all cases":{"big_o":"O(n)","explanation":"We copy each data item once into the new array. While this is a good time complexity, it is slow in practice since we have to wait for each element."}}},"LSDRadix":{"LSDRadix":{"worst":{"big_o":"O(kn)","explanation":"One or a few numbers in the array are much longer than the rest. The longest number has $k$ digits.","example":"[28, 33, 92, 91, 1234567891]"},"average":{"big_o":"O(kn)","explanation":"Each number in the array will be added to and removed from a bucket $k$ times, where $k$ is the length of the longest number.","example":"[8, 144, 10, 152, 25, 5]"},"best":{"big_o":"O(kn)","explanation":"All of the numbers in the array have relatively few digits.","example":"[3, 2, 4, 5, 1, 7]"}}},"HeapSort":{"HeapSort":{"all cases":{"big_o":"O(n log n)","explanation":"Removing an element from a heap is $O(log n)$, and we do this $n$ times.","example":"[300, 200, 500, 400, 800, 900]"}}},"BruteForce":{"Single Occurrence":{"worst":{"big_o":"O(mn)","explanation":"A mismatch occurs at the last comparison of the pattern to the text for every alignment.","example":"\'aaab\' in aaaaaaaaaaaa"},"best":{"big_o":"O(m)","explanation":"The pattern is found in the text in the first alignment.","example":"\'cs\' in \'cs1332\'"}},"All Occurrences":{"worst":{"big_o":"O(mn)","explanation":"A mismatch occurs at the last comparison of the pattern to the text for every alignment.","example":"\'aaab\' in \'aaaaaaaaaaaaaaa\'"},"best":{"big_o":"O(n)","explanation":"A mismatch always occurs at the first comparison for every alignment.","example":"\'caa\' in \'aaaaaaaaaaaaaaa\'"}}},"BoyerMoore":{"Last Occurrence Table":{"all cases":{"big_o":"O(m)","explanation":"Building the Last Occurrence Table requires a linear pass through the pattern.","example":{"pattern":"shanghai","table":{"s":0,"h":5,"a":6,"n":3,"g":4,"i":7,"*":-1}}}},"No Occurrences":{"worst":{"big_o":"O(mn)","explanation":"When there is a mismatch on the first character of the pattern with a character of the text that exists in the pattern, shift by 1. If this happens for every alignment, the pattern will shift by 1 each time.","example":{"text":"aaaaaaaaaaaaaaaa","pattern":"baaaa"}},"best":{"big_o":"O(m + n/m)","explanation":"If every character of the text is not in the pattern, the pattern shifts by $m$ for each mismatch.","example":{"text":"bbbbbbbbbbbbbbbb","pattern":"aaaaa"}}},"Single Occurrence":{"worst":{"big_o":"O(mn)","explanation":"The single occurrence is at the end of the text, requiring $n$ shifts","example":{"text":"aaaaaaaaaaaaabaaa","pattern":"baaa"}},"best":{"big_o":"O(m)","explanation":"The pattern perfectly matches on the first alignment.","example":{"text":"abcdefgabc","pattern":"abc"}}},"All Occurrences":{"worst":{"big_o":"O(mn)","explanation":"When there is a mismatch on the first character of the pattern with a character of the text that exists in the pattern, shift by 1. If this happens for every alignment, the pattern will shift by 1 each time.","example":{"text":"aaaaaaaaaaaaaaaaaaaa","pattern":"baaaa"}},"best":{"big_o":"O(m + n/m)","explanation":"There is not a single character of the pattern in the text, causing shifts by $m$ each time.","example":{"text":"bbbbbbbbbbbbbbbb","pattern":"aaaaa"}}}},"KMP":{"Failure Table":{"all cases":{"big_o":"O(m)","explanation":"Building the Failure Table requires a linear pass through the pattern.","example":{"pattern":"abaababac","table":[0,0,1,1,2,3,2,3,0]}}},"No Occurrences":{"all cases":{"big_o":"O(m + n)","explanation":"In cases where no matches occur, the algorithm processes each character in the text and pattern once, plus the preprocessing time.","example":{"text":"abcdefgh","pattern":"xyz"}}},"Single Occurrence":{"worst":{"big_o":"O(m + n)","explanation":"KMP handles repeated pattern occurrences efficiently, scanning through the text in linear time, plus the preprocessing time.","example":{"text":"ababacad","pattern":"abac"}},"best":{"big_o":"O(m)","explanation":"When the pattern matches on the first alignment without any mismatches.","example":{"text":"abcdefgabc","pattern":"abc"}}},"All Occurrences":{"all cases":{"big_o":"O(m + n)","explanation":"KMP handles repeated pattern occurrences efficiently, scanning through the text in linear time, plus the preprocessing time.","example":{"text":"abcabcabcabc","pattern":"abc"}}}},"RabinKarp":{"Calculate Initial Hashes":{"all cases":{"big_o":"O(m)","explanation":"Calculate the hash of the pattern once, and then calculate the first $m$ characters of the text, for $O(2m)$ work.","example":{"text":"abcdefgh","pattern":"abc"}}},"No Occurrences":{"worst":{"big_o":"O(mn)","explanation":"Assume pattern hash and text hash are always equal. Then there will be hash collisions for every substring to be compared, resulting in a brute-force approach. If every character except the last matches, then this is $O(mn)$ work.","example":{"text":"aaaaaa","pattern":"aab"}},"best":{"big_o":"O(m + n)","explanation":"Assume the hash of the pattern does not equal hash of text when strings are not equal. With no hash collisions, Rabin-Karp skips mismatches after rolling the hash.","example":{"text":"abcdefgh","pattern":"xyz"}}},"Single Occurrence":{"worst":{"big_o":"O(mn)","explanation":"When there are many hash collisions due to a bad hash function, Rabin-Karp degenerates to $O(mn)$ as each substring must be compared.","example":{"text":"aaabaa","pattern":"aab","occurrences":"one with collisions"}},"best":{"big_o":"O(m)","explanation":"The pattern matches on the first check after hash comparison, where we compare $m$ characters of the pattern and text.","example":{"text":"abcdefg","pattern":"abc","occurrences":"one"}}},"All Occurrences":{"worst":{"big_o":"O(mn)","explanation":"When hash collisions are frequent due to a bad hash function (i.e. every character hashes to 0), Rabin-Karp reverts to a brute-force comparison for each substring.","example":{"text":"abaaaaab","pattern":"ab"}},"best":{"big_o":"O(m + n)","explanation":"With a good hash function, there will be collisions only when the pattern and text match, thus Rabin-Karp efficiently finds all matches in linear time.","example":{"text":"xyzaaaxyz","pattern":"xyz","occurrences":"all"}}}},"BFS":{"BFS":{"all cases":{"big_o":"O(|V|+|E|)","explanation":"For each vertex, we iterate through all of its adjacent edges. Thus, we visit each vertex once and process each edge once.","example":"A connects to B and C; B connects to D"}}},"DFS":{"DFS Recursive":{"all cases":{"big_o":"O(|V|+|E|)","explanation":"For each vertex, we iterate through all of its adjacent edges. Thus, we visit each vertex once and process each edge once.","example":"A connects to B and C; B connects to D"}},"DFS Iterative":{"all cases":{"big_o":"O(|V|+|E|)","explanation":"For each vertex, we iterate through all of its adjacent edges. Thus, we visit each vertex once and process each edge once.","example":"A connects to B and C; B connects to D"}}},"Dijkstra":{"Dijkstra\'s":{"all cases":{"big_o":"O(|E|log|E|)","explanation":"For each vertex, we iterate through all of its adjacent edges like in BFS. We add edges to a priority queue to decide in what order to explore, which is logarithmic for each step (it uses a heap!)","example":"A -(2)-> B; B -(2)-> C; A -(3)-> C: shortest path from A to C"}}},"Prim":{"Prim\'s":{"all cases":{"big_o":"O(|E|log|E|)","explanation":"For each vertex, we iterate through all of its adjacent edges like in BFS. We add edges to a priority queue to decide in what order to explore, which is logarithmic for each step (it uses a heap!)","example":"A connects to B; B connects to C; C connects to A"}}},"Kruskal":{"Kruskal\'s":{"all cases":{"big_o":"O(|E|log|E|)","explanation":"We use a priority queue to incrementally add edges to the MST, which is logarithmic for each step (it uses a heap!)","example":"A connects to B; B connects to C; C connects to A"}}},"LCS":{"Longest Common Subsequence":{"all cases":{"big_o":"O(mn)","explanation":"Each letter in the first string is compared to each letter of the second string."}}}}');let uc=!0;const mc=(t,e)=>t.split(/\$(.*?)\$/g).map(((t,i)=>i%2===1||e?(0,_t.jsx)("span",{className:"equation",children:t},i):t)),gc=t=>t?Object.keys(t).map((e=>{const i=t[e];return(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("h4",{children:e}),(0,_t.jsx)("table",{children:(0,_t.jsx)("tbody",{children:Object.keys(i).map((t=>(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("td",{style:{width:"13%"},children:t[0].toUpperCase()+t.slice(1)}),(0,_t.jsx)(pc,{text:i[t].big_o}),(0,_t.jsx)("td",{children:mc(i[t].explanation)})]},t)))})})]},e)})):null,pc=t=>{let{text:e}=t;const[i,s]=(0,h.useState)(!0);return(0,_t.jsx)("td",{style:{width:"16%"},className:i?"blur big_o_cell":"big_o_cell",onMouseEnter:()=>{s(!1)},children:mc(e,!0)})};function fc(){uc=!uc;const t=document.querySelectorAll(".big_o_cell");if(uc){t.forEach((t=>{t.classList.add("blur")}));document.querySelector(".button-container button").textContent="Reveal All Big-O"}else{t.forEach((t=>{t.classList.remove("blur")}));document.querySelector(".button-container button").textContent="Hide All Big-O"}}var Ic=t=>cc[t]?(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"button-container",children:(0,_t.jsx)("button",{onClick:fc,children:"Reveal All Big-O"})}),gc(cc[t])]}):null;var xc={ArrayList:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"ArrayLists must be contiguous so you cannot add at an index greater than size."}),(0,_t.jsx)("li",{children:"Likewise, you cannot remove at an index greater than or equal to size."})]}),AVL:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"To cause a left rotation, add 1, 2 and 3, in that order"}),(0,_t.jsx)("li",{children:"To cause a right rotation, add 3, 2 and 1, in that order"}),(0,_t.jsx)("li",{children:"To cause a left-right rotation, add 3, 1 and 2, in that order"}),(0,_t.jsx)("li",{children:"To cause a right-left rotation, add 1, 3 and 2, in that order"})]}),BoyerMoore:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:'The worst case is when we have a text with only one letter and a pattern with that same letter, but a different first letter (for example, "aaaaaaaaa" for text and "baaaa" for pattern), since we will only mismatch on the last comparison'}),(0,_t.jsxs)("li",{children:["When incorporating the Galil Rule, we can use logic similar to that of KMP to optimize our shifts. After finding a full match, instead of shifting by 1 we shift by the period ",(0,_t.jsx)("i",{children:"k = m - ft[m - 1]"}),". After that shift, we don't need to compare the first ",(0,_t.jsx)("i",{children:"k"})," characters in the pattern because we've already compared them and know that they match!"]})]}),BruteForce:(0,_t.jsx)("ul",{children:(0,_t.jsx)("li",{children:'The worst case is when we have a text with only one letter and a pattern with that same letter, but a different last letter (for example, "aaaaaaaaa" for text and "aaaab" for pattern), since we will only mismatch on the last comparison'})}),BST:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"To get a degenerate BST, you can add ascending data, such as 1, 2, 3, ..."}),(0,_t.jsx)("li",{children:"To get a full BST, you can add 2, 1, 4, 3, 5, in that order"}),(0,_t.jsx)("li",{children:"To get a complete BST, you can add 3, 2, 4, 1, in that order"}),(0,_t.jsx)("li",{children:"To get a full and complete BST, you can add 4, 2, 5, 1, 3, in that order"})]}),BTree:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"When performing a transfer, the left sibling data will be considered before the right sibling data"}),(0,_t.jsx)("li",{children:"To cause overflow and trigger a promotion, add more than 3 data (for example 1, 2, 3 and 4)"}),(0,_t.jsx)("li",{children:"To remove from a leaf node, add 1, 2, 3 and 4, in that order, then remove 3 or 4"}),(0,_t.jsx)("li",{children:"To remove from an inner node and use the predecessor, add 1, 3, 4, 5 and 2, in that order, then remove 3"}),(0,_t.jsx)("li",{children:"To cause underflow and trigger a rotation/transfer, add 1, 2, 3 and 4, in that order, then remove 1"}),(0,_t.jsx)("li",{children:"To cause underflow and trigger a fusion, follow the steps above then remove 2"})]}),BubbleSort:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The best case is when we have a sorted array (terminates if no swaps are made)"}),(0,_t.jsxs)("li",{children:["The worst case is when we have a reverse sorted array (we perform",(0,_t.jsxs)("span",{className:"equation",children:["n + (n - 1) + (n - 2) + ... = n",(0,_t.jsx)("suspan",{children:"2"})]}),"comparisons)"]})]}),CircularlyLinkedList:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"This is a singly circular LinkedList with no tail."}),(0,_t.jsxs)("li",{children:["Adding to the front, adding to the back, and removing from the front can all be done in ",(0,_t.jsx)("span",{className:"equation",children:"O(1)"})," using data movement tricks and pointer manipulation."]}),(0,_t.jsxs)("li",{children:["Removing from the back requires a traversal to the node before the last node making it ",(0,_t.jsx)("span",{className:"equation",children:"O(n)"})]})]}),ClosedHash:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The Hash Integers option uses the integer key itself as a hashcode."}),(0,_t.jsx)("li",{children:"This Hash Strings option hashes the string key using the sum of the key's ASCII values and the XOR operator."}),(0,_t.jsx)("li",{children:"The True Hash option generates a Java-like hashcode for both integer and string keys."}),(0,_t.jsx)("li",{children:"Integer keys must be positive for these visualizations."})]}),CocktailSort:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The best case is when we have a sorted array (terminates if no swaps are made)"}),(0,_t.jsxs)("li",{children:["The worst case is when we have a reverse sorted array (we perform",(0,_t.jsxs)("span",{className:"equation",children:["n + (n - 1) + (n - 2) + ... = n",(0,_t.jsx)("suspan",{children:"2"})]}),"comparisons)"]}),(0,_t.jsx)("li",{children:"Even though Cocktail Shaker Sort has the same big-O as Bubble Sort, it is still faster; one case where it significantly outperforms Bubble Sort is when we have a sorted array, except for the last element which is the smallest, for example [2, 3, 4, 5, 6, 7, 8, 9, 1]"})]}),DoublyLinkedList:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The visualization may make it appear as if the head and tail are a separate nodes. But keep in mind the head and tail are just references to the first node and last nodes. So the head/tail points to and effectively is the first/last node."}),(0,_t.jsxs)("li",{children:["Since this is a DLL with a tail, all operations acting at the front and back of the list are ",(0,_t.jsx)("span",{className:"equation",children:"O(1)"})]})]}),InsertionSort:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The best case is when we have a sorted array (terminates if no swaps are made)"}),(0,_t.jsxs)("li",{children:["The worst case is when we have a reverse sorted array (we perform",(0,_t.jsxs)("span",{className:"equation",children:["n + (n - 1) + (n - 2) + ... = n",(0,_t.jsx)("suspan",{children:"2"})]}),"comparisons)"]})]}),Quickselect:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The worst case occurs when we pick a bad pivot every time, such as the mininum or maximum element. Then, one partition will be empty and the other will have all of the remaining data, causing Quickselect to degenerate into a Selection Sort."}),(0,_t.jsx)("li",{children:"The best case is with a perfect pivot. This is when the median element is chosen as the pivot, because then each partition will have half of the remaining data."})]}),Quicksort:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The worst case occurs when we pick a bad pivot every time, such as the mininum or maximum element. Then, one partition will be empty and the other will have all of the remaining data, causing Quicksort to degenerate into a Selection Sort."}),(0,_t.jsx)("li",{children:"The best case is with a perfect pivot. This is when the median element is chosen as the pivot, because then each partition will have half of the remaining data."})]}),LinkedList:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The visualization may make it appear as if the head and tail are a separate nodes. But keep in mind the head and tail are just a references to first and last nodes. So the head points to and effectively is the first node, and the tail points to and effectively is the last node."}),(0,_t.jsxs)("li",{children:["LinkedLists are designed to operate at the head. So all operations acting at the front are ",(0,_t.jsx)("span",{className:"equation",children:"O(1)."})]}),(0,_t.jsxs)("li",{children:["Without the tail, adding to the back is ",(0,_t.jsx)("span",{className:"equation",children:"O(n)"})," since we must traverse from the head to the last node."]}),(0,_t.jsxs)("li",{children:["With the tail, adding to the back becomes ",(0,_t.jsx)("span",{className:"equation",children:"O(1)"})," ","since we can set the next pointer of the tail to the new node and then have the tail point to the new node."]})]}),LSDRadix:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The range of sortable numbers for this visualization is [-99999, 999999]. Any numbers outside this range will not be sorted."}),(0,_t.jsx)("li",{children:"When sorting negative numbers, a larger buckets array with indices -9 to 9 is needed."})]}),SkipList:(0,_t.jsx)("ul",{children:(0,_t.jsx)("li",{children:"You can get a degenerate SkipList by always adding with a constant amount of heads, for example 0 or 4."})}),OpenHash:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The Hash Integers option uses the integer key itself as a hashcode."}),(0,_t.jsx)("li",{children:"This Hash Strings option hashes the string key using the sum of the key's ASCII values and the XOR operator."}),(0,_t.jsx)("li",{children:"The True Hash option generates a Java-like hashcode for integer and string keys."}),(0,_t.jsx)("li",{children:"Integer keys must be positive for these visualizations."})]}),SelectionSort:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The minimum option selects the smallest number to swap with."}),(0,_t.jsx)("li",{children:"The maximum option selects the largest number to swap with."})]}),SplayTree:(0,_t.jsx)("ul",{children:(0,_t.jsx)("li",{children:"SplayTrees are optimized for frequently accessing the same subset of elements. After an operation on an element, the element is moved to the root of the tree. This allows for faster access next time this element is searched for, and frequently- searched elements will tend to be towards the top of the tree."})}),RabinKarp:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"The base value is initially set to 1."}),(0,_t.jsx)("li",{children:"To reduce to liklihood of pattern/text hash collisions, a large prime number should be used for the base."})]}),FredSort:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"First, split the array into \u221an partitions. Then, run Insertion Sort on each partition. Lastly, merge each partition together in sorted order, similar to MergeSort."}),(0,_t.jsxs)("li",{children:["FredSort is an iterative sort created by our very own Professor"," ",(0,_t.jsx)("strong",{children:"Fred"}),"eric Faulkner. It is generally worse than MergeSort for efficiency, but is a fun exercise for algorithmic analysis."]})]}),DropSort:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"This sort, also commonly known by other less appropriate names, is a way to create a sorted array of data in O(n) time."}),(0,_t.jsxs)("li",{children:["Iterate through the array left-to-right and ",(0,_t.jsx)("strong",{children:"drop (delete)"})," any out-of-order elements, so that we end up with a sorted list."]}),(0,_t.jsx)("li",{children:"While this sort is technically O(n), it is not recommended for any real-world use since the user typically does not want to lose parts of their data when sorting."})]}),MiracleSort:(0,_t.jsx)("ul",{children:(0,_t.jsx)("li",{children:"This sort does nothing to actively sort the data. It simply waits and hopes for a miracle to happen. Specifically, we are hoping that the bytes representing the memory locations of each element are flipped by some cosmic radiation such that the ordering of each element is modified into a sorted order."})}),SleepSort:(0,_t.jsx)("ul",{children:(0,_t.jsx)("li",{children:"The algorithm creates a delayed routine for each element in the array. The delay is proportional to the value of the element. The elements are then copied into a new array in order of the delay, which should be in ascending order."})})};var bc=t=>{let{theme:e,toggleTheme:i}=t;const[s]=At(),a=J().pathname.slice(1),n=rc[a],r=(0,h.useRef)(null),o=(0,h.useRef)(null),l=(0,h.useRef)(null),[d,c]=(0,h.useState)(!1),[u,m]=(0,h.useState)("about"),[g,p]=(0,h.useState)(!1),[f,I]=(0,h.useState)("english"),[x,b]=(0,h.useState)(null),[D,y]=(0,h.useState)(null);(0,h.useEffect)((()=>{if(Qn.Ay.send({hitType:"pageview",page:a}),n){const[e,i,h,a]=n;l.current=new Gn(r,o);const d=new i(l.current,r.current.width,r.current.height);if(s.toString())try{d.setURLData(s)}catch(t){console.error(t)}s.has("pseudocode")&&h&&(I("english"),c(!0),m("code"));const u=()=>{l.current.changeSize(document.body.clientWidth)};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}}}),[a,n,s]),(0,h.useEffect)((()=>{l.current&&(l.current.updateLayer(32,!1),l.current.updateLayer(33,!1),"english"===f?l.current.updateLayer(32,!0):"code"===f&&l.current.updateLayer(33,!0))}),[f]),(0,h.useEffect)((()=>{const t=(()=>{const t=t=>t.toLowerCase().replace(/['\s-]+/g,"").replace(/s$/,"").replace(/^(singly|doubly|circularly)/,""),e=t(a);if(dr[a])return dr[a];const i=Object.keys(dr).find((i=>t(i)===e));return i?dr[i]:null})();y(t),t&&b(Object.keys(t)[0])}),[a]);const v=D&&x?D[x][f]:null,k=()=>{const t={none:"english",english:"code",code:"none"};I((e=>t[e]))},C=t=>{let e=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\b(end)\s+(procedure)\b/g,'<span class="pseudocode-end">$1 $2</span>').replace(/\b(procedure)\s+(\w+)/g,'<span class="pseudocode-procedure">$1 $2</span>').replace(/\b(if|else|for|while|return)\b/g,'<span class="pseudocode-keyword">$1</span>').replace(/\/\/.+$/g,'<span class="pseudocode-comment">$&</span>');return e=e.replace(/\(([^)]+)\)/g,(function(t,e){return'(<span class="pseudocode-param">'+e+"</span>)"})),{__html:e}};if(!n)return(0,_t.jsx)(he,{});const[w,L,T,S]=n,F="Quickselect / k\u1d57\u02b0 Select"===w,A=S||w;return(0,_t.jsx)("div",{className:"VisualizationMainPage",children:(0,_t.jsxs)("div",{id:"container",children:[(0,_t.jsx)("div",{id:"header",children:(0,_t.jsxs)("h1",{children:[(0,_t.jsx)(Tt,{to:"/",children:"\u3008"}),"\xa0\xa0",F?(0,_t.jsxs)(_t.Fragment,{children:["Quickselect / k",(0,_t.jsx)("sup",{children:"th"})," Select"]}):(0,_t.jsx)(_t.Fragment,{children:A}),(0,_t.jsx)("div",{id:"toggle",children:"light"===e?(0,_t.jsx)(Mt,{size:31,onClick:i,color:"#f9c333",className:"rotate-effect"}):(0,_t.jsx)(Zt,{size:29,onClick:i,color:"#d4f1f1",className:"rotate-effect"})})]})}),(0,_t.jsxs)("div",{id:"mainContent",children:[(0,_t.jsxs)("div",{id:"algoControlSection",children:[(0,_t.jsx)("table",{id:"AlgorithmSpecificControls"}),(0,_t.jsxs)("div",{id:"toggles",children:[(xc[a]||D||Ic(a))&&(0,_t.jsx)(Vt,{className:"menu-modal",size:30,onClick:()=>{p(!1),d||(xc[a]?m("about"):D&&m("code")),c((t=>!t))},opacity:d?"100%":"40%",title:"Information & Documentation"}),T&&"none"===f&&(0,_t.jsx)(Kt,{className:"pseudocode-toggle",size:32,onClick:k,opacity:"40%",title:"Code: Hidden"}),T&&"english"===f&&(0,_t.jsx)(Gt,{className:"pseudocode-toggle",size:32,onClick:k,title:"Code: English"}),T&&"code"===f&&(0,_t.jsx)(Ut,{className:"pseudocode-toggle",size:32,onClick:k,title:"Code: Pseudo"})]})]}),(0,_t.jsxs)("div",{className:"viewport",children:[(0,_t.jsx)("canvas",{id:"canvas",width:0,height:"505",ref:r}),d&&(0,_t.jsx)("div",{className:"modal info-modal "+("dark"===e?"dark-theme":""),children:(0,_t.jsxs)("div",{className:"modal-content",children:[(0,_t.jsxs)("div",{className:"modal-tabs",children:[xc[a]&&(0,_t.jsxs)("button",{className:"tab-button "+("about"===u?"active":""),onClick:()=>m("about"),children:[(0,_t.jsx)(Yt,{size:18}),(0,_t.jsx)("span",{className:"tab-text",children:"About"})]}),D&&(0,_t.jsxs)("button",{className:"tab-button "+("code"===u?"active":""),onClick:()=>m("code"),children:[(0,_t.jsx)(qt,{size:18}),(0,_t.jsx)("span",{className:"tab-text",children:"Pseudocode"})]}),Ic(a)&&(0,_t.jsxs)("button",{className:"tab-button "+("bigo"===u?"active":""),onClick:()=>m("bigo"),children:[(0,_t.jsx)($t,{size:18}),(0,_t.jsx)("span",{className:"tab-text",children:"Big O"})]})]}),"about"===u&&xc[a]&&(0,_t.jsx)("div",{className:"tab-content about-content",children:xc[a]}),"code"===u&&D&&(0,_t.jsxs)("div",{className:"tab-content code-content",children:[(0,_t.jsxs)("div",{className:"pseudocode-header",children:[(0,_t.jsx)("div",{className:"pseudocode-title",children:Object.keys(D).length>1&&(0,_t.jsx)("select",{value:x,onChange:t=>b(t.target.value),className:"pseudocode-section-selector",children:Object.keys(D).map((t=>(0,_t.jsx)("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1).replace(/([A-Z])/g," $1")},t)))})}),(0,_t.jsx)("button",{className:"code-toggle-button",onClick:()=>{I((t=>"english"===t?"code":"english"))},title:"english"===f?"Show Code Format":"Show English Format",children:"english"===f?(0,_t.jsx)(qt,{size:20}):(0,_t.jsx)(Jt,{size:20})})]}),v&&(0,_t.jsx)("div",{className:"pseudocode-modal-content",children:v.map(((t,e)=>{const i=t[0],s=i.match(/^(\s+)/),h=s?s[0].length/2:0;return(0,_t.jsx)("div",{className:"pseudocode-line",style:{paddingLeft:20*h+"px"},dangerouslySetInnerHTML:C(i)},e)}))})]}),"bigo"===u&&Ic(a)&&(0,_t.jsx)("div",{className:"tab-content bigo-content",children:Ic(a)})]})}),!1]}),(0,_t.jsx)("div",{id:"generalAnimationControlSection",children:(0,_t.jsx)("table",{id:"GeneralAnimationControls",ref:o})})]}),(0,_t.jsx)("div",{id:"footer",children:(0,_t.jsx)("p",{children:(0,_t.jsx)(Tt,{to:"/",children:"Return to Home Page"})})})]})})};function Dc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)t[s]=i[s]}return t}var yc=function t(e,i){function s(t,s,h){if("undefined"!==typeof document){"number"===typeof(h=Dc({},i,h)).expires&&(h.expires=new Date(Date.now()+864e5*h.expires)),h.expires&&(h.expires=h.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var n in h)h[n]&&(a+="; "+n,!0!==h[n]&&(a+="="+h[n].split(";")[0]));return document.cookie=t+"="+e.write(s,t)+a}}return Object.create({set:s,get:function(t){if("undefined"!==typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],s={},h=0;h<i.length;h++){var a=i[h].split("="),n=a.slice(1).join("=");try{var r=decodeURIComponent(a[0]);if(s[r]=e.read(n,r),t===r)break}catch(Ac){}}return t?s[t]:s}},remove:function(t,e){s(t,"",Dc({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,Dc({},this.attributes,e))},withConverter:function(e){return t(Dc({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),vc=i.p+"static/media/bark.367847c8ab1b26a64e41.mp3";var kc=()=>{const[t,e]=(0,h.useState)(!1),[i,s]=(0,h.useState)(0),[a,n]=(0,h.useState)(!1),r=(0,h.useRef)(null),o=["Welcome to CS 1332's visualization tool!","Click a data structure or algorithm to go to its visualization page!","Pause the animation and Step Forward/Back to explore operations.","Reference the pseudo-code to see how each step is implemented.","Click the top-right icons to change the pseudo-code or see more info.","Some pages have additional settings and modes. Play around!","Keep clicking me for a surprise!","...",""];return(0,_t.jsxs)("div",{onMouseDown:()=>{e(!t),t&&(s((i+1)%o.length),r.current.classList.remove("blobLogo-animate")),o[i]||(r.current&&(r.current.src=r.current.src.replace("favicon","jack"),r.current.classList.add("blobLogo-animate")),s((i+1)%o.length),e(!1),n(!0))},children:[a&&(0,_t.jsx)("audio",{src:vc,autoPlay:!0,onEnded:()=>n(!1)}),t&&(0,_t.jsx)("div",{id:"text-bubble",children:(0,_t.jsx)("div",{children:o[i]})}),(0,_t.jsx)("img",{src:"./favicon.png",alt:"",className:"blobLogo",id:"blobLogo",ref:r}),(0,_t.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",width:"100%",height:"100%",id:"blobSvg",transform:"rotate(65)",style:{opacity:"1",cursor:"pointer"},children:[" ",(0,_t.jsxs)("defs",{children:[" ",(0,_t.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[" ",(0,_t.jsx)("stop",{offset:"0%",style:{stopColor:"#ff5f6d"}})," ",(0,_t.jsx)("stop",{offset:"100%",style:{stopColor:"#ffc371"}})," "]})," "]})," ",(0,_t.jsx)("path",{id:"blob",fill:"url(#gradient)",style:{opacity:"1"},children:(0,_t.jsx)("animate",{attributeName:"d",dur:"9500ms",repeatCount:"indefinite",values:"M439.43806,316.51312Q432.44085,383.02623,370.39398,407.14258Q308.3471,431.25893,240.13979,459.78516Q171.93248,488.31139,132.30301,426.26451Q92.67355,364.21763,63.21484,307.10882Q33.75613,250,44.06194,178.90151Q54.36774,107.80301,118.67355,75.31613Q182.97935,42.82924,240.60882,72.66602Q298.23828,102.50279,368.10882,107.87054Q437.97935,113.23828,442.20731,181.61914Q446.43527,250,439.43806,316.51312Z;M424.84079,321.86371Q447.86386,393.72743,384.56836,431.15935Q321.27286,468.59128,248.86371,472.84107Q176.45457,477.09086,148.84107,410.1135Q121.22757,343.13614,67.95457,296.56807Q14.68157,250,76.45485,209.5685Q138.22813,169.13699,166.2505,123.59142Q194.27286,78.04585,249.70464,79.81828Q305.13643,81.59072,362.47721,103.93179Q419.818,126.27286,410.81786,188.13643Q401.81772,250,424.84079,321.86371Z;M453.70516,317.0107Q433.36186,384.02139,362.52423,381.146Q291.6866,378.27061,242.8433,399.93801Q194,421.60541,117.08118,412.14317Q40.16237,402.68093,64.29201,326.34046Q88.42165,250,109.0107,206.32693Q129.59975,162.65387,148.64317,78.76495Q167.6866,-5.12397,241.8433,20.74072Q316,46.60541,350.8433,99.17023Q385.6866,151.73505,429.86753,200.86753Q474.04846,250,453.70516,317.0107Z;M437.48517,301.93698Q392.82947,353.87396,357.50371,413.21131Q322.17795,472.54867,247.51112,479.51159Q172.8443,486.47452,129.54819,427.64458Q86.25209,368.81464,81.57785,309.40732Q76.90361,250,83.86283,191.93327Q90.82205,133.86654,141.98146,104.152Q193.14087,74.43745,247.01483,83.88926Q300.88878,93.34106,355.51112,113.62234Q410.13346,133.90361,446.13717,191.95181Q482.14087,250,437.48517,301.93698Z;M460.19079,314.81752Q429.48296,379.63503,366.74655,397.33779Q304.01014,415.04055,238.62673,450.6401Q173.24331,486.23965,141.80231,418.853Q110.3613,351.46635,87.51337,300.73317Q64.66545,250,86.56406,198.80231Q108.46268,147.60462,149.75669,107.39355Q191.05069,67.18248,258.9189,40.41566Q326.7871,13.64883,381.21107,64.45621Q435.63503,115.26359,463.26683,182.63179Q490.89862,250,460.19079,314.81752Z;M469.34657,320.38487Q443.8468,390.76973,373.53877,402.1156Q303.23073,413.46147,238.88463,448.30757Q174.53853,483.15367,122.76833,431.6929Q70.99814,380.23213,76.84563,315.11607Q82.69313,250,78.9227,186.3071Q75.15227,122.6142,131.92223,91.73003Q188.6922,60.84587,253.2305,51.539Q317.7688,42.23213,359.5759,90.92433Q401.383,139.61653,448.11467,194.80827Q494.84633,250,469.34657,320.38487Z;M402.82336,294.74662Q372.52122,339.49324,339.45366,380.77461Q306.3861,422.05598,251.70463,416.9165Q197.02317,411.77702,159.66506,377.28619Q122.30695,342.79537,72.75579,296.39768Q23.20463,250,37.88851,178.24662Q52.57238,106.49324,117.0304,72.97924Q181.48842,39.46525,238.53957,73.79537Q295.59073,108.12549,332.49083,135.50917Q369.39092,162.89286,401.2582,206.44643Q433.12549,250,402.82336,294.74662Z;M439.43806,316.51312Q432.44085,383.02623,370.39398,407.14258Q308.3471,431.25893,240.13979,459.78516Q171.93248,488.31139,132.30301,426.26451Q92.67355,364.21763,63.21484,307.10882Q33.75613,250,44.06194,178.90151Q54.36774,107.80301,118.67355,75.31613Q182.97935,42.82924,240.60882,72.66602Q298.23828,102.50279,368.10882,107.87054Q437.97935,113.23828,442.20731,181.61914Q446.43527,250,439.43806,316.51312Z"})})]})]})};var Cc=h.memo((function(t){let{filteredAlgoList:e}=t;return e.length?e.map(((t,e)=>rc[t]&&(0,_t.jsx)(Tt,{to:`/${t}`,style:{textDecoration:"none"},children:(0,_t.jsx)("button",{className:"button",style:rc[t][4]?{background:"linear-gradient(90deg, rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100%)",color:"white",filter:"none"}:{},children:(0,_t.jsxs)("div",{className:"algo-container",children:[(0,_t.jsx)("div",{className:"algo-name",children:rc[t][0]}),rc[t][0]&&(0,_t.jsx)("div",{className:"algo-picture",children:(0,_t.jsx)("img",{alt:rc[t][0],src:`./algo_buttons/${rc[t][0]}.png`,onError:e=>{const i=e.target.src;i.endsWith(".png")?e.target.src=`./algo_buttons/${rc[t][0]}.gif`:i.endsWith(".gif")&&(e.target.style.display="none")}})})]})})},e))):(0,_t.jsx)("span",{className:"no-results",children:"No results found. Please try a different search term."})}));var wc=h.memo((function(t){let{button:e,filter:i}=t;return(0,_t.jsxs)("div",{className:"Side-Buttons",children:[(0,_t.jsx)("button",{type:"button",onClick:()=>i(""),className:"btn",children:"All"}),e.map(((t,e)=>(0,_t.jsx)("button",{type:"button",onClick:()=>i(t),className:"btn",children:t},e)))]})}));const Lc=[...new Set(dc.map((t=>t.category)))];function Tc(){return(0,_t.jsx)("div",{className:"banner-container",children:(0,_t.jsxs)("div",{className:"banner",children:[(0,_t.jsx)("span",{role:"img","aria-label":"nerd",children:"\ud83e\udd13"}),(0,_t.jsx)("span",{children:" Studying for the final? "}),(0,_t.jsx)("a",{href:"https://forms.gle/j9iMhFi8drjf2PU86",target:"_blank",rel:"noreferrer",children:"Tell us how we can improve!"})]})})}var Sc=t=>{let{theme:e,toggleTheme:i}=t;const[s,h]=At(),a=(t,e)=>{e&&""!==e?(s.set(t,e),h(s,{replace:!0})):(s.delete(t),h(s,{replace:!0}))},n=s.get("filter")?s.get("filter"):"",r=s.get("q")?s.get("q"):"",o=(""===n?oc:dc.filter((t=>t.category===n)).map((t=>t.id))).filter((t=>!r||rc[t]&&(t.toLowerCase().includes(r.toLowerCase())||rc[t][0].toLowerCase().includes(r.toLowerCase()))));function l(){const t=new Set;if(r)for(const e in lc)e.toLowerCase().includes(r.toLowerCase())&&lc[e].forEach((e=>{o.includes(e)||t.add(e)}));return Array.from(t)}return(0,_t.jsxs)("div",{className:"container",children:[(0,_t.jsx)(ie,{theme:e,toggleTheme:i}),(0,_t.jsx)("div",{className:"content",children:(0,_t.jsxs)(It,{children:[(0,_t.jsx)(pt,{path:"*",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Tc,{}),(0,_t.jsxs)("div",{className:"outer-flex",children:[(0,_t.jsxs)("div",{className:"side-panel",children:[(0,_t.jsx)("input",{className:"dsa-filter",placeholder:"Search...",type:"search",value:r,onChange:t=>a("q",t.target.value)}),(0,_t.jsx)(wc,{button:Lc,filter:t=>a("filter",t)})]}),(0,_t.jsx)("div",{id:"blob-container",children:(0,_t.jsx)(kc,{})}),(0,_t.jsxs)("div",{className:"mid-flex",children:[(0,_t.jsx)("div",{className:"inner-flex",children:(0,_t.jsx)(Cc,{filteredAlgoList:o})}),l().length>0&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("h1",{className:"related-pages-header",children:"Related Pages"}),(0,_t.jsx)("div",{className:"inner-flex",children:(0,_t.jsx)(Cc,{filteredAlgoList:l()})})]})]})]})]})}),(0,_t.jsx)(pt,{path:"/about",element:(0,_t.jsx)(se,{})})]})}),(0,_t.jsx)(Bt,{})]})};var Fc=()=>{Qn.Ay.initialize("G-0ERQ9E89XM"),Qn.Ay.send({hitType:"pageview",page:"home"});const[t,e]=(0,h.useState)(!0),[i,s]=(0,h.useState)("light");(0,h.useEffect)((()=>{const t=yc.get("theme");t&&(s(t),document.body.setAttribute("data-theme",t)),e(!1)}),[]);const a=()=>{const t="light"===i?"dark":"light";s(t),yc.set("theme",t),document.body.setAttribute("data-theme",t)};return t?(0,_t.jsx)("div",{children:"."}):(0,_t.jsx)(Ct,{basename:"/",children:(0,_t.jsxs)(It,{children:[(0,_t.jsx)(pt,{path:"/about",element:(0,_t.jsx)(se,{theme:i,toggleTheme:a})}),(0,_t.jsx)(pt,{path:"/:algo",element:(0,_t.jsx)(bc,{theme:i,toggleTheme:a})}),(0,_t.jsx)(pt,{path:"*",element:(0,_t.jsx)(Sc,{theme:i,toggleTheme:a})})]})})};Ze.createRoot(document.getElementById("root")).render((0,_t.jsx)(Fc,{}))}();
//# sourceMappingURL=main.f48674b0.js.map